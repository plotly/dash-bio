(window.webpackJsonpdash_bio=window.webpackJsonpdash_bio||[]).push([[1],Array(40).concat([function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n(1),i=n.n(r),o=n(12),a=n(248),s=n.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,f(t).call(this,e))).ref=i.a.createRef(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"createIgvBrowser",value:function(){var e=this.ref.current,t={genome:this.props.genome,locus:this.props.locus,reference:this.props.reference,minimumBases:this.props.minimumBases,tracks:this.props.tracks};return s.a.createBrowser(e,t).then((function(e){s.a.browser=e}))}},{key:"componentDidMount",value:function(){this.createIgvBrowser()}},{key:"componentDidUpdate",value:function(e){this.props.genome===e.genome&&this.props.minimumBases===e.minimumBases&&this.props.locus===e.locus&&this.props.reference===e.reference&&this.props.tracks===e.tracks||(s.a.removeBrowser(s.a.browser),this.createIgvBrowser())}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.style;return i.a.createElement("div",{id:t,style:n,ref:this.ref})}}])&&c(n.prototype,r),o&&c(n,o),t}(r.Component);p.defaultProps=o.b,p.propTypes=o.c},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n(1),i=n.n(r),o=n(13),a=n(252),s=n.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,f(t).call(this,e))).ref=i.a.createRef(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"parseTracks",value:function(e){return console.log(e),[{viz:s.a.viz.genome(),isReference:!0,data:s.a.formats.twoBit({url:"http://www.biodalliance.org/datasets/hg19.2bit"}),name:"Reference"}]}},{key:"createPileupBrowser",value:function(){var e=this.ref.current,t={range:this.props.range,tracks:this.parseTracks(this.props.tracks)};return s.a.create(e,t)}},{key:"componentDidMount",value:function(){this.createPileupBrowser()}},{key:"componentDidUpdate",value:function(e){this.props.range===e.range&&this.props.tracks===e.tracks||this.createPileupBrowser()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.style;return i.a.createElement("div",{id:t,style:n,ref:this.ref})}}])&&c(n.prototype,r),o&&c(n,o),t}(r.Component);p.defaultProps=o.b,p.propTypes=o.c},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=c(n(314)),i=c(n(390)),o=c(n(416)),a=c(n(417)),s=c(n(418)),u=c(n(419));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=u.default;var l=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),u=(0,i.default)(e,s);return(0,o.default)(u)};t.default=l},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"VERSION",(function(){return i.e})),n.d(r,"restArguments",(function(){return o})),n.d(r,"isObject",(function(){return a})),n.d(r,"isNull",(function(){return s})),n.d(r,"isUndefined",(function(){return u})),n.d(r,"isBoolean",(function(){return c})),n.d(r,"isElement",(function(){return l})),n.d(r,"isString",(function(){return h})),n.d(r,"isNumber",(function(){return p})),n.d(r,"isDate",(function(){return d})),n.d(r,"isRegExp",(function(){return g})),n.d(r,"isError",(function(){return v})),n.d(r,"isSymbol",(function(){return m})),n.d(r,"isArrayBuffer",(function(){return y})),n.d(r,"isDataView",(function(){return C})),n.d(r,"isArray",(function(){return T})),n.d(r,"isFunction",(function(){return x})),n.d(r,"isArguments",(function(){return O})),n.d(r,"isFinite",(function(){return I})),n.d(r,"isNaN",(function(){return L})),n.d(r,"isTypedArray",(function(){return j})),n.d(r,"isEmpty",(function(){return q})),n.d(r,"isMatch",(function(){return G})),n.d(r,"isEqual",(function(){return Z})),n.d(r,"isMap",(function(){return re})),n.d(r,"isWeakMap",(function(){return ie})),n.d(r,"isSet",(function(){return oe})),n.d(r,"isWeakSet",(function(){return ae})),n.d(r,"keys",(function(){return U})),n.d(r,"allKeys",(function(){return X})),n.d(r,"values",(function(){return se})),n.d(r,"pairs",(function(){return ue})),n.d(r,"invert",(function(){return ce})),n.d(r,"functions",(function(){return le})),n.d(r,"methods",(function(){return le})),n.d(r,"extend",(function(){return he})),n.d(r,"extendOwn",(function(){return pe})),n.d(r,"assign",(function(){return pe})),n.d(r,"defaults",(function(){return de})),n.d(r,"create",(function(){return ve})),n.d(r,"clone",(function(){return me})),n.d(r,"tap",(function(){return ye})),n.d(r,"get",(function(){return ke})),n.d(r,"has",(function(){return _e})),n.d(r,"mapObject",(function(){return Ie})),n.d(r,"identity",(function(){return Se})),n.d(r,"constant",(function(){return M})),n.d(r,"noop",(function(){return Le})),n.d(r,"toPath",(function(){return be})),n.d(r,"property",(function(){return Ce})),n.d(r,"propertyOf",(function(){return Me})),n.d(r,"matcher",(function(){return Ee})),n.d(r,"matches",(function(){return Ee})),n.d(r,"times",(function(){return Pe})),n.d(r,"random",(function(){return Ne})),n.d(r,"now",(function(){return Fe})),n.d(r,"escape",(function(){return je})),n.d(r,"unescape",(function(){return ze})),n.d(r,"templateSettings",(function(){return He})),n.d(r,"template",(function(){return Ve})),n.d(r,"result",(function(){return We})),n.d(r,"uniqueId",(function(){return Xe})),n.d(r,"chain",(function(){return Ye})),n.d(r,"iteratee",(function(){return Re})),n.d(r,"partial",(function(){return Je})),n.d(r,"bind",(function(){return et})),n.d(r,"bindAll",(function(){return rt})),n.d(r,"memoize",(function(){return it})),n.d(r,"delay",(function(){return ot})),n.d(r,"defer",(function(){return at})),n.d(r,"throttle",(function(){return st})),n.d(r,"debounce",(function(){return ut})),n.d(r,"wrap",(function(){return ct})),n.d(r,"negate",(function(){return lt})),n.d(r,"compose",(function(){return ft})),n.d(r,"after",(function(){return ht})),n.d(r,"before",(function(){return pt})),n.d(r,"once",(function(){return dt})),n.d(r,"findKey",(function(){return gt})),n.d(r,"findIndex",(function(){return mt})),n.d(r,"findLastIndex",(function(){return yt})),n.d(r,"sortedIndex",(function(){return bt})),n.d(r,"indexOf",(function(){return xt})),n.d(r,"lastIndexOf",(function(){return kt})),n.d(r,"find",(function(){return _t})),n.d(r,"detect",(function(){return _t})),n.d(r,"findWhere",(function(){return St})),n.d(r,"each",(function(){return Et})),n.d(r,"forEach",(function(){return Et})),n.d(r,"map",(function(){return Ct})),n.d(r,"collect",(function(){return Ct})),n.d(r,"reduce",(function(){return At})),n.d(r,"foldl",(function(){return At})),n.d(r,"inject",(function(){return At})),n.d(r,"reduceRight",(function(){return Rt})),n.d(r,"foldr",(function(){return Rt})),n.d(r,"filter",(function(){return Ot})),n.d(r,"select",(function(){return Ot})),n.d(r,"reject",(function(){return It})),n.d(r,"every",(function(){return Lt})),n.d(r,"all",(function(){return Lt})),n.d(r,"some",(function(){return Mt})),n.d(r,"any",(function(){return Mt})),n.d(r,"contains",(function(){return Pt})),n.d(r,"includes",(function(){return Pt})),n.d(r,"include",(function(){return Pt})),n.d(r,"invoke",(function(){return Nt})),n.d(r,"pluck",(function(){return Ft})),n.d(r,"where",(function(){return Dt})),n.d(r,"max",(function(){return Bt})),n.d(r,"min",(function(){return jt})),n.d(r,"shuffle",(function(){return Ht})),n.d(r,"sample",(function(){return zt})),n.d(r,"sortBy",(function(){return Ut})),n.d(r,"groupBy",(function(){return Gt})),n.d(r,"indexBy",(function(){return $t})),n.d(r,"countBy",(function(){return Vt})),n.d(r,"partition",(function(){return Wt})),n.d(r,"toArray",(function(){return Xt})),n.d(r,"size",(function(){return Yt})),n.d(r,"pick",(function(){return Qt})),n.d(r,"omit",(function(){return Jt})),n.d(r,"first",(function(){return tn})),n.d(r,"head",(function(){return tn})),n.d(r,"take",(function(){return tn})),n.d(r,"initial",(function(){return en})),n.d(r,"last",(function(){return rn})),n.d(r,"rest",(function(){return nn})),n.d(r,"tail",(function(){return nn})),n.d(r,"drop",(function(){return nn})),n.d(r,"compact",(function(){return on})),n.d(r,"flatten",(function(){return an})),n.d(r,"without",(function(){return un})),n.d(r,"uniq",(function(){return cn})),n.d(r,"unique",(function(){return cn})),n.d(r,"union",(function(){return ln})),n.d(r,"intersection",(function(){return fn})),n.d(r,"difference",(function(){return sn})),n.d(r,"unzip",(function(){return hn})),n.d(r,"transpose",(function(){return hn})),n.d(r,"zip",(function(){return pn})),n.d(r,"object",(function(){return dn})),n.d(r,"range",(function(){return gn})),n.d(r,"chunk",(function(){return vn})),n.d(r,"mixin",(function(){return yn})),n.d(r,"default",(function(){return bn}));var i=n(53);function o(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function a(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function s(e){return null===e}function u(e){return void 0===e}function c(e){return!0===e||!1===e||"[object Boolean]"===i.t.call(e)}function l(e){return!(!e||1!==e.nodeType)}function f(e){var t="[object "+e+"]";return function(e){return i.t.call(e)===t}}var h=f("String"),p=f("Number"),d=f("Date"),g=f("RegExp"),v=f("Error"),m=f("Symbol"),y=f("ArrayBuffer"),b=f("Function"),w=i.p.document&&i.p.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof w&&(b=function(e){return"function"==typeof e||!1});var x=b,k=f("Object"),_=i.s&&k(new DataView(new ArrayBuffer(8))),S="undefined"!=typeof Map&&k(new Map),E=f("DataView");var C=_?function(e){return null!=e&&x(e.getInt8)&&y(e.buffer)}:E,T=i.k||f("Array");function A(e,t){return null!=e&&i.i.call(e,t)}var R=f("Arguments");!function(){R(arguments)||(R=function(e){return A(e,"callee")})}();var O=R;function I(e){return!m(e)&&Object(i.f)(e)&&!isNaN(parseFloat(e))}function L(e){return p(e)&&Object(i.g)(e)}function M(e){return function(){return e}}function P(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=i.b}}function N(e){return function(t){return null==t?void 0:t[e]}}var F=N("byteLength"),D=P(F),B=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var j=i.r?function(e){return i.l?Object(i.l)(e)&&!C(e):D(e)&&B.test(i.t.call(e))}:M(!1),z=N("length");function H(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=i.n.length,r=e.constructor,o=x(r)&&r.prototype||i.c,a="constructor";for(A(e,a)&&!t.contains(a)&&t.push(a);n--;)(a=i.n[n])in e&&e[a]!==o[a]&&!t.contains(a)&&t.push(a)}function U(e){if(!a(e))return[];if(i.m)return Object(i.m)(e);var t=[];for(var n in e)A(e,n)&&t.push(n);return i.h&&H(e,t),t}function q(e){if(null==e)return!0;var t=z(e);return"number"==typeof t&&(T(e)||h(e)||O(e))?0===t:0===z(U(e))}function G(e,t){var n=U(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0}function $(e){return e instanceof $?e:this instanceof $?void(this._wrapped=e):new $(e)}function V(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,F(e))}$.VERSION=i.e,$.prototype.value=function(){return this._wrapped},$.prototype.valueOf=$.prototype.toJSON=$.prototype.value,$.prototype.toString=function(){return String(this._wrapped)};function W(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function e(t,n,r,o){t instanceof $&&(t=t._wrapped);n instanceof $&&(n=n._wrapped);var a=i.t.call(t);if(a!==i.t.call(n))return!1;if(_&&"[object Object]"==a&&C(t)){if(!C(n))return!1;a="[object DataView]"}switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return i.d.valueOf.call(t)===i.d.valueOf.call(n);case"[object ArrayBuffer]":case"[object DataView]":return e(V(t),V(n),r,o)}var s="[object Array]"===a;if(!s&&j(t)){if(F(t)!==F(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;s=!0}if(!s){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,c=n.constructor;if(u!==c&&!(x(u)&&u instanceof u&&x(c)&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}o=o||[];var l=(r=r||[]).length;for(;l--;)if(r[l]===t)return o[l]===n;if(r.push(t),o.push(n),s){if((l=t.length)!==n.length)return!1;for(;l--;)if(!W(t[l],n[l],r,o))return!1}else{var f,h=U(t);if(l=h.length,U(n).length!==l)return!1;for(;l--;)if(f=h[l],!A(n,f)||!W(t[f],n[f],r,o))return!1}return r.pop(),o.pop(),!0}(e,t,n,r)}function Z(e,t){return W(e,t)}function X(e){if(!a(e))return[];var t=[];for(var n in e)t.push(n);return i.h&&H(e,t),t}function Y(e){var t=z(e);return function(n){if(null==n)return!1;var r=X(n);if(z(r))return!1;for(var i=0;i<t;i++)if(!x(n[e[i]]))return!1;return e!==te||!x(n[K])}}var K="forEach",Q=["clear","delete"],J=["get","has","set"],ee=Q.concat(K,J),te=Q.concat(J),ne=["add"].concat(Q,K,"has"),re=S?Y(ee):f("Map"),ie=S?Y(te):f("WeakMap"),oe=S?Y(ne):f("Set"),ae=f("WeakSet");function se(e){for(var t=U(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function ue(e){for(var t=U(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function ce(e){for(var t={},n=U(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function le(e){var t=[];for(var n in e)x(e[n])&&t.push(n);return t.sort()}function fe(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var c=a[u];t&&void 0!==n[c]||(n[c]=o[c])}return n}}var he=fe(X),pe=fe(U),de=fe(X,!0);function ge(e){if(!a(e))return{};if(i.j)return Object(i.j)(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function ve(e,t){var n=ge(e);return t&&pe(n,t),n}function me(e){return a(e)?T(e)?e.slice():he({},e):e}function ye(e,t){return t(e),e}function be(e){return T(e)?e:[e]}function we(e){return $.toPath(e)}function xe(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function ke(e,t,n){var r=xe(e,we(t));return u(r)?n:r}function _e(e,t){for(var n=(t=we(t)).length,r=0;r<n;r++){var i=t[r];if(!A(e,i))return!1;e=e[i]}return!!n}function Se(e){return e}function Ee(e){return e=pe({},e),function(t){return G(t,e)}}function Ce(e){return e=we(e),function(t){return xe(t,e)}}function Te(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function Ae(e,t,n){return null==e?Se:x(e)?Te(e,t,n):a(e)&&!T(e)?Ee(e):Ce(e)}function Re(e,t){return Ae(e,t,1/0)}function Oe(e,t,n){return $.iteratee!==Re?$.iteratee(e,t):Ae(e,t,n)}function Ie(e,t,n){t=Oe(t,n);for(var r=U(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o}function Le(){}function Me(e){return null==e?Le:function(t){return ke(e,t)}}function Pe(e,t,n){var r=Array(Math.max(0,e));t=Te(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function Ne(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}$.toPath=be,$.iteratee=Re;var Fe=Date.now||function(){return(new Date).getTime()};function De(e){var t=function(t){return e[t]},n="(?:"+U(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}var Be={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},je=De(Be),ze=De(ce(Be)),He=$.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ue=/(.)^/,qe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ge=/\\|'|\r|\n|\u2028|\u2029/g;function $e(e){return"\\"+qe[e]}function Ve(e,t,n){!t&&n&&(t=n),t=de({},t,$.templateSettings);var r,i=RegExp([(t.escape||Ue).source,(t.interpolate||Ue).source,(t.evaluate||Ue).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,(function(t,n,r,i,s){return a+=e.slice(o,s).replace(Ge,$e),o=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t})),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return r.call(this,e,$)},u=t.variable||"obj";return s.source="function("+u+"){\n"+a+"}",s}function We(e,t,n){var r=(t=we(t)).length;if(!r)return x(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=x(o)?o.call(e):o}return e}var Ze=0;function Xe(e){var t=++Ze+"";return e?e+t:t}function Ye(e){var t=$(e);return t._chain=!0,t}function Ke(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=ge(e.prototype),s=e.apply(o,i);return a(s)?s:o}var Qe=o((function(e,t){var n=Qe.placeholder,r=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return Ke(e,r,this,this,a)};return r}));Qe.placeholder=$;var Je=Qe,et=o((function(e,t,n){if(!x(e))throw new TypeError("Bind must be called on a function");var r=o((function(i){return Ke(e,r,t,this,n.concat(i))}));return r})),tt=P(z);function nt(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,a=z(e);o<a;o++){var s=e[o];if(tt(s)&&(T(s)||O(s)))if(t>1)nt(s,t-1,n,r),i=r.length;else for(var u=0,c=s.length;u<c;)r[i++]=s[u++];else n||(r[i++]=s)}return r}var rt=o((function(e,t){var n=(t=nt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=et(e[r],e)}return e}));function it(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return A(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}var ot=o((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),at=Je(ot,$,1);function st(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Fe(),r=null,a=e.apply(i,o),r||(i=o=null)},c=function(){var c=Fe();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c}function ut(e,t,n){var r,i,a=function(t,n){r=null,n&&(i=e.apply(t,n))},s=o((function(o){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(a,t),s&&(i=e.apply(this,o))}else r=ot(a,t,this,o);return i}));return s.cancel=function(){clearTimeout(r),r=null},s}function ct(e,t){return Je(t,e)}function lt(e){return function(){return!e.apply(this,arguments)}}function ft(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function ht(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function pt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var dt=Je(pt,2);function gt(e,t,n){t=Oe(t,n);for(var r,i=U(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r}function vt(e){return function(t,n,r){n=Oe(n,r);for(var i=z(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var mt=vt(1),yt=vt(-1);function bt(e,t,n,r){for(var i=(n=Oe(n,r,1))(t),o=0,a=z(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o}function wt(e,t,n){return function(r,o,a){var s=0,u=z(r);if("number"==typeof a)e>0?s=a>=0?a:Math.max(a+u,s):u=a>=0?Math.min(a+1,u):a+u+1;else if(n&&a&&u)return r[a=n(r,o)]===o?a:-1;if(o!=o)return(a=t(i.q.call(r,s,u),L))>=0?a+s:-1;for(a=e>0?s:u-1;a>=0&&a<u;a+=e)if(r[a]===o)return a;return-1}}var xt=wt(1,mt,bt),kt=wt(-1,yt);function _t(e,t,n){var r=(tt(e)?mt:gt)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function St(e,t){return _t(e,Ee(t))}function Et(e,t,n){var r,i;if(t=Te(t,n),tt(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=U(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function Ct(e,t,n){t=Oe(t,n);for(var r=!tt(e)&&U(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o}function Tt(e){var t=function(t,n,r,i){var o=!tt(t)&&U(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var u=o?o[s]:s;r=n(r,t[u],u,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,Te(n,i,4),r,o)}}var At=Tt(1),Rt=Tt(-1);function Ot(e,t,n){var r=[];return t=Oe(t,n),Et(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function It(e,t,n){return Ot(e,lt(Oe(t)),n)}function Lt(e,t,n){t=Oe(t,n);for(var r=!tt(e)&&U(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0}function Mt(e,t,n){t=Oe(t,n);for(var r=!tt(e)&&U(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1}function Pt(e,t,n,r){return tt(e)||(e=se(e)),("number"!=typeof n||r)&&(n=0),xt(e,t,n)>=0}var Nt=o((function(e,t,n){var r,i;return x(t)?i=t:(t=we(t),r=t.slice(0,-1),t=t[t.length-1]),Ct(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=xe(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function Ft(e,t){return Ct(e,Ce(t))}function Dt(e,t){return Ot(e,Ee(t))}function Bt(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=tt(e)?e:se(e)).length;s<u;s++)null!=(r=e[s])&&r>o&&(o=r);else t=Oe(t,n),Et(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o}function jt(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=tt(e)?e:se(e)).length;s<u;s++)null!=(r=e[s])&&r<o&&(o=r);else t=Oe(t,n),Et(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o}function zt(e,t,n){if(null==t||n)return tt(e)||(e=se(e)),e[Ne(e.length-1)];var r=tt(e)?me(e):se(e),i=z(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=Ne(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,t)}function Ht(e){return zt(e,1/0)}function Ut(e,t,n){var r=0;return t=Oe(t,n),Ft(Ct(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")}function qt(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=Oe(r,i),Et(n,(function(t,i){var a=r(t,i,n);e(o,t,a)})),o}}var Gt=qt((function(e,t,n){A(e,n)?e[n].push(t):e[n]=[t]})),$t=qt((function(e,t,n){e[n]=t})),Vt=qt((function(e,t,n){A(e,n)?e[n]++:e[n]=1})),Wt=qt((function(e,t,n){e[n?0:1].push(t)}),!0),Zt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Xt(e){return e?T(e)?i.q.call(e):h(e)?e.match(Zt):tt(e)?Ct(e,Se):se(e):[]}function Yt(e){return null==e?0:tt(e)?e.length:U(e).length}function Kt(e,t,n){return t in n}var Qt=o((function(e,t){var n={},r=t[0];if(null==e)return n;x(r)?(t.length>1&&(r=Te(r,t[1])),t=X(e)):(r=Kt,t=nt(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n})),Jt=o((function(e,t){var n,r=t[0];return x(r)?(r=lt(r),t.length>1&&(n=t[1])):(t=Ct(nt(t,!1,!1),String),r=function(e,n){return!Pt(t,n)}),Qt(e,r,n)}));function en(e,t,n){return i.q.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function tn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:en(e,e.length-t)}function nn(e,t,n){return i.q.call(e,null==t||n?1:t)}function rn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:nn(e,Math.max(0,e.length-t))}function on(e){return Ot(e,Boolean)}function an(e,t){return nt(e,t,!1)}var sn=o((function(e,t){return t=nt(t,!0,!0),Ot(e,(function(e){return!Pt(t,e)}))})),un=o((function(e,t){return sn(e,t)}));function cn(e,t,n,r){c(t)||(r=n,n=t,t=!1),null!=n&&(n=Oe(n,r));for(var i=[],o=[],a=0,s=z(e);a<s;a++){var u=e[a],l=n?n(u,a,e):u;t&&!n?(a&&o===l||i.push(u),o=l):n?Pt(o,l)||(o.push(l),i.push(u)):Pt(i,u)||i.push(u)}return i}var ln=o((function(e){return cn(nt(e,!0,!0))}));function fn(e){for(var t=[],n=arguments.length,r=0,i=z(e);r<i;r++){var o=e[r];if(!Pt(t,o)){var a;for(a=1;a<n&&Pt(arguments[a],o);a++);a===n&&t.push(o)}}return t}function hn(e){for(var t=e&&Bt(e,z).length||0,n=Array(t),r=0;r<t;r++)n[r]=Ft(e,r);return n}var pn=o(hn);function dn(e,t){for(var n={},r=0,i=z(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function gn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}function vn(e,t){if(null==t||t<1)return[];for(var n=[],r=0,o=e.length;r<o;)n.push(i.q.call(e,r,r+=t));return n}function mn(e,t){return e._chain?$(t).chain():t}function yn(e){return Et(le(e),(function(t){var n=$[t]=e[t];$.prototype[t]=function(){var e=[this._wrapped];return i.o.apply(e,arguments),mn(this,n.apply($,e))}})),$}Et(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=i.a[e];$.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),mn(this,n)}})),Et(["concat","join","slice"],(function(e){var t=i.a[e];$.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),mn(this,e)}}));var bn=$,wn=yn(r);wn._=wn;var xn=wn;n.d(t,"default",(function(){return xn})),n.d(t,"VERSION",(function(){return i.e})),n.d(t,"restArguments",(function(){return o})),n.d(t,"isObject",(function(){return a})),n.d(t,"isNull",(function(){return s})),n.d(t,"isUndefined",(function(){return u})),n.d(t,"isBoolean",(function(){return c})),n.d(t,"isElement",(function(){return l})),n.d(t,"isString",(function(){return h})),n.d(t,"isNumber",(function(){return p})),n.d(t,"isDate",(function(){return d})),n.d(t,"isRegExp",(function(){return g})),n.d(t,"isError",(function(){return v})),n.d(t,"isSymbol",(function(){return m})),n.d(t,"isArrayBuffer",(function(){return y})),n.d(t,"isDataView",(function(){return C})),n.d(t,"isArray",(function(){return T})),n.d(t,"isFunction",(function(){return x})),n.d(t,"isArguments",(function(){return O})),n.d(t,"isFinite",(function(){return I})),n.d(t,"isNaN",(function(){return L})),n.d(t,"isTypedArray",(function(){return j})),n.d(t,"isEmpty",(function(){return q})),n.d(t,"isMatch",(function(){return G})),n.d(t,"isEqual",(function(){return Z})),n.d(t,"isMap",(function(){return re})),n.d(t,"isWeakMap",(function(){return ie})),n.d(t,"isSet",(function(){return oe})),n.d(t,"isWeakSet",(function(){return ae})),n.d(t,"keys",(function(){return U})),n.d(t,"allKeys",(function(){return X})),n.d(t,"values",(function(){return se})),n.d(t,"pairs",(function(){return ue})),n.d(t,"invert",(function(){return ce})),n.d(t,"functions",(function(){return le})),n.d(t,"methods",(function(){return le})),n.d(t,"extend",(function(){return he})),n.d(t,"extendOwn",(function(){return pe})),n.d(t,"assign",(function(){return pe})),n.d(t,"defaults",(function(){return de})),n.d(t,"create",(function(){return ve})),n.d(t,"clone",(function(){return me})),n.d(t,"tap",(function(){return ye})),n.d(t,"get",(function(){return ke})),n.d(t,"has",(function(){return _e})),n.d(t,"mapObject",(function(){return Ie})),n.d(t,"identity",(function(){return Se})),n.d(t,"constant",(function(){return M})),n.d(t,"noop",(function(){return Le})),n.d(t,"toPath",(function(){return be})),n.d(t,"property",(function(){return Ce})),n.d(t,"propertyOf",(function(){return Me})),n.d(t,"matcher",(function(){return Ee})),n.d(t,"matches",(function(){return Ee})),n.d(t,"times",(function(){return Pe})),n.d(t,"random",(function(){return Ne})),n.d(t,"now",(function(){return Fe})),n.d(t,"escape",(function(){return je})),n.d(t,"unescape",(function(){return ze})),n.d(t,"templateSettings",(function(){return He})),n.d(t,"template",(function(){return Ve})),n.d(t,"result",(function(){return We})),n.d(t,"uniqueId",(function(){return Xe})),n.d(t,"chain",(function(){return Ye})),n.d(t,"iteratee",(function(){return Re})),n.d(t,"partial",(function(){return Je})),n.d(t,"bind",(function(){return et})),n.d(t,"bindAll",(function(){return rt})),n.d(t,"memoize",(function(){return it})),n.d(t,"delay",(function(){return ot})),n.d(t,"defer",(function(){return at})),n.d(t,"throttle",(function(){return st})),n.d(t,"debounce",(function(){return ut})),n.d(t,"wrap",(function(){return ct})),n.d(t,"negate",(function(){return lt})),n.d(t,"compose",(function(){return ft})),n.d(t,"after",(function(){return ht})),n.d(t,"before",(function(){return pt})),n.d(t,"once",(function(){return dt})),n.d(t,"findKey",(function(){return gt})),n.d(t,"findIndex",(function(){return mt})),n.d(t,"findLastIndex",(function(){return yt})),n.d(t,"sortedIndex",(function(){return bt})),n.d(t,"indexOf",(function(){return xt})),n.d(t,"lastIndexOf",(function(){return kt})),n.d(t,"find",(function(){return _t})),n.d(t,"detect",(function(){return _t})),n.d(t,"findWhere",(function(){return St})),n.d(t,"each",(function(){return Et})),n.d(t,"forEach",(function(){return Et})),n.d(t,"map",(function(){return Ct})),n.d(t,"collect",(function(){return Ct})),n.d(t,"reduce",(function(){return At})),n.d(t,"foldl",(function(){return At})),n.d(t,"inject",(function(){return At})),n.d(t,"reduceRight",(function(){return Rt})),n.d(t,"foldr",(function(){return Rt})),n.d(t,"filter",(function(){return Ot})),n.d(t,"select",(function(){return Ot})),n.d(t,"reject",(function(){return It})),n.d(t,"every",(function(){return Lt})),n.d(t,"all",(function(){return Lt})),n.d(t,"some",(function(){return Mt})),n.d(t,"any",(function(){return Mt})),n.d(t,"contains",(function(){return Pt})),n.d(t,"includes",(function(){return Pt})),n.d(t,"include",(function(){return Pt})),n.d(t,"invoke",(function(){return Nt})),n.d(t,"pluck",(function(){return Ft})),n.d(t,"where",(function(){return Dt})),n.d(t,"max",(function(){return Bt})),n.d(t,"min",(function(){return jt})),n.d(t,"shuffle",(function(){return Ht})),n.d(t,"sample",(function(){return zt})),n.d(t,"sortBy",(function(){return Ut})),n.d(t,"groupBy",(function(){return Gt})),n.d(t,"indexBy",(function(){return $t})),n.d(t,"countBy",(function(){return Vt})),n.d(t,"partition",(function(){return Wt})),n.d(t,"toArray",(function(){return Xt})),n.d(t,"size",(function(){return Yt})),n.d(t,"pick",(function(){return Qt})),n.d(t,"omit",(function(){return Jt})),n.d(t,"first",(function(){return tn})),n.d(t,"head",(function(){return tn})),n.d(t,"take",(function(){return tn})),n.d(t,"initial",(function(){return en})),n.d(t,"last",(function(){return rn})),n.d(t,"rest",(function(){return nn})),n.d(t,"tail",(function(){return nn})),n.d(t,"drop",(function(){return nn})),n.d(t,"compact",(function(){return on})),n.d(t,"flatten",(function(){return an})),n.d(t,"without",(function(){return un})),n.d(t,"uniq",(function(){return cn})),n.d(t,"unique",(function(){return cn})),n.d(t,"union",(function(){return ln})),n.d(t,"intersection",(function(){return fn})),n.d(t,"difference",(function(){return sn})),n.d(t,"unzip",(function(){return hn})),n.d(t,"transpose",(function(){return hn})),n.d(t,"zip",(function(){return pn})),n.d(t,"object",(function(){return dn})),n.d(t,"range",(function(){return gn})),n.d(t,"chunk",(function(){return vn})),n.d(t,"mixin",(function(){return yn}))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i,o=n(58),a=(i=o)&&i.__esModule?i:{default:i},s=n(55),u=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contig=t,this.interval=new a.default(n,r)}return r(e,[{key:"start",value:function(){return this.interval.start}},{key:"stop",value:function(){return this.interval.stop}},{key:"length",value:function(){return this.interval.length()}},{key:"intersects",value:function(e){return this.chrOnContig(e.contig)&&this.interval.intersects(e.interval)}},{key:"containsInterval",value:function(e){return this.chrOnContig(e.contig)&&this.interval.containsInterval(e.interval)}},{key:"isAdjacentTo",value:function(e){return this.chrOnContig(e.contig)&&(this.start()==1+e.stop()||this.stop()+1==e.start())}},{key:"isCoveredBy",value:function(e){var t=this,n=e.filter((function(e){return t.chrOnContig(e.contig)})).map((function(e){return e.interval}));return this.interval.isCoveredBy(n)}},{key:"containsLocus",value:function(e,t){return this.chrOnContig(e)&&this.interval.contains(t)}},{key:"chrOnContig",value:function(e){return this.contig===e||this.contig==="chr"+e||"chr"+this.contig===e}},{key:"clone",value:function(){return new e(this.contig,this.interval.start,this.interval.stop)}},{key:"complementIntervals",value:function(t){var n=this;return this.interval.complementIntervals((0,s.flatMap)(t,(function(e){return n.chrOnContig(e.contig)?[e.interval]:[]}))).map((function(t){return new e(n.contig,t.start,t.stop)}))}},{key:"toString",value:function(){return this.contig+":"+this.start()+"-"+this.stop()}},{key:"toGenomeRange",value:function(){if(!("string"==typeof this.contig||this.contig instanceof String))throw"Cannot convert numeric ContigInterval to GenomeRange";return{contig:this.contig,start:this.start(),stop:this.stop()}}},{key:"round",value:function(t,n){var r=this.interval.round(t,n);return new e(this.contig,r.start,r.stop)}}],[{key:"compare",value:function(e,t){return e.contig.toString()>t.contig.toString()?-1:e.contig.toString()<t.contig.toString()?1:e.start()-t.start()}},{key:"coalesce",value:function(t){t.sort(e.compare);var n=[];return t.forEach((function(e){if(0!==n.length){var t=n[n.length-1];e.intersects(t)||e.isAdjacentTo(t)?(t=n[n.length-1]=t.clone()).interval.stop=Math.max(e.interval.stop,t.interval.stop):n.push(e)}else n.push(e)})),n}},{key:"fromGenomeRange",value:function(t){return new e(t.contig.toString(),t.start,t.stop)}}]),e}();e.exports=u},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return r})),n.d(t,"p",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"o",(function(){return u})),n.d(t,"q",(function(){return c})),n.d(t,"t",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"r",(function(){return h})),n.d(t,"s",(function(){return p})),n.d(t,"k",(function(){return d})),n.d(t,"m",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return w})),n.d(t,"n",(function(){return x})),n.d(t,"b",(function(){return k}));var r="1.12.0",i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||Function("return this")()||{},o=Array.prototype,a=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,u=o.push,c=o.slice,l=a.toString,f=a.hasOwnProperty,h="undefined"!=typeof ArrayBuffer,p="undefined"!=typeof DataView,d=Array.isArray,g=Object.keys,v=Object.create,m=h&&ArrayBuffer.isView,y=isNaN,b=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),x=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],k=Math.pow(2,53)-1}).call(this,n(54))},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(102)),o=r(n(51)),a=r(n(58));function s(e,t){if(e.length!=t.length)throw new Error("Comparing non-equal length tuples");for(var n=0;n<e.length;n++){if(e[n]>t[n])return!1;if(e[n]<t[n])return!0}return!0}function u(e){var t=e.map((function(e){return e.byteLength})).reduce((function(e,t){return e+t}),0),n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}var c={};function l(e,t){var n=new i.default.Inflate;return n.push(e.slice(t)),{err:n.err,msg:n.msg,buffer:n.result?n.result.buffer:null,total_in:n.strm.total_in}}function f(e,t,n){if(!n)return l(e,t);var r=n.filename+":"+(n.initialOffset+t),i=c[r];return i&&t+i.total_in>e.byteLength?l(e,t):(i||(i=l(e,t)),!i.err&&i.buffer&&(c[r]=i),i)}function h(e,t,n){var r=0,i=[];void 0===t&&(t=e.byteLength);do{var o=f(e,r,n);if(o.err)throw"Gzip error: "+o.msg;o.buffer&&i.push({offset:r,compressedLength:o.total_in,buffer:o.buffer}),r+=o.total_in}while(r<=t&&r<e.byteLength);return i}function p(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function d(e){return parseInt(e.replace(/,/g,""),10)}e.exports={tupleLessOrEqual:s,tupleRangeOverlaps:function(e,t){return s(e[0],t[1])&&s(t[0],e[1])&&s(e[0],e[1])&&s(t[0],t[1])},concatArrayBuffers:u,inflateConcatenatedGzip:h,inflateGzip:function(e){return u(h(e).map((function(e){return e.buffer})))},altContigName:function(e){return"chr"==e.slice(0,3)?e.slice(3):"chr"+e},pipePromise:function(e,t){t.then(e.resolve,e.reject,e.notify)},scaleRange:function(e,t){var n=e.stop-e.start,r=Math.floor((e.start+e.stop)/2),i=2*Math.round(t*n/2),o=r-i/2,s=r+i/2;return o<0&&(s-=o,o=0),new a.default(o,s)},absScaleRange:function(e,t,n){var r=Math.floor((e.start+e.stop)/2),i=Math.pow(n,t),o=r-i,s=r+i;return o<0&&(s-=o,o=0),new a.default(o,s)},parseRange:function(e){var t=/^([^ :]+):([0-9,]+)-([0-9,]+)$/.exec(e);return t?{contig:t[1],start:d(t[2]),stop:d(t[3])}:(t=/^([^ :]+):([0-9,]+)$/.exec(e))?{contig:t[1],start:d(t[2])}:(t=/^([0-9,]+)-([0-9,]+)$/.exec(e))?{start:d(t[1]),stop:d(t[2])}:(t=/^([^ :]+):$/.exec(e)||/^([^0-9][^ :]+)$/.exec(e))?{contig:t[1]}:(t=/^([0-9,]+)$/.exec(e))?{start:d(t[1])}:null},formatInterval:function(e){return p(e.start)+"-"+p(e.stop)},isChrMatch:function(e,t){return e==t||"chr"+e==t||e=="chr"+t},flatMap:function(e,t){return o.default.flatten(e.map(t),!0)},computePercentile:function(e,t){if(0===e.length)return 0;e.sort((function(e,t){return e-t}));var n=(e.length-1)*t/100,r=Math.floor(n),i=Math.ceil(n);return r==i?e[r]:e[r]*(n-r)+e[i]*(i-n)},stringToLiteral:function(e){var t={NaN:NaN,null:null,undefined:void 0,Infinity:1/0,"-Infinity":-1/0};return e in t?t[e]:e},ZOOM_FACTOR:{IN:.5,OUT:2}}},function(e,t,n){(function(t,n){
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(t){"use strict";"function"==typeof bootstrap?bootstrap("promise",t):e.exports=t()}((function(){"use strict";var e=!1;try{throw new Error}catch(t){e=!!t.stack}var r,i=_(),o=function(){},a=function(){var e={task:void 0,next:null},r=e,i=!1,o=void 0,s=!1,u=[];function c(){for(var t,n;e.next;)t=(e=e.next).task,e.task=void 0,(n=e.domain)&&(e.domain=void 0,n.enter()),l(t,n);for(;u.length;)l(t=u.pop());i=!1}function l(e,t){try{e()}catch(e){if(s)throw t&&t.exit(),setTimeout(c,0),t&&t.enter(),e;setTimeout((function(){throw e}),0)}t&&t.exit()}if(a=function(e){r=r.next={task:e,domain:s&&t.domain,next:null},i||(i=!0,o())},"object"==typeof t&&"[object process]"===t.toString()&&t.nextTick)s=!0,o=function(){t.nextTick(c)};else if("function"==typeof n)o="undefined"!=typeof window?n.bind(window,c):function(){n(c)};else if("undefined"!=typeof MessageChannel){var f=new MessageChannel;f.port1.onmessage=function(){o=h,f.port1.onmessage=c,c()};var h=function(){f.port2.postMessage(0)};o=function(){setTimeout(c,0),h()}}else o=function(){setTimeout(c,0)};return a.runAfter=function(e){u.push(e),i||(i=!0,o())},a}(),s=Function.call;function u(e){return function(){return s.apply(e,arguments)}}var c,l=u(Array.prototype.slice),f=u(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),h=u(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),p=u(Array.prototype.map||function(e,t){var n=this,r=[];return f(n,(function(i,o,a){r.push(e.call(t,o,a,n))}),void 0),r}),d=Object.create||function(e){function t(){}return t.prototype=e,new t},g=Object.defineProperty||function(e,t,n){return e[t]=n.value,e},v=u(Object.prototype.hasOwnProperty),m=Object.keys||function(e){var t=[];for(var n in e)v(e,n)&&t.push(n);return t},y=u(Object.prototype.toString);function b(e){return"[object StopIteration]"===y(e)||e instanceof c}c="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};function w(t,n){if(e&&n.stack&&"object"==typeof t&&null!==t&&t.stack){for(var r=[],i=n;i;i=i.source)i.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>i.stackCounter)&&(g(t,"__minimumStackCounter__",{value:i.stackCounter,configurable:!0}),r.unshift(i.stack));r.unshift(t.stack);var o=function(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];!k(i)&&(-1===(o=i).indexOf("(module.js:")&&-1===o.indexOf("(node.js:"))&&i&&n.push(i)}var o;return n.join("\n")}(r.join("\nFrom previous event:\n"));g(t,"stack",{value:o,configurable:!0})}}function x(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function k(e){var t=x(e);if(!t)return!1;var n=t[0],o=t[1];return n===r&&o>=i&&o<=V}function _(){if(e)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=x(t[0].indexOf("@")>0?t[1]:t[2]);if(!n)return;return r=n[0],n[1]}}function S(e){return e instanceof R?e:M(e)?function(e){var t=C();return S.nextTick((function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}})),t.promise}(e):z(e)}S.resolve=S,S.nextTick=a,S.longStackSupport=!1;var E=1;function C(){var t,n=[],r=[],i=d(C.prototype),o=d(R.prototype);if(o.promiseDispatch=function(e,i,o){var a=l(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):S.nextTick((function(){t.promiseDispatch.apply(t,a)}))},o.valueOf=function(){if(n)return o;var e=I(t);return L(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},S.longStackSupport&&e)try{throw new Error}catch(e){o.stack=e.stack.substring(e.stack.indexOf("\n")+1),o.stackCounter=E++}function a(i){t=i,S.longStackSupport&&e&&(o.source=i),f(n,(function(e,t){S.nextTick((function(){i.promiseDispatch.apply(i,t)}))}),void 0),n=void 0,r=void 0}return i.promise=o,i.resolve=function(e){t||a(S(e))},i.fulfill=function(e){t||a(z(e))},i.reject=function(e){t||a(j(e))},i.notify=function(e){t||f(r,(function(t,n){S.nextTick((function(){n(e)}))}),void 0)},i}function T(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=C();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function A(e){return T((function(t,n){for(var r=0,i=e.length;r<i;r++)S(e[r]).then(t,n)}))}function R(e,t,n){void 0===t&&(t=function(e){return j(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=d(R.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(e){a=j(e)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function O(e,t,n,r){return S(e).then(t,n,r)}function I(e){if(L(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function L(e){return e instanceof R}function M(e){return(t=e)===Object(t)&&"function"==typeof e.then;var t}"object"==typeof t&&t&&t.env&&t.env.Q_DEBUG&&(S.longStackSupport=!0),S.defer=C,C.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(l(arguments,1)):e.resolve(n)}},S.Promise=T,S.promise=T,T.race=A,T.all=q,T.reject=j,T.resolve=S,S.passByCopy=function(e){return e},R.prototype.passByCopy=function(){return this},S.join=function(e,t){return S(e).join(t)},R.prototype.join=function(e){return S([this,e]).spread((function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)}))},S.race=A,R.prototype.race=function(){return this.then(S.race)},S.makePromise=R,R.prototype.toString=function(){return"[object Promise]"},R.prototype.then=function(e,t,n){var r=this,i=C(),o=!1;return S.nextTick((function(){r.promiseDispatch((function(t){o||(o=!0,i.resolve(function(t){try{return"function"==typeof e?e(t):t}catch(e){return j(e)}}(t)))}),"when",[function(e){o||(o=!0,i.resolve(function(e){if("function"==typeof t){w(e,r);try{return t(e)}catch(e){return j(e)}}return j(e)}(e)))}])})),r.promiseDispatch(void 0,"when",[void 0,function(e){var t,r=!1;try{t=function(e){return"function"==typeof n?n(e):e}(e)}catch(e){if(r=!0,!S.onerror)throw e;S.onerror(e)}r||i.notify(t)}]),i.promise},S.tap=function(e,t){return S(e).tap(t)},R.prototype.tap=function(e){return e=S(e),this.then((function(t){return e.fcall(t).thenResolve(t)}))},S.when=O,R.prototype.thenResolve=function(e){return this.then((function(){return e}))},S.thenResolve=function(e,t){return S(e).thenResolve(t)},R.prototype.thenReject=function(e){return this.then((function(){throw e}))},S.thenReject=function(e,t){return S(e).thenReject(t)},S.nearer=I,S.isPromise=L,S.isPromiseAlike=M,S.isPending=function(e){return L(e)&&"pending"===e.inspect().state},R.prototype.isPending=function(){return"pending"===this.inspect().state},S.isFulfilled=function(e){return!L(e)||"fulfilled"===e.inspect().state},R.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},S.isRejected=function(e){return L(e)&&"rejected"===e.inspect().state},R.prototype.isRejected=function(){return"rejected"===this.inspect().state};var P=[],N=[],F=[],D=!0;function B(){P.length=0,N.length=0,D||(D=!0)}function j(e){var n=R({when:function(n){return n&&function(e){if(D){var n=h(N,e);-1!==n&&("object"==typeof t&&"function"==typeof t.emit&&S.nextTick.runAfter((function(){var r=h(F,e);-1!==r&&(t.emit("rejectionHandled",P[n],e),F.splice(r,1))})),N.splice(n,1),P.splice(n,1))}}(this),n?n(e):this}},(function(){return this}),(function(){return{state:"rejected",reason:e}}));return function(e,n){D&&("object"==typeof t&&"function"==typeof t.emit&&S.nextTick.runAfter((function(){-1!==h(N,e)&&(t.emit("unhandledRejection",n,e),F.push(e))})),N.push(e),n&&void 0!==n.stack?P.push(n.stack):P.push("(no stack) "+n))}(n,e),n}function z(e){return R({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null==t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return m(e)}},void 0,(function(){return{state:"fulfilled",value:e}}))}function H(e,t,n){return S(e).spread(t,n)}function U(e,t,n){return S(e).dispatch(t,n)}function q(e){return O(e,(function(e){var t=0,n=C();return f(e,(function(r,i,o){var a;L(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,O(i,(function(r){e[o]=r,0==--t&&n.resolve(e)}),n.reject,(function(e){n.notify({index:o,value:e})})))}),void 0),0===t&&n.resolve(e),n.promise}))}function G(e){if(0===e.length)return S.resolve();var t=S.defer(),n=0;return f(e,(function(r,i,o){var a=e[o];n++,O(a,(function(e){t.resolve(e)}),(function(e){if(0===--n){var r=e||new Error(""+e);r.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+r.message,t.reject(r)}}),(function(e){t.notify({index:o,value:e})}))}),void 0),t.promise}function $(e){return O(e,(function(e){return e=p(e,S),O(q(p(e,(function(e){return O(e,o,o)}))),(function(){return e}))}))}S.resetUnhandledRejections=B,S.getUnhandledReasons=function(){return P.slice()},S.stopUnhandledRejectionTracking=function(){B(),D=!1},B(),S.reject=j,S.fulfill=z,S.master=function(e){return R({isDef:function(){}},(function(t,n){return U(e,t,n)}),(function(){return S(e).inspect()}))},S.spread=H,R.prototype.spread=function(e,t){return this.all().then((function(t){return e.apply(void 0,t)}),t)},S.async=function(e){return function(){function t(e,t){var o;if("undefined"==typeof StopIteration){try{o=n[e](t)}catch(e){return j(e)}return o.done?S(o.value):O(o.value,r,i)}try{o=n[e](t)}catch(e){return b(e)?S(e.value):j(e)}return O(o,r,i)}var n=e.apply(this,arguments),r=t.bind(t,"next"),i=t.bind(t,"throw");return r()}},S.spawn=function(e){S.done(S.async(e)())},S.return=function(e){throw new c(e)},S.promised=function(e){return function(){return H([this,q(arguments)],(function(t,n){return e.apply(t,n)}))}},S.dispatch=U,R.prototype.dispatch=function(e,t){var n=this,r=C();return S.nextTick((function(){n.promiseDispatch(r.resolve,e,t)})),r.promise},S.get=function(e,t){return S(e).dispatch("get",[t])},R.prototype.get=function(e){return this.dispatch("get",[e])},S.set=function(e,t,n){return S(e).dispatch("set",[t,n])},R.prototype.set=function(e,t){return this.dispatch("set",[e,t])},S.del=S.delete=function(e,t){return S(e).dispatch("delete",[t])},R.prototype.del=R.prototype.delete=function(e){return this.dispatch("delete",[e])},S.mapply=S.post=function(e,t,n){return S(e).dispatch("post",[t,n])},R.prototype.mapply=R.prototype.post=function(e,t){return this.dispatch("post",[e,t])},S.send=S.mcall=S.invoke=function(e,t){return S(e).dispatch("post",[t,l(arguments,2)])},R.prototype.send=R.prototype.mcall=R.prototype.invoke=function(e){return this.dispatch("post",[e,l(arguments,1)])},S.fapply=function(e,t){return S(e).dispatch("apply",[void 0,t])},R.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},S.try=S.fcall=function(e){return S(e).dispatch("apply",[void 0,l(arguments,1)])},R.prototype.fcall=function(){return this.dispatch("apply",[void 0,l(arguments)])},S.fbind=function(e){var t=S(e),n=l(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(l(arguments))])}},R.prototype.fbind=function(){var e=this,t=l(arguments);return function(){return e.dispatch("apply",[this,t.concat(l(arguments))])}},S.keys=function(e){return S(e).dispatch("keys",[])},R.prototype.keys=function(){return this.dispatch("keys",[])},S.all=q,R.prototype.all=function(){return q(this)},S.any=G,R.prototype.any=function(){return G(this)},S.allResolved=function(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}($,"allResolved","allSettled"),R.prototype.allResolved=function(){return $(this)},S.allSettled=function(e){return S(e).allSettled()},R.prototype.allSettled=function(){return this.then((function(e){return q(p(e,(function(e){function t(){return e.inspect()}return(e=S(e)).then(t,t)})))}))},S.fail=S.catch=function(e,t){return S(e).then(void 0,t)},R.prototype.fail=R.prototype.catch=function(e){return this.then(void 0,e)},S.progress=function(e,t){return S(e).then(void 0,void 0,t)},R.prototype.progress=function(e){return this.then(void 0,void 0,e)},S.fin=S.finally=function(e,t){return S(e).finally(t)},R.prototype.fin=R.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=S(e),this.then((function(t){return e.fcall().then((function(){return t}))}),(function(t){return e.fcall().then((function(){throw t}))}))},S.done=function(e,t,n,r){return S(e).done(t,n,r)},R.prototype.done=function(e,n,r){var i=function(e){S.nextTick((function(){if(w(e,o),!S.onerror)throw e;S.onerror(e)}))},o=e||n||r?this.then(e,n,r):this;"object"==typeof t&&t&&t.domain&&(i=t.domain.bind(i)),o.then(void 0,i)},S.timeout=function(e,t,n){return S(e).timeout(t,n)},R.prototype.timeout=function(e,t){var n=C(),r=setTimeout((function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),n.reject(t)}),e);return this.then((function(e){clearTimeout(r),n.resolve(e)}),(function(e){clearTimeout(r),n.reject(e)}),n.notify),n.promise},S.delay=function(e,t){return void 0===t&&(t=e,e=void 0),S(e).delay(t)},R.prototype.delay=function(e){return this.then((function(t){var n=C();return setTimeout((function(){n.resolve(t)}),e),n.promise}))},S.nfapply=function(e,t){return S(e).nfapply(t)},R.prototype.nfapply=function(e){var t=C(),n=l(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},S.nfcall=function(e){var t=l(arguments,1);return S(e).nfapply(t)},R.prototype.nfcall=function(){var e=l(arguments),t=C();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},S.nfbind=S.denodeify=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=l(arguments,1);return function(){var n=t.concat(l(arguments)),r=C();return n.push(r.makeNodeResolver()),S(e).fapply(n).fail(r.reject),r.promise}},R.prototype.nfbind=R.prototype.denodeify=function(){var e=l(arguments);return e.unshift(this),S.denodeify.apply(void 0,e)},S.nbind=function(e,t){var n=l(arguments,2);return function(){var r=n.concat(l(arguments)),i=C();function o(){return e.apply(t,arguments)}return r.push(i.makeNodeResolver()),S(o).fapply(r).fail(i.reject),i.promise}},R.prototype.nbind=function(){var e=l(arguments,0);return e.unshift(this),S.nbind.apply(void 0,e)},S.nmapply=S.npost=function(e,t,n){return S(e).npost(t,n)},R.prototype.nmapply=R.prototype.npost=function(e,t){var n=l(t||[]),r=C();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},S.nsend=S.nmcall=S.ninvoke=function(e,t){var n=l(arguments,2),r=C();return n.push(r.makeNodeResolver()),S(e).dispatch("post",[t,n]).fail(r.reject),r.promise},R.prototype.nsend=R.prototype.nmcall=R.prototype.ninvoke=function(e){var t=l(arguments,1),n=C();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},S.nodeify=function(e,t){return S(e).nodeify(t)},R.prototype.nodeify=function(e){if(!e)return this;this.then((function(t){S.nextTick((function(){e(null,t)}))}),(function(t){S.nextTick((function(){e(t)}))}))},S.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var V=_();return S}))}).call(this,n(84),n(142).setImmediate)},function(e,t,n){var r,i,o;o=this,r=[n(51),n(143),t],void 0===(i=function(e,t,n){o.Backbone=function(e,t,n,r){var i=e.Backbone,o=[],a=o.slice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(e,t,n){return c(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,o=n.once((function(){i.off(e,o),t.apply(this,arguments)}));return o._callback=t,this.on(e,o,r)},off:function(e,t,r){var i,o,a,s,u,l,f,h;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;for(u=0,l=(s=e?[e]:n.keys(this._events)).length;u<l;u++)if(e=s[u],a=this._events[e]){if(this._events[e]=i=[],t||r)for(f=0,h=a.length;f<h;f++)o=a[f],(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context)&&i.push(o);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(n,t),r&&l(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var o=!t&&!r;for(var a in r||"object"!=typeof t||(r=this),e&&((i={})[e._listenId]=e),i)(e=i[a]).off(t,r,this),(o||n.isEmpty(e._events))&&delete this._listeningTo[a];return this}},u=/\s+/,c=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(u.test(n)){for(var o=n.split(u),a=0,s=o.length;a<s;a++)e[t].apply(e,[o[a]].concat(r));return!1}return!0},l=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}};n.each({listenTo:"on",listenToOnce:"once"},(function(e,t){s[t]=function(t,r,i){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=n.uniqueId("l"))]=t,i||"object"!=typeof r||(i=this),t[e](r,i,this),this}})),s.bind=s.on,s.unbind=s.off,n.extend(t,s);var f=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,r){var i,o,a,s,u,c,l,f;if(null==e)return this;if("object"==typeof e?(o=e,r=t):(o={})[e]=t,r||(r={}),!this._validate(o,r))return!1;for(i in a=r.unset,u=r.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),f=this.attributes,l=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]),o)t=o[i],n.isEqual(f[i],t)||s.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,a?delete f[i]:f[i]=t;if(!u){s.length&&(this._pending=r);for(var h=0,p=s.length;h<p;h++)this.trigger("change:"+s[h],this,f[s[h]],r)}if(c)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in e)n.isEqual(i[o],t=e[o])||((r||(r={}))[o]=t);return r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){void 0===(e=e?n.clone(e):{}).parse&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},L(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,o,a,s=this.attributes;if(null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},s,i)),void 0===r.parse&&(r.parse=!0);var u=this,c=r.success;return r.success=function(e){u.attributes=s;var t=u.parse(e,r);if(r.wait&&(t=n.extend(i||{},t)),n.isObject(t)&&!u.set(t,r))return!1;c&&c(u,e,r),u.trigger("sync",u,e,r)},L(this,r),"patch"==(o=this.isNew()?"create":r.patch?"patch":"update")&&(r.attrs=i),a=this.sync(o,this,r),i&&r.wait&&(this.attributes=s),a},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;L(this,e);var o=this.sync("delete",this,e);return e.wait||i(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}}),n.each(["keys","values","pairs","invert","pick","omit"],(function(e){f.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}}));var h=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},p={add:!0,remove:!0,merge:!0},d={add:!0,remove:!1};n.extend(h.prototype,s,{model:f,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,d))},remove:function(e,t){var r,i,o,a,s=!n.isArray(e);for(t||(t={}),r=0,i=(e=s?[e]:n.clone(e)).length;r<i;r++)(a=e[r]=this.get(e[r]))&&(delete this._byId[a.id],delete this._byId[a.cid],o=this.indexOf(a),this.models.splice(o,1),this.length--,t.silent||(t.index=o,a.trigger("remove",a,this,t)),this._removeReference(a,t));return s?e[0]:e},set:function(e,t){(t=n.defaults({},t,p)).parse&&(e=this.parse(e,t));var r,i,o,a,s,u,c,l=!n.isArray(e);e=l?e?[e]:[]:n.clone(e);var h=t.at,d=this.model,g=this.comparator&&null==h&&!1!==t.sort,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=t.add,x=t.merge,k=t.remove,_=!(g||!w||!k)&&[];for(r=0,i=e.length;r<i;r++){if(o=(s=e[r]||{})instanceof f?a=s:s[d.prototype.idAttribute||"id"],u=this.get(o))k&&(b[u.cid]=!0),x&&(s=s===a?a.attributes:s,t.parse&&(s=u.parse(s,t)),u.set(s,t),g&&!c&&u.hasChanged(v)&&(c=!0)),e[r]=u;else if(w){if(!(a=e[r]=this._prepareModel(s,t)))continue;m.push(a),this._addReference(a,t)}a=u||a,!_||!a.isNew()&&b[a.id]||_.push(a),b[a.id]=!0}if(k){for(r=0,i=this.length;r<i;++r)b[(a=this.models[r]).cid]||y.push(a);y.length&&this.remove(y,t)}if(m.length||_&&_.length)if(g&&(c=!0),this.length+=m.length,null!=h)for(r=0,i=m.length;r<i;r++)this.models.splice(h+r,0,m[r]);else{_&&(this.models.length=0);var S=_||m;for(r=0,i=S.length;r<i;r++)this.models.push(S[r])}if(c&&this.sort({silent:!0}),!t.silent){for(r=0,i=m.length;r<i;r++)(a=m[r]).trigger("add",a,this,t);(c||_&&_.length)&&this.trigger("sort",this,t)}return l?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"]((function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0}))},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){void 0===(e=e?n.clone(e):{}).parse&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},L(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof f)return e;(t=t?n.clone(t):{}).collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}}),n.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],(function(e){h.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}})),n.each(["groupBy","countBy","sortBy","indexBy"],(function(e){h.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}}));var g=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,m)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},v=/^(\S+)\s*(.*)$/,m=["model","collection","el","id","attributes","className","tagName","events"];n.extend(g.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;for(var t in this.undelegateEvents(),e){var r=e[t];if(n.isFunction(r)||(r=this[e[t]]),r){var i=t.match(v),o=i[1],a=i[2];r=n.bind(r,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,r):this.$el.on(o,a,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}}}),t.sync=function(e,r,i){var o=b[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||I()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1),"PATCH"===a.type&&y&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=i.xhr=t.ajax(n.extend(a,i));return r.trigger("request",r,u,i),u};var y=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),b={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var w=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},x=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,_=/\*\w+/g,S=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(w.prototype,s,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,(function(n){var a=o._extractParameters(e,n);o.execute(i,a),o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),t.history.trigger("route",o,r,a)})),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(S,"\\$&").replace(x,"(?:$1)?").replace(k,(function(e,t){return t?e:"([^/?]+)"})).replace(_,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,(function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null}))}});var E=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},C=/^[#\/]|\s+$/g,T=/^\/+|\/+$/g,A=/msie [\w.]+/,R=/\/$/,O=/#.*$/;E.started=!1,n.extend(E.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(R,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(C,"")},start:function(e){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,o=A.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);if(this.root=("/"+this.root+"/").replace(T,"/"),o&&this._wantsHashChange){var a=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(C,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),E.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!E.started)return!1;t&&!0!==t||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(O,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new E,f.extend=h.extend=w.extend=g.extend=E.extend=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};var I=function(){throw new Error('A "url" property or function must be specified')},L=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}(o,n,e,t)}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.start=t,this.stop=n}return r(e,[{key:"length",value:function(){return Math.max(0,this.stop-this.start+1)}},{key:"intersect",value:function(t){return new e(Math.max(this.start,t.start),Math.min(this.stop,t.stop))}},{key:"intersects",value:function(e){return this.start<=e.stop&&e.start<=this.stop}},{key:"contains",value:function(e){return e>=this.start&&e<=this.stop}},{key:"containsInterval",value:function(e){return this.contains(e.start)&&this.contains(e.stop)}},{key:"round",value:function(t,n){var r=n?0:1,i=function(e){return e-e%t};return new e(Math.max(r,i(this.start)),i(this.stop+t-1))}},{key:"clone",value:function(){return new e(this.start,this.stop)}},{key:"isCoveredBy",value:function(e){for(var t=this.clone(),n=0;n<e.length;n++){var r=e[n];if(n&&r.start<e[n-1].start)throw"isCoveredBy must be called with sorted ranges";if(r.start>t.start)return!1;if(t.start=Math.max(t.start,r.stop+1),t.length()<=0)return!0}return!1}},{key:"subtract",value:function(t){return this.intersects(t)?this.containsInterval(t)?[new e(this.start,t.start-1),new e(t.stop+1,this.stop)].filter((function(e){return e.length()>0})):t.containsInterval(this)?[]:t.start<this.start?[new e(t.stop+1,this.stop)]:[new e(this.start,t.start-1)]:[this]}},{key:"complementIntervals",value:function(e){var t=[this];return e.forEach((function(e){var n=[];t.forEach((function(t){n=n.concat(t.subtract(e))})),t=n})),t}},{key:"toString",value:function(){return"["+this.start+", "+this.stop+"]"}}],[{key:"intersectAll",value:function(e){if(!e.length)throw new Error("Tried to intersect zero intervals");var t=e[0].clone();return e.slice(1).forEach((function(e){var n=e.start,r=e.stop;t.start=Math.max(n,t.start),t.stop=Math.min(r,t.stop)})),t}},{key:"boundingInterval",value:function(e){if(!e.length)throw new Error("Tried to bound zero intervals");var t=e[0].clone();return e.slice(1).forEach((function(e){var n=e.start,r=e.stop;t.start=Math.min(n,t.start),t.stop=Math.max(r,t.stop)})),t}}]),e}();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(79),o=(r=i)&&r.__esModule?r:{default:r};var a=["","k","M","G","T","P","E","Z","Y"];e.exports={heightForCanvas:function(e,t){return t*window.devicePixelRatio},formatRange:function(e){var t=e/1e3,n=function(e){var t=0;e&&(e<0&&(e*=-1),t=1+Math.floor(1e-12+Math.log(e)/Math.LN10),t=Math.max(0,Math.min(24,3*Math.floor((t-1)/3))));var n=Math.pow(10,t);return{symbol:a[t/3],scale:function(e){return e/n}}}(Math.max(1,t)),r=n.symbol+"bp";return{prefix:Math.round(n.scale(e)).toLocaleString(),unit:r}},getTrackScale:function(e,t){return e?o.default.linear().domain([e.start,e.stop+1]).range([0,t]):o.default.linear()},sizeCanvas:function(e,t,n){var r=window.devicePixelRatio;e.width=t*r,e.height=n*r,e.style.width=t+"px",e.style.height=n+"px";var i=e.getContext("2d");null!==i&&i instanceof CanvasRenderingContext2D&&i.scale(r,r)},findParent:function(e,t){var n=e;do{if(n.classList.contains(t))return n;n=n.parentElement}while(n);return null}}},function(e,t,n){"use strict";var r,i=n(106),o=(r=i)&&r.__esModule?r:{default:r};e.exports={TEXT_STYLE:function(e,t){return e==o.default.LOOSE?t+"px 'Helvetica Neue', Helvetica, Arial, sans-serif":e==o.default.TIGHT?"bold "+t+"px 'Helvetica Neue', Helvetica, Arial, sans-serif":t+"px"},DEFAULT_COLORPICKER:{hex:"#969696",rgb:{r:150,g:150,b:150,a:1}},BASE_COLORS:{A:"#188712",G:"#C45C16",C:"#0600F9",T:"#F70016",U:"#F70016",N:"black"},GENE_ARROW_SIZE:4,GENE_COLOR:"blue",GENE_COMPLEMENT_COLOR:"white",GENE_FONT:"'Helvetica Neue', Helvetica, Arial, sans-serif",GENE_FONT_SIZE:16,GENE_TEXT_PADDING:5,ALIGNMENT_COLOR:"#c8c8c8",ALIGNMENT_MINUS_STRAND_COLOR:"rgb(176, 176, 236)",ALIGNMENT_PLUS_STRAND_COLOR:"rgb(236, 176, 176)",DELETE_COLOR:"black",INSERT_COLOR:"rgb(97, 0, 216)",READ_SPACING:2,READ_HEIGHT:13,IDIOGRAM_LINEWIDTH:1,IDIOGRAM_COLORS:{gpos100:"#000000",gpos:"#000000",gpos75:"#828282",gpos66:"#a0a0a0",gpos50:"#c8c8c8",gpos33:"#d2d2d2",gpos25:"#c8c8c8",gvar:"#dcdcdc",gneg:"#ffffff",acen:"#d92f27",stalk:"#647fa4"},COVERAGE_FONT_STYLE:"bold 9px 'Helvetica Neue', Helvetica, Arial, sans-serif",COVERAGE_FONT_COLOR:"black",COVERAGE_TICK_LENGTH:5,COVERAGE_TEXT_PADDING:3,COVERAGE_TEXT_Y_OFFSET:3,COVERAGE_BIN_COLOR:"#a0a0a0",COVERAGE_MIN_BAR_WIDTH_FOR_GAP:8,SCALE_LINE_PADDING:40,SCALE_FONT_STYLE:"bold 12px 'Helvetica Neue', Helvetica, Arial, sans-serif",SCALE_TEXT_Y_OFFSET:5,SCALE_FONT_COLOR:"black",SCALE_ARROW_SIZE:4,LOC_TEXT_PADDING:5,LOC_TICK_LENGTH:10,LOC_TEXT_Y_OFFSET:5,LOC_FONT_STYLE:"13px 'Helvetica Neue', Helvetica, Arial, sans-serif",LOC_FONT_COLOR:"black",VARIANT_STROKE:"blue",VARIANT_FILL:"#ddd",VARIANT_HEIGHT:14,GENOTYPE_SPACING:1,GENOTYPE_HEIGHT:10,GENOTYPE_FILL_HET:"#0015ff",GENOTYPE_FILL_HOM:"#00f1f9",BACKGROUND_FILL:"#f2f2f2"}},function(e,t,n){e.exports=n(296)},function(e,t,n){"use strict";e.exports={getContext:function(e){return e.getContext("2d")},drawLine:function(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";var r=n(175),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},function(e,t,n){var r=n(149),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i="application/font-woff",o={woff:i,woff2:i,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function a(e){var t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function s(e){var t=a(e).toLowerCase();return o[t]||""}function u(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.crossOrigin="anonymous",r.src=e}))}function c(e){return e.split(/,/)[1]}function l(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}function f(){return window.devicePixelRatio||1}t.uuid=(r=0,function(){return r+=1,"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+r}),t.parseExtension=a,t.getMimeType=s,t.delay=function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},t.createImage=u,t.isDataUrl=function(e){return-1!==e.search(/^(data:)/)},t.toDataURL=function(e,t){return"data:"+t+";base64,"+e},t.getDataURLContent=c,t.canvasToBlob=function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),r=n.length,i=new Uint8Array(r),o=0;o<r;o+=1)i[o]=n.charCodeAt(o);t(new Blob([i],{type:"image/png"}))}))}(e)},t.toArray=function(e){for(var t=[],n=0,r=e.length;n<r;n+=1)t.push(e[n]);return t},t.getNodeWidth=function(e){var t=l(e,"border-left-width"),n=l(e,"border-right-width");return e.scrollWidth+t+n},t.getNodeHeight=function(e){var t=l(e,"border-top-width"),n=l(e,"border-bottom-width");return e.scrollHeight+t+n},t.getPixelRatio=f,t.svgToDataURL=function(e){return Promise.resolve().then((function(){return(new XMLSerializer).serializeToString(e)})).then(encodeURIComponent).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))},t.getBlobFromImageURL=function(e){return u(e).then((function(t){var n=t.width,r=t.height,i=document.createElement("canvas"),o=i.getContext("2d"),a=f();return i.width=n*a,i.height=r*a,i.style.width=""+n,i.style.height=""+r,o.scale(a,a),o.drawImage(t,0,0),c(i.toDataURL(s(e)))}))}},function(e,t){e.exports=function(e,t,n){var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=typeof e;return o===typeof t&&(function(e){return"function"!==e&&"object"!==e}(o)?n?n(e,t):e===t:r?function(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1}else for(i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}(e,t,n):function(e,t,n){var r=0,i=0;if(n)for(var o in e){if(e.hasOwnProperty(o)&&!n(e[o],t[o]))return!1;r++}else for(var o in e){if(e.hasOwnProperty(o)&&e[o]!==t[o])return!1;r++}for(var o in t)t.hasOwnProperty(o)&&i++;return r===i}(e,t,n))}},,function(e,t,n){!function(t){e.exports=function(e,t){"use strict";function n(e,t){return t&&e instanceof t}function r(e){for(var t=1,n=arguments.length;n>t;++t){var r=arguments[t];for(var i in r)void 0!==r[i]&&(e[i]=r[i])}return e}function i(e){return arguments[0]=h(e),r.apply(null,arguments)}function o(e,t,r){return n(r,Function)?r.call(e,t.contexts[0]):r}function a(e){return function(){var t=arguments,r=t.length-1,i=e.length-1,o=t[r];if(t.length=i+1,!n(o,Function)){var a=this;return new f((function(n,r){t[i]=function(e,t){return e?r(e):n(t)},e.apply(a,t)}))}t[r]=void 0,t[i]=o,e.apply(this,t)}}function s(e,r){return n(e,s)?e.as(r):(n(e,t)||(e=new t(e,void 0,void 0,r?r["jBinary.littleEndian"]:void 0)),n(this,s)?(this.view=e,this.view.seek(0),this.contexts=[],this.as(r,!0)):new s(e,r))}function u(e){return i(u.prototype,e)}function c(e){return i(c.prototype,e,{createProperty:function(){var t=(e.createProperty||c.prototype.createProperty).apply(this,arguments);return t.getBaseType&&(t.baseType=t.binary.getType(t.getBaseType(t.binary.contexts[0]))),t}})}var l=e.document;"atob"in e&&"btoa"in e||function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];e.btoa||(e.btoa=function(e){var n,r,i,o,a,s;for(i=e.length,r=0,n="";i>r;){if(o=255&e.charCodeAt(r++),r==i){n+=t.charAt(o>>2),n+=t.charAt((3&o)<<4),n+="==";break}if(a=e.charCodeAt(r++),r==i){n+=t.charAt(o>>2),n+=t.charAt((3&o)<<4|(240&a)>>4),n+=t.charAt((15&a)<<2),n+="=";break}s=e.charCodeAt(r++),n+=t.charAt(o>>2),n+=t.charAt((3&o)<<4|(240&a)>>4),n+=t.charAt((15&a)<<2|(192&s)>>6),n+=t.charAt(63&s)}return n}),e.atob||(e.atob=function(e){var t,r,i,o,a,s,u;for(s=e.length,a=0,u="";s>a;){do{t=n[255&e.charCodeAt(a++)]}while(s>a&&-1==t);if(-1==t)break;do{r=n[255&e.charCodeAt(a++)]}while(s>a&&-1==r);if(-1==r)break;u+=String.fromCharCode(t<<2|(48&r)>>4);do{if(61==(i=255&e.charCodeAt(a++)))return u;i=n[i]}while(s>a&&-1==i);if(-1==i)break;u+=String.fromCharCode((15&r)<<4|(60&i)>>2);do{if(61==(o=255&e.charCodeAt(a++)))return u;o=n[o]}while(s>a&&-1==o);if(-1==o)break;u+=String.fromCharCode((3&i)<<6|o)}return u})}();var f=e.Promise||function(e){this.then=e},h=Object.create;h||(h=function(e){var t=function(){};return t.prototype=e,new t});var p=s.prototype,d=p.typeSet={};p.toValue=function(e){return o(this,this,e)},p._named=function(e,t,n){return e.displayName=t+" @ "+(void 0!==n?n:this.view.tell()),e};var g=Object.defineProperty;if(g)try{g({},"x",{})}catch(e){g=void 0}else g=function(e,t,n,r){r&&(e[t]=n.value)};var v="jBinary.Cache",m=0;if(p._getCached=function(e,t,n){if(e.hasOwnProperty(this.cacheKey))return e[this.cacheKey];var r=t.call(this,e);return g(e,this.cacheKey,{value:r},n),r},p.getContext=function(e){switch(typeof e){case"undefined":e=0;case"number":return this.contexts[e];case"string":return this.getContext((function(t){return e in t}));case"function":for(var t=0,n=this.contexts.length;n>t;t++){var r=this.contexts[t];if(e.call(this,r))return r}}},p.inContext=function(e,t){this.contexts.unshift(e);var n=t.call(this);return this.contexts.shift(),n},u.prototype={inherit:function(e,t){function n(e,t){var n=o[e];n&&(r||(r=i(o)),t.call(r,n),r[e]=null)}var r,o=this;return n("params",(function(t){for(var n=0,r=t.length;r>n;n++)this[t[n]]=e[n]})),n("setParams",(function(t){t.apply(this,e)})),n("typeParams",(function(e){for(var n=0,r=e.length;r>n;n++){var i=e[n],o=this[i];o&&(this[i]=t(o))}})),n("resolve",(function(e){e.call(this,t)})),r||o},createProperty:function(e){return i(this,{binary:e,view:e.view})},toValue:function(e,t){return!1!==t&&"string"==typeof e?this.binary.getContext(e)[e]:o(this,this.binary,e)}},s.Type=u,c.prototype=i(u.prototype,{setParams:function(){this.baseType&&(this.typeParams=["baseType"].concat(this.typeParams||[]))},baseRead:function(){return this.binary.read(this.baseType)},baseWrite:function(e){return this.binary.write(this.baseType,e)}}),r(c.prototype,{read:c.prototype.baseRead,write:c.prototype.baseWrite}),s.Template=c,p.as=function(e,t){var n=t?this:i(this);return e=e||d,n.typeSet=e===d||d.isPrototypeOf(e)?e:i(d,e),n.cacheKey=v,n.cacheKey=n._getCached(e,(function(){return v+"."+ ++m}),!0),n},p.seek=function(e,t){if(e=this.toValue(e),void 0!==t){var n=this.view.tell();this.view.seek(e);var r=t.call(this);return this.view.seek(n),r}return this.view.seek(e)},p.tell=function(){return this.view.tell()},p.skip=function(e,t){return this.seek(this.tell()+this.toValue(e),t)},p.slice=function(e,t,n){return new s(this.view.slice(e,t,n),this.typeSet)},p._getType=function(e,t){switch(typeof e){case"string":if(!(e in this.typeSet))throw new ReferenceError("Unknown type: "+e);return this._getType(this.typeSet[e],t);case"number":return this._getType(d.bitfield,[e]);case"object":if(n(e,u)){var r=this;return e.inherit(t||[],(function(e){return r.getType(e)}))}return n(e,Array)?this._getCached(e,(function(e){return this.getType(e[0],e.slice(1))}),!0):this._getCached(e,(function(e){return this.getType(d.object,[e])}),!1)}},p.getType=function(e,t){var r=this._getType(e,t);return r&&!n(e,u)&&(r.name="object"==typeof e?n(e,Array)?e[0]+"("+e.slice(1).join(", ")+")":"object":String(e)),r},p._action=function(e,t,n){if(void 0!==e){e=this.getType(e);var r=this._named((function(){return n.call(this,e.createProperty(this),this.contexts[0])}),"["+e.name+"]",t);return void 0!==t?this.seek(t,r):r.call(this)}},p.read=function(e,t){return this._action(e,t,(function(e,t){return e.read(t)}))},p.readAll=function(){return this.read("jBinary.all",0)},p.write=function(e,t,n){return this._action(e,n,(function(e,n){var r=this.tell();return e.write(t,n),this.tell()-r}))},p.writeAll=function(e){return this.write("jBinary.all",e,0)},function(e,t){for(var n=0,r=t.length;r>n;n++){var o=t[n];d[o.toLowerCase()]=i(e,{dataType:o})}}(u({params:["littleEndian"],read:function(){return this.view["get"+this.dataType](void 0,this.littleEndian)},write:function(e){this.view["write"+this.dataType](e,this.littleEndian)}}),["Uint8","Uint16","Uint32","Uint64","Int8","Int16","Int32","Int64","Float32","Float64","Char"]),r(d,{byte:d.uint8,float:d.float32,double:d.float64}),d.array=c({params:["baseType","length"],read:function(){var e,t=this.toValue(this.length);if(this.baseType===d.uint8)return this.view.getBytes(t,void 0,!0,!0);if(void 0!==t){e=new Array(t);for(var n=0;t>n;n++)e[n]=this.baseRead()}else{var r=this.view.byteLength;for(e=[];this.binary.tell()<r;)e.push(this.baseRead())}return e},write:function(e){if(this.baseType===d.uint8)return this.view.writeBytes(e);for(var t=0,n=e.length;n>t;t++)this.baseWrite(e[t])}}),d.binary=c({params:["length","typeSet"],read:function(){var e=this.binary.tell(),t=this.binary.skip(this.toValue(this.length));return new s(this.view.slice(e,t),this.typeSet)},write:function(e){this.binary.write("blob",e.read("blob",0))}}),d.bitfield=u({params:["bitSize"],read:function(){return this.view.getUnsigned(this.bitSize)},write:function(e){this.view.writeUnsigned(e,this.bitSize)}}),d.blob=u({params:["length"],read:function(){return this.view.getBytes(this.toValue(this.length))},write:function(e){this.view.writeBytes(e,!0)}}),d.const=c({params:["baseType","value","strict"],read:function(){var e=this.baseRead();if(this.strict&&e!==this.value){if(n(this.strict,Function))return this.strict(e);throw new TypeError("Unexpected value ("+e+" !== "+this.value+").")}return e},write:function(e){this.baseWrite(this.strict||void 0===e?this.value:e)}}),d.enum=c({params:["baseType","matches"],setParams:function(e,t){for(var n in this.backMatches={},t)this.backMatches[t[n]]=n},read:function(){var e=this.baseRead();return e in this.matches?this.matches[e]:e},write:function(e){this.baseWrite(e in this.backMatches?this.backMatches[e]:e)}}),d.extend=u({setParams:function(){this.parts=arguments},resolve:function(e){for(var t=this.parts,n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=e(t[i]);this.parts=r},read:function(){var e=this.parts,t=this.binary.read(e[0]);return this.binary.inContext(t,(function(){for(var n=1,i=e.length;i>n;n++)r(t,this.read(e[n]))})),t},write:function(e){var t=this.parts;this.binary.inContext(e,(function(){for(var n=0,r=t.length;r>n;n++)this.write(t[n],e)}))}}),d.if=c({params:["condition","trueType","falseType"],typeParams:["trueType","falseType"],getBaseType:function(){return this.toValue(this.condition)?this.trueType:this.falseType}}),d.if_not=d.ifNot=c({setParams:function(e,t,n){this.baseType=["if",e,n,t]}}),d.lazy=c({marker:"jBinary.Lazy",params:["innerType","length"],getBaseType:function(){return["binary",this.length,this.binary.typeSet]},read:function(){var e=function(t){return 0===arguments.length?"value"in e?e.value:e.value=e.binary.read(e.innerType):r(e,{wasChanged:!0,value:t}).value};return e[this.marker]=!0,r(e,{binary:r(this.baseRead(),{contexts:this.binary.contexts.slice()}),innerType:this.innerType})},write:function(e){e.wasChanged||!e[this.marker]?this.binary.write(this.innerType,e()):this.baseWrite(e.binary)}}),d.object=u({params:["structure","proto"],resolve:function(e){var t={};for(var r in this.structure)t[r]=n(this.structure[r],Function)?this.structure[r]:e(this.structure[r]);this.structure=t},read:function(){var e=this,t=this.structure,r=this.proto?i(this.proto):{};return this.binary.inContext(r,(function(){for(var i in t)this._named((function(){var o=n(t[i],Function)?t[i].call(e,r):this.read(t[i]);void 0!==o&&(r[i]=o)}),i).call(this)})),r},write:function(e){var t=this,r=this.structure;this.binary.inContext(e,(function(){for(var i in r)this._named((function(){n(r[i],Function)?e[i]=r[i].call(t,e):this.write(r[i],e[i])}),i).call(this)}))}}),d.skip=u({params:["length"],read:function(){this.view.skip(this.toValue(this.length))},write:function(){this.read()}}),d.string=c({params:["length","encoding"],read:function(){return this.view.getString(this.toValue(this.length),void 0,this.encoding)},write:function(e){this.view.writeString(e,this.encoding)}}),d.string0=u({params:["length","encoding"],read:function(){var e=this.view,t=this.length;if(void 0===t){var n=e.tell(),r=0;for(t=e.byteLength-n;t>r&&e.getUint8();)r++;var i=e.getString(r,n,this.encoding);return t>r&&e.skip(1),i}return e.getString(t,void 0,this.encoding).replace(/\0.*$/,"")},write:function(e){var t=this.view,n=void 0===this.length?1:this.length-e.length;t.writeString(e,void 0,this.encoding),n>0&&(t.writeUint8(0),t.skip(n-1))}}),s.loadData=a((function(t,r){var i,o;if(n(t,e.Blob))if("FileReader"in e)(o=new FileReader).onload=o.onerror=function(){r(this.error,this.result)},o.readAsArrayBuffer(t);else{var a,s;o=new FileReaderSync;try{s=o.readAsArrayBuffer(t)}catch(e){a=e}finally{r(a,s)}}else if("string"!=typeof t)r(new TypeError("Unsupported source type."));else if(i=t.match(/^data:(.+?)(;base64)?,(.*)$/))try{var u=i[2],c=i[3];r(null,(u?atob:decodeURIComponent)(c))}catch(e){r(e)}else if("XMLHttpRequest"in e){var l=new XMLHttpRequest;l.open("GET",t,!0),"responseType"in l?l.responseType="arraybuffer":"overrideMimeType"in l?l.overrideMimeType("text/plain; charset=x-user-defined"):l.setRequestHeader("Accept-Charset","x-user-defined"),"onload"in l||(l.onreadystatechange=function(){4===this.readyState&&this.onload()});var f=function(e){r(new Error(e))};l.onload=function(){return 0!==this.status&&200!==this.status?f("HTTP Error #"+this.status+": "+this.statusText):("response"in this||(this.response=new VBArray(this.responseBody).toArray()),void r(null,this.response))},l.onerror=function(){f("Network error.")},l.send(null)}else r(new TypeError("Unsupported source type."))})),s.load=a((function(e,t,n){var r=s.loadData(e);s.load.getTypeSet(e,t,(function(e){r.then((function(t){n(null,new s(t,e))}),n)}))})),s.load.getTypeSet=function(e,t,n){n(t)},p._toURI="URL"in e&&"createObjectURL"in URL?function(e){var t=this.seek(0,(function(){return this.view.getBytes()}));return URL.createObjectURL(new Blob([t],{type:e}))}:function(e){var t=this.seek(0,(function(){return this.view.getString(void 0,void 0,"binary")}));return"data:"+e+";base64,"+btoa(t)},p._mimeType=function(e){return e||this.typeSet["jBinary.mimeType"]||"application/octet-stream"},p.toURI=function(e){return this._toURI(this._mimeType(e))},l){var y=s.downloader=l.createElement("a");y.style.display="none"}return p.saveAs=a((function(e,t,n){"string"==typeof e?("msSaveBlob"in navigator?navigator.msSaveBlob(new Blob([this.read("blob",0)],{type:this._mimeType(t)}),e):l?(y.parentNode||l.body.appendChild(y),y.href=this.toURI(t),y.download=e,y.click(),y.href=y.download=""):n(new TypeError("Saving from Web Worker is not supported.")),n()):n(new TypeError("Unsupported storage type."))})),s}(this,n(86))}()},function(e,t,n){var r=n(82),i=n(316),o=n(317),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(342),i=n(345);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(60));r(n(52));function o(e,t,n,r){for(var i=[],o=0;o<t.length;o++){var a=n+o,s=e.charAt(o),u=t.charAt(o);s!=u&&"."!=s&&i.push({pos:a,basePair:u,quality:r[o]})}return i}var a={MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",SOFTCLIP:"S",HARDCLIP:"H",PADDING:"P",SEQMATCH:"=",SEQMISMATCH:"X"};e.exports={yForRow:function(e){var t=arguments.length<=1||void 0===arguments[1]?i.default.READ_HEIGHT:arguments[1],n=arguments.length<=2||void 0===arguments[2]?i.default.READ_SPACING:arguments[2];return e*(t+n)},pileup:function(e){for(var t=new Array(e.length),n=[],r=0;r<e.length;r++){for(var i=e[r],o=n.length,a=0;a<n.length;a++)if(!i.intersects(n[a])){o=a;break}t[r]=o,n[o]=i}return t},addToPileup:function(e,t){for(var n=-1,r=0;r<t.length;r++){for(var i=t[r],o=!0,a=0;a<i.length;a++)if(i[a].intersects(e)){o=!1;break}if(o){n=r;break}}return-1==n&&(t[n=t.length]=[]),t[n].push(e),n},getOpInfo:function(e,t){for(var n=e.cigarOps,r=e.getInterval(),i=r.start(),s=e.getSequence(),u=e.getQualityScores(),c=0,l=i,f=function(e){var t,n,r=e.cigarOps;if("-"==e.getStrand()){for(t=0;t<r.length;t++)if("S"!=(n=r[t]).op)return"M"==n.op?t:-1}else for(t=r.length-1;t>=0;t--)if("S"!=(n=r[t]).op)return"M"==n.op?t:-1;return-1}(e),h=[],p=[],d=0;d<n.length;d++){var g=n[d];if("M"==g.op){var v=t.getRangeAsString({contig:r.contig,start:l,stop:l+g.length-1}),m=s.slice(c,c+g.length);p=p.concat(o(v,m,l,u))}switch(h.push({op:g.op,length:g.length,pos:l,arrow:null}),g.op){case a.MATCH:case a.DELETE:case a.SKIP:case a.SEQMATCH:case a.SEQMISMATCH:l+=g.length}switch(g.op){case a.MATCH:case a.INSERT:case a.SOFTCLIP:case a.SEQMATCH:case a.SEQMISMATCH:c+=g.length}}return f>=0&&(h[f].arrow="-"==e.getStrand()?"L":"R"),{ops:h,mismatches:p}},CigarOp:a}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},,function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(56)),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e,this.fileLength=-1,this.chunks=[],this.numNetworkRequests=0}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getBytes",value:function(e,t){if(t<0)return a.default.reject("Requested <0 bytes ("+t+") from "+this.url);var n=e+t-1;-1!=this.fileLength&&(n=Math.min(this.fileLength-1,n));var r=this.getFromCache(e,n);return r?a.default.when(r):this.getFromNetwork(e,n)}},{key:"getAll",value:function(){var e=this;if(-1!=this.fileLength){var t=this.getFromCache(0,this.fileLength-1);if(t)return a.default.when(t)}var n=new XMLHttpRequest;return n.open("GET",this.url),n.responseType="arraybuffer",this.promiseXHR(n).then((function(t){var n=r(t,1)[0];return e.fileLength=n.byteLength,e.chunks=[{start:0,stop:e.fileLength-1,buffer:n}],n}))}},{key:"getAllString",value:function(){var e=new XMLHttpRequest;return e.open("GET",this.url),this.promiseXHR(e).then((function(e){return r(e,1)[0]}))}},{key:"getSize",value:function(){if(-1!=this.fileLength)return a.default.when(this.fileLength);var e=new XMLHttpRequest;return e.open("HEAD",this.url),this.promiseXHR(e).then((function(){var t=e.getResponseHeader("Content-Length");if(null!==t)return Number(t);throw"Remote resource has unknown length"}))}},{key:"getFromCache",value:function(e,t){for(var n=0;n<this.chunks.length;n++){var r=this.chunks[n];if(r.start<=e&&r.stop>=t)return r.buffer.slice(e-r.start,t-r.start+1)}return null}},{key:"getFromNetwork",value:function(e,t){var n=this,i=t-e+1;if(i>5e7)throw"Monster request: Won't fetch "+i+" bytes from "+this.url;var o=new XMLHttpRequest;return o.open("GET",this.url),o.responseType="arraybuffer",o.setRequestHeader("Range","bytes="+e+"-"+t),this.promiseXHR(o).then((function(t){var i=r(t,1)[0],a={start:e,stop:e+i.byteLength-1,buffer:i};n.chunks.push(a);var s=n._getLengthFromContentRange(o);return null!=s&&(-1!=n.fileLength&&n.fileLength!=s?console.warn("Size of remote file "+n.url+" changed from "+n.fileLength+" to "+s):n.fileLength=s),i}))}},{key:"promiseXHR",value:function(e){var t=this.url,n=a.default.defer();return e.addEventListener("load",(function(e){this.status>=400?n.reject("Request for "+t+" failed with status: "+this.status+" "+this.statusText):n.resolve([this.response,e])})),e.addEventListener("error",(function(e){n.reject("Request for "+t+" failed with status: "+this.status+" "+this.statusText)})),this.numNetworkRequests++,e.send(),n.promise}},{key:"_getLengthFromContentRange",value:function(e){if(!/Content-Range/i.exec(e.getAllResponseHeaders()))return null;var t=e.getResponseHeader("Content-Range"),n=/\/(\d+)$/.exec(t);return n?Number(n[1]):(console.warn("Received improper Content-Range value for "+this.url+": "+t),null)}},{key:"clearCache",value:function(){this.chunks=[]}}]),t}(o(n(144)).default);e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i,o=n(52),a=(i=o)&&i.__esModule?i:{default:i},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.featureType=t.featureType,this.position=t.position,this.score=t.score}return r(e,[{key:"getKey",value:function(){return this.id}},{key:"getInterval",value:function(){return this.position}},{key:"getCoverage",value:function(e){return{range:this.getInterval(),opInfo:null}}},{key:"intersects",value:function(e){return e.intersects(this.position)}}],[{key:"fromGA4GH",value:function(t){var n=new a.default(t.referenceName,parseInt(t.start),parseInt(t.end));return new e({id:t.id,featureType:t.featureType,position:n,score:1e3})}}]),e}();e.exports=s},function(e,t,n){"use strict";e.exports={linear:function(){var e=!1,t=[0,1],n=[0,1],r=function(r){return e&&(r=Math.max(Math.min(r,t[1]),t[0])),(r-t[0])/(t[1]-t[0])*(n[1]-n[0])+n[0]};return r.clamp=function(t){return void 0===t?e:(e=t,this)},r.domain=function(e){return void 0===e?t:(t=e,this)},r.range=function(e){return void 0===e?n:(n=e,this)},r.invert=function(r){if(e)throw"Can't invert a clamped linear scale.";return(r-n[0])/(n[1]-n[0])*(t[1]-t[0])+t[0]},r.nice=function(){var e=t,n=Math.abs(e[1]-e[0]),r=Math.pow(10,Math.floor(Math.log(n/10)/Math.LN10)),i=10/n*r;i<=.15?r*=10:i<=.35?r*=5:i<=.75&&(r*=2);var o,a=function(e){return Math.floor(e/r)*r},s=function(e){return Math.ceil(e/r)*r},u=0,c=1,l=t[u],f=t[c];return f<l&&(o=u,u=c,c=o,o=l,l=f,f=o),t[u]=a(l),t[c]=s(f),this},r}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(51)),a=i(n(79)),s=i(n(52)),u=i(n(58)),c=i(n(62)),l=i(n(61)),f=i(n(55)),h=i(n(59)),p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tileCache=[]}return r(e,[{key:"renderTile",value:function(e){var t=e.range,n=this.heightForRef(t.contig),r=Math.round(e.pixelsPerBase*t.length());e.buffer=document.createElement("canvas"),h.default.sizeCanvas(e.buffer,r,n);var i=a.default.linear().domain([t.start(),t.stop()+1]).range([0,r]),o=c.default.getContext(e.buffer),s=l.default.getDataContext(o);this.render(s,i,t)}},{key:"makeNewTiles",value:function(t,n,r){var i=this,o=e.getNewTileRanges(t,r.interval,n).map((function(e){return{pixelsPerBase:n,range:new s.default(r.contig,e.start,e.stop),buffer:document.createElement("canvas")}}));return o.forEach((function(e){return i.renderTile(e)})),this.tileCache=this.tileCache.concat(o),this.tileCache.sort((function(e,t){return s.default.compare(e.range,t.range)})),o}},{key:"renderToScreen",value:function(e,t,n){var r=n(1)-n(0),i=this.tileCache.filter((function(e){return Math.abs(e.pixelsPerBase-r)<1e-6&&t.chrOnContig(e.range.contig)})),o=(this.heightForRef(t.contig),i.map((function(e){return e.range.interval})));t.interval.isCoveredBy(o)||(i=i.concat(this.makeNewTiles(o,r,t))),i.filter((function(e){return t.intersects(e.range)})).forEach((function(t){var r=Math.round(n(t.range.start())),i=Math.round(n(t.range.stop()+1)),o=i-r;0!==t.buffer.height&&e.drawImage(t.buffer,0,0,t.buffer.width,t.buffer.height,r,0,o,t.buffer.height)}))}},{key:"invalidateAll",value:function(){this.tileCache=[]}},{key:"invalidateRange",value:function(e){this.tileCache=this.tileCache.filter((function(t){return!t.range.intersects(e)}))}},{key:"heightForRef",value:function(e){throw"Not implemented"}},{key:"render",value:function(e,t,n){throw"Not implemented"}}],[{key:"getNewTileRanges",value:function(e,t,n){var r=Math.ceil(500/n),i=Math.floor(t.start/r)*r,a=o.default.range(i,t.stop,r).map((function(e){return new u.default(e,e+r-1)})).filter((function(t){return!t.isCoveredBy(e)}));return f.default.flatMap(a,(function(t){return t.complementIntervals(e)})).filter((function(e){return e.intersects(t)}))}}]),e}();e.exports=p},function(e,t,n){"use strict";var r,i=n(52);(r=i)&&r.__esModule;e.exports=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.position=n,this.gFeature=r}},function(e,t,n){var r=n(65).Symbol;e.exports=r},function(e,t,n){var r=n(151),i=n(324),o=n(90);e.exports=function(e){return o(e)?r(e):i(e)}},,function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},function(e,t,n){(function(t){!function(n){e.exports=function(e){"use strict";function n(e,t){return"object"==typeof e&&null!==e&&(e.constructor===t||Object.prototype.toString.call(e)==="[object "+t.name+"]")}function r(e,t){return!t&&n(e,Array)?e:Array.prototype.slice.call(e)}function i(e,t){return void 0!==e?e:t}function o(e,r,a,s){if(o.is(e)){var u=e.slice(r,r+a);return u._littleEndian=i(s,u._littleEndian),u}if(!o.is(this))return new o(e,r,a,s);if(this.buffer=e=o.wrapBuffer(e),this._isArrayBuffer=l.ArrayBuffer&&n(e,ArrayBuffer),this._isPixelData=!1,this._isDataView=l.DataView&&this._isArrayBuffer,this._isNodeBuffer=l.NodeBuffer&&n(e,t),!this._isNodeBuffer&&!this._isArrayBuffer&&!n(e,Array))throw new TypeError("jDataView buffer has an incompatible type");this._littleEndian=!!s;var c="byteLength"in e?e.byteLength:e.length;this.byteOffset=r=i(r,0),this.byteLength=a=i(a,c-r),this._offset=this._bitOffset=0,this._isDataView?this._view=new DataView(e,r,a):this._checkBounds(r,a,c),this._engineAction=this._isDataView?this._dataViewAction:this._isNodeBuffer?this._nodeBufferAction:this._isArrayBuffer?this._arrayBufferAction:this._arrayAction}function a(e){if(l.NodeBuffer)return new t(e,"binary");for(var n=new(l.ArrayBuffer?Uint8Array:Array)(e.length),r=0,i=e.length;i>r;r++)n[r]=255&e.charCodeAt(r);return n}function s(e){return e>=0&&31>e?1<<e:s[e]||(s[e]=Math.pow(2,e))}function u(e,t){this.lo=e,this.hi=t}function c(){u.apply(this,arguments)}var l={NodeBuffer:"Buffer"in e,DataView:"DataView"in e,ArrayBuffer:"ArrayBuffer"in e,PixelData:!1},f=e.TextEncoder,h=e.TextDecoder;l.NodeBuffer&&function(e){try{e.writeFloatLE(1/0,0)}catch(e){l.NodeBuffer=!1}}(new t(4));var p={Int8:1,Int16:2,Int32:4,Uint8:1,Uint16:2,Uint32:4,Float32:4,Float64:8};o.wrapBuffer=function(e){switch(typeof e){case"number":if(l.NodeBuffer)(e=new t(e)).fill(0);else if(l.ArrayBuffer)e=new Uint8Array(e).buffer;else{e=new Array(e);for(var i=0;i<e.length;i++)e[i]=0}return e;case"string":e=a(e);default:return"length"in e&&!(l.NodeBuffer&&n(e,t)||l.ArrayBuffer&&n(e,ArrayBuffer))&&(l.NodeBuffer?e=new t(e):l.ArrayBuffer?n(e,ArrayBuffer)||(n(e=new Uint8Array(e).buffer,ArrayBuffer)||(e=new Uint8Array(r(e,!0)).buffer)):e=r(e)),e}},o.is=function(e){return e&&e.jDataView},o.from=function(){return new o(arguments)},o.Uint64=u,u.prototype={valueOf:function(){return this.lo+s(32)*this.hi},toString:function(){return Number.prototype.toString.apply(this.valueOf(),arguments)}},u.fromNumber=function(e){var t=Math.floor(e/s(32));return new u(e-t*s(32),t)},o.Int64=c,c.prototype="create"in Object?Object.create(u.prototype):new u,c.prototype.valueOf=function(){return this.hi<s(31)?u.prototype.valueOf.apply(this,arguments):-(s(32)-this.lo+s(32)*(s(32)-1-this.hi))},c.fromNumber=function(e){var t,n;if(e>=0){var r=u.fromNumber(e);t=r.lo,n=r.hi}else t=e-(n=Math.floor(e/s(32)))*s(32),n+=s(32);return new c(t,n)};var d=o.prototype={compatibility:l,jDataView:!0,_checkBounds:function(e,t,n){if("number"!=typeof e)throw new TypeError("Offset is not a number.");if("number"!=typeof t)throw new TypeError("Size is not a number.");if(0>t)throw new RangeError("Length is negative.");if(0>e||e+t>i(n,this.byteLength))throw new RangeError("Offsets are out of bounds.")},_action:function(e,t,n,r,o){return this._engineAction(e,t,i(n,this._offset),i(r,this._littleEndian),o)},_dataViewAction:function(e,t,n,r,i){return this._offset=n+p[e],t?this._view["get"+e](n,r):this._view["set"+e](n,i,r)},_arrayBufferAction:function(t,n,r,o,a){var s,u=p[t],c=e[t+"Array"];if(o=i(o,this._littleEndian),1===u||(this.byteOffset+r)%u==0&&o)return s=new c(this.buffer,this.byteOffset+r,1),this._offset=r+u,n?s[0]:s[0]=a;var l=new Uint8Array(n?this.getBytes(u,r,o,!0):u);return s=new c(l.buffer,0,1),n?s[0]:(s[0]=a,void this._setBytes(r,l,o))},_arrayAction:function(e,t,n,r,i){return t?this["_get"+e](n,r):this["_set"+e](n,i,r)},_getBytes:function(e,t,n){n=i(n,this._littleEndian),t=i(t,this._offset),e=i(e,this.byteLength-t),this._checkBounds(t,e),t+=this.byteOffset,this._offset=t-this.byteOffset+e;var o=this._isArrayBuffer?new Uint8Array(this.buffer,t,e):(this.buffer.slice||Array.prototype.slice).call(this.buffer,t,t+e);return n||1>=e?o:r(o).reverse()},getBytes:function(e,t,n,o){var a=this._getBytes(e,t,i(n,!0));return o?r(a):a},_setBytes:function(e,n,o){var a=n.length;if(0!==a){if(o=i(o,this._littleEndian),e=i(e,this._offset),this._checkBounds(e,a),!o&&a>1&&(n=r(n,!0).reverse()),e+=this.byteOffset,this._isArrayBuffer)new Uint8Array(this.buffer,e,a).set(n);else if(this._isNodeBuffer)new t(n).copy(this.buffer,e);else for(var s=0;a>s;s++)this.buffer[e+s]=n[s];this._offset=e-this.byteOffset+a}},setBytes:function(e,t,n){this._setBytes(e,t,i(n,!0))},getString:function(e,t,n){if(this._isNodeBuffer)return t=i(t,this._offset),e=i(e,this.byteLength-t),this._checkBounds(t,e),this._offset=t+e,this.buffer.toString(n||"binary",this.byteOffset+t,this.byteOffset+this._offset);var r=this._getBytes(e,t,!0);if(n="utf8"===n?"utf-8":n||"binary",h&&"binary"!==n)return new h(n).decode(this._isArrayBuffer?r:new Uint8Array(r));var o="";e=r.length;for(var a=0;e>a;a++)o+=String.fromCharCode(r[a]);return"utf-8"===n&&(o=decodeURIComponent(escape(o))),o},setString:function(e,t,n){if(this._isNodeBuffer)return e=i(e,this._offset),this._checkBounds(e,t.length),void(this._offset=e+this.buffer.write(t,this.byteOffset+e,n||"binary"));var r;n="utf8"===n?"utf-8":n||"binary",f&&"binary"!==n?r=new f(n).encode(t):("utf-8"===n&&(t=unescape(encodeURIComponent(t))),r=a(t)),this._setBytes(e,r,!0)},getChar:function(e){return this.getString(1,e)},setChar:function(e,t){this.setString(e,t)},tell:function(){return this._offset},seek:function(e){return this._checkBounds(e,0),this._offset=e},skip:function(e){return this.seek(this._offset+e)},slice:function(e,t,n){function r(e,t){return 0>e?e+t:e}return e=r(e,this.byteLength),t=r(i(t,this.byteLength),this.byteLength),n?new o(this.getBytes(t-e,e,!0,!0),void 0,void 0,this._littleEndian):new o(this.buffer,this.byteOffset+e,t-e,this._littleEndian)},alignBy:function(e){return this._bitOffset=0,1!==i(e,1)?this.skip(e-(this._offset%e||e)):this._offset},_getFloat64:function(e,t){var n=this._getBytes(8,e,t),r=1-2*(n[7]>>7),i=((n[7]<<1&255)<<3|n[6]>>4)-1023,o=(15&n[6])*s(48)+n[5]*s(40)+n[4]*s(32)+n[3]*s(24)+n[2]*s(16)+n[1]*s(8)+n[0];return 1024===i?0!==o?NaN:1/0*r:-1023===i?r*o*s(-1074):r*(1+o*s(-52))*s(i)},_getFloat32:function(e,t){var n=this._getBytes(4,e,t),r=1-2*(n[3]>>7),i=(n[3]<<1&255|n[2]>>7)-127,o=(127&n[2])<<16|n[1]<<8|n[0];return 128===i?0!==o?NaN:1/0*r:-127===i?r*o*s(-149):r*(1+o*s(-23))*s(i)},_get64:function(e,t,n){n=i(n,this._littleEndian),t=i(t,this._offset);for(var r=n?[0,4]:[4,0],o=0;2>o;o++)r[o]=this.getUint32(t+r[o],n);return this._offset=t+8,new e(r[0],r[1])},getInt64:function(e,t){return this._get64(c,e,t)},getUint64:function(e,t){return this._get64(u,e,t)},_getInt32:function(e,t){var n=this._getBytes(4,e,t);return n[3]<<24|n[2]<<16|n[1]<<8|n[0]},_getUint32:function(e,t){return this._getInt32(e,t)>>>0},_getInt16:function(e,t){return this._getUint16(e,t)<<16>>16},_getUint16:function(e,t){var n=this._getBytes(2,e,t);return n[1]<<8|n[0]},_getInt8:function(e){return this._getUint8(e)<<24>>24},_getUint8:function(e){return this._getBytes(1,e)[0]},_getBitRangeData:function(e,t){var n=(i(t,this._offset)<<3)+this._bitOffset,r=n+e,o=n>>>3,a=r+7>>>3,s=this._getBytes(a-o,o,!0),u=0;(this._bitOffset=7&r)&&(this._bitOffset-=8);for(var c=0,l=s.length;l>c;c++)u=u<<8|s[c];return{start:o,bytes:s,wideValue:u}},getSigned:function(e,t){var n=32-e;return this.getUnsigned(e,t)<<n>>n},getUnsigned:function(e,t){var n=this._getBitRangeData(e,t).wideValue>>>-this._bitOffset;return 32>e?n&~(-1<<e):n},_setBinaryFloat:function(e,t,n,r,i){var o,a,u=0>t?1:0,c=~(-1<<r-1),l=1-c;0>t&&(t=-t),0===t?(o=0,a=0):isNaN(t)?(o=2*c+1,a=1):1/0===t?(o=2*c+1,a=0):(o=Math.floor(Math.log(t)/Math.LN2))>=l&&c>=o?(a=Math.floor((t*s(-o)-1)*s(n)),o+=c):(a=Math.floor(t/s(l-n)),o=0);for(var f=[];n>=8;)f.push(a%256),a=Math.floor(a/256),n-=8;for(o=o<<n|a,r+=n;r>=8;)f.push(255&o),o>>>=8,r-=8;f.push(u<<r|o),this._setBytes(e,f,i)},_setFloat32:function(e,t,n){this._setBinaryFloat(e,t,23,8,n)},_setFloat64:function(e,t,n){this._setBinaryFloat(e,t,52,11,n)},_set64:function(e,t,n,r){"object"!=typeof n&&(n=e.fromNumber(n)),r=i(r,this._littleEndian),t=i(t,this._offset);var o=r?{lo:0,hi:4}:{lo:4,hi:0};for(var a in o)this.setUint32(t+o[a],n[a],r);this._offset=t+8},setInt64:function(e,t,n){this._set64(c,e,t,n)},setUint64:function(e,t,n){this._set64(u,e,t,n)},_setUint32:function(e,t,n){this._setBytes(e,[255&t,t>>>8&255,t>>>16&255,t>>>24],n)},_setUint16:function(e,t,n){this._setBytes(e,[255&t,t>>>8&255],n)},_setUint8:function(e,t){this._setBytes(e,[255&t])},setUnsigned:function(e,t,n){var r=this._getBitRangeData(n,e),i=r.wideValue,o=r.bytes;i&=~(~(-1<<n)<<-this._bitOffset),i|=(32>n?t&~(-1<<n):t)<<-this._bitOffset;for(var a=o.length-1;a>=0;a--)o[a]=255&i,i>>>=8;this._setBytes(r.start,o,!0)}},g={Int8:"Int8",Int16:"Int16",Int32:"Int32",Uint8:"UInt8",Uint16:"UInt16",Uint32:"UInt32",Float32:"Float",Float64:"Double"};for(var v in d._nodeBufferAction=function(e,t,n,r,i){this._offset=n+p[e];var o=g[e]+("Int8"===e||"Uint8"===e?"":r?"LE":"BE");return n+=this.byteOffset,t?this.buffer["read"+o](n):this.buffer["write"+o](i,n)},p)!function(e){d["get"+e]=function(t,n){return this._action(e,!0,t,n)},d["set"+e]=function(t,n,r){this._action(e,!1,t,r,n)}}(v);for(var m in d._setInt32=d._setUint32,d._setInt16=d._setUint16,d._setInt8=d._setUint8,d.setSigned=d.setUnsigned,d)"set"===m.slice(0,3)&&function(e){d["write"+e]=function(){Array.prototype.unshift.call(arguments,void 0),this["set"+e].apply(this,arguments)}}(m.slice(3));return o}(this)}()}).call(this,n(138).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(52)),a=i(n(51)),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t.name,this.bands=t.bands;var n=a.default.min(this.bands,(function(e){return e.start})).start,r=a.default.max(this.bands,(function(e){return e.end})).end;this.position=new o.default(this.name,n,r)}return r(e,[{key:"getKey",value:function(){return this.name}},{key:"getInterval",value:function(){return this.position}},{key:"getCoverage",value:function(e){return{range:this.getInterval(),opInfo:null}}},{key:"intersects",value:function(e){return e.intersects(this.position)}}]),e}();e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.exports={strToStrand:function(e){return e&&"+"==e?"+":e&&"-"==e?"-":"."},ga4ghStrandToStrand:function(e){return e&&"POS_STRAND"==e?"+":e&&"NEG_STRAND"==e?"-":"."},makeCigarString:function(e){return e.map((function(e){var t=e.op;return e.length+t})).join("")}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=n(52),s=(o=a)&&o.__esModule?o:{default:o},u=function(){function e(t){i(this,e),this.contig=t.contig,this.position=parseInt(t.position),this.ref=t.ref,this.alt=t.alt,this.id=t.id,this.majorFrequency=t.majorFrequency,this.minorFrequency=t.minorFrequency,this.vcfLine=t.vcfLine}return r(e,[{key:"intersects",value:function(e){return e.intersects(new s.default(this.contig,this.position,this.position+1))}}],[{key:"fromGA4GH",value:function(t){return new e({contig:t.referenceName,position:parseInt(t.start),id:t.id,ref:t.referenceBases,alt:t.alternateBases,majorFrequency:0,minorFrequency:0,vcfLine:""})}}]),e}(),c=function(){function e(t,n){i(this,e),this.variant=t,this.calls=n}return r(e,[{key:"intersects",value:function(e){var t=new s.default(this.variant.contig,this.variant.position,this.variant.position+1);return e.intersects(t)}}]),e}();e.exports={Call:function e(t,n,r,o){i(this,e),this.callSetName=t,this.genotype=n,this.callSetId=r,this.phaseset=o},Variant:u,VariantContext:c}},function(e,t,n){var r=n(156),i=n(111);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(332),i=n(333),o=n(334),a=n(335),s=n(336);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(117);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(72)(Object,"create");e.exports=r},function(e,t,n){var r=n(354);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(369),i=n(118),o=n(370),a=n(371),s=n(372),u=n(71),c=n(159),l=c(r),f=c(i),h=c(o),p=c(a),d=c(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,n){var r=n(122);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(171),i=n(172);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},,,,,function(e,t,n){"use strict";var r=n(263),i=n(85),o=n(268),a=n(269),s=n(270),u=n(271),c=n(272),l=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}f.prototype.push=function(e,t){var n,s,u,c,f,h,p=this.strm,d=this.options.chunkSize,g=this.options.dictionary,v=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(d),p.next_out=0,p.avail_out=d),(n=r.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(h="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===l.call(g)?new Uint8Array(g):g,n=r.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===v&&(n=a.Z_OK,v=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(p.output,p.next_out),c=p.next_out-u,f=o.buf2string(p.output,u),p.next_out=c,p.avail_out=d-c,c&&i.arraySet(p.output,p.output,u,c,0),this.onData(f)):this.onData(i.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(v=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(52)),s=o(n(58)),u=n(88),c=o(n(51)),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.position=t.position,this.id=t.id,this.score=t.score,this.strand=t.strand,this.codingRegion=t.codingRegion,this.exons=t.exons,this.geneId=t.geneId,this.name=t.name}return i(e,[{key:"getKey",value:function(){return this.id}},{key:"getInterval",value:function(){return this.position}},{key:"intersects",value:function(e){return e.intersects(this.position)}}],[{key:"fromGA4GH",value:function(t){var n=new a.default(t.referenceName,parseInt(t.start),parseInt(t.end)),i=(0,u.ga4ghStrandToStrand)(t.strand),o=t.id&&""!=t.id?t.id:t.geneSymbol&&""!=t.geneSymbol?t.geneSymbol:t.name,l=t.attributes.attr.blockStarts,f=t.attributes.attr.blockSizes,h=[];if(l&&f&&l.values&&f.values){var p=c.default.map(l.values[0].stringValue.split(","),(function(e){return parseInt(e)})),d=c.default.map(f.values[0].stringValue.split(","),(function(e){return parseInt(e)}));h=c.default.zip(p,d).map((function(e){var t=r(e,2),i=t[0],o=t[1];return new s.default(n.start()+i,n.start()+i+o)}))}var g=t.attributes.attr.thickStart,v=t.attributes.attr.thickEnd,m=null;return m=g.values&&v.values?new s.default(parseInt(g.values[0].stringValue),parseInt(v.values[0].stringValue)):new s.default(n.start(),n.end()),new e({position:n,id:o,score:1e3,strand:i,codingRegion:m,exons:h,geneId:t.geneSymbol,name:t.name})}}]),e}();e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(70)),o=r(n(51)),a=r(n(105)),s=n(145),u=["=","A","C","M","G","R","S","V","T","W","Y","H","K","D","B","N"],c=["M","I","D","N","S","H","P","=","X"],l={refID:"int32",pos:"int32",l_read_name:"uint8",MAPQ:"uint8",bin:"uint16",n_cigar_op:"uint16",FLAG:"uint16",l_seq:"int32",next_refID:"int32",next_pos:"int32",tlen:"int32"},f=o.default.extend(o.default.clone(l),{read_name:[s.nullString,"l_read_name"],cigar:["array","CigarOp","n_cigar_op"],seq:["FourBitSequence","l_seq"],qual:["array","uint8","l_seq"],auxiliary:["array",{tag:["string",2],val_type:"char",value:["if",function(e){return"B"==e.val_type},{val_type:"char",num_values:"int32",values:["array","AuxiliaryValue","num_values"]},"AuxiliaryValue"]}]}),h={"jBinary.littleEndian":!0,BamHeader:{_magic:["const",["string",4],"BAM",!0],l_text:"int32",text:["string","l_text"],n_ref:"int32",references:["array",{l_name:"int32",name:[s.nullString,"l_name"],l_ref:"int32"},"n_ref"]},BamAlignment:{block_size:"int32",contents:["blob","block_size"]},AuxiliaryValue:["if",function(e){return"A"==e.val_type},"char",["if",function(e){return"c"==e.val_type},"int8",["if",function(e){return"C"==e.val_type},"uint8",["if",function(e){return"s"==e.val_type},"int16",["if",function(e){return"S"==e.val_type},"uint16",["if",function(e){return"i"==e.val_type},"int32",["if",function(e){return"I"==e.val_type},"uint32",["if",function(e){return"f"==e.val_type},"float32",["if",function(e){return"Z"==e.val_type},"string0",["skip",0]]]]]]]]]],CigarOp:i.default.Template({baseType:"uint32",read:function(e){var t=this.baseRead();return{length:t>>4,op:c[15&t]}}}),FourBitSequence:i.default.Template({setParams:function(e){this.lengthField=e;this.baseType=["array","uint8",function(t){return Math.floor((+t[e]+1)/2)}]},read:function(e){var t=+e[this.lengthField];return this.baseRead().map((function(e,n){return u[e>>4]+(2*n+1<t?u[15&e]:"")})).join("")}}),BamFile:{header:"BamHeader",alignments:["array","BamAlignment"]},VirtualOffset:i.default.Template({baseType:"uint64",read:function(){var e=this.baseRead();return new a.default(65536*e.hi+(e.lo>>>16),65535&e.lo)}}),ChunksArray:["array",{chunk_beg:"VirtualOffset",chunk_end:"VirtualOffset"}],IntervalsArray:["array","VirtualOffset"],BaiIndex:{n_bin:"int32",bins:["array",{bin:"uint32",n_chunk:"int32",chunks:["blob",function(e){return 16*e.n_chunk}]},"n_bin"],n_intv:"int32",intervals:["blob",function(e){return 8*e.n_intv}]},BaiFile:{magic:["const",["string",4],"BAI"],n_ref:"int32",indices:["array","BaiIndex","n_ref"],n_no_coor:s.uint64native}};e.exports={TYPE_SET:h,ThinAlignment:l,ThickAlignment:f,Flags:{READ_PAIRED:1,PROPER_PAIR:2,READ_UNMAPPED:4,MATE_UNMAPPED:8,READ_STRAND:16,MATE_STRAND:32,FIRST_OF_PAIR:64,SECOND_OF_PAIR:128,NOT_PRIMARY_ALIGNMENT:256,READ_FAILS_VENDOR_QUALITY_CHECK:512,DUPLICATE_READ:1024,SUPPLEMENTARY_ALIGNMENT:2048}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.coffset=t,this.uoffset=n}return r(e,[{key:"toString",value:function(){return this.coffset+":"+this.uoffset}},{key:"isLessThan",value:function(e){return this.coffset<e.coffset||this.coffset==e.coffset&&this.uoffset<e.uoffset}},{key:"isLessThanOrEqual",value:function(e){return this.coffset<=e.coffset||this.coffset==e.coffset&&this.uoffset<=e.uoffset}},{key:"isEqual",value:function(e){return this.coffset==e.coffset&&this.uoffset==e.uoffset}},{key:"compareTo",value:function(e){return this.coffset-e.coffset||this.uoffset-e.uoffset}},{key:"clone",value:function(){return new e(this.coffset,this.uoffset)}}],[{key:"fromBlob",value:function(t,n){var r=t[n=n||0]+256*t[n+1];return new e(t[n+2]+256*t[n+3]+65536*t[n+4]+16777216*t[n+5]+4294967296*t[n+6]+1099511627776*t[n+7],r)}}]),e}();e.exports=i},function(e,t,n){"use strict";var r={LOOSE:1,TIGHT:2,BLOCKS:3,HIDDEN:4,getDisplayMode:function(e){return e>=25?r.LOOSE:e>=10?r.TIGHT:e>=1?r.BLOCKS:r.HIDDEN},isText:function(e){return e==r.LOOSE||e==r.TIGHT}};e.exports=r},function(e,t,n){"use strict";e.exports={create:function(){return{rangeChanged:function(){},on:function(){},off:function(){},trigger:function(){}}}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(51)),a=(i(n(81)),i(n(58)),n(74)),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"groupKey",value:function(e){return e.id||e.position.toString()}},{key:"addFeature",value:function(e){var t=this.groupKey(e);t in this.groups||(this.groups[t]={key:t,span:e.position,row:-1,insert:null,items:[]});var n=this.groups[t];if(!o.default.find(n.items,(function(t){return t.gFeature==e.gFeature}))){n.items.push(e),e.position.contig in this.refToPileup||(this.refToPileup[e.position.contig]=[]);var r=this.refToPileup[e.position.contig];n.row=(0,a.addToPileup)(n.span.interval,r)}}}]),t}(i(n(148)).default);e.exports={GenericFeatureCache:s}},function(e,t,n){var r=n(150),i=n(326);e.exports=function(e,t){return e&&r(e,i(t))}},function(e,t,n){(function(e){var r=n(65),i=n(322),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u}).call(this,n(73)(e))},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(149),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(73)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(155)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(91),i=n(337),o=n(338),a=n(339),s=n(340),u=n(341);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(72)(n(65),"Map");e.exports=r},function(e,t,n){var r=n(346),i=n(353),o=n(355),a=n(356),s=n(357);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(368),i=n(166),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t,n){var r=n(63),i=n(122),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(71),i=n(66);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(162);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";(function(e){var r=n(64),i=n(420),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.a.Buffer:void 0,u=(s?s.isBuffer:void 0)||i.a;t.a=u}).call(this,n(125)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(249),i=n(250),o=n(251);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return U(z(t,e.length-n),e,n,r)}function x(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return x(e,t,n,r)}function _(e,t,n,r){return U(H(t),e,n,r)}function S(e,t,n,r){return U(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=j(e[o]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:z(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(54))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1);(r=i)&&r.__esModule;t.AllelFrequencyStrategy={Minor:{name:"Minor"},Major:{name:"Major"}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(141)),o=n(67),a=/url\((['"]?)([^'"]+?)\1\)/g;function s(e){var t=[];return e.replace(a,(function(e,n,r){return t.push(r),e})),t.filter((function(e){return!o.isDataUrl(e)}))}function u(e,t,n,r){var a=n?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;var n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}(t,n):t;return Promise.resolve(a).then((function(e){return i.default(e,r)})).then((function(e){return o.toDataURL(e,o.getMimeType(t))})).then((function(n){return e.replace(new RegExp("(url\\(['\"]?)("+function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}(t)+")(['\"]?\\))","g"),"$1"+n+"$3")})).then((function(e){return e}),(function(){return a}))}function c(e){return-1!==e.search(a)}t.shouldEmbed=c,t.default=function(e,t,n){return c(e)?Promise.resolve(e).then(s).then((function(r){return r.reduce((function(e,r){return e.then((function(e){return u(e,r,t,n)}))}),Promise.resolve(e))})):Promise.resolve(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67);t.default=function(e,t){return t.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime()),(window.fetch?window.fetch(e).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)}))})).then(r.getDataURLContent).catch((function(){return new Promise((function(e,t){t()}))})):new Promise((function(t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var o=new FileReader;o.onloadend=function(){t(r.getDataURLContent(o.result))},o.readAsDataURL(i.response)}else n(new Error("Failed to fetch resource: "+e+", status: "+i.status))},i.ontimeout=function(){n(new Error("Timeout of 30000ms occured while fetching resource: "+e))},i.responseType="blob",i.timeout=3e4,i.open("GET",e,!0),i.send()}))).catch((function(n){var r="";if(t.imagePlaceholder){var i=t.imagePlaceholder.split(/,/);i&&i[1]&&(r=i[1])}var o="Failed to fetch resource: "+e;return n&&(o="string"==typeof n?n:n.message),o&&console.error(o),r}))}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(262),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(54))},function(e,t,n){var r,i,o;
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */i="undefined"!=typeof window?window:this,o=function(n,i){var o=[],a=n.document,s=o.slice,u=o.concat,c=o.push,l=o.indexOf,f={},h=f.toString,p=f.hasOwnProperty,d={},g=function(e,t){return new g.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,y=/-([\da-z])/gi,b=function(e,t){return t.toUpperCase()};function w(e){var t=!!e&&"length"in e&&e.length,n=g.type(e);return"function"!==n&&!g.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}g.fn=g.prototype={jquery:"2.2.4",constructor:g,selector:"",length:0,toArray:function(){return s.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:s.call(this)},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},g.extend=g.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||g.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(g.isPlainObject(r)||(i=g.isArray(r)))?(i?(i=!1,o=n&&g.isArray(n)?n:[]):o=n&&g.isPlainObject(n)?n:{},a[t]=g.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},g.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!g.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==g.type(e)||e.nodeType||g.isWindow(e))return!1;if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||p.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[h.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=g.trim(e))&&(1===e.indexOf("use strict")?((t=a.createElement("script")).text=e,a.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(m,"ms-").replace(y,b)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(w(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?g.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(w(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return u.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g.isFunction(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||g.guid++,i},now:Date.now,support:d}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=o[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var x=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){var t,n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,b,w="sizzle"+1*new Date,x=e.document,k=0,_=0,S=ie(),E=ie(),C=ie(),T=function(e,t){return e===t&&(f=!0),0},A={}.hasOwnProperty,R=[],O=R.pop,I=R.push,L=R.push,M=R.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",D="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",B="\\["+F+"*("+D+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+F+"*\\]",j=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",z=new RegExp(F+"+","g"),H=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),U=new RegExp("^"+F+"*,"+F+"*"),q=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),G=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),$=new RegExp(j),V=new RegExp("^"+D+"$"),W={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=/'|\\/g,ee=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),te=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ne=function(){h()};try{L.apply(R=M.call(x.childNodes),x.childNodes),R[x.childNodes.length].nodeType}catch(e){L={apply:R.length?function(e,t){I.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function re(e,t,r,i){var o,s,c,l,f,d,m,y,k=t&&t.ownerDocument,_=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return r;if(!i&&((t?t.ownerDocument||t:x)!==p&&h(t),t=t||p,g)){if(11!==_&&(d=K.exec(e)))if(o=d[1]){if(9===_){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(k&&(c=k.getElementById(o))&&b(t,c)&&c.id===o)return r.push(c),r}else{if(d[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!C[e+" "]&&(!v||!v.test(e))){if(1!==_)k=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(J,"\\$&"):t.setAttribute("id",l=w),s=(m=a(e)).length,f=V.test(l)?"#"+l:"[id='"+l+"']";s--;)m[s]=f+" "+de(m[s]);y=m.join(","),k=Q.test(e)&&he(t.parentNode)||t}if(y)try{return L.apply(r,k.querySelectorAll(y)),r}catch(e){}finally{l===w&&t.removeAttribute("id")}}}return u(e.replace(H,"$1"),t,r,i)}function ie(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function oe(e){return e[w]=!0,e}function ae(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function le(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return oe((function(t){return t=+t,oe((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=re.support={},o=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=re.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:x;return a!==p&&9===a.nodeType&&a.documentElement?(d=(p=a).documentElement,g=!o(p),(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ne,!1):i.attachEvent&&i.attachEvent("onunload",ne)),n.attributes=ae((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ae((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Y.test(p.getElementsByClassName),n.getById=ae((function(e){return d.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(ee,te);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(ee,te);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=Y.test(p.querySelectorAll))&&(ae((function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+F+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+w+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]")})),ae((function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ae((function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",j)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===x&&b(x,e)?-1:t===p||t.ownerDocument===x&&b(x,t)?1:l?P(l,e)-P(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:l?P(l,e)-P(l,t):0;if(i===o)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ue(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0},p):p},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(G,"='$1']"),n.matchesSelector&&g&&!C[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return re(t,p,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],o=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(T),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=re.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=re.selectors={cacheLength:50,createPseudo:oe,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ee,te),e[3]=(e[3]||e[4]||e[5]||"").replace(ee,te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ee,te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&S(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=re.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,h,p,d,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(v){if(o){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&y){for(b=(p=(c=(l=(f=(h=v)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===k&&c[1])&&c[2],h=p&&v.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||d.pop();)if(1===h.nodeType&&++b&&h===t){l[e]=[k,p,b];break}}else if(y&&(b=p=(c=(l=(f=(h=t)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===k&&c[1]),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||d.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++b||(y&&((l=(f=h[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]=[k,b]),h!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?oe((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=P(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:oe((function(e){var t=[],n=[],r=s(e.replace(H,"$1"));return r[w]?oe((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:oe((function(e){return function(t){return re(e,t).length>0}})),contains:oe((function(e){return e=e.replace(ee,te),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:oe((function(e){return V.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(ee,te).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe((function(){return[0]})),last:fe((function(e,t){return[t-1]})),eq:fe((function(e,t,n){return[n<0?n+t:n]})),even:fe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:fe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:fe((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:fe((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=le(t);function pe(){}function de(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=_++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c,l=[k,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(u=(c=t[w]||(t[w]={}))[t.uniqueID]||(c[t.uniqueID]={}))[r])&&s[0]===k&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function ve(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function me(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function ye(e,t,n,r,i,o){return r&&!r[w]&&(r=ye(r)),i&&!i[w]&&(i=ye(i,o)),oe((function(o,a,s,u){var c,l,f,h=[],p=[],d=a.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)re(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:me(g,h,e,s,u),m=n?i||(o?e:d||r)?[]:a:v;if(n&&n(v,m,s,u),r)for(c=me(m,p),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(m[p[l]]=!(v[p[l]]=f));if(o){if(i||e){if(i){for(c=[],l=m.length;l--;)(f=m[l])&&c.push(v[l]=f);i(null,m=[],c,u)}for(l=m.length;l--;)(f=m[l])&&(c=i?P(o,f):h[l])>-1&&(o[c]=!(a[c]=f))}}else m=me(m===a?m.splice(d,m.length):m),i?i(null,a,m,u):L.apply(a,m)}))}function be(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=ge((function(e){return e===t}),s,!0),f=ge((function(e){return P(t,e)>-1}),s,!0),h=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])h=[ge(ve(h),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[w]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return ye(u>1&&ve(h),u>1&&de(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(H,"$1"),n,u<i&&be(e.slice(u,i)),i<o&&be(e=e.slice(i)),i<o&&de(e))}h.push(n)}return ve(h)}return pe.prototype=r.filters=r.pseudos,r.setFilters=new pe,a=re.tokenize=function(e,t){var n,i,o,a,s,u,c,l=E[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(i=U.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=q.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(H," ")}),s=s.slice(n.length)),r.filter)!(i=W[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?re.error(e):E(e,u).slice(0)},s=re.compile=function(e,t){var n,i=[],o=[],s=C[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=be(t[n]))[w]?i.push(s):o.push(s);(s=C(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var f,d,v,m=0,y="0",b=o&&[],w=[],x=c,_=o||i&&r.find.TAG("*",l),S=k+=null==x?1:Math.random()||.1,E=_.length;for(l&&(c=a===p||a||l);y!==E&&null!=(f=_[y]);y++){if(i&&f){for(d=0,a||f.ownerDocument===p||(h(f),s=!g);v=e[d++];)if(v(f,a||p,s)){u.push(f);break}l&&(k=S)}n&&((f=!v&&f)&&m--,o&&b.push(f))}if(m+=y,n&&y!==m){for(d=0;v=t[d++];)v(b,w,a,s);if(o){if(m>0)for(;y--;)b[y]||w[y]||(w[y]=O.call(u));w=me(w)}L.apply(u,w),l&&!o&&w.length>0&&m+t.length>1&&re.uniqueSort(u)}return l&&(k=S,c=x),b};return n?oe(o):o}(o,i))).selector=e}return s},u=re.select=function(e,t,i,o){var u,c,l,f,h,p="function"==typeof e&&e,d=!o&&a(e=p.selector||e);if(i=i||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&n.getById&&9===t.nodeType&&g&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(ee,te),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(u=W.needsContext.test(e)?0:c.length;u--&&(l=c[u],!r.relative[f=l.type]);)if((h=r.find[f])&&(o=h(l.matches[0].replace(ee,te),Q.test(c[0].type)&&he(t.parentNode)||t))){if(c.splice(u,1),!(e=o.length&&de(c)))return L.apply(i,o),i;break}}return(p||s(e,d))(o,t,!g,i,!t||Q.test(e)&&he(t.parentNode)||t),i},n.sortStable=w.split("").sort(T).join("")===w,n.detectDuplicates=!!f,h(),n.sortDetached=ae((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),ae((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||se("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ae((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||se("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ae((function(e){return null==e.getAttribute("disabled")}))||se(N,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),re}(n);g.find=x,g.expr=x.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=x.uniqueSort,g.text=x.getText,g.isXMLDoc=x.isXML,g.contains=x.contains;var k=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&g(e).is(n))break;r.push(e)}return r},_=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},S=g.expr.match.needsContext,E=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,C=/^.[^:#\[\.,]*$/;function T(e,t,n){if(g.isFunction(t))return g.grep(e,(function(e,r){return!!t.call(e,r,e)!==n}));if(t.nodeType)return g.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(C.test(t))return g.filter(t,e,n);t=g.filter(t,e)}return g.grep(e,(function(e){return l.call(t,e)>-1!==n}))}g.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?g.find.matchesSelector(r,e)?[r]:[]:g.find.matches(e,g.grep(t,(function(e){return 1===e.nodeType})))},g.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(g(e).filter((function(){for(t=0;t<n;t++)if(g.contains(i[t],this))return!0})));for(t=0;t<n;t++)g.find(e,i[t],r);return(r=this.pushStack(n>1?g.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&S.test(e)?g(e):e||[],!1).length}});var A,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(g.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||A,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),E.test(r[1])&&g.isPlainObject(t))for(r in t)g.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=a.getElementById(r[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==n.ready?n.ready(e):e(g):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),g.makeArray(e,this))}).prototype=g.fn,A=g(a);var O=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}g.fn.extend({has:function(e){var t=g(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(g.contains(this,t[e]))return!0}))},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=S.test(e)||"string"!=typeof e?g(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?g.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(g(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return _((e.parentNode||{}).firstChild,e)},children:function(e){return _(e.firstChild)},contents:function(e){return e.contentDocument||g.merge([],e.childNodes)}},(function(e,t){g.fn[e]=function(n,r){var i=g.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=g.filter(r,i)),this.length>1&&(I[e]||g.uniqueSort(i),O.test(e)&&i.reverse()),this.pushStack(i)}}));var M,P=/\S+/g;function N(){a.removeEventListener("DOMContentLoaded",N),n.removeEventListener("load",N),g.ready()}g.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return g.each(e.match(P)||[],(function(e,n){t[n]=!0})),t}(e):g.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){g.each(n,(function(n,r){g.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==g.type(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return g.each(arguments,(function(e,t){for(var n;(n=g.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?g.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},g.extend({Deferred:function(e){var t=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return g.Deferred((function(n){g.each(t,(function(t,o){var a=g.isFunction(e[t])&&e[t];i[o[1]]((function(){var e=a&&a.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?g.extend(e,r):r}},i={};return r.pipe=r.then,g.each(t,(function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=s.call(arguments),a=o.length,u=1!==a||e&&g.isFunction(e.promise)?a:0,c=1===u?e:g.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?s.call(arguments):i,r===t?c.notifyWith(n,r):--u||c.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&g.isFunction(o[i].promise)?o[i].promise().progress(l(i,n,t)).done(l(i,r,o)).fail(c.reject):--u;return u||c.resolveWith(r,o),c.promise()}}),g.fn.ready=function(e){return g.ready.promise().done(e),this},g.extend({isReady:!1,readyWait:1,holdReady:function(e){e?g.readyWait++:g.ready(!0)},ready:function(e){(!0===e?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==e&&--g.readyWait>0||(M.resolveWith(a,[g]),g.fn.triggerHandler&&(g(a).triggerHandler("ready"),g(a).off("ready"))))}}),g.ready.promise=function(e){return M||(M=g.Deferred(),"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(g.ready):(a.addEventListener("DOMContentLoaded",N),n.addEventListener("load",N))),M.promise(e)},g.ready.promise();var F=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===g.type(n))for(s in i=!0,n)F(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,g.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(g(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o},D=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=g.expando+B.uid++}B.uid=1,B.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!D(e))return{};var t=e[this.expando];return t||(t={},D(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,g.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{g.isArray(t)?r=t.concat(t.map(g.camelCase)):(i=g.camelCase(t),r=t in o?[t,i]:(r=i)in o?[r]:r.match(P)||[]),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||g.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!g.isEmptyObject(t)}};var j=new B,z=new B,H=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/[A-Z]/g;function q(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(U,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:H.test(n)?g.parseJSON(n):n)}catch(e){}z.set(e,t,n)}else n=void 0;return n}g.extend({hasData:function(e){return z.hasData(e)||j.hasData(e)},data:function(e,t,n){return z.access(e,t,n)},removeData:function(e,t){z.remove(e,t)},_data:function(e,t,n){return j.access(e,t,n)},_removeData:function(e,t){j.remove(e,t)}}),g.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=z.get(o),1===o.nodeType&&!j.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=g.camelCase(r.slice(5)),q(o,r,i[r]));j.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){z.set(this,e)})):F(this,(function(t){var n,r;if(o&&void 0===t)return void 0!==(n=z.get(o,e)||z.get(o,e.replace(U,"-$&").toLowerCase()))?n:(r=g.camelCase(e),void 0!==(n=z.get(o,r))?n:void 0!==(n=q(o,r,void 0))?n:void 0);r=g.camelCase(e),this.each((function(){var n=z.get(this,r);z.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){z.remove(this,e)}))}}),g.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=j.get(e,t),n&&(!r||g.isArray(n)?r=j.access(e,t,g.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=g.queue(e,t),r=n.length,i=n.shift(),o=g._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){g.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return j.get(e,n)||j.access(e,n,{empty:g.Callbacks("once memory").add((function(){j.remove(e,[t+"queue",n])}))})}}),g.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?g.queue(this[0],e):void 0===t?this:this.each((function(){var n=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&g.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){g.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=g.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=j.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var G=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$=new RegExp("^(?:([+-])=|)("+G+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],W=function(e,t){return e=t||e,"none"===g.css(e,"display")||!g.contains(e.ownerDocument,e)};function Z(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return g.css(e,t,"")},u=s(),c=n&&n[3]||(g.cssNumber[t]?"":"px"),l=(g.cssNumber[t]||"px"!==c&&+u)&&$.exec(g.css(e,t));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do{l/=o=o||".5",g.style(e,t,l+c)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,K=/^$|\/(?:java|ecma)script/i,Q={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function J(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&g.nodeName(e,t)?g.merge([e],n):n}function ee(e,t){for(var n=0,r=e.length;n<r;n++)j.set(e[n],"globalEval",!t||j.get(t[n],"globalEval"))}Q.optgroup=Q.option,Q.tbody=Q.tfoot=Q.colgroup=Q.caption=Q.thead,Q.th=Q.td;var te,ne,re=/<|&#?\w+;/;function ie(e,t,n,r,i){for(var o,a,s,u,c,l,f=t.createDocumentFragment(),h=[],p=0,d=e.length;p<d;p++)if((o=e[p])||0===o)if("object"===g.type(o))g.merge(h,o.nodeType?[o]:o);else if(re.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Y.exec(o)||["",""])[1].toLowerCase(),u=Q[s]||Q._default,a.innerHTML=u[1]+g.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;g.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(t.createTextNode(o));for(f.textContent="",p=0;o=h[p++];)if(r&&g.inArray(o,r)>-1)i&&i.push(o);else if(c=g.contains(o.ownerDocument,o),a=J(f.appendChild(o),"script"),c&&ee(a),n)for(l=0;o=a[l++];)K.test(o.type||"")&&n.push(o);return f}te=a.createDocumentFragment().appendChild(a.createElement("div")),(ne=a.createElement("input")).setAttribute("type","radio"),ne.setAttribute("checked","checked"),ne.setAttribute("name","t"),te.appendChild(ne),d.checkClone=te.cloneNode(!0).cloneNode(!0).lastChild.checked,te.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!te.cloneNode(!0).lastChild.defaultValue;var oe=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,se=/^([^.]*)(?:\.(.+)|)/;function ue(){return!0}function ce(){return!1}function le(){try{return a.activeElement}catch(e){}}function fe(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)fe(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ce;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return g().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=g.guid++)),e.each((function(){g.event.add(this,t,i,r,n)}))}g.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,f,h,p,d,v,m=j.get(e);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=g.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==g&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(P)||[""]).length;c--;)p=v=(s=se.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p&&(f=g.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=g.event.special[p]||{},l=g.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&g.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||((h=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,d,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),g.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,h,p,d,v,m=j.hasData(e)&&j.get(e);if(m&&(u=m.events)){for(c=(t=(t||"").match(P)||[""]).length;c--;)if(p=v=(s=se.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p){for(f=g.event.special[p]||{},h=u[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(e,l));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(e,d,m.handle)||g.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)g.event.remove(e,p+t[c],n,r,!0);g.isEmptyObject(u)&&j.remove(e,"handle events")}},dispatch:function(e){e=g.event.fix(e);var t,n,r,i,o,a=[],u=s.call(arguments),c=(j.get(this,"events")||{})[e.type]||[],l=g.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=g.event.handlers.call(this,e,c),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((g.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?g(i,this).index(u)>-1:g.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||a).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[g.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=ae.test(i)?this.mouseHooks:oe.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new g.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=a),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==le()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===le()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&g.nodeName(this,"input"))return this.click(),!1},_default:function(e){return g.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},g.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},g.Event=function(e,t){if(!(this instanceof g.Event))return new g.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ue:ce):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:ce,isPropagationStopped:ce,isImmediatePropagationStopped:ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||g.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),g.fn.extend({on:function(e,t,n,r){return fe(this,e,t,n,r)},one:function(e,t,n,r){return fe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,g(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ce),this.each((function(){g.event.remove(this,e,n,t)}))}});var he=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,pe=/<script|<style|<link/i,de=/checked\s*(?:[^=]|=\s*.checked.)/i,ge=/^true\/(.*)/,ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function me(e,t){return g.nodeName(e,"table")&&g.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ye(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function be(e){var t=ge.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function we(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(j.hasData(e)&&(o=j.access(e),a=j.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)g.event.add(t,i,c[i][n]);z.hasData(e)&&(s=z.access(e),u=g.extend({},s),z.set(t,u))}}function xe(e,t,n,r){t=u.apply([],t);var i,o,a,s,c,l,f=0,h=e.length,p=h-1,v=t[0],m=g.isFunction(v);if(m||h>1&&"string"==typeof v&&!d.checkClone&&de.test(v))return e.each((function(i){var o=e.eq(i);m&&(t[0]=v.call(this,i,o.html())),xe(o,t,n,r)}));if(h&&(o=(i=ie(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=g.map(J(i,"script"),ye)).length;f<h;f++)c=i,f!==p&&(c=g.clone(c,!0,!0),s&&g.merge(a,J(c,"script"))),n.call(e[f],c,f);if(s)for(l=a[a.length-1].ownerDocument,g.map(a,be),f=0;f<s;f++)c=a[f],K.test(c.type||"")&&!j.access(c,"globalEval")&&g.contains(l,c)&&(c.src?g._evalUrl&&g._evalUrl(c.src):g.globalEval(c.textContent.replace(ve,"")))}return e}function ke(e,t,n){for(var r,i=t?g.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||g.cleanData(J(r)),r.parentNode&&(n&&g.contains(r.ownerDocument,r)&&ee(J(r,"script")),r.parentNode.removeChild(r));return e}g.extend({htmlPrefilter:function(e){return e.replace(he,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,c,l=e.cloneNode(!0),f=g.contains(e.ownerDocument,e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(a=J(l),r=0,i=(o=J(e)).length;r<i;r++)s=o[r],u=a[r],c=void 0,"input"===(c=u.nodeName.toLowerCase())&&X.test(s.type)?u.checked=s.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||J(e),a=a||J(l),r=0,i=o.length;r<i;r++)we(o[r],a[r]);else we(e,l);return(a=J(l,"script")).length>0&&ee(a,!f&&J(e,"script")),l},cleanData:function(e){for(var t,n,r,i=g.event.special,o=0;void 0!==(n=e[o]);o++)if(D(n)){if(t=n[j.expando]){if(t.events)for(r in t.events)i[r]?g.event.remove(n,r):g.removeEvent(n,r,t.handle);n[j.expando]=void 0}n[z.expando]&&(n[z.expando]=void 0)}}}),g.fn.extend({domManip:xe,detach:function(e){return ke(this,e,!0)},remove:function(e){return ke(this,e)},text:function(e){return F(this,(function(e){return void 0===e?g.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return xe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||me(this,e).appendChild(e)}))},prepend:function(){return xe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=me(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return xe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return xe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(J(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return g.clone(this,e,t)}))},html:function(e){return F(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!pe.test(e)&&!Q[(Y.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(g.cleanData(J(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return xe(this,arguments,(function(t){var n=this.parentNode;g.inArray(this,e)<0&&(g.cleanData(J(this)),n&&n.replaceChild(t,this))}),e)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){g.fn[e]=function(e){for(var n,r=[],i=g(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),g(i[a])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var _e,Se={HTML:"block",BODY:"block"};function Ee(e,t){var n=g(t.createElement(e)).appendTo(t.body),r=g.css(n[0],"display");return n.detach(),r}function Ce(e){var t=a,n=Se[e];return n||("none"!==(n=Ee(e,t))&&n||((t=(_e=(_e||g("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Ee(e,t),_e.detach()),Se[e]=n),n}var Te=/^margin/,Ae=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Oe=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},Ie=a.documentElement;function Le(e,t,n){var r,i,o,a,s=e.style;return""!==(a=(n=n||Re(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||g.contains(e.ownerDocument,e)||(a=g.style(e,t)),n&&!d.pixelMarginRight()&&Ae.test(a)&&Te.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0!==a?a+"":a}function Me(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,r,i,o=a.createElement("div"),s=a.createElement("div");function u(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ie.appendChild(o);var a=n.getComputedStyle(s);e="1%"!==a.top,i="2px"===a.marginLeft,t="4px"===a.width,s.style.marginRight="50%",r="4px"===a.marginRight,Ie.removeChild(o)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),g.extend(d,{pixelPosition:function(){return u(),e},boxSizingReliable:function(){return null==t&&u(),t},pixelMarginRight:function(){return null==t&&u(),r},reliableMarginLeft:function(){return null==t&&u(),i},reliableMarginRight:function(){var e,t=s.appendChild(a.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",Ie.appendChild(o),e=!parseFloat(n.getComputedStyle(t).marginRight),Ie.removeChild(o),s.removeChild(t),e}}))}();var Pe=/^(none|table(?!-c[ea]).+)/,Ne={position:"absolute",visibility:"hidden",display:"block"},Fe={letterSpacing:"0",fontWeight:"400"},De=["Webkit","O","Moz","ms"],Be=a.createElement("div").style;function je(e){if(e in Be)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=De.length;n--;)if((e=De[n]+t)in Be)return e}function ze(e,t,n){var r=$.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function He(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=g.css(e,n+V[o],!0,i)),r?("content"===n&&(a-=g.css(e,"padding"+V[o],!0,i)),"margin"!==n&&(a-=g.css(e,"border"+V[o]+"Width",!0,i))):(a+=g.css(e,"padding"+V[o],!0,i),"padding"!==n&&(a+=g.css(e,"border"+V[o]+"Width",!0,i)));return a}function Ue(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Re(e),a="border-box"===g.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Le(e,t,o))<0||null==i)&&(i=e.style[t]),Ae.test(i))return i;r=a&&(d.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+He(e,t,n||(a?"border":"content"),r,o)+"px"}function qe(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=j.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&W(r)&&(o[a]=j.access(r,"olddisplay",Ce(r.nodeName)))):(i=W(r),"none"===n&&i||j.set(r,"olddisplay",i?n:g.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function Ge(e,t,n,r,i){return new Ge.prototype.init(e,t,n,r,i)}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Le(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=g.camelCase(t),u=e.style;if(t=g.cssProps[s]||(g.cssProps[s]=je(s)||s),a=g.cssHooks[t]||g.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];"string"==(o=typeof n)&&(i=$.exec(n))&&i[1]&&(n=Z(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(g.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=g.camelCase(t);return t=g.cssProps[s]||(g.cssProps[s]=je(s)||s),(a=g.cssHooks[t]||g.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Le(e,t,r)),"normal"===i&&t in Fe&&(i=Fe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),g.each(["height","width"],(function(e,t){g.cssHooks[t]={get:function(e,n,r){if(n)return Pe.test(g.css(e,"display"))&&0===e.offsetWidth?Oe(e,Ne,(function(){return Ue(e,t,r)})):Ue(e,t,r)},set:function(e,n,r){var i,o=r&&Re(e),a=r&&He(e,t,r,"border-box"===g.css(e,"boxSizing",!1,o),o);return a&&(i=$.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=g.css(e,t)),ze(0,n,a)}}})),g.cssHooks.marginLeft=Me(d.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Le(e,"marginLeft"))||e.getBoundingClientRect().left-Oe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),g.cssHooks.marginRight=Me(d.reliableMarginRight,(function(e,t){if(t)return Oe(e,{display:"inline-block"},Le,[e,"marginRight"])})),g.each({margin:"",padding:"",border:"Width"},(function(e,t){g.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+V[r]+t]=o[r]||o[r-2]||o[0];return i}},Te.test(e)||(g.cssHooks[e+t].set=ze)})),g.fn.extend({css:function(e,t){return F(this,(function(e,t,n){var r,i,o={},a=0;if(g.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=g.css(e,t[a],!1,r);return o}return void 0!==n?g.style(e,t,n):g.css(e,t)}),e,t,arguments.length>1)},show:function(){return qe(this,!0)},hide:function(){return qe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){W(this)?g(this).show():g(this).hide()}))}}),g.Tween=Ge,Ge.prototype={constructor:Ge,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||g.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(g.cssNumber[n]?"":"px")},cur:function(){var e=Ge.propHooks[this.prop];return e&&e.get?e.get(this):Ge.propHooks._default.get(this)},run:function(e){var t,n=Ge.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ge.propHooks._default.set(this),this}},Ge.prototype.init.prototype=Ge.prototype,Ge.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=g.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[g.cssProps[e.prop]]&&!g.cssHooks[e.prop]?e.elem[e.prop]=e.now:g.style(e.elem,e.prop,e.now+e.unit)}}},Ge.propHooks.scrollTop=Ge.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},g.fx=Ge.prototype.init,g.fx.step={};var $e,Ve,We=/^(?:toggle|show|hide)$/,Ze=/queueHooks$/;function Xe(){return n.setTimeout((function(){$e=void 0})),$e=g.now()}function Ye(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=V[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ke(e,t,n){for(var r,i=(Qe.tweeners[t]||[]).concat(Qe.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Qe(e,t,n){var r,i,o=0,a=Qe.prefilters.length,s=g.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=$e||Xe(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},n),originalProperties:t,originalOptions:n,startTime:$e||Xe(),duration:n.duration,tweens:[],createTween:function(t,n){var r=g.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=g.camelCase(n)],o=e[n],g.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=g.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=Qe.prefilters[o].call(c,e,l,c.opts))return g.isFunction(r.stop)&&(g._queueHooks(c.elem,c.opts.queue).stop=g.proxy(r.stop,r)),r;return g.map(l,Ke,c),g.isFunction(c.opts.start)&&c.opts.start.call(e,c),g.fx.timer(g.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}g.Animation=g.extend(Qe,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return Z(n.elem,e,$.exec(t),n),n}]},tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Qe.tweeners[n]=Qe.tweeners[n]||[],Qe.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,c,l=this,f={},h=e.style,p=e.nodeType&&W(e),d=j.get(e,"fxshow");for(r in n.queue||(null==(s=g._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always((function(){l.always((function(){s.unqueued--,g.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=g.css(e,"display"))?j.get(e,"olddisplay")||Ce(e.nodeName):c)&&"none"===g.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),t)if(i=t[r],We.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!d||void 0===d[r])continue;p=!0}f[r]=d&&d[r]||g.style(e,r)}else c=void 0;if(g.isEmptyObject(f))"inline"===("none"===c?Ce(e.nodeName):c)&&(h.display=c);else for(r in d?"hidden"in d&&(p=d.hidden):d=j.access(e,"fxshow",{}),o&&(d.hidden=!p),p?g(e).show():l.done((function(){g(e).hide()})),l.done((function(){var t;for(t in j.remove(e,"fxshow"),f)g.style(e,t,f[t])})),f)a=Ke(p?d[r]:0,r,l),r in d||(d[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],prefilter:function(e,t){t?Qe.prefilters.unshift(e):Qe.prefilters.push(e)}}),g.speed=function(e,t,n){var r=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return r.duration=g.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in g.fx.speeds?g.fx.speeds[r.duration]:g.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g.isFunction(r.old)&&r.old.call(this),r.queue&&g.dequeue(this,r.queue)},r},g.fn.extend({fadeTo:function(e,t,n,r){return this.filter(W).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=g.isEmptyObject(e),o=g.speed(t,n,r),a=function(){var t=Qe(this,g.extend({},e),o);(i||j.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=g.timers,a=j.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Ze.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||g.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=j.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=g.timers,a=r?r.length:0;for(n.finish=!0,g.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),g.each(["toggle","show","hide"],(function(e,t){var n=g.fn[t];g.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Ye(t,!0),e,r,i)}})),g.each({slideDown:Ye("show"),slideUp:Ye("hide"),slideToggle:Ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){g.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),g.timers=[],g.fx.tick=function(){var e,t=0,n=g.timers;for($e=g.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||g.fx.stop(),$e=void 0},g.fx.timer=function(e){g.timers.push(e),e()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){Ve||(Ve=n.setInterval(g.fx.tick,g.fx.interval))},g.fx.stop=function(){n.clearInterval(Ve),Ve=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(e,t){return e=g.fx&&g.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}}))},function(){var e=a.createElement("input"),t=a.createElement("select"),n=t.appendChild(a.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=n.selected,t.disabled=!0,d.optDisabled=!n.disabled,(e=a.createElement("input")).value="t",e.type="radio",d.radioValue="t"===e.value}();var Je,et=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return F(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){g.removeAttr(this,e)}))}}),g.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?g.prop(e,t,n):(1===o&&g.isXMLDoc(e)||(t=t.toLowerCase(),i=g.attrHooks[t]||(g.expr.match.bool.test(t)?Je:void 0)),void 0!==n?null===n?void g.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=g.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&g.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(P);if(o&&1===e.nodeType)for(;n=o[i++];)r=g.propFix[n]||n,g.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),Je={set:function(e,t,n){return!1===t?g.removeAttr(e,n):e.setAttribute(n,n),n}},g.each(g.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=et[t]||g.find.attr;et[t]=function(e,t,r){var i,o;return r||(o=et[t],et[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,et[t]=o),i}}));var tt=/^(?:input|select|textarea|button)$/i,nt=/^(?:a|area)$/i;g.fn.extend({prop:function(e,t){return F(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[g.propFix[e]||e]}))}}),g.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&g.isXMLDoc(e)||(t=g.propFix[t]||t,i=g.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");return t?parseInt(t,10):tt.test(e.nodeName)||nt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){g.propFix[this.toLowerCase()]=this}));var rt=/[\t\r\n\f]/g;function it(e){return e.getAttribute&&e.getAttribute("class")||""}g.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g.isFunction(e))return this.each((function(t){g(this).addClass(e.call(this,t,it(this)))}));if("string"==typeof e&&e)for(t=e.match(P)||[];n=this[u++];)if(i=it(n),r=1===n.nodeType&&(" "+i+" ").replace(rt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=g.trim(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g.isFunction(e))return this.each((function(t){g(this).removeClass(e.call(this,t,it(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(P)||[];n=this[u++];)if(i=it(n),r=1===n.nodeType&&(" "+i+" ").replace(rt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=g.trim(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each((function(n){g(this).toggleClass(e.call(this,n,it(this),t),t)})):this.each((function(){var t,r,i,o;if("string"===n)for(r=0,i=g(this),o=e.match(P)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=it(this))&&j.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":j.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+it(n)+" ").replace(rt," ").indexOf(t)>-1)return!0;return!1}});var ot=/\r/g,at=/[\x20\t\r\n\f]+/g;g.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=g.isFunction(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,g(this).val()):e)?i="":"number"==typeof i?i+="":g.isArray(i)&&(i=g.map(i,(function(e){return null==e?"":e+""}))),(t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=g.valHooks[i.type]||g.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ot,""):null==n?"":n:void 0}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:g.trim(g.text(e)).replace(at," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(d.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!g.nodeName(n.parentNode,"optgroup"))){if(t=g(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=g.makeArray(t),a=i.length;a--;)((r=i[a]).selected=g.inArray(g.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),g.each(["radio","checkbox"],(function(){g.valHooks[this]={set:function(e,t){if(g.isArray(t))return e.checked=g.inArray(g(e).val(),t)>-1}},d.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var st=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(e,t,r,i){var o,s,u,c,l,f,h,d=[r||a],v=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(s=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!st.test(v+g.event.triggered)&&(v.indexOf(".")>-1&&(m=v.split("."),v=m.shift(),m.sort()),l=v.indexOf(":")<0&&"on"+v,(e=e[g.expando]?e:new g.Event(v,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:g.makeArray(t,[e]),h=g.event.special[v]||{},i||!h.trigger||!1!==h.trigger.apply(r,t))){if(!i&&!h.noBubble&&!g.isWindow(r)){for(c=h.delegateType||v,st.test(c+v)||(s=s.parentNode);s;s=s.parentNode)d.push(s),u=s;u===(r.ownerDocument||a)&&d.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)e.type=o>1?c:h.bindType||v,(f=(j.get(s,"events")||{})[e.type]&&j.get(s,"handle"))&&f.apply(s,t),(f=l&&s[l])&&f.apply&&D(s)&&(e.result=f.apply(s,t),!1===e.result&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),t)||!D(r)||l&&g.isFunction(r[v])&&!g.isWindow(r)&&((u=r[l])&&(r[l]=null),g.event.triggered=v,r[v](),g.event.triggered=void 0,u&&(r[l]=u)),e.result}},simulate:function(e,t,n){var r=g.extend(new g.Event,n,{type:e,isSimulated:!0});g.event.trigger(r,null,t)}}),g.fn.extend({trigger:function(e,t){return this.each((function(){g.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return g.event.trigger(e,t,n,!0)}}),g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){g.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),d.focusin="onfocusin"in n,d.focusin||g.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=j.access(r,t);i||r.addEventListener(e,n,!0),j.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=j.access(r,t)-1;i?j.access(r,t,i):(r.removeEventListener(e,n,!0),j.remove(r,t))}}}));var ut=n.location,ct=g.now(),lt=/\?/;g.parseJSON=function(e){return JSON.parse(e+"")},g.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+e),t};var ft=/#.*$/,ht=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,dt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt={},mt={},yt="*/".concat("*"),bt=a.createElement("a");function wt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(P)||[];if(g.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function xt(e,t,n,r){var i={},o=e===mt;function a(s){var u;return i[s]=!0,g.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function kt(e,t){var n,r,i=g.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&g.extend(!0,e,r),e}bt.href=ut.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ut.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ut.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?kt(kt(e,g.ajaxSettings),t):kt(g.ajaxSettings,e)},ajaxPrefilter:wt(vt),ajaxTransport:wt(mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,u,c,l,f,h=g.ajaxSetup({},t),p=h.context||h,d=h.context&&(p.nodeType||p.jquery)?g(p):g.event,v=g.Deferred(),m=g.Callbacks("once memory"),y=h.statusCode||{},b={},w={},x=0,k="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=pt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=w[n]=w[n]||e,b[e]=t),this},overrideMimeType:function(e){return x||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)y[t]=[y[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||k;return r&&r.abort(t),S(0,t),this}};if(v.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,h.url=((e||h.url||ut.href)+"").replace(ft,"").replace(gt,ut.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=g.trim(h.dataType||"*").toLowerCase().match(P)||[""],null==h.crossDomain){c=a.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=bt.protocol+"//"+bt.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=g.param(h.data,h.traditional)),xt(vt,h,t,_),2===x)return _;for(f in(l=g.event&&h.global)&&0==g.active++&&g.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!dt.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(lt.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=ht.test(i)?i.replace(ht,"$1_="+ct++):i+(lt.test(i)?"&":"?")+"_="+ct++)),h.ifModified&&(g.lastModified[i]&&_.setRequestHeader("If-Modified-Since",g.lastModified[i]),g.etag[i]&&_.setRequestHeader("If-None-Match",g.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+yt+"; q=0.01":""):h.accepts["*"]),h.headers)_.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(p,_,h)||2===x))return _.abort();for(f in k="abort",{success:1,error:1,complete:1})_[f](h[f]);if(r=xt(mt,h,t,_)){if(_.readyState=1,l&&d.trigger("ajaxSend",[_,h]),2===x)return _;h.async&&h.timeout>0&&(u=n.setTimeout((function(){_.abort("timeout")}),h.timeout));try{x=1,r.send(b,S)}catch(e){if(!(x<2))throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,a,s){var c,f,b,w,k,S=t;2!==x&&(x=2,u&&n.clearTimeout(u),r=void 0,o=s||"",_.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(h,_,a)),w=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(h,w,_,c),c?(h.ifModified&&((k=_.getResponseHeader("Last-Modified"))&&(g.lastModified[i]=k),(k=_.getResponseHeader("etag"))&&(g.etag[i]=k)),204===e||"HEAD"===h.type?S="nocontent":304===e?S="notmodified":(S=w.state,f=w.data,c=!(b=w.error))):(b=S,!e&&S||(S="error",e<0&&(e=0))),_.status=e,_.statusText=(t||S)+"",c?v.resolveWith(p,[f,S,_]):v.rejectWith(p,[_,S,b]),_.statusCode(y),y=void 0,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[_,h,c?f:b]),m.fireWith(p,[_,S]),l&&(d.trigger("ajaxComplete",[_,h]),--g.active||g.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,n){return g.get(e,t,n,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],(function(e,t){g[t]=function(e,n,r,i){return g.isFunction(n)&&(i=i||r,r=n,n=void 0),g.ajax(g.extend({url:e,type:t,dataType:i,data:n,success:r},g.isPlainObject(e)&&e))}})),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(e){var t;return g.isFunction(e)?this.each((function(t){g(this).wrapAll(e.call(this,t))})):(this[0]&&(t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return g.isFunction(e)?this.each((function(t){g(this).wrapInner(e.call(this,t))})):this.each((function(){var t=g(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g.isFunction(e);return this.each((function(n){g(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)})).end()}}),g.expr.filters.hidden=function(e){return!g.expr.filters.visible(e)},g.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var _t=/%20/g,St=/\[\]$/,Et=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,r){var i;if(g.isArray(t))g.each(t,(function(t,i){n||St.test(e)?r(e,i):At(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==g.type(t))r(e,t);else for(i in t)At(e+"["+i+"]",t[i],n,r)}g.param=function(e,t){var n,r=[],i=function(e,t){t=g.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=g.ajaxSettings&&g.ajaxSettings.traditional),g.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,(function(){i(this.name,this.value)}));else for(n in e)At(n,e[n],t,i);return r.join("&").replace(_t,"+")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&Tt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!X.test(e))})).map((function(e,t){var n=g(this).val();return null==n?null:g.isArray(n)?g.map(n,(function(e){return{name:t.name,value:e.replace(Et,"\r\n")}})):{name:t.name,value:n.replace(Et,"\r\n")}})).get()}}),g.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Rt={0:200,1223:204},Ot=g.ajaxSettings.xhr();d.cors=!!Ot&&"withCredentials"in Ot,d.ajax=Ot=!!Ot,g.ajaxTransport((function(e){var t,r;if(d.cors||Ot&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Rt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){t&&r()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),g.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=g("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}}));var It=[],Lt=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=It.pop()||g.expando+"_"+ct++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",(function(e,t,r){var i,o,a,s=!1!==e.jsonp&&(Lt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=g.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Lt,"$1"+i):!1!==e.jsonp&&(e.url+=(lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||g.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always((function(){void 0===o?g(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,It.push(i)),a&&g.isFunction(o)&&o(a[0]),a=o=void 0})),"script"})),g.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=E.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie([e],t,i),i&&i.length&&g(i).remove(),g.merge([],r.childNodes))};var Mt=g.fn.load;function Pt(e){return g.isWindow(e)?e:9===e.nodeType&&e.defaultView}g.fn.load=function(e,t,n){if("string"!=typeof e&&Mt)return Mt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=g.trim(e.slice(s)),e=e.slice(0,s)),g.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&g.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?g("<div>").append(g.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){g.fn[t]=function(e){return this.on(t,e)}})),g.expr.filters.animated=function(e){return g.grep(g.timers,(function(t){return e===t.elem})).length},g.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=g.css(e,"position"),l=g(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=g.css(e,"top"),u=g.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g.isFunction(t)&&(t=t.call(e,n,g.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):l.css(f)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){g.offset.setOffset(this,e,t)}));var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,g.contains(t,r)?(i=r.getBoundingClientRect(),n=Pt(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===g.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),g.nodeName(e[0],"html")||(r=e.offset()),r.top+=g.css(e[0],"borderTopWidth",!0),r.left+=g.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-g.css(n,"marginTop",!0),left:t.left-r.left-g.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===g.css(e,"position");)e=e.offsetParent;return e||Ie}))}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;g.fn[e]=function(r){return F(this,(function(e,r,i){var o=Pt(e);if(void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),g.each(["top","left"],(function(e,t){g.cssHooks[t]=Me(d.pixelPosition,(function(e,n){if(n)return n=Le(e,t),Ae.test(n)?g(e).position()[t]+"px":n}))})),g.each({Height:"height",Width:"width"},(function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){g.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return F(this,(function(t,n,r){var i;return g.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?g.css(t,n,a):g.style(t,n,r,a)}),t,o?r:void 0,o,null)}}))})),g.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),g.fn.andSelf=g.fn.addBack,void 0===(r=function(){return g}.apply(t,[]))||(e.exports=r);var Nt=n.jQuery,Ft=n.$;return g.noConflict=function(e){return n.$===g&&(n.$=Ft),e&&n.jQuery===g&&(n.jQuery=Nt),g},i||(n.jQuery=n.$=g),g},"object"==typeof e.exports?e.exports=i.document?o(i,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return o(e)}:o(i)},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getBytes",value:function(e,t){throw new TypeError("Method getBytes is not implemented")}},{key:"getAll",value:function(){throw new TypeError("Method getAll is not implemented")}},{key:"getAllString",value:function(){throw new TypeError("Method getAllString is not implemented")}},{key:"getSize",value:function(){throw new TypeError("Method getSize is not implemented")}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i,o=n(70),a=(i=o)&&i.__esModule?i:{default:i};var s=a.default.Type({params:["itemType","lengthField"],resolve:function(e){this.itemType=e(this.itemType)},read:function(e){var t=this.binary.tell(),n=+e[this.lengthField];return this.binary.skip(n),this.binary.slice(t,t+n).read(this.itemType)}}),u=a.default.Template({setParams:function(e){this.baseType=["binary",e]},read:function(){return this.baseRead().read("string0")}}),c=a.default.Template({baseType:"uint64",read:function(){var e=this.baseRead(),t=+e;if(t<0||1+t==t)throw new RangeError("Number out of precise floating point range: "+e);return+e}}),l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bytesPerItem=n,this.jb=t,this.itemType=r,this.length=this.jb.view.byteLength/this.bytesPerItem}return r(e,[{key:"get",value:function(e){return this.jb.seek(e*this.bytesPerItem),this.jb.read(this.itemType)}},{key:"getAll",value:function(){return this.jb.seek(0),this.jb.read(["array",this.itemType,this.length])}}]),e}(),f=a.default.Type({params:["itemType","bytesPerItem","numItems"],read:function(){var e=this.toValue(this.numItems),t=this.toValue(this.bytesPerItem);if(void 0===e||void 0===t)throw"bytesPerItem and numItems must be set for lazyArray";var n=this.binary.tell(),r=e*t,i=this.binary.slice(n,n+r);return this.binary.skip(r),new l(i,t,this.itemType)}});e.exports={typeAtOffset:function(e,t){return a.default.Template({baseType:e,read:function(e){return 0==+e[t]?null:this.binary.read(this.baseType,+e[t])}})},sizedBlock:s,nullString:u,uint64native:c,lazyArray:f}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=n(88),a=i(n(86)),s=i(n(70)),u=i(n(51)),c=i(n(104)),l=i(n(52)),f=n(74),h=["M","I","D","N","S","H","P","=","X"],p=["=","A","C","M","G","R","S","V","T","W","Y","H","K","D","B","N"];function d(e){return e?"-":"+"}var g=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buffer=t,this.offset=n;var i=this._getJDataView();this.refID=i.getInt32(0),this.ref=r,this.pos=i.getInt32(4),this.l_seq=i.getInt32(16),this.cigarOps=this._getCigarOps(),this.name=this._getName()}return r(e,[{key:"toString",value:function(){var e=this.pos+this.l_seq;return this.ref+":"+(1+this.pos)+"-"+e}},{key:"_getJDataView",value:function(){var e=this.buffer;return new a.default(e,0,e.byteLength,!0)}},{key:"getKey",value:function(){return this.offset.toString()}},{key:"_getName",value:function(){var e=this._getJDataView(),t=e.getUint8(8);return e.seek(32),e.getString(t-1)}},{key:"getFlag",value:function(){return this._getJDataView().getUint16(14)}},{key:"getInferredInsertSize",value:function(){return this._getJDataView().getUint16(28)}},{key:"getStrand",value:function(){return d(this.getFlag()&c.default.Flags.READ_STRAND)}},{key:"getFull",value:function(){if(this._full)return this._full;var e=new s.default(this.buffer,c.default.TYPE_SET).read(c.default.ThickAlignment,0);return this._full=e,e}},{key:"getInterval",value:function(){return this._interval?this._interval:new l.default(this.ref,this.pos,this.pos+this.getReferenceLength()-1)}},{key:"intersects",value:function(e){return e.intersects(this.getInterval())}},{key:"_getCigarOps",value:function(){for(var e=this._getJDataView(),t=e.getUint8(8),n=e.getUint16(12),r=32+t,i=new Array(n),o=0;o<n;o++){var a=e.getUint32(r+4*o);i[o]={op:h[15&a],length:a>>4}}return i}},{key:"getQualityScores",value:function(){var e=this._getJDataView(),t=e.getUint8(8),n=e.getUint16(12),r=e.getInt32(16),i=32+t+4*n+Math.ceil(r/2);return e.getBytes(r,i,!0,!0)}},{key:"getCigarString",value:function(){return(0,o.makeCigarString)(this.cigarOps)}},{key:"getQualPhred",value:function(){return 0===(e=this.getQualityScores()).length?"":u.default.every(e,(function(e){return 255==e}))?"*":e.map((function(e){return String.fromCharCode(33+e)})).join("");var e}},{key:"getSequence",value:function(){if(this._seq)return this._seq;for(var e=this._getJDataView(),t=e.getUint8(8),n=e.getUint16(12),r=e.getInt32(16),i=32+t+4*n,o=new Array(r),a=Math.ceil(r/2),s=0;s<a;s++){var u=e.getUint8(i+s);o[2*s]=p[u>>4],2*s+1<r&&(o[2*s+1]=p[15&u])}var c=o.join("");return this._seq=c,c}},{key:"getReferenceLength",value:function(){return e.referenceLengthFromOps(this.cigarOps)}},{key:"getCoverage",value:function(e){return{range:this.getInterval(),opInfo:(0,f.getOpInfo)(this,e)}}},{key:"getMateProperties",value:function(){var e=this._getJDataView(),t=e.getUint16(14);if(!(t&c.default.Flags.READ_PAIRED))return null;var n=e.getInt32(20),r=e.getInt32(24),i=d(t&c.default.Flags.MATE_STRAND);return{ref:n==this.refID?this.ref:null,pos:r,strand:i}}},{key:"debugString",value:function(){var e=this.getFull();return"Name: "+this.name+"\nFLAG: "+this.getFlag()+"\nPosition: "+this.getInterval().toString()+"\nCIGAR: "+this.getCigarString()+"\nSequence: "+e.seq+"\nQuality:  "+this.getQualPhred()+"\nTags: "+JSON.stringify(e.auxiliary,null,"  ")+"\n    "}}],[{key:"referenceLengthFromOps",value:function(e){var t=0;return e.forEach((function(e){var n=e.op,r=e.length;switch(n){case"M":case"D":case"N":case"=":case"X":t+=r}})),t}}]),e}();e.exports=g},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=n(88),a=n(74),s=i(n(52)),u=i(n(146)),c={ALIGNMENT_MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",CLIP_SOFT:"S",CLIP_HARD:"H",PAD:"P",SEQUENCE_MATCH:"=",SEQUENCE_MISMATCH:"X"},l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.alignment=t,this.pos=parseInt(t.alignment.position.position),this.ref=t.alignment.position.referenceName,this.name=t.fragmentName,this.cigarOps=t.alignment.cigar.map((function(e){var t=e.operation,n=e.operationLength;return{op:c[t],length:parseInt(n)}})),this._interval=new s.default(this.ref,this.pos,this.pos+this.getReferenceLength()-1)}return r(e,[{key:"getKey",value:function(){return e.keyFromGA4GHResponse(this.alignment)}},{key:"getStrand",value:function(){return"NEG_STRAND"==this.alignment.alignment.position.strand?"-":"+"}},{key:"getQualityScores",value:function(){return this.alignment.alignedQuality}},{key:"getSequence",value:function(){return this.alignment.alignedSequence}},{key:"getInterval",value:function(){return this._interval}},{key:"intersects",value:function(e){return e.intersects(this.getInterval())}},{key:"getReferenceLength",value:function(){return u.default.referenceLengthFromOps(this.cigarOps)}},{key:"getMateProperties",value:function(){var e=this.alignment.nextMatePosition;return e&&{ref:e.referenceName,pos:parseInt(e.position),strand:"NEG_STRAND"==e.strand?"-":"+"}}},{key:"getInferredInsertSize",value:function(){var e=this.getMateProperties();if(e&&e.ref==this.ref){var t=this._interval.start(),n=this._interval.stop(),r=e.pos,i=r+this.getSequence().length;return Math.max(n,i)-Math.min(t,r)}return 0}},{key:"debugString",value:function(){return"Name: "+this.name+"\n    Position: "+this.pos.toString()+"\n    CIGAR: "+(0,o.makeCigarString)(this.cigarOps)+"\n    Sequence: "+this.alignment.alignedSequence+"\n    Quality:  "+this.alignment.alignedQuality+" "}},{key:"getCoverage",value:function(e){return{range:this.getInterval(),opInfo:(0,a.getOpInfo)(this,e)}}}],[{key:"keyFromGA4GHResponse",value:function(e){return e.fragmentName+":"+e.readNumber}}]),e}();e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(51)),a=(i(n(52)),i(n(58)),i(n(55))),s=(i(n(81)),function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.groups={},this.refToPileup={},this.referenceSource=t}return r(e,[{key:"pileupForRef",value:function(e){if(e in this.refToPileup)return this.refToPileup[e];var t=a.default.altContigName(e);return t in this.refToPileup?this.refToPileup[t]:[]}},{key:"pileupHeightForRef",value:function(e){var t=this.pileupForRef(e);return t?t.length:0}},{key:"getGroupsOverlapping",value:function(e){return o.default.filter(this.groups,(function(t){return t.span.intersects(e)}))}},{key:"anyGroupsOverlapping",value:function(e){for(var t in this.groups){if(this.groups[t].span.intersects(e))return!0}return!1}}]),e}());e.exports=s},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(54))},function(e,t,n){var r=n(318),i=n(83);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(320),i=n(152),o=n(63),a=n(110),s=n(153),u=n(154),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),h=!n&&!l&&!f&&u(e),p=n||l||f||h,d=p?r(e.length,String):[],g=d.length;for(var v in e)!t&&!c.call(e,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||d.push(v);return d}},function(e,t,n){var r=n(321),i=n(66),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(323),i=n(112),o=n(113),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(71),i=n(75);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(358),i=n(66);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(359),i=n(362),o=n(363);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(e);if(h&&u.get(t))return h==t;var p=-1,d=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var v=e[p],m=t[p];if(a)var y=c?a(m,v,p,t,e,u):a(v,m,p,e,t,u);if(void 0!==y){if(y)continue;d=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,a,u)))return g.push(t)}))){d=!1;break}}else if(v!==m&&!s(v,m,n,a,u)){d=!1;break}}return u.delete(e),u.delete(t),d}},function(e,t,n){var r=n(65).Uint8Array;e.exports=r},function(e,t,n){var r=n(164),i=n(120),o=n(83);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(165),i=n(63);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(75);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(170),i=n(96);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(63),i=n(121),o=n(376),a=n(379);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(172),i=n(117),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(394);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(151),i=n(397),o=n(90);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){var r=n(165),i=n(115),o=n(120),a=n(166),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(54))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t,n,r){var i;i=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function i(e,t){return e(t={exports:{}},t.exports),t.exports}var o=function(e){return e&&e.Math==Math&&e},a=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof e&&e)||Function("return this")(),s=function(e){try{return!!e()}catch(e){return!0}},u=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,f={f:l&&!c.call({1:2},1)?function(e){var t=l(this,e);return!!t&&t.enumerable}:c},h=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},p={}.toString,d=function(e){return p.call(e).slice(8,-1)},g="".split,v=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==d(e)?g.call(e,""):Object(e)}:Object,m=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},y=function(e){return v(m(e))},b=function(e){return"object"==typeof e?null!==e:"function"==typeof e},w=function(e,t){if(!b(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!b(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},x={}.hasOwnProperty,k=function(e,t){return x.call(e,t)},_=a.document,S=b(_)&&b(_.createElement),E=function(e){return S?_.createElement(e):{}},C=!u&&!s((function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a})),T=Object.getOwnPropertyDescriptor,A={f:u?T:function(e,t){if(e=y(e),t=w(t,!0),C)try{return T(e,t)}catch(e){}if(k(e,t))return h(!f.f.call(e,t),e[t])}},R=function(e){if(!b(e))throw TypeError(String(e)+" is not an object");return e},O=Object.defineProperty,I={f:u?O:function(e,t,n){if(R(e),t=w(t,!0),R(n),C)try{return O(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},L=u?function(e,t,n){return I.f(e,t,h(1,n))}:function(e,t,n){return e[t]=n,e},M=function(e,t){try{L(a,e,t)}catch(n){a[e]=t}return t},P=a["__core-js_shared__"]||M("__core-js_shared__",{}),N=Function.toString;"function"!=typeof P.inspectSource&&(P.inspectSource=function(e){return N.call(e)});var F,D,B,j=P.inspectSource,z=a.WeakMap,H="function"==typeof z&&/native code/.test(j(z)),U=i((function(e){(e.exports=function(e,t){return P[e]||(P[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})})),q=0,G=Math.random(),$=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++q+G).toString(36)},V=U("keys"),W=function(e){return V[e]||(V[e]=$(e))},Z={},X=a.WeakMap;if(H){var Y=new X,K=Y.get,Q=Y.has,J=Y.set;F=function(e,t){return J.call(Y,e,t),t},D=function(e){return K.call(Y,e)||{}},B=function(e){return Q.call(Y,e)}}else{var ee=W("state");Z[ee]=!0,F=function(e,t){return L(e,ee,t),t},D=function(e){return k(e,ee)?e[ee]:{}},B=function(e){return k(e,ee)}}var te,ne,re={set:F,get:D,has:B,enforce:function(e){return B(e)?D(e):F(e,{})},getterFor:function(e){return function(t){var n;if(!b(t)||(n=D(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ie=i((function(e){var t=re.get,n=re.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var s=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||k(i,"name")||L(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==a?(s?!c&&e[t]&&(u=!0):delete e[t],u?e[t]=i:L(e,t,i)):u?e[t]=i:M(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||j(this)}))})),oe=a,ae=function(e){return"function"==typeof e?e:void 0},se=function(e,t){return arguments.length<2?ae(oe[e])||ae(a[e]):oe[e]&&oe[e][t]||a[e]&&a[e][t]},ue=Math.ceil,ce=Math.floor,le=function(e){return isNaN(e=+e)?0:(e>0?ce:ue)(e)},fe=Math.min,he=function(e){return e>0?fe(le(e),9007199254740991):0},pe=Math.max,de=Math.min,ge=function(e,t){var n=le(e);return n<0?pe(n+t,0):de(n,t)},ve=function(e){return function(t,n,r){var i,o=y(t),a=he(o.length),s=ge(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},me={includes:ve(!0),indexOf:ve(!1)},ye=me.indexOf,be=function(e,t){var n,r=y(e),i=0,o=[];for(n in r)!k(Z,n)&&k(r,n)&&o.push(n);for(;t.length>i;)k(r,n=t[i++])&&(~ye(o,n)||o.push(n));return o},we=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xe=we.concat("length","prototype"),ke={f:Object.getOwnPropertyNames||function(e){return be(e,xe)}},_e={f:Object.getOwnPropertySymbols},Se=se("Reflect","ownKeys")||function(e){var t=ke.f(R(e)),n=_e.f;return n?t.concat(n(e)):t},Ee=function(e,t){for(var n=Se(t),r=I.f,i=A.f,o=0;o<n.length;o++){var a=n[o];k(e,a)||r(e,a,i(t,a))}},Ce=/#|\.prototype\./,Te=function(e,t){var n=Re[Ae(e)];return n==Ie||n!=Oe&&("function"==typeof t?s(t):!!t)},Ae=Te.normalize=function(e){return String(e).replace(Ce,".").toLowerCase()},Re=Te.data={},Oe=Te.NATIVE="N",Ie=Te.POLYFILL="P",Le=Te,Me=A.f,Pe=function(e,t){var n,r,i,o,s,u=e.target,c=e.global,l=e.stat;if(n=c?a:l?a[u]||M(u,{}):(a[u]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(s=Me(n,r))&&s.value:n[r],!Le(c?r:u+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Ee(o,i)}(e.sham||i&&i.sham)&&L(o,"sham",!0),ie(n,r,o,e)}},Ne=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Fe=function(e,t,n){if(Ne(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},De=function(e){return Object(m(e))},Be=Array.isArray||function(e){return"Array"==d(e)},je=!!Object.getOwnPropertySymbols&&!s((function(){return!String(Symbol())})),ze=je&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,He=U("wks"),Ue=a.Symbol,qe=ze?Ue:Ue&&Ue.withoutSetter||$,Ge=function(e){return k(He,e)||(je&&k(Ue,e)?He[e]=Ue[e]:He[e]=qe("Symbol."+e)),He[e]},$e=Ge("species"),Ve=function(e,t){var n;return Be(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Be(n.prototype)?b(n)&&null===(n=n[$e])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},We=[].push,Ze=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=5==e||o;return function(s,u,c,l){for(var f,h,p=De(s),d=v(p),g=Fe(u,c,3),m=he(d.length),y=0,b=l||Ve,w=t?b(s,m):n?b(s,0):void 0;m>y;y++)if((a||y in d)&&(h=g(f=d[y],y,p),e))if(t)w[y]=h;else if(h)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:We.call(w,f)}else if(i)return!1;return o?-1:r||i?i:w}},Xe={forEach:Ze(0),map:Ze(1),filter:Ze(2),some:Ze(3),every:Ze(4),find:Ze(5),findIndex:Ze(6)},Ye=se("navigator","userAgent")||"",Ke=a.process,Qe=Ke&&Ke.versions,Je=Qe&&Qe.v8;Je?ne=(te=Je.split("."))[0]+te[1]:Ye&&(!(te=Ye.match(/Edge\/(\d+)/))||te[1]>=74)&&(te=Ye.match(/Chrome\/(\d+)/))&&(ne=te[1]);var et=ne&&+ne,tt=Ge("species"),nt=function(e){return et>=51||!s((function(){var t=[];return(t.constructor={})[tt]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},rt=Object.defineProperty,it={},ot=function(e){throw e},at=function(e,t){if(k(it,e))return it[e];t||(t={});var n=[][e],r=!!k(t,"ACCESSORS")&&t.ACCESSORS,i=k(t,0)?t[0]:ot,o=k(t,1)?t[1]:void 0;return it[e]=!!n&&!s((function(){if(r&&!u)return!0;var e={length:-1};r?rt(e,1,{enumerable:!0,get:ot}):e[1]=1,n.call(e,i,o)}))},st=Xe.filter,ut=nt("filter"),ct=at("filter");Pe({target:"Array",proto:!0,forced:!ut||!ct},{filter:function(e){return st(this,e,arguments.length>1?arguments[1]:void 0)}});var lt=function(e,t){var n=[][e];return!!n&&s((function(){n.call(null,t||function(){throw 1},1)}))},ft=Xe.forEach,ht=lt("forEach"),pt=at("forEach"),dt=ht&&pt?[].forEach:function(e){return ft(this,e,arguments.length>1?arguments[1]:void 0)};Pe({target:"Array",proto:!0,forced:[].forEach!=dt},{forEach:dt});var gt=me.indexOf,vt=[].indexOf,mt=!!vt&&1/[1].indexOf(1,-0)<0,yt=lt("indexOf"),bt=at("indexOf",{ACCESSORS:!0,1:0});Pe({target:"Array",proto:!0,forced:mt||!yt||!bt},{indexOf:function(e){return mt?vt.apply(this,arguments)||0:gt(this,e,arguments.length>1?arguments[1]:void 0)}});var wt=Math.min,xt=[].lastIndexOf,kt=!!xt&&1/[1].lastIndexOf(1,-0)<0,_t=lt("lastIndexOf"),St=at("indexOf",{ACCESSORS:!0,1:0}),Et=!kt&&_t&&St?xt:function(e){if(kt)return xt.apply(this,arguments)||0;var t=y(this),n=he(t.length),r=n-1;for(arguments.length>1&&(r=wt(r,le(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1};Pe({target:"Array",proto:!0,forced:Et!==[].lastIndexOf},{lastIndexOf:Et});var Ct,Tt=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return R(n),function(e){if(!b(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),At=function(e,t,n){var r,i;return Tt&&"function"==typeof(r=t.constructor)&&r!==n&&b(i=r.prototype)&&i!==n.prototype&&Tt(e,i),e},Rt=Object.keys||function(e){return be(e,we)},Ot=u?Object.defineProperties:function(e,t){R(e);for(var n,r=Rt(t),i=r.length,o=0;i>o;)I.f(e,n=r[o++],t[n]);return e},It=se("document","documentElement"),Lt=W("IE_PROTO"),Mt=function(){},Pt=function(e){return"<script>"+e+"<\/script>"},Nt=function(){try{Ct=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Nt=Ct?function(e){e.write(Pt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Ct):((t=E("iframe")).style.display="none",It.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Pt("document.F=Object")),e.close(),e.F);for(var n=we.length;n--;)delete Nt.prototype[we[n]];return Nt()};Z[Lt]=!0;var Ft=Object.create||function(e,t){var n;return null!==e?(Mt.prototype=R(e),n=new Mt,Mt.prototype=null,n[Lt]=e):n=Nt(),void 0===t?n:Ot(n,t)},Dt="\t\n\v\f\r \u2028\u2029\ufeff",Bt="["+Dt+"]",jt=RegExp("^"+Bt+Bt+"*"),zt=RegExp(Bt+Bt+"*$"),Ht=function(e){return function(t){var n=String(m(t));return 1&e&&(n=n.replace(jt,"")),2&e&&(n=n.replace(zt,"")),n}},Ut={start:Ht(1),end:Ht(2),trim:Ht(3)},qt=ke.f,Gt=A.f,$t=I.f,Vt=Ut.trim,Wt=a.Number,Zt=Wt.prototype,Xt="Number"==d(Ft(Zt)),Yt=function(e){var t,n,r,i,o,a,s,u,c=w(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=Vt(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(Le("Number",!Wt(" 0o1")||!Wt("0b1")||Wt("+0x1"))){for(var Kt,Qt=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof Qt&&(Xt?s((function(){Zt.valueOf.call(n)})):"Number"!=d(n))?At(new Wt(Yt(t)),n,Qt):Yt(t)},Jt=u?qt(Wt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),en=0;Jt.length>en;en++)k(Wt,Kt=Jt[en])&&!k(Qt,Kt)&&$t(Qt,Kt,Gt(Wt,Kt));Qt.prototype=Zt,Zt.constructor=Qt,ie(a,"Number",Qt)}Pe({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var tn=function(){var e=R(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function nn(e,t){return RegExp(e,t)}var rn={UNSUPPORTED_Y:s((function(){var e=nn("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:s((function(){var e=nn("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},on=RegExp.prototype.exec,an=String.prototype.replace,sn=on,un=function(){var e=/a/,t=/b*/g;return on.call(e,"a"),on.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),cn=rn.UNSUPPORTED_Y||rn.BROKEN_CARET,ln=void 0!==/()??/.exec("")[1];(un||ln||cn)&&(sn=function(e){var t,n,r,i,o=this,a=cn&&o.sticky,s=tn.call(o),u=o.source,c=0,l=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),n=new RegExp("^(?:"+u+")",s)),ln&&(n=new RegExp("^"+u+"$(?!\\s)",s)),un&&(t=o.lastIndex),r=on.call(a?n:o,l),a?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:un&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),ln&&r&&r.length>1&&an.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var fn=sn;Pe({target:"RegExp",proto:!0,forced:/./.exec!==fn},{exec:fn});var hn,pn=Ge("match"),dn=function(e){var t;return b(e)&&(void 0!==(t=e[pn])?!!t:"RegExp"==d(e))},gn=function(e){if(dn(e))throw TypeError("The method doesn't accept regular expressions");return e},vn=Ge("match"),mn=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[vn]=!1,"/./"[e](t)}catch(e){}}return!1},yn=A.f,bn="".endsWith,wn=Math.min,xn=mn("endsWith"),kn=!(xn||(hn=yn(String.prototype,"endsWith"),!hn||hn.writable));Pe({target:"String",proto:!0,forced:!kn&&!xn},{endsWith:function(e){var t=String(m(this));gn(e);var n=arguments.length>1?arguments[1]:void 0,r=he(t.length),i=void 0===n?r:wn(he(n),r),o=String(e);return bn?bn.call(t,o,i):t.slice(i-o.length,i)===o}});var _n=Ge("species"),Sn=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),En="$0"==="a".replace(/./,"$0"),Cn=Ge("replace"),Tn=!!/./[Cn]&&""===/./[Cn]("a","$0"),An=!s((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Rn=function(e,t,n,r){var i=Ge(e),o=!s((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[_n]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||"replace"===e&&(!Sn||!En||Tn)||"split"===e&&!An){var u=/./[i],c=n(i,""[e],(function(e,t,n,r,i){return t.exec===fn?o&&!i?{done:!0,value:u.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:En,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Tn}),l=c[0],f=c[1];ie(String.prototype,e,l),ie(RegExp.prototype,i,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)})}r&&L(RegExp.prototype[i],"sham",!0)},On=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},In=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==d(e))throw TypeError("RegExp#exec called on incompatible receiver");return fn.call(e,t)};Rn("search",1,(function(e,t,n){return[function(t){var n=m(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=R(e),o=String(this),a=i.lastIndex;On(a,0)||(i.lastIndex=0);var s=In(i,o);return On(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var Ln=Ge("species"),Mn=function(e,t){var n,r=R(e).constructor;return void 0===r||null==(n=R(r)[Ln])?t:Ne(n)},Pn=function(e){return function(t,n){var r,i,o=String(m(t)),a=le(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Nn={codeAt:Pn(!1),charAt:Pn(!0)},Fn=Nn.charAt,Dn=function(e,t,n){return t+(n?Fn(e,t).length:1)},Bn=[].push,jn=Math.min,zn=!s((function(){return!RegExp(4294967295,"y")}));Rn("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(m(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!dn(e))return t.call(r,e,i);for(var o,a,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,c+"g");(o=fn.call(f,r))&&!((a=f.lastIndex)>l&&(u.push(r.slice(l,o.index)),o.length>1&&o.index<r.length&&Bn.apply(u,o.slice(1)),s=o[0].length,l=a,u.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===r.length?!s&&f.test("")||u.push(""):u.push(r.slice(l)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=m(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=R(e),s=String(this),u=Mn(a,RegExp),c=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(zn?"y":"g"),f=new u(zn?a:"^(?:"+a.source+")",l),h=void 0===i?4294967295:i>>>0;if(0===h)return[];if(0===s.length)return null===In(f,s)?[s]:[];for(var p=0,d=0,g=[];d<s.length;){f.lastIndex=zn?d:0;var v,m=In(f,zn?s:s.slice(d));if(null===m||(v=jn(he(f.lastIndex+(zn?0:d)),s.length))===p)d=Dn(s,d,c);else{if(g.push(s.slice(p,d)),g.length===h)return g;for(var y=1;y<=m.length-1;y++)if(g.push(m[y]),g.length===h)return g;d=p=v}}return g.push(s.slice(p)),g}]}),!zn);var Hn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var Un in Hn){var qn=a[Un],Gn=qn&&qn.prototype;if(Gn&&Gn.forEach!==dt)try{L(Gn,"forEach",dt)}catch(e){Gn.forEach=dt}}function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Wn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Vn(o,r,i,a,s,"next",e)}function s(e){Vn(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t,n){return t&&Xn(e.prototype,t),n&&Xn(e,n),e}function Kn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function tr(e,t,n){return(tr=er()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Jn(i,n.prototype),i}).apply(null,arguments)}function nr(e){var t="function"==typeof Map?new Map:void 0;return(nr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return tr(e,arguments,Qn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Jn(r,e)})(e)}function rr(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ir(e){var t=er();return function(){var n,r=Qn(e);if(t){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rr(this,n)}}function or(e,t){return sr(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||cr(e,t)||fr()}function ar(e){return function(e){if(Array.isArray(e))return lr(e)}(e)||ur(e)||cr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(e){if(Array.isArray(e))return e}function ur(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function cr(e,t){if(e){if("string"==typeof e)return lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(e,t):void 0}}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=cr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}i((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var c={};function l(){}function f(){}function h(){}var p={};p[i]=function(){return this};var d=Object.getPrototypeOf,g=d&&d(d(_([])));g&&g!==t&&n.call(g,i)&&(p=g);var v=h.prototype=l.prototype=Object.create(p);function m(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e){var t;this._invoke=function(r,i){function o(){return new Promise((function(t,o){!function t(r,i,o,a){var s=u(e[r],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return t("throw",e,o,a)}))}a(s.arg)}(r,i,t,o)}))}return t=t?t.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=v.constructor=h,h.constructor=f,h[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},m(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i){var o=new y(s(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},m(v),v[a]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));var pr=ke.f,dr={}.toString,gr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vr={f:function(e){return gr&&"[object Window]"==dr.call(e)?function(e){try{return pr(e)}catch(e){return gr.slice()}}(e):pr(y(e))}},mr={f:Ge},yr=I.f,br=function(e){var t=oe.Symbol||(oe.Symbol={});k(t,e)||yr(t,e,{value:mr.f(e)})},wr=I.f,xr=Ge("toStringTag"),kr=function(e,t,n){e&&!k(e=n?e:e.prototype,xr)&&wr(e,xr,{configurable:!0,value:t})},_r=Xe.forEach,Sr=W("hidden"),Er=Ge("toPrimitive"),Cr=re.set,Tr=re.getterFor("Symbol"),Ar=Object.prototype,Rr=a.Symbol,Or=se("JSON","stringify"),Ir=A.f,Lr=I.f,Mr=vr.f,Pr=f.f,Nr=U("symbols"),Fr=U("op-symbols"),Dr=U("string-to-symbol-registry"),Br=U("symbol-to-string-registry"),jr=U("wks"),zr=a.QObject,Hr=!zr||!zr.prototype||!zr.prototype.findChild,Ur=u&&s((function(){return 7!=Ft(Lr({},"a",{get:function(){return Lr(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Ir(Ar,t);r&&delete Ar[t],Lr(e,t,n),r&&e!==Ar&&Lr(Ar,t,r)}:Lr,qr=function(e,t){var n=Nr[e]=Ft(Rr.prototype);return Cr(n,{type:"Symbol",tag:e,description:t}),u||(n.description=t),n},Gr=ze?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Rr},$r=function(e,t,n){e===Ar&&$r(Fr,t,n),R(e);var r=w(t,!0);return R(n),k(Nr,r)?(n.enumerable?(k(e,Sr)&&e[Sr][r]&&(e[Sr][r]=!1),n=Ft(n,{enumerable:h(0,!1)})):(k(e,Sr)||Lr(e,Sr,h(1,{})),e[Sr][r]=!0),Ur(e,r,n)):Lr(e,r,n)},Vr=function(e,t){R(e);var n=y(t),r=Rt(n).concat(Yr(n));return _r(r,(function(t){u&&!Wr.call(n,t)||$r(e,t,n[t])})),e},Wr=function(e){var t=w(e,!0),n=Pr.call(this,t);return!(this===Ar&&k(Nr,t)&&!k(Fr,t))&&(!(n||!k(this,t)||!k(Nr,t)||k(this,Sr)&&this[Sr][t])||n)},Zr=function(e,t){var n=y(e),r=w(t,!0);if(n!==Ar||!k(Nr,r)||k(Fr,r)){var i=Ir(n,r);return!i||!k(Nr,r)||k(n,Sr)&&n[Sr][r]||(i.enumerable=!0),i}},Xr=function(e){var t=Mr(y(e)),n=[];return _r(t,(function(e){k(Nr,e)||k(Z,e)||n.push(e)})),n},Yr=function(e){var t=e===Ar,n=Mr(t?Fr:y(e)),r=[];return _r(n,(function(e){!k(Nr,e)||t&&!k(Ar,e)||r.push(Nr[e])})),r};if(je||(ie((Rr=function(){if(this instanceof Rr)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=$(e),n=function(e){this===Ar&&n.call(Fr,e),k(this,Sr)&&k(this[Sr],t)&&(this[Sr][t]=!1),Ur(this,t,h(1,e))};return u&&Hr&&Ur(Ar,t,{configurable:!0,set:n}),qr(t,e)}).prototype,"toString",(function(){return Tr(this).tag})),ie(Rr,"withoutSetter",(function(e){return qr($(e),e)})),f.f=Wr,I.f=$r,A.f=Zr,ke.f=vr.f=Xr,_e.f=Yr,mr.f=function(e){return qr(Ge(e),e)},u&&(Lr(Rr.prototype,"description",{configurable:!0,get:function(){return Tr(this).description}}),ie(Ar,"propertyIsEnumerable",Wr,{unsafe:!0}))),Pe({global:!0,wrap:!0,forced:!je,sham:!je},{Symbol:Rr}),_r(Rt(jr),(function(e){br(e)})),Pe({target:"Symbol",stat:!0,forced:!je},{for:function(e){var t=String(e);if(k(Dr,t))return Dr[t];var n=Rr(t);return Dr[t]=n,Br[n]=t,n},keyFor:function(e){if(!Gr(e))throw TypeError(e+" is not a symbol");if(k(Br,e))return Br[e]},useSetter:function(){Hr=!0},useSimple:function(){Hr=!1}}),Pe({target:"Object",stat:!0,forced:!je,sham:!u},{create:function(e,t){return void 0===t?Ft(e):Vr(Ft(e),t)},defineProperty:$r,defineProperties:Vr,getOwnPropertyDescriptor:Zr}),Pe({target:"Object",stat:!0,forced:!je},{getOwnPropertyNames:Xr,getOwnPropertySymbols:Yr}),Pe({target:"Object",stat:!0,forced:s((function(){_e.f(1)}))},{getOwnPropertySymbols:function(e){return _e.f(De(e))}}),Or){var Kr=!je||s((function(){var e=Rr();return"[null]"!=Or([e])||"{}"!=Or({a:e})||"{}"!=Or(Object(e))}));Pe({target:"JSON",stat:!0,forced:Kr},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(b(t)||void 0!==e)&&!Gr(e))return Be(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Gr(t))return t}),i[1]=t,Or.apply(null,i)}})}Rr.prototype[Er]||L(Rr.prototype,Er,Rr.prototype.valueOf),kr(Rr,"Symbol"),Z[Sr]=!0;var Qr=I.f,Jr=a.Symbol;if(u&&"function"==typeof Jr&&(!("description"in Jr.prototype)||void 0!==Jr().description)){var ei={},ti=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof ti?new Jr(e):void 0===e?Jr():Jr(e);return""===e&&(ei[t]=!0),t};Ee(ti,Jr);var ni=ti.prototype=Jr.prototype;ni.constructor=ti;var ri=ni.toString,ii="Symbol(test)"==String(Jr("test")),oi=/^Symbol\((.*)\)[^)]+$/;Qr(ni,"description",{configurable:!0,get:function(){var e=b(this)?this.valueOf():this,t=ri.call(e);if(k(ei,e))return"";var n=ii?t.slice(7,-1):t.replace(oi,"$1");return""===n?void 0:n}}),Pe({global:!0,forced:!0},{Symbol:ti})}br("iterator");var ai=function(e,t,n){var r=w(t);r in e?I.f(e,r,h(0,n)):e[r]=n},si=Ge("isConcatSpreadable"),ui=et>=51||!s((function(){var e=[];return e[si]=!1,e.concat()[0]!==e})),ci=nt("concat"),li=function(e){if(!b(e))return!1;var t=e[si];return void 0!==t?!!t:Be(e)};Pe({target:"Array",proto:!0,forced:!ui||!ci},{concat:function(e){var t,n,r,i,o,a=De(this),s=Ve(a,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],li(o)){if(u+(i=he(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,u++)n in o&&ai(s,u,o[n])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");ai(s,u++,o)}return s.length=u,s}});var fi=Ge("unscopables"),hi=Array.prototype;null==hi[fi]&&I.f(hi,fi,{configurable:!0,value:Ft(null)});var pi=function(e){hi[fi][e]=!0},di=Xe.find,gi=!0,vi=at("find");"find"in[]&&Array(1).find((function(){gi=!1})),Pe({target:"Array",proto:!0,forced:gi||!vi},{find:function(e){return di(this,e,arguments.length>1?arguments[1]:void 0)}}),pi("find");var mi,yi,bi,wi={},xi=!s((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),ki=W("IE_PROTO"),_i=Object.prototype,Si=xi?Object.getPrototypeOf:function(e){return e=De(e),k(e,ki)?e[ki]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?_i:null},Ei=Ge("iterator"),Ci=!1;[].keys&&("next"in(bi=[].keys())?(yi=Si(Si(bi)))!==Object.prototype&&(mi=yi):Ci=!0),null==mi&&(mi={}),k(mi,Ei)||L(mi,Ei,(function(){return this}));var Ti={IteratorPrototype:mi,BUGGY_SAFARI_ITERATORS:Ci},Ai=Ti.IteratorPrototype,Ri=function(){return this},Oi=function(e,t,n){var r=t+" Iterator";return e.prototype=Ft(Ai,{next:h(1,n)}),kr(e,r,!1),wi[r]=Ri,e},Ii=Ti.IteratorPrototype,Li=Ti.BUGGY_SAFARI_ITERATORS,Mi=Ge("iterator"),Pi=function(){return this},Ni=function(e,t,n,r,i,o,a){Oi(n,t,r);var s,u,c,l=function(e){if(e===i&&g)return g;if(!Li&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",h=!1,p=e.prototype,d=p[Mi]||p["@@iterator"]||i&&p[i],g=!Li&&d||l(i),v="Array"==t&&p.entries||d;if(v&&(s=Si(v.call(new e)),Ii!==Object.prototype&&s.next&&(Si(s)!==Ii&&(Tt?Tt(s,Ii):"function"!=typeof s[Mi]&&L(s,Mi,Pi)),kr(s,f,!0))),"values"==i&&d&&"values"!==d.name&&(h=!0,g=function(){return d.call(this)}),p[Mi]!==g&&L(p,Mi,g),wi[t]=g,i)if(u={values:l("values"),keys:o?g:l("keys"),entries:l("entries")},a)for(c in u)!Li&&!h&&c in p||ie(p,c,u[c]);else Pe({target:t,proto:!0,forced:Li||h},u);return u},Fi=re.set,Di=re.getterFor("Array Iterator"),Bi=Ni(Array,"Array",(function(e,t){Fi(this,{type:"Array Iterator",target:y(e),index:0,kind:t})}),(function(){var e=Di(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");wi.Arguments=wi.Array,pi("keys"),pi("values"),pi("entries");var ji=[].join,zi=v!=Object,Hi=lt("join",",");Pe({target:"Array",proto:!0,forced:zi||!Hi},{join:function(e){return ji.call(y(this),void 0===e?",":e)}});var Ui=Xe.map,qi=nt("map"),Gi=at("map");Pe({target:"Array",proto:!0,forced:!qi||!Gi},{map:function(e){return Ui(this,e,arguments.length>1?arguments[1]:void 0)}});var $i=nt("slice"),Vi=at("slice",{ACCESSORS:!0,0:0,1:2}),Wi=Ge("species"),Zi=[].slice,Xi=Math.max;Pe({target:"Array",proto:!0,forced:!$i||!Vi},{slice:function(e,t){var n,r,i,o=y(this),a=he(o.length),s=ge(e,a),u=ge(void 0===t?a:t,a);if(Be(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Be(n.prototype)?b(n)&&null===(n=n[Wi])&&(n=void 0):n=void 0,n===Array||void 0===n))return Zi.call(o,s,u);for(r=new(void 0===n?Array:n)(Xi(u-s,0)),i=0;s<u;s++,i++)s in o&&ai(r,i,o[s]);return r.length=i,r}});var Yi=nt("splice"),Ki=at("splice",{ACCESSORS:!0,0:0,1:2}),Qi=Math.max,Ji=Math.min;Pe({target:"Array",proto:!0,forced:!Yi||!Ki},{splice:function(e,t){var n,r,i,o,a,s,u=De(this),c=he(u.length),l=ge(e,c),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=c-l):(n=f-2,r=Ji(Qi(le(t),0),c-l)),c+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=Ve(u,r),o=0;o<r;o++)(a=l+o)in u&&ai(i,o,u[a]);if(i.length=r,n<r){for(o=l;o<c-r;o++)s=o+n,(a=o+r)in u?u[s]=u[a]:delete u[s];for(o=c;o>c-r+n;o--)delete u[o-1]}else if(n>r)for(o=c-r;o>l;o--)s=o+n-1,(a=o+r-1)in u?u[s]=u[a]:delete u[s];for(o=0;o<n;o++)u[o+l]=arguments[o+2];return u.length=c-r+n,i}});var eo=I.f,to=Function.prototype,no=to.toString,ro=/^\s*function ([^ (]*)/;!u||"name"in to||eo(to,"name",{configurable:!0,get:function(){try{return no.call(this).match(ro)[1]}catch(e){return""}}});var io=s((function(){Si(1)}));Pe({target:"Object",stat:!0,forced:io,sham:!xi},{getPrototypeOf:function(e){return Si(De(e))}});var oo={};oo[Ge("toStringTag")]="z";var ao="[object z]"===String(oo),so=Ge("toStringTag"),uo="Arguments"==d(function(){return arguments}()),co=ao?d:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),so))?n:uo?d(t):"Object"==(r=d(t))&&"function"==typeof t.callee?"Arguments":r},lo=ao?{}.toString:function(){return"[object "+co(this)+"]"};ao||ie(Object.prototype,"toString",lo,{unsafe:!0});var fo=Ge("species"),ho=function(e){var t=se(e),n=I.f;u&&t&&!t[fo]&&n(t,fo,{configurable:!0,get:function(){return this}})},po=I.f,go=ke.f,vo=re.set,mo=Ge("match"),yo=a.RegExp,bo=yo.prototype,wo=/a/g,xo=/a/g,ko=new yo(wo)!==wo,_o=rn.UNSUPPORTED_Y;if(u&&Le("RegExp",!ko||_o||s((function(){return xo[mo]=!1,yo(wo)!=wo||yo(xo)==xo||"/a/i"!=yo(wo,"i")})))){for(var So=function(e,t){var n,r=this instanceof So,i=dn(e),o=void 0===t;if(!r&&i&&e.constructor===So&&o)return e;ko?i&&!o&&(e=e.source):e instanceof So&&(o&&(t=tn.call(e)),e=e.source),_o&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=At(ko?new yo(e,t):yo(e,t),r?this:bo,So);return _o&&n&&vo(a,{sticky:n}),a},Eo=function(e){e in So||po(So,e,{configurable:!0,get:function(){return yo[e]},set:function(t){yo[e]=t}})},Co=go(yo),To=0;Co.length>To;)Eo(Co[To++]);bo.constructor=So,So.prototype=bo,ie(a,"RegExp",So)}ho("RegExp");var Ao=RegExp.prototype,Ro=Ao.toString,Oo=s((function(){return"/a/b"!=Ro.call({source:"a",flags:"b"})})),Io="toString"!=Ro.name;(Oo||Io)&&ie(RegExp.prototype,"toString",(function(){var e=R(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Ao)?tn.call(e):n)}),{unsafe:!0});var Lo=Nn.charAt,Mo=re.set,Po=re.getterFor("String Iterator");Ni(String,"String",(function(e){Mo(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Po(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Lo(n,r),t.index+=e.length,{value:e,done:!1})})),Rn("match",1,(function(e,t,n){return[function(t){var n=m(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=R(e),o=String(this);if(!i.global)return In(i,o);var a=i.unicode;i.lastIndex=0;for(var s,u=[],c=0;null!==(s=In(i,o));){var l=String(s[0]);u[c]=l,""===l&&(i.lastIndex=Dn(o,he(i.lastIndex),a)),c++}return 0===c?null:u}]}));var No=Math.max,Fo=Math.min,Do=Math.floor,Bo=/\$([$&'`]|\d\d?|<[^>]*>)/g,jo=/\$([$&'`]|\d\d?)/g;Rn("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=m(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var u=n(t,e,this,r);if(u.done)return u.value}var c=R(e),l=String(this),f="function"==typeof r;f||(r=String(r));var h=c.global;if(h){var p=c.unicode;c.lastIndex=0}for(var d=[];;){var g=In(c,l);if(null===g)break;if(d.push(g),!h)break;""===String(g[0])&&(c.lastIndex=Dn(l,he(c.lastIndex),p))}for(var v,m="",y=0,b=0;b<d.length;b++){g=d[b];for(var w=String(g[0]),x=No(Fo(le(g.index),l.length),0),k=[],_=1;_<g.length;_++)k.push(void 0===(v=g[_])?v:String(v));var S=g.groups;if(f){var E=[w].concat(k,x,l);void 0!==S&&E.push(S);var C=String(r.apply(void 0,E))}else C=s(w,l,x,k,S,r);x>=y&&(m+=l.slice(y,x)+C,y=x+w.length)}return m+l.slice(y)}];function s(e,n,r,i,o,a){var s=r+e.length,u=i.length,c=jo;return void 0!==o&&(o=De(o),c=Bo),t.call(a,c,(function(t,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":c=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>u){var f=Do(l/10);return 0===f?t:f<=u?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):t}c=i[l-1]}return void 0===c?"":c}))}}));var zo=Ge("iterator"),Ho=Ge("toStringTag"),Uo=Bi.values;for(var qo in Hn){var Go=a[qo],$o=Go&&Go.prototype;if($o){if($o[zo]!==Uo)try{L($o,zo,Uo)}catch(e){$o[zo]=Uo}if($o[Ho]||L($o,Ho,qo),Hn[qo])for(var Vo in Bi)if($o[Vo]!==Bi[Vo])try{L($o,Vo,Bi[Vo])}catch(e){$o[Vo]=Bi[Vo]}}}
/*!
	 * jQuery JavaScript Library v3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2018-01-20T17:24Z
	 */var Wo=[],Zo=window.document,Xo=Object.getPrototypeOf,Yo=Wo.slice,Ko=Wo.concat,Qo=Wo.push,Jo=Wo.indexOf,ea={},ta=ea.toString,na=ea.hasOwnProperty,ra=na.toString,ia=ra.call(Object),oa={},aa=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},sa=function(e){return null!=e&&e===e.window},ua={type:!0,src:!0,noModule:!0};function ca(e,t,n){var r,i=(t=t||Zo).createElement("script");if(i.text=e,n)for(r in ua)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function la(e){return null==e?e+"":"object"===$n(e)||"function"==typeof e?ea[ta.call(e)]||"object":$n(e)}var fa="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",ha=function e(t,n){return new e.fn.init(t,n)},pa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function da(e){var t=!!e&&"length"in e&&e.length,n=la(e);return!aa(e)&&!sa(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}ha.fn=ha.prototype={jquery:fa,constructor:ha,length:0,toArray:function(){return Yo.call(this)},get:function(e){return null==e?Yo.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ha.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ha.each(this,e)},map:function(e){return this.pushStack(ha.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(Yo.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Qo,sort:Wo.sort,splice:Wo.splice},ha.extend=ha.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"===$n(a)||aa(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(ha.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&ha.isPlainObject(n)?n:{},a[t]=ha.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},ha.extend({expando:"jQuery"+(fa+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ta.call(e)||(t=Xo(e))&&("function"!=typeof(n=na.call(t,"constructor")&&t.constructor)||ra.call(n)!==ia))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){ca(e)},each:function(e,t){var n,r=0;if(da(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pa,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(da(Object(e))?ha.merge(n,"string"==typeof e?[e]:e):Qo.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:Jo.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(da(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return Ko.apply([],a)},guid:1,support:oa}),"function"==typeof Symbol&&(ha.fn[Symbol.iterator]=Wo[Symbol.iterator]),ha.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){ea["[object "+t+"]"]=t.toLowerCase()}));var ga=
/*!
	* Sizzle CSS Selector Engine v2.3.3
	* https://sizzlejs.com/
	*
	* Copyright jQuery Foundation and other contributors
	* Released under the MIT license
	* http://jquery.org/license
	*
	* Date: 2016-08-08
	*/
function(e){var t,n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,b,w="sizzle"+1*new Date,x=e.document,k=0,_=0,S=ae(),E=ae(),C=ae(),T=function(e,t){return e===t&&(f=!0),0},A={}.hasOwnProperty,R=[],O=R.pop,I=R.push,L=R.push,M=R.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",D="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+F+"*("+D+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+F+"*\\]",j=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",z=new RegExp(F+"+","g"),H=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),U=new RegExp("^"+F+"*,"+F+"*"),q=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),G=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),$=new RegExp(j),V=new RegExp("^"+D+"$"),W={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){h()},ie=ye((function(e){return!0===e.disabled&&("form"in e||"label"in e)}),{dir:"parentNode",next:"legend"});try{L.apply(R=M.call(x.childNodes),x.childNodes),R[x.childNodes.length].nodeType}catch(e){L={apply:R.length?function(e,t){I.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,i){var o,s,c,l,f,d,m,y=t&&t.ownerDocument,k=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==k&&9!==k&&11!==k)return r;if(!i&&((t?t.ownerDocument||t:x)!==p&&h(t),t=t||p,g)){if(11!==k&&(f=K.exec(e)))if(o=f[1]){if(9===k){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return r.push(c),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!C[e+" "]&&(!v||!v.test(e))){if(1!==k)y=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(te,ne):t.setAttribute("id",l=w),s=(d=a(e)).length;s--;)d[s]="#"+l+" "+me(d[s]);m=d.join(","),y=Q.test(e)&&ge(t.parentNode)||t}if(m)try{return L.apply(r,y.querySelectorAll(m)),r}catch(e){}finally{l===w&&t.removeAttribute("id")}}}return u(e.replace(H,"$1"),t,r,i)}function ae(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[w]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function de(e){return se((function(t){return t=+t,se((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:x;return a!==p&&9===a.nodeType&&a.documentElement?(d=(p=a).documentElement,g=!o(p),x!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Y.test(p.getElementsByClassName),n.getById=ue((function(e){return d.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=Y.test(p.querySelectorAll))&&(ue((function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+F+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+w+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",j)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===x&&b(x,e)?-1:t===p||t.ownerDocument===x&&b(x,t)?1:l?P(l,e)-P(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:l?P(l,e)-P(l,t):0;if(i===o)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?le(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(G,"='$1']"),n.matchesSelector&&g&&!C[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],o=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(T),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&S(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,h,p,d,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(v){if(o){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&y){for(b=(p=(c=(l=(f=(h=v)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===k&&c[1])&&c[2],h=p&&v.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||d.pop();)if(1===h.nodeType&&++b&&h===t){l[e]=[k,p,b];break}}else if(y&&(b=p=(c=(l=(f=(h=t)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===k&&c[1]),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||d.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++b||(y&&((l=(f=h[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]=[k,b]),h!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=P(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:se((function(e){var t=[],n=[],r=s(e.replace(H,"$1"));return r[w]?se((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:se((function(e){return function(t){return oe(e,t).length>0}})),contains:se((function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:se((function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de((function(){return[0]})),last:de((function(e,t){return[t-1]})),eq:de((function(e,t,n){return[n<0?n+t:n]})),even:de((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:de((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:de((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:de((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ve(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=_++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var c,l,f,h=[k,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(l=(f=t[w]||(t[w]={}))[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===k&&c[1]===s)return h[2]=c[2];if(l[o]=h,h[2]=e(t,n,u))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function xe(e,t,n,r,i,o){return r&&!r[w]&&(r=xe(r)),i&&!i[w]&&(i=xe(i,o)),se((function(o,a,s,u){var c,l,f,h=[],p=[],d=a.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:we(g,h,e,s,u),m=n?i||(o?e:d||r)?[]:a:v;if(n&&n(v,m,s,u),r)for(c=we(m,p),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(m[p[l]]=!(v[p[l]]=f));if(o){if(i||e){if(i){for(c=[],l=m.length;l--;)(f=m[l])&&c.push(v[l]=f);i(null,m=[],c,u)}for(l=m.length;l--;)(f=m[l])&&(c=i?P(o,f):h[l])>-1&&(o[c]=!(a[c]=f))}}else m=we(m===a?m.splice(d,m.length):m),i?i(null,a,m,u):L.apply(a,m)}))}function ke(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=ye((function(e){return e===t}),s,!0),f=ye((function(e){return P(t,e)>-1}),s,!0),h=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])h=[ye(be(h),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[w]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return xe(u>1&&be(h),u>1&&me(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(H,"$1"),n,u<i&&ke(e.slice(u,i)),i<o&&ke(e=e.slice(i)),i<o&&me(e))}h.push(n)}return be(h)}return ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,c,l=E[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(i=U.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=q.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(H," ")}),s=s.slice(n.length)),r.filter)!(i=W[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):E(e,u).slice(0)},s=oe.compile=function(e,t){var n,i=[],o=[],s=C[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=ke(t[n]))[w]?i.push(s):o.push(s);(s=C(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var f,d,v,m=0,y="0",b=o&&[],w=[],x=c,_=o||i&&r.find.TAG("*",l),S=k+=null==x?1:Math.random()||.1,E=_.length;for(l&&(c=a===p||a||l);y!==E&&null!=(f=_[y]);y++){if(i&&f){for(d=0,a||f.ownerDocument===p||(h(f),s=!g);v=e[d++];)if(v(f,a||p,s)){u.push(f);break}l&&(k=S)}n&&((f=!v&&f)&&m--,o&&b.push(f))}if(m+=y,n&&y!==m){for(d=0;v=t[d++];)v(b,w,a,s);if(o){if(m>0)for(;y--;)b[y]||w[y]||(w[y]=O.call(u));w=we(w)}L.apply(u,w),l&&!o&&w.length>0&&m+t.length>1&&oe.uniqueSort(u)}return l&&(k=S,c=x),b};return n?se(o):o}(o,i))).selector=e}return s},u=oe.select=function(e,t,n,i){var o,u,c,l,f,h="function"==typeof e&&e,p=!i&&a(e=h.selector||e);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(J,ee),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=W.needsContext.test(e)?0:u.length;o--&&(c=u[o],!r.relative[l=c.type]);)if((f=r.find[l])&&(i=f(c.matches[0].replace(J,ee),Q.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&me(u)))return L.apply(n,i),n;break}}return(h||s(e,p))(i,t,!g,n,!t||Q.test(e)&&ge(t.parentNode)||t),n},n.sortStable=w.split("").sort(T).join("")===w,n.detectDuplicates=!!f,h(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||ce(N,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),oe}(window);ha.find=ga,(ha.expr=ga.selectors)[":"]=ha.expr.pseudos,ha.uniqueSort=ha.unique=ga.uniqueSort,ha.text=ga.getText,ha.isXMLDoc=ga.isXML,ha.contains=ga.contains,ha.escapeSelector=ga.escape;var va=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ha(e).is(n))break;r.push(e)}return r},ma=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ya=ha.expr.match.needsContext;function ba(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var wa=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function xa(e,t,n){return aa(t)?ha.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?ha.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?ha.grep(e,(function(e){return Jo.call(t,e)>-1!==n})):ha.filter(t,e,n)}ha.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ha.find.matchesSelector(r,e)?[r]:[]:ha.find.matches(e,ha.grep(t,(function(e){return 1===e.nodeType})))},ha.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ha(e).filter((function(){for(t=0;t<r;t++)if(ha.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)ha.find(e,i[t],n);return r>1?ha.uniqueSort(n):n},filter:function(e){return this.pushStack(xa(this,e||[],!1))},not:function(e){return this.pushStack(xa(this,e||[],!0))},is:function(e){return!!xa(this,"string"==typeof e&&ya.test(e)?ha(e):e||[],!1).length}});var ka,_a=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ha.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||ka,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:_a.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ha?t[0]:t,ha.merge(this,ha.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Zo,!0)),wa.test(r[1])&&ha.isPlainObject(t))for(r in t)aa(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=Zo.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):aa(e)?void 0!==n.ready?n.ready(e):e(ha):ha.makeArray(e,this)}).prototype=ha.fn,ka=ha(Zo);var Sa=/^(?:parents|prev(?:Until|All))/,Ea={children:!0,contents:!0,next:!0,prev:!0};function Ca(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}ha.fn.extend({has:function(e){var t=ha(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(ha.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ha(e);if(!ya.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ha.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ha.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Jo.call(ha(e),this[0]):Jo.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ha.uniqueSort(ha.merge(this.get(),ha(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ha.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return va(e,"parentNode")},parentsUntil:function(e,t,n){return va(e,"parentNode",n)},next:function(e){return Ca(e,"nextSibling")},prev:function(e){return Ca(e,"previousSibling")},nextAll:function(e){return va(e,"nextSibling")},prevAll:function(e){return va(e,"previousSibling")},nextUntil:function(e,t,n){return va(e,"nextSibling",n)},prevUntil:function(e,t,n){return va(e,"previousSibling",n)},siblings:function(e){return ma((e.parentNode||{}).firstChild,e)},children:function(e){return ma(e.firstChild)},contents:function(e){return ba(e,"iframe")?e.contentDocument:(ba(e,"template")&&(e=e.content||e),ha.merge([],e.childNodes))}},(function(e,t){ha.fn[e]=function(n,r){var i=ha.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ha.filter(r,i)),this.length>1&&(Ea[e]||ha.uniqueSort(i),Sa.test(e)&&i.reverse()),this.pushStack(i)}}));var Ta=/[^\x20\t\r\n\f]+/g;function Aa(e){return e}function Ra(e){throw e}function Oa(e,t,n,r){var i;try{e&&aa(i=e.promise)?i.call(e).done(t).fail(n):e&&aa(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}ha.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return ha.each(e.match(Ta)||[],(function(e,n){t[n]=!0})),t}(e):ha.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){ha.each(n,(function(n,r){aa(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==la(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return ha.each(arguments,(function(e,t){for(var n;(n=ha.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?ha.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ha.extend({Deferred:function(e){var t=[["notify","progress",ha.Callbacks("memory"),ha.Callbacks("memory"),2],["resolve","done",ha.Callbacks("once memory"),ha.Callbacks("once memory"),0,"resolved"],["reject","fail",ha.Callbacks("once memory"),ha.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return ha.Deferred((function(n){ha.each(t,(function(t,r){var o=aa(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&aa(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var i=0;function o(e,t,n,r){return function(){var a=this,s=arguments,u=function(){var u,c;if(!(e<i)){if((u=n.apply(a,s))===t.promise())throw new TypeError("Thenable self-resolution");c=u&&("object"===$n(u)||"function"==typeof u)&&u.then,aa(c)?r?c.call(u,o(i,t,Aa,r),o(i,t,Ra,r)):(i++,c.call(u,o(i,t,Aa,r),o(i,t,Ra,r),o(i,t,Aa,t.notifyWith))):(n!==Aa&&(a=void 0,s=[u]),(r||t.resolveWith)(a,s))}},c=r?u:function(){try{u()}catch(r){ha.Deferred.exceptionHook&&ha.Deferred.exceptionHook(r,c.stackTrace),e+1>=i&&(n!==Ra&&(a=void 0,s=[r]),t.rejectWith(a,s))}};e?c():(ha.Deferred.getStackHook&&(c.stackTrace=ha.Deferred.getStackHook()),window.setTimeout(c))}}return ha.Deferred((function(i){t[0][3].add(o(0,i,aa(r)?r:Aa,i.notifyWith)),t[1][3].add(o(0,i,aa(e)?e:Aa)),t[2][3].add(o(0,i,aa(n)?n:Ra))})).promise()},promise:function(e){return null!=e?ha.extend(e,r):r}},i={};return ha.each(t,(function(e,o){var a=o[2],s=o[5];r[o[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(o[3].fire),i[o[0]]=function(){return i[o[0]+"With"](this===i?void 0:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=Yo.call(arguments),o=ha.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?Yo.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(Oa(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||aa(i[n]&&i[n].then)))return o.then();for(;n--;)Oa(i[n],a(n),o.reject);return o.promise()}});var Ia=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ha.Deferred.exceptionHook=function(e,t){window.console&&window.console.warn&&e&&Ia.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ha.readyException=function(e){window.setTimeout((function(){throw e}))};var La=ha.Deferred();function Ma(){Zo.removeEventListener("DOMContentLoaded",Ma),window.removeEventListener("load",Ma),ha.ready()}ha.fn.ready=function(e){return La.then(e).catch((function(e){ha.readyException(e)})),this},ha.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ha.readyWait:ha.isReady)||(ha.isReady=!0,!0!==e&&--ha.readyWait>0||La.resolveWith(Zo,[ha]))}}),ha.ready.then=La.then,"complete"===Zo.readyState||"loading"!==Zo.readyState&&!Zo.documentElement.doScroll?window.setTimeout(ha.ready):(Zo.addEventListener("DOMContentLoaded",Ma),window.addEventListener("load",Ma));var Pa=function e(t,n,r,i,o,a,s){var u=0,c=t.length,l=null==r;if("object"===la(r))for(u in o=!0,r)e(t,n,u,r[u],!0,a,s);else if(void 0!==i&&(o=!0,aa(i)||(s=!0),l&&(s?(n.call(t,i),n=null):(l=n,n=function(e,t,n){return l.call(ha(e),n)})),n))for(;u<c;u++)n(t[u],r,s?i:i.call(t[u],u,n(t[u],r)));return o?t:l?n.call(t):c?n(t[0],r):a},Na=/^-ms-/,Fa=/-([a-z])/g;function Da(e,t){return t.toUpperCase()}function Ba(e){return e.replace(Na,"ms-").replace(Fa,Da)}var ja=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function za(){this.expando=ha.expando+za.uid++}za.uid=1,za.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ja(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Ba(t)]=n;else for(r in t)i[Ba(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Ba(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Ba):(t=Ba(t))in r?[t]:t.match(Ta)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||ha.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ha.isEmptyObject(t)}};var Ha=new za,Ua=new za,qa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ga=/[A-Z]/g;function $a(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ga,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:qa.test(e)?JSON.parse(e):e)}(n)}catch(e){}Ua.set(e,t,n)}else n=void 0;return n}ha.extend({hasData:function(e){return Ua.hasData(e)||Ha.hasData(e)},data:function(e,t,n){return Ua.access(e,t,n)},removeData:function(e,t){Ua.remove(e,t)},_data:function(e,t,n){return Ha.access(e,t,n)},_removeData:function(e,t){Ha.remove(e,t)}}),ha.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Ua.get(o),1===o.nodeType&&!Ha.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Ba(r.slice(5)),$a(o,r,i[r]));Ha.set(o,"hasDataAttrs",!0)}return i}return"object"===$n(e)?this.each((function(){Ua.set(this,e)})):Pa(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=Ua.get(o,e))?n:void 0!==(n=$a(o,e))?n:void 0;this.each((function(){Ua.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Ua.remove(this,e)}))}}),ha.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Ha.get(e,t),n&&(!r||Array.isArray(n)?r=Ha.access(e,t,ha.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=ha.queue(e,t=t||"fx"),r=n.length,i=n.shift(),o=ha._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){ha.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ha.get(e,n)||Ha.access(e,n,{empty:ha.Callbacks("once memory").add((function(){Ha.remove(e,[t+"queue",n])}))})}}),ha.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ha.queue(this[0],e):void 0===t?this:this.each((function(){var n=ha.queue(this,e,t);ha._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ha.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){ha.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ha.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Ha.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Va=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wa=new RegExp("^(?:([+-])=|)("+Va+")([a-z%]*)$","i"),Za=["Top","Right","Bottom","Left"],Xa=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ha.contains(e.ownerDocument,e)&&"none"===ha.css(e,"display")},Ya=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},Ka={};function Qa(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ka[r];return i||(t=n.body.appendChild(n.createElement(r)),i=ha.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ka[r]=i,i)}function Ja(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Ha.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Xa(r)&&(i[o]=Qa(r))):"none"!==n&&(i[o]="none",Ha.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}ha.fn.extend({show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Xa(this)?ha(this).show():ha(this).hide()}))}});var es=/^(?:checkbox|radio)$/i,ts=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ns=/^$|^module$|\/(?:java|ecma)script/i,rs={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function is(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&ba(e,t)?ha.merge([e],n):n}function os(e,t){for(var n=0,r=e.length;n<r;n++)Ha.set(e[n],"globalEval",!t||Ha.get(t[n],"globalEval"))}rs.optgroup=rs.option,rs.tbody=rs.tfoot=rs.colgroup=rs.caption=rs.thead,rs.th=rs.td;var as,ss,us=/<|&#?\w+;/;function cs(e,t,n,r,i){for(var o,a,s,u,c,l,f=t.createDocumentFragment(),h=[],p=0,d=e.length;p<d;p++)if((o=e[p])||0===o)if("object"===la(o))ha.merge(h,o.nodeType?[o]:o);else if(us.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(ts.exec(o)||["",""])[1].toLowerCase(),u=rs[s]||rs._default,a.innerHTML=u[1]+ha.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;ha.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(t.createTextNode(o));for(f.textContent="",p=0;o=h[p++];)if(r&&ha.inArray(o,r)>-1)i&&i.push(o);else if(c=ha.contains(o.ownerDocument,o),a=is(f.appendChild(o),"script"),c&&os(a),n)for(l=0;o=a[l++];)ns.test(o.type||"")&&n.push(o);return f}as=Zo.createDocumentFragment().appendChild(Zo.createElement("div")),(ss=Zo.createElement("input")).setAttribute("type","radio"),ss.setAttribute("checked","checked"),ss.setAttribute("name","t"),as.appendChild(ss),oa.checkClone=as.cloneNode(!0).cloneNode(!0).lastChild.checked,as.innerHTML="<textarea>x</textarea>",oa.noCloneChecked=!!as.cloneNode(!0).lastChild.defaultValue;var ls=Zo.documentElement,fs=/^key/,hs=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ps=/^([^.]*)(?:\.(.+)|)/;function ds(){return!0}function gs(){return!1}function vs(){try{return Zo.activeElement}catch(e){}}function ms(e,t,n,r,i,o){var a,s;if("object"===$n(t)){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)ms(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=gs;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ha().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ha.guid++)),e.each((function(){ha.event.add(this,t,i,r,n)}))}ha.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,f,h,p,d,g,v=Ha.get(e);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&ha.find.matchesSelector(ls,i),n.guid||(n.guid=ha.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(t){return ha.event.triggered!==t.type?ha.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(Ta)||[""]).length;c--;)p=g=(s=ps.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p&&(f=ha.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=ha.event.special[p]||{},l=ha.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ha.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||((h=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,d,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),ha.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,h,p,d,g,v=Ha.hasData(e)&&Ha.get(e);if(v&&(u=v.events)){for(c=(t=(t||"").match(Ta)||[""]).length;c--;)if(p=g=(s=ps.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p){for(f=ha.event.special[p]||{},h=u[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(e,l));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(e,d,v.handle)||ha.removeEvent(e,p,v.handle),delete u[p])}else for(p in u)ha.event.remove(e,p+t[c],n,r,!0);ha.isEmptyObject(u)&&Ha.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=ha.event.fix(e),u=new Array(arguments.length),c=(Ha.get(this,"events")||{})[s.type]||[],l=ha.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=ha.event.handlers.call(this,s,c),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((ha.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?ha(i,this).index(c)>-1:ha.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(ha.Event.prototype,e,{enumerable:!0,configurable:!0,get:aa(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ha.expando]?e:new ha.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==vs()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===vs()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ba(this,"input"))return this.click(),!1},_default:function(e){return ba(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ha.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},(ha.Event=function(e,t){if(!(this instanceof ha.Event))return new ha.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ds:gs,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ha.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ha.expando]=!0}).prototype={constructor:ha.Event,isDefaultPrevented:gs,isPropagationStopped:gs,isImmediatePropagationStopped:gs,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ds,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ds,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ds,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ha.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&fs.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&hs.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ha.event.addProp),ha.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){ha.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ha.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),ha.fn.extend({on:function(e,t,n,r){return ms(this,e,t,n,r)},one:function(e,t,n,r){return ms(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ha(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===$n(e)){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=gs),this.each((function(){ha.event.remove(this,e,n,t)}))}});var ys=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,bs=/<script|<style|<link/i,ws=/checked\s*(?:[^=]|=\s*.checked.)/i,xs=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ks(e,t){return ba(e,"table")&&ba(11!==t.nodeType?t:t.firstChild,"tr")&&ha(e).children("tbody")[0]||e}function _s(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ss(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Es(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(Ha.hasData(e)&&(o=Ha.access(e),a=Ha.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)ha.event.add(t,i,c[i][n]);Ua.hasData(e)&&(s=Ua.access(e),u=ha.extend({},s),Ua.set(t,u))}}function Cs(e,t){var n=t.nodeName.toLowerCase();"input"===n&&es.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ts(e,t,n,r){t=Ko.apply([],t);var i,o,a,s,u,c,l=0,f=e.length,h=f-1,p=t[0],d=aa(p);if(d||f>1&&"string"==typeof p&&!oa.checkClone&&ws.test(p))return e.each((function(i){var o=e.eq(i);d&&(t[0]=p.call(this,i,o.html())),Ts(o,t,n,r)}));if(f&&(o=(i=cs(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=ha.map(is(i,"script"),_s)).length;l<f;l++)u=i,l!==h&&(u=ha.clone(u,!0,!0),s&&ha.merge(a,is(u,"script"))),n.call(e[l],u,l);if(s)for(c=a[a.length-1].ownerDocument,ha.map(a,Ss),l=0;l<s;l++)u=a[l],ns.test(u.type||"")&&!Ha.access(u,"globalEval")&&ha.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?ha._evalUrl&&ha._evalUrl(u.src):ca(u.textContent.replace(xs,""),c,u))}return e}function As(e,t,n){for(var r,i=t?ha.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ha.cleanData(is(r)),r.parentNode&&(n&&ha.contains(r.ownerDocument,r)&&os(is(r,"script")),r.parentNode.removeChild(r));return e}ha.extend({htmlPrefilter:function(e){return e.replace(ys,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=ha.contains(e.ownerDocument,e);if(!(oa.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ha.isXMLDoc(e)))for(a=is(s),r=0,i=(o=is(e)).length;r<i;r++)Cs(o[r],a[r]);if(t)if(n)for(o=o||is(e),a=a||is(s),r=0,i=o.length;r<i;r++)Es(o[r],a[r]);else Es(e,s);return(a=is(s,"script")).length>0&&os(a,!u&&is(e,"script")),s},cleanData:function(e){for(var t,n,r,i=ha.event.special,o=0;void 0!==(n=e[o]);o++)if(ja(n)){if(t=n[Ha.expando]){if(t.events)for(r in t.events)i[r]?ha.event.remove(n,r):ha.removeEvent(n,r,t.handle);n[Ha.expando]=void 0}n[Ua.expando]&&(n[Ua.expando]=void 0)}}}),ha.fn.extend({detach:function(e){return As(this,e,!0)},remove:function(e){return As(this,e)},text:function(e){return Pa(this,(function(e){return void 0===e?ha.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ts(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ks(this,e).appendChild(e)}))},prepend:function(){return Ts(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ks(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ts(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ts(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ha.cleanData(is(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return ha.clone(this,e,t)}))},html:function(e){return Pa(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!bs.test(e)&&!rs[(ts.exec(e)||["",""])[1].toLowerCase()]){e=ha.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ha.cleanData(is(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ts(this,arguments,(function(t){var n=this.parentNode;ha.inArray(this,e)<0&&(ha.cleanData(is(this)),n&&n.replaceChild(t,this))}),e)}}),ha.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){ha.fn[e]=function(e){for(var n,r=[],i=ha(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),ha(i[a])[t](n),Qo.apply(r,n.get());return this.pushStack(r)}}));var Rs=new RegExp("^("+Va+")(?!px)[a-z%]+$","i"),Os=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)},Is=new RegExp(Za.join("|"),"i");function Ls(e,t,n){var r,i,o,a,s=e.style;return(n=n||Os(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ha.contains(e.ownerDocument,e)||(a=ha.style(e,t)),!oa.pixelBoxStyles()&&Rs.test(a)&&Is.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ms(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ls.appendChild(s).appendChild(u);var e=window.getComputedStyle(u);n="1%"!==e.top,a=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),r=36===t(e.width),u.style.position="absolute",i=36===u.offsetWidth||"absolute",ls.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s=Zo.createElement("div"),u=Zo.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",oa.clearCloneStyle="content-box"===u.style.backgroundClip,ha.extend(oa,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),i}}))}();var Ps=/^(none|table(?!-c[ea]).+)/,Ns=/^--/,Fs={position:"absolute",visibility:"hidden",display:"block"},Ds={letterSpacing:"0",fontWeight:"400"},Bs=["Webkit","Moz","ms"],js=Zo.createElement("div").style;function zs(e){var t=ha.cssProps[e];return t||(t=ha.cssProps[e]=function(e){if(e in js)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Bs.length;n--;)if((e=Bs[n]+t)in js)return e}(e)||e),t}function Hs(e,t,n){var r=Wa.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Us(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=ha.css(e,n+Za[a],!0,i)),r?("content"===n&&(u-=ha.css(e,"padding"+Za[a],!0,i)),"margin"!==n&&(u-=ha.css(e,"border"+Za[a]+"Width",!0,i))):(u+=ha.css(e,"padding"+Za[a],!0,i),"padding"!==n?u+=ha.css(e,"border"+Za[a]+"Width",!0,i):s+=ha.css(e,"border"+Za[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function qs(e,t,n){var r=Os(e),i=Ls(e,t,r),o="border-box"===ha.css(e,"boxSizing",!1,r),a=o;if(Rs.test(i)){if(!n)return i;i="auto"}return a=a&&(oa.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===ha.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Us(e,t,n||(o?"border":"content"),a,r,i)+"px"}ha.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ls(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Ba(t),u=Ns.test(t),c=e.style;if(u||(t=zs(s)),a=ha.cssHooks[t]||ha.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"===(o=$n(n))&&(i=Wa.exec(n))&&i[1]&&(n=function(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ha.css(e,t,"")},u=s(),c=n&&n[3]||(ha.cssNumber[t]?"":"px"),l=(ha.cssNumber[t]||"px"!==c&&+u)&&Wa.exec(ha.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)ha.style(e,t,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;ha.style(e,t,(l*=2)+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(ha.cssNumber[s]?"":"px")),oa.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=Ba(t);return Ns.test(t)||(t=zs(s)),(a=ha.cssHooks[t]||ha.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ls(e,t,r)),"normal"===i&&t in Ds&&(i=Ds[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ha.each(["height","width"],(function(e,t){ha.cssHooks[t]={get:function(e,n,r){if(n)return!Ps.test(ha.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?qs(e,t,r):Ya(e,Fs,(function(){return qs(e,t,r)}))},set:function(e,n,r){var i,o=Os(e),a="border-box"===ha.css(e,"boxSizing",!1,o),s=r&&Us(e,t,r,a,o);return a&&oa.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Us(e,t,"border",!1,o)-.5)),s&&(i=Wa.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=ha.css(e,t)),Hs(0,n,s)}}})),ha.cssHooks.marginLeft=Ms(oa.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ls(e,"marginLeft"))||e.getBoundingClientRect().left-Ya(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),ha.each({margin:"",padding:"",border:"Width"},(function(e,t){ha.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Za[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(ha.cssHooks[e+t].set=Hs)})),ha.fn.extend({css:function(e,t){return Pa(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Os(e),i=t.length;a<i;a++)o[t[a]]=ha.css(e,t[a],!1,r);return o}return void 0!==n?ha.style(e,t,n):ha.css(e,t)}),e,t,arguments.length>1)}}),ha.fn.delay=function(e,t){return e=ha.fx&&ha.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(r)}}))},function(){var e=Zo.createElement("input"),t=Zo.createElement("select").appendChild(Zo.createElement("option"));e.type="checkbox",oa.checkOn=""!==e.value,oa.optSelected=t.selected,(e=Zo.createElement("input")).value="t",e.type="radio",oa.radioValue="t"===e.value}();var Gs,$s=ha.expr.attrHandle;ha.fn.extend({attr:function(e,t){return Pa(this,ha.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){ha.removeAttr(this,e)}))}}),ha.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ha.prop(e,t,n):(1===o&&ha.isXMLDoc(e)||(i=ha.attrHooks[t.toLowerCase()]||(ha.expr.match.bool.test(t)?Gs:void 0)),void 0!==n?null===n?void ha.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=ha.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!oa.radioValue&&"radio"===t&&ba(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Ta);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Gs={set:function(e,t,n){return!1===t?ha.removeAttr(e,n):e.setAttribute(n,n),n}},ha.each(ha.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=$s[t]||ha.find.attr;$s[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=$s[a],$s[a]=i,i=null!=n(e,t,r)?a:null,$s[a]=o),i}}));var Vs=/^(?:input|select|textarea|button)$/i,Ws=/^(?:a|area)$/i;function Zs(e){return(e.match(Ta)||[]).join(" ")}function Xs(e){return e.getAttribute&&e.getAttribute("class")||""}function Ys(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Ta)||[]}ha.fn.extend({prop:function(e,t){return Pa(this,ha.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[ha.propFix[e]||e]}))}}),ha.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ha.isXMLDoc(e)||(t=ha.propFix[t]||t,i=ha.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ha.find.attr(e,"tabindex");return t?parseInt(t,10):Vs.test(e.nodeName)||Ws.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),oa.optSelected||(ha.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ha.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){ha.propFix[this.toLowerCase()]=this})),ha.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(aa(e))return this.each((function(t){ha(this).addClass(e.call(this,t,Xs(this)))}));if((t=Ys(e)).length)for(;n=this[u++];)if(i=Xs(n),r=1===n.nodeType&&" "+Zs(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=Zs(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(aa(e))return this.each((function(t){ha(this).removeClass(e.call(this,t,Xs(this)))}));if(!arguments.length)return this.attr("class","");if((t=Ys(e)).length)for(;n=this[u++];)if(i=Xs(n),r=1===n.nodeType&&" "+Zs(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=Zs(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=$n(e),r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):aa(e)?this.each((function(n){ha(this).toggleClass(e.call(this,n,Xs(this),t),t)})):this.each((function(){var t,i,o,a;if(r)for(i=0,o=ha(this),a=Ys(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=Xs(this))&&Ha.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ha.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Zs(Xs(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ks=/\r/g;ha.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=aa(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,ha(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=ha.map(i,(function(e){return null==e?"":e+""}))),(t=ha.valHooks[this.type]||ha.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=ha.valHooks[i.type]||ha.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ks,""):null==n?"":n:void 0}}),ha.extend({valHooks:{option:{get:function(e){var t=ha.find.attr(e,"value");return null!=t?t:Zs(ha.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!ba(n.parentNode,"optgroup"))){if(t=ha(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=ha.makeArray(t),a=i.length;a--;)((r=i[a]).selected=ha.inArray(ha.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ha.each(["radio","checkbox"],(function(){ha.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ha.inArray(ha(e).val(),t)>-1}},oa.checkOn||(ha.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),oa.focusin="onfocusin"in window;var Qs=/^(?:focusinfocus|focusoutblur)$/,Js=function(e){e.stopPropagation()};ha.extend(ha.event,{trigger:function(e,t,n,r){var i,o,a,s,u,c,l,f,h=[n||Zo],p=na.call(e,"type")?e.type:e,d=na.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||Zo,3!==n.nodeType&&8!==n.nodeType&&!Qs.test(p+ha.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[ha.expando]?e:new ha.Event(p,"object"===$n(e)&&e)).isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ha.makeArray(t,[e]),l=ha.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!sa(n)){for(s=l.delegateType||p,Qs.test(s+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),a=o;a===(n.ownerDocument||Zo)&&h.push(a.defaultView||a.parentWindow||window)}for(i=0;(o=h[i++])&&!e.isPropagationStopped();)f=o,e.type=i>1?s:l.bindType||p,(c=(Ha.get(o,"events")||{})[e.type]&&Ha.get(o,"handle"))&&c.apply(o,t),(c=u&&o[u])&&c.apply&&ja(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(h.pop(),t)||!ja(n)||u&&aa(n[p])&&!sa(n)&&((a=n[u])&&(n[u]=null),ha.event.triggered=p,e.isPropagationStopped()&&f.addEventListener(p,Js),n[p](),e.isPropagationStopped()&&f.removeEventListener(p,Js),ha.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ha.extend(new ha.Event,n,{type:e,isSimulated:!0});ha.event.trigger(r,null,t)}}),ha.fn.extend({trigger:function(e,t){return this.each((function(){ha.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return ha.event.trigger(e,t,n,!0)}}),oa.focusin||ha.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){ha.event.simulate(t,e.target,ha.event.fix(e))};ha.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Ha.access(r,t);i||r.addEventListener(e,n,!0),Ha.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Ha.access(r,t)-1;i?Ha.access(r,t,i):(r.removeEventListener(e,n,!0),Ha.remove(r,t))}}}));var eu,tu=/\[\]$/,nu=/\r?\n/g,ru=/^(?:submit|button|image|reset|file)$/i,iu=/^(?:input|select|textarea|keygen)/i;function ou(e,t,n,r){var i;if(Array.isArray(t))ha.each(t,(function(t,i){n||tu.test(e)?r(e,i):ou(e+"["+("object"===$n(i)&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==la(t))r(e,t);else for(i in t)ou(e+"["+i+"]",t[i],n,r)}ha.param=function(e,t){var n,r=[],i=function(e,t){var n=aa(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!ha.isPlainObject(e))ha.each(e,(function(){i(this.name,this.value)}));else for(n in e)ou(n,e[n],t,i);return r.join("&")},ha.fn.extend({serialize:function(){return ha.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=ha.prop(this,"elements");return e?ha.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!ha(this).is(":disabled")&&iu.test(this.nodeName)&&!ru.test(e)&&(this.checked||!es.test(e))})).map((function(e,t){var n=ha(this).val();return null==n?null:Array.isArray(n)?ha.map(n,(function(e){return{name:t.name,value:e.replace(nu,"\r\n")}})):{name:t.name,value:n.replace(nu,"\r\n")}})).get()}}),ha.fn.extend({wrapAll:function(e){var t;return this[0]&&(aa(e)&&(e=e.call(this[0])),t=ha(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return aa(e)?this.each((function(t){ha(this).wrapInner(e.call(this,t))})):this.each((function(){var t=ha(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=aa(e);return this.each((function(n){ha(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){ha(this).replaceWith(this.childNodes)})),this}}),ha.expr.pseudos.hidden=function(e){return!ha.expr.pseudos.visible(e)},ha.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},oa.createHTMLDocument=((eu=Zo.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===eu.childNodes.length),ha.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(oa.createHTMLDocument?((r=(t=Zo.implementation.createHTMLDocument("")).createElement("base")).href=Zo.location.href,t.head.appendChild(r)):t=Zo),o=!n&&[],(i=wa.exec(e))?[t.createElement(i[1])]:(i=cs([e],t,o),o&&o.length&&ha(o).remove(),ha.merge([],i.childNodes)));var r,i,o},ha.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=ha.css(e,"position"),l=ha(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=ha.css(e,"top"),u=ha.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),aa(t)&&(t=t.call(e,n,ha.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):l.css(f)}},ha.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){ha.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===ha.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===ha.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ha(e).offset()).top+=ha.css(e,"borderTopWidth",!0),i.left+=ha.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-ha.css(r,"marginTop",!0),left:t.left-i.left-ha.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===ha.css(e,"position");)e=e.offsetParent;return e||ls}))}}),ha.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;ha.fn[e]=function(r){return Pa(this,(function(e,r,i){var o;if(sa(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),ha.each(["top","left"],(function(e,t){ha.cssHooks[t]=Ms(oa.pixelPosition,(function(e,n){if(n)return n=Ls(e,t),Rs.test(n)?ha(e).position()[t]+"px":n}))})),ha.each({Height:"height",Width:"width"},(function(e,t){ha.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){ha.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Pa(this,(function(t,n,i){var o;return sa(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?ha.css(t,n,s):ha.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),ha.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){ha.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),ha.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ha.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ha.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),aa(e))return r=Yo.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(Yo.call(arguments)))}).guid=e.guid=e.guid||ha.guid++,i},ha.holdReady=function(e){e?ha.readyWait++:ha.ready(!0)},ha.isArray=Array.isArray,ha.parseJSON=JSON.parse,ha.nodeName=ba,ha.isFunction=aa,ha.isWindow=sa,ha.camelCase=Ba,ha.type=la,ha.now=Date.now,ha.isNumeric=function(e){var t=ha.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};var au=ha,su=Object.assign,uu=Object.defineProperty,cu=!su||s((function(){if(u&&1!==su({b:1},su(uu({},"a",{enumerable:!0,get:function(){uu(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=su({},e)[n]||"abcdefghijklmnopqrst"!=Rt(su({},t)).join("")}))?function(e,t){for(var n=De(e),r=arguments.length,i=1,o=_e.f,a=f.f;r>i;)for(var s,c=v(arguments[i++]),l=o?Rt(c).concat(o(c)):Rt(c),h=l.length,p=0;h>p;)s=l[p++],u&&!a.call(c,s)||(n[s]=c[s]);return n}:su;Pe({target:"Object",stat:!0,forced:Object.assign!==cu},{assign:cu});var lu=vr.f,fu=s((function(){return!Object.getOwnPropertyNames(1)}));Pe({target:"Object",stat:!0,forced:fu},{getOwnPropertyNames:lu});var hu=s((function(){Rt(1)}));Pe({target:"Object",stat:!0,forced:hu},{keys:function(e){return Rt(De(e))}});var pu=a.Promise,du=function(e,t,n){for(var r in t)ie(e,r,t[r],n);return e},gu=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},vu=Ge("iterator"),mu=Array.prototype,yu=function(e){return void 0!==e&&(wi.Array===e||mu[vu]===e)},bu=Ge("iterator"),wu=function(e){if(null!=e)return e[bu]||e["@@iterator"]||wi[co(e)]},xu=function(e,t,n,r){try{return r?t(R(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&R(i.call(e)),t}},ku=i((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,o){var a,s,u,c,l,f,h,p=Fe(n,r,i?2:1);if(o)a=e;else{if("function"!=typeof(s=wu(e)))throw TypeError("Target is not iterable");if(yu(s)){for(u=0,c=he(e.length);c>u;u++)if((l=i?p(R(h=e[u])[0],h[1]):p(e[u]))&&l instanceof t)return l;return new t(!1)}a=s.call(e)}for(f=a.next;!(h=f.call(a)).done;)if("object"==typeof(l=xu(a,p,h.value,i))&&l&&l instanceof t)return l;return new t(!1)}).stop=function(e){return new t(!0,e)}})),_u=Ge("iterator"),Su=!1;try{var Eu=0,Cu={next:function(){return{done:!!Eu++}},return:function(){Su=!0}};Cu[_u]=function(){return this},Array.from(Cu,(function(){throw 2}))}catch(e){}var Tu,Au,Ru,Ou=function(e,t){if(!t&&!Su)return!1;var n=!1;try{var r={};r[_u]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},Iu=/(iphone|ipod|ipad).*applewebkit/i.test(Ye),Lu=a.location,Mu=a.setImmediate,Pu=a.clearImmediate,Nu=a.process,Fu=a.MessageChannel,Du=a.Dispatch,Bu=0,ju={},zu=function(e){if(ju.hasOwnProperty(e)){var t=ju[e];delete ju[e],t()}},Hu=function(e){return function(){zu(e)}},Uu=function(e){zu(e.data)},qu=function(e){a.postMessage(e+"",Lu.protocol+"//"+Lu.host)};Mu&&Pu||(Mu=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return ju[++Bu]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Tu(Bu),Bu},Pu=function(e){delete ju[e]},"process"==d(Nu)?Tu=function(e){Nu.nextTick(Hu(e))}:Du&&Du.now?Tu=function(e){Du.now(Hu(e))}:Fu&&!Iu?(Ru=(Au=new Fu).port2,Au.port1.onmessage=Uu,Tu=Fe(Ru.postMessage,Ru,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(qu)?Tu="onreadystatechange"in E("script")?function(e){It.appendChild(E("script")).onreadystatechange=function(){It.removeChild(this),zu(e)}}:function(e){setTimeout(Hu(e),0)}:(Tu=qu,a.addEventListener("message",Uu,!1)));var Gu,$u,Vu,Wu,Zu,Xu,Yu,Ku,Qu={set:Mu,clear:Pu},Ju=A.f,ec=Qu.set,tc=a.MutationObserver||a.WebKitMutationObserver,nc=a.process,rc=a.Promise,ic="process"==d(nc),oc=Ju(a,"queueMicrotask"),ac=oc&&oc.value;ac||(Gu=function(){var e,t;for(ic&&(e=nc.domain)&&e.exit();$u;){t=$u.fn,$u=$u.next;try{t()}catch(e){throw $u?Wu():Vu=void 0,e}}Vu=void 0,e&&e.enter()},ic?Wu=function(){nc.nextTick(Gu)}:tc&&!Iu?(Zu=!0,Xu=document.createTextNode(""),new tc(Gu).observe(Xu,{characterData:!0}),Wu=function(){Xu.data=Zu=!Zu}):rc&&rc.resolve?(Yu=rc.resolve(void 0),Ku=Yu.then,Wu=function(){Ku.call(Yu,Gu)}):Wu=function(){ec.call(a,Gu)});var sc,uc,cc,lc,fc=ac||function(e){var t={fn:e,next:void 0};Vu&&(Vu.next=t),$u||($u=t,Wu()),Vu=t},hc=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Ne(t),this.reject=Ne(n)},pc={f:function(e){return new hc(e)}},dc=function(e,t){if(R(e),b(t)&&t.constructor===e)return t;var n=pc.f(e);return(0,n.resolve)(t),n.promise},gc=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},vc=Qu.set,mc=Ge("species"),yc="Promise",bc=re.get,wc=re.set,xc=re.getterFor(yc),kc=pu,_c=a.TypeError,Sc=a.document,Ec=a.process,Cc=se("fetch"),Tc=pc.f,Ac=Tc,Rc="process"==d(Ec),Oc=!!(Sc&&Sc.createEvent&&a.dispatchEvent),Ic=Le(yc,(function(){if(j(kc)===String(kc)){if(66===et)return!0;if(!Rc&&"function"!=typeof PromiseRejectionEvent)return!0}if(et>=51&&/native code/.test(kc))return!1;var e=kc.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[mc]=t,!(e.then((function(){}))instanceof t)})),Lc=Ic||!Ou((function(e){kc.all(e).catch((function(){}))})),Mc=function(e){var t;return!(!b(e)||"function"!=typeof(t=e.then))&&t},Pc=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;fc((function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s,u,c,l=r[a++],f=o?l.ok:l.fail,h=l.resolve,p=l.reject,d=l.domain;try{f?(o||(2===t.rejection&&Bc(e,t),t.rejection=1),!0===f?s=i:(d&&d.enter(),s=f(i),d&&(d.exit(),c=!0)),s===l.promise?p(_c("Promise-chain cycle")):(u=Mc(s))?u.call(s,h,p):h(s)):p(i)}catch(e){d&&!c&&d.exit(),p(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Fc(e,t)}))}},Nc=function(e,t,n){var r,i;Oc?((r=Sc.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),a.dispatchEvent(r)):r={promise:t,reason:n},(i=a["on"+e])?i(r):"unhandledrejection"===e&&function(e,t){var n=a.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Fc=function(e,t){vc.call(a,(function(){var n,r=t.value;if(Dc(t)&&(n=gc((function(){Rc?Ec.emit("unhandledRejection",r,e):Nc("unhandledrejection",e,r)})),t.rejection=Rc||Dc(t)?2:1,n.error))throw n.value}))},Dc=function(e){return 1!==e.rejection&&!e.parent},Bc=function(e,t){vc.call(a,(function(){Rc?Ec.emit("rejectionHandled",e):Nc("rejectionhandled",e,t.value)}))},jc=function(e,t,n,r){return function(i){e(t,n,i,r)}},zc=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Pc(e,t,!0))},Hc=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw _c("Promise can't be resolved itself");var i=Mc(n);i?fc((function(){var r={done:!1};try{i.call(n,jc(Hc,e,r,t),jc(zc,e,r,t))}catch(n){zc(e,r,n,t)}})):(t.value=n,t.state=1,Pc(e,t,!1))}catch(n){zc(e,{done:!1},n,t)}}};Ic&&(kc=function(e){gu(this,kc,yc),Ne(e),sc.call(this);var t=bc(this);try{e(jc(Hc,this,t),jc(zc,this,t))}catch(e){zc(this,t,e)}},(sc=function(e){wc(this,{type:yc,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=du(kc.prototype,{then:function(e,t){var n=xc(this),r=Tc(Mn(this,kc));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Rc?Ec.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Pc(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),uc=function(){var e=new sc,t=bc(e);this.promise=e,this.resolve=jc(Hc,e,t),this.reject=jc(zc,e,t)},pc.f=Tc=function(e){return e===kc||e===cc?new uc(e):Ac(e)},"function"==typeof pu&&(lc=pu.prototype.then,ie(pu.prototype,"then",(function(e,t){var n=this;return new kc((function(e,t){lc.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Cc&&Pe({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return dc(kc,Cc.apply(a,arguments))}}))),Pe({global:!0,wrap:!0,forced:Ic},{Promise:kc}),kr(kc,yc,!1),ho(yc),cc=se(yc),Pe({target:yc,stat:!0,forced:Ic},{reject:function(e){var t=Tc(this);return t.reject.call(void 0,e),t.promise}}),Pe({target:yc,stat:!0,forced:Ic},{resolve:function(e){return dc(this,e)}}),Pe({target:yc,stat:!0,forced:Lc},{all:function(e){var t=this,n=Tc(t),r=n.resolve,i=n.reject,o=gc((function(){var n=Ne(t.resolve),o=[],a=0,s=1;ku(e,(function(e){var u=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Tc(t),r=n.reject,i=gc((function(){var i=Ne(t.resolve);ku(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Uc=A.f,qc="".startsWith,Gc=Math.min,$c=mn("startsWith"),Vc=!$c&&!!function(){var e=Uc(String.prototype,"startsWith");return e&&!e.writable}();Pe({target:"String",proto:!0,forced:!Vc&&!$c},{startsWith:function(e){var t=String(m(this));gn(e);var n=he(Gc(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return qc?qc.call(t,r,n):t.slice(n,n+r.length)===r}});var Wc=Ut.trim;Pe({target:"String",proto:!0,forced:function(e){return s((function(){return!!Dt[e]()||""!=""[e]()||Dt[e].name!==e}))}("trim")},{trim:function(){return Wc(this)}});var Zc=Ge("iterator"),Xc=!s((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[Zc]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),Yc=function(e){var t,n,r,i,o,a,s=De(e),u="function"==typeof this?this:Array,c=arguments.length,l=c>1?arguments[1]:void 0,f=void 0!==l,h=wu(s),p=0;if(f&&(l=Fe(l,c>2?arguments[2]:void 0,2)),null==h||u==Array&&yu(h))for(n=new u(t=he(s.length));t>p;p++)a=f?l(s[p],p):s[p],ai(n,p,a);else for(o=(i=h.call(s)).next,n=new u;!(r=o.call(i)).done;p++)a=f?xu(i,l,[r.value,p],!0):r.value,ai(n,p,a);return n.length=p,n},Kc=/[^\0-\u007E]/,Qc=/[.\u3002\uFF0E\uFF61]/g,Jc="Overflow: input needs wider integers to process",el=Math.floor,tl=String.fromCharCode,nl=function(e){return e+22+75*(e<26)},rl=function(e,t,n){var r=0;for(e=n?el(e/700):e>>1,e+=el(e/t);e>455;r+=36)e=el(e/35);return el(r+36*e/(e+38))},il=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(tl(n));var u=r.length,c=u;for(u&&r.push("-");c<i;){var l=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<l&&(l=n);var f=c+1;if(l-o>el((2147483647-a)/f))throw RangeError(Jc);for(a+=(l-o)*f,o=l,t=0;t<e.length;t++){if((n=e[t])<o&&++a>2147483647)throw RangeError(Jc);if(n==o){for(var h=a,p=36;;p+=36){var d=p<=s?1:p>=s+26?26:p-s;if(h<d)break;var g=h-d,v=36-d;r.push(tl(nl(d+g%v))),h=el(g/v)}r.push(tl(nl(h))),s=rl(a,f,c==u),a=0,++c}}++a,++o}return r.join("")},ol=function(e){var t=wu(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return R(t.call(e))},al=se("fetch"),sl=se("Headers"),ul=Ge("iterator"),cl=re.set,ll=re.getterFor("URLSearchParams"),fl=re.getterFor("URLSearchParamsIterator"),hl=/\+/g,pl=Array(4),dl=function(e){return pl[e-1]||(pl[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},gl=function(e){try{return decodeURIComponent(e)}catch(t){return e}},vl=function(e){var t=e.replace(hl," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(dl(n--),gl);return t}},ml=/[!'()~]|%20/g,yl={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},bl=function(e){return yl[e]},wl=function(e){return encodeURIComponent(e).replace(ml,bl)},xl=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:vl(r.shift()),value:vl(r.join("="))}))},kl=function(e){this.entries.length=0,xl(this.entries,e)},_l=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Sl=Oi((function(e,t){cl(this,{type:"URLSearchParamsIterator",iterator:ol(ll(e).entries),kind:t})}),"Iterator",(function(){var e=fl(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),El=function(){gu(this,El,"URLSearchParams");var e,t,n,r,i,o,a,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,f=[];if(cl(l,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:kl}),void 0!==c)if(b(c))if("function"==typeof(e=wu(c)))for(n=(t=e.call(c)).next;!(r=n.call(t)).done;){if((a=(o=(i=ol(R(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(u in c)k(c,u)&&f.push({key:u,value:c[u]+""});else xl(f,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},Cl=El.prototype;du(Cl,{append:function(e,t){_l(arguments.length,2);var n=ll(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){_l(arguments.length,1);for(var t=ll(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){_l(arguments.length,1);for(var t=ll(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){_l(arguments.length,1);for(var t=ll(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){_l(arguments.length,1);for(var t=ll(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){_l(arguments.length,1);for(var n,r=ll(this),i=r.entries,o=!1,a=e+"",s=t+"",u=0;u<i.length;u++)(n=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=ll(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=ll(this).entries,r=Fe(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new Sl(this,"keys")},values:function(){return new Sl(this,"values")},entries:function(){return new Sl(this,"entries")}},{enumerable:!0}),ie(Cl,ul,Cl.entries),ie(Cl,"toString",(function(){for(var e,t=ll(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(wl(e.key)+"="+wl(e.value));return n.join("&")}),{enumerable:!0}),kr(El,"URLSearchParams"),Pe({global:!0,forced:!Xc},{URLSearchParams:El}),Xc||"function"!=typeof al||"function"!=typeof sl||Pe({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],b(t)&&(n=t.body,"URLSearchParams"===co(n)&&((r=t.headers?new sl(t.headers):new sl).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=Ft(t,{body:h(0,String(n)),headers:h(0,r)}))),i.push(t)),al.apply(this,i)}});var Tl,Al={URLSearchParams:El,getState:ll},Rl=Nn.codeAt,Ol=a.URL,Il=Al.URLSearchParams,Ll=Al.getState,Ml=re.set,Pl=re.getterFor("URL"),Nl=Math.floor,Fl=Math.pow,Dl=/[A-Za-z]/,Bl=/[\d+\-.A-Za-z]/,jl=/\d/,zl=/^(0x|0X)/,Hl=/^[0-7]+$/,Ul=/^\d+$/,ql=/^[\dA-Fa-f]+$/,Gl=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,$l=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Vl=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Wl=/[\u0009\u000A\u000D]/g,Zl=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=Yl(t.slice(1,-1))))return"Invalid host";e.host=n}else if(of(e)){if(t=function(e){var t,n,r=[],i=e.toLowerCase().replace(Qc,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(Kc.test(n)?"xn--"+il(n):n);return r.join(".")}(t),Gl.test(t))return"Invalid host";if(null===(n=Xl(t)))return"Invalid host";e.host=n}else{if($l.test(t))return"Invalid host";for(n="",r=Yc(t),i=0;i<r.length;i++)n+=nf(r[i],Ql);e.host=n}},Xl=function(e){var t,n,r,i,o,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=zl.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?Ul:8==o?Hl:ql).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=Fl(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*Fl(256,3-r);return s},Yl=function(e){var t,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,h=function(){return e.charAt(f)};if(":"==h()){if(":"!=e.charAt(1))return;f+=2,l=++c}for(;h();){if(8==c)return;if(":"!=h()){for(t=n=0;n<4&&ql.test(h());)t=16*t+parseInt(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,c>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;f++}if(!jl.test(h()))return;for(;jl.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u},Kl=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Nl(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},Ql={},Jl=cu({},Ql,{" ":1,'"':1,"<":1,">":1,"`":1}),ef=cu({},Jl,{"#":1,"?":1,"{":1,"}":1}),tf=cu({},ef,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),nf=function(e,t){var n=Rl(e,0);return n>32&&n<127&&!k(t,e)?e:encodeURIComponent(e)},rf={ftp:21,file:null,http:80,https:443,ws:80,wss:443},of=function(e){return k(rf,e.scheme)},af=function(e){return""!=e.username||""!=e.password},sf=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},uf=function(e,t){var n;return 2==e.length&&Dl.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},cf=function(e){var t;return e.length>1&&uf(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},lf=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&uf(t[0],!0)||t.pop()},ff=function(e){return"."===e||"%2e"===e.toLowerCase()},hf={},pf={},df={},gf={},vf={},mf={},yf={},bf={},wf={},xf={},kf={},_f={},Sf={},Ef={},Cf={},Tf={},Af={},Rf={},Of={},If={},Lf={},Mf=function(e,t,n,r){var i,o,a,s,u,c=n||hf,l=0,f="",h=!1,p=!1,d=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(Vl,"")),t=t.replace(Wl,""),i=Yc(t);l<=i.length;){switch(o=i[l],c){case hf:if(!o||!Dl.test(o)){if(n)return"Invalid scheme";c=df;continue}f+=o.toLowerCase(),c=pf;break;case pf:if(o&&(Bl.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";f="",c=df,l=0;continue}if(n&&(of(e)!=k(rf,f)||"file"==f&&(af(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(of(e)&&rf[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?c=Ef:of(e)&&r&&r.scheme==e.scheme?c=gf:of(e)?c=bf:"/"==i[l+1]?(c=vf,l++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Of)}break;case df:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=Lf;break}c="file"==r.scheme?Ef:mf;continue;case gf:if("/"!=o||"/"!=i[l+1]){c=mf;continue}c=wf,l++;break;case vf:if("/"==o){c=xf;break}c=Rf;continue;case mf:if(e.scheme=r.scheme,o==Tl)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&of(e))c=yf;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=If;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=Rf;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Lf}break;case yf:if(!of(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=Rf;continue}c=xf}else c=wf;break;case bf:if(c=wf,"/"!=o||"/"!=f.charAt(l+1))continue;l++;break;case wf:if("/"!=o&&"\\"!=o){c=xf;continue}break;case xf:if("@"==o){h&&(f="%40"+f),h=!0,a=Yc(f);for(var g=0;g<a.length;g++){var v=a[g];if(":"!=v||d){var m=nf(v,tf);d?e.password+=m:e.username+=m}else d=!0}f=""}else if(o==Tl||"/"==o||"?"==o||"#"==o||"\\"==o&&of(e)){if(h&&""==f)return"Invalid authority";l-=Yc(f).length+1,f="",c=kf}else f+=o;break;case kf:case _f:if(n&&"file"==e.scheme){c=Tf;continue}if(":"!=o||p){if(o==Tl||"/"==o||"?"==o||"#"==o||"\\"==o&&of(e)){if(of(e)&&""==f)return"Invalid host";if(n&&""==f&&(af(e)||null!==e.port))return;if(s=Zl(e,f))return s;if(f="",c=Af,n)return;continue}"["==o?p=!0:"]"==o&&(p=!1),f+=o}else{if(""==f)return"Invalid host";if(s=Zl(e,f))return s;if(f="",c=Sf,n==_f)return}break;case Sf:if(!jl.test(o)){if(o==Tl||"/"==o||"?"==o||"#"==o||"\\"==o&&of(e)||n){if(""!=f){var y=parseInt(f,10);if(y>65535)return"Invalid port";e.port=of(e)&&y===rf[e.scheme]?null:y,f=""}if(n)return;c=Af;continue}return"Invalid port"}f+=o;break;case Ef:if(e.scheme="file","/"==o||"\\"==o)c=Cf;else{if(!r||"file"!=r.scheme){c=Rf;continue}if(o==Tl)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",c=If;else{if("#"!=o){cf(i.slice(l).join(""))||(e.host=r.host,e.path=r.path.slice(),lf(e)),c=Rf;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Lf}}break;case Cf:if("/"==o||"\\"==o){c=Tf;break}r&&"file"==r.scheme&&!cf(i.slice(l).join(""))&&(uf(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=Rf;continue;case Tf:if(o==Tl||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&uf(f))c=Rf;else if(""==f){if(e.host="",n)return;c=Af}else{if(s=Zl(e,f))return s;if("localhost"==e.host&&(e.host=""),n)return;f="",c=Af}continue}f+=o;break;case Af:if(of(e)){if(c=Rf,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=Tl&&(c=Rf,"/"!=o))continue}else e.fragment="",c=Lf;else e.query="",c=If;break;case Rf:if(o==Tl||"/"==o||"\\"==o&&of(e)||!n&&("?"==o||"#"==o)){if(".."===(u=(u=f).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(lf(e),"/"==o||"\\"==o&&of(e)||e.path.push("")):ff(f)?"/"==o||"\\"==o&&of(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&uf(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(o==Tl||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=If):"#"==o&&(e.fragment="",c=Lf)}else f+=nf(o,ef);break;case Of:"?"==o?(e.query="",c=If):"#"==o?(e.fragment="",c=Lf):o!=Tl&&(e.path[0]+=nf(o,Ql));break;case If:n||"#"!=o?o!=Tl&&("'"==o&&of(e)?e.query+="%27":e.query+="#"==o?"%23":nf(o,Ql)):(e.fragment="",c=Lf);break;case Lf:o!=Tl&&(e.fragment+=nf(o,Jl))}l++}},Pf=function(e){var t,n,r=gu(this,Pf,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),a=Ml(r,{type:"URL"});if(void 0!==i)if(i instanceof Pf)t=Pl(i);else if(n=Mf(t={},String(i)))throw TypeError(n);if(n=Mf(a,o,null,t))throw TypeError(n);var s=a.searchParams=new Il,c=Ll(s);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(s)||null},u||(r.href=Ff.call(r),r.origin=Df.call(r),r.protocol=Bf.call(r),r.username=jf.call(r),r.password=zf.call(r),r.host=Hf.call(r),r.hostname=Uf.call(r),r.port=qf.call(r),r.pathname=Gf.call(r),r.search=$f.call(r),r.searchParams=Vf.call(r),r.hash=Wf.call(r))},Nf=Pf.prototype,Ff=function(){var e=Pl(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",af(e)&&(c+=n+(r?":"+r:"")+"@"),c+=Kl(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Df=function(){var e=Pl(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&of(e)?t+"://"+Kl(e.host)+(null!==n?":"+n:""):"null"},Bf=function(){return Pl(this).scheme+":"},jf=function(){return Pl(this).username},zf=function(){return Pl(this).password},Hf=function(){var e=Pl(this),t=e.host,n=e.port;return null===t?"":null===n?Kl(t):Kl(t)+":"+n},Uf=function(){var e=Pl(this).host;return null===e?"":Kl(e)},qf=function(){var e=Pl(this).port;return null===e?"":String(e)},Gf=function(){var e=Pl(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},$f=function(){var e=Pl(this).query;return e?"?"+e:""},Vf=function(){return Pl(this).searchParams},Wf=function(){var e=Pl(this).fragment;return e?"#"+e:""},Zf=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(u&&Ot(Nf,{href:Zf(Ff,(function(e){var t=Pl(this),n=String(e),r=Mf(t,n);if(r)throw TypeError(r);Ll(t.searchParams).updateSearchParams(t.query)})),origin:Zf(Df),protocol:Zf(Bf,(function(e){var t=Pl(this);Mf(t,String(e)+":",hf)})),username:Zf(jf,(function(e){var t=Pl(this),n=Yc(String(e));if(!sf(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=nf(n[r],tf)}})),password:Zf(zf,(function(e){var t=Pl(this),n=Yc(String(e));if(!sf(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=nf(n[r],tf)}})),host:Zf(Hf,(function(e){var t=Pl(this);t.cannotBeABaseURL||Mf(t,String(e),kf)})),hostname:Zf(Uf,(function(e){var t=Pl(this);t.cannotBeABaseURL||Mf(t,String(e),_f)})),port:Zf(qf,(function(e){var t=Pl(this);sf(t)||(""==(e=String(e))?t.port=null:Mf(t,e,Sf))})),pathname:Zf(Gf,(function(e){var t=Pl(this);t.cannotBeABaseURL||(t.path=[],Mf(t,e+"",Af))})),search:Zf($f,(function(e){var t=Pl(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Mf(t,e,If)),Ll(t.searchParams).updateSearchParams(t.query)})),searchParams:Zf(Vf),hash:Zf(Wf,(function(e){var t=Pl(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Mf(t,e,Lf)):t.fragment=null}))}),ie(Nf,"toJSON",(function(){return Ff.call(this)}),{enumerable:!0}),ie(Nf,"toString",(function(){return Ff.call(this)}),{enumerable:!0}),Ol){var Xf=Ol.createObjectURL,Yf=Ol.revokeObjectURL;Xf&&ie(Pf,"createObjectURL",(function(e){return Xf.apply(Ol,arguments)})),Yf&&ie(Pf,"revokeObjectURL",(function(e){return Yf.apply(Ol,arguments)}))}kr(Pf,"URL"),Pe({global:!0,forced:!Xc,sham:!u},{URL:Pf}),Pe({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var Kf=function(e){return function(t,n,r,i){Ne(n);var o=De(t),a=v(o),s=he(o.length),u=e?s-1:0,c=e?-1:1;if(r<2)for(;;){if(u in a){i=a[u],u+=c;break}if(u+=c,e?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value")}for(;e?u>=0:s>u;u+=c)u in a&&(i=n(i,a[u],u,o));return i}},Qf={left:Kf(!1),right:Kf(!0)},Jf=Qf.left,eh=lt("reduce"),th=at("reduce",{1:0});Pe({target:"Array",proto:!0,forced:!eh||!th},{reduce:function(e){return Jf(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var nh,rh,ih,oh,ah,sh=function(e){for(var t=De(this),n=he(t.length),r=arguments.length,i=ge(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:ge(o,n);a>i;)t[i++]=e;return t};function uh(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function ch(e){var t,n,r;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=t[Math.floor(Math.random()*t.length)]}while(e[n]);return n}function lh(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}Pe({target:"Array",proto:!0},{fill:sh}),pi("fill"),ah=function(e,t){var n,r,i,o={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",i=parseInt(e[n],t),o[r]="&#"+i+";";return o["\\xa0"]="&#160;",o}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),nh={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(ih=function(e,t){this.__root=e,this.__ctx=t}).prototype.addColorStop=function(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),t&&-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",uh("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)},oh=function(e,t){this.__root=e,this.__ctx=t},(rh=function(e){if(!(this instanceof rh))return new rh(e);if(this.config=e,this.width=e.width,this.height=e.height,this.enableMirroring=e.enableMirroring||!1,this.canvas=this,this.__document=document,e.ctx?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.isSVG=!0,this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__createElement("svg"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__root.setAttribute("overflow","visible"),e.viewbox){var t=e.viewbox.x+" "+e.viewbox.y+" "+e.viewbox.width+" "+e.viewbox.height;this.__root.setAttribute("viewBox",t),this.viewbox=e.viewbox}this.__ids={},this.__defs=this.__createElement("defs"),this.__root.appendChild(this.__defs),this.multiLocusGap=e.multiLocusGap;var n={id:"svg_output_backdrop",width:"100%",height:"100%",fill:e.backdropColor||"white"},r=this.__createElement("rect",n);this.__root.appendChild(r),this.__rootGroup=this.__createElement("g",{id:"root-group"}),this.__root.appendChild(this.__rootGroup),this.__currentElement=this.__rootGroup}).prototype.setWidth=function(e){this.width=e,this.__root.setAttribute("width",this.width);var t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+e+" "+this.config.viewbox.height;this.__root.setAttribute("viewBox",t)},rh.prototype.setHeight=function(e){this.height=e,this.__root.setAttribute("height",this.height);var t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+this.config.viewbox.width+" "+e;this.__root.setAttribute("viewBox",t)},rh.prototype.__createElement=function(e,t,n){void 0===t&&(t={});var r=this.__document.createElementNS("http://www.w3.org/2000/svg",e);n&&(r.setAttribute("fill","none"),r.setAttribute("stroke","none"));for(var i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];r.setAttribute(a,t[a])}return r},rh.prototype.__setDefaultStyles=function(){var e,t,n=Object.keys(nh);for(e=0;e<n.length;e++)this[t=n[e]]=nh[t].canvas},rh.prototype.__applyStyleState=function(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]},rh.prototype.__getStyleState=function(){var e,t,n={},r=Object.keys(nh);for(e=0;e<r.length;e++)n[t=r[e]]=this[t];return n},rh.prototype.__applyStyleToCurrentElement=function(e){var t=this.__currentElement,n=this.__currentElementsToStyle;n&&(t.setAttribute(e,""),t=n.element,n.children.forEach((function(t){t.setAttribute(e,"")})));var r,i,o,a,s,u=Object.keys(nh);for(r=0;r<u.length;r++)if(i=nh[u[r]],o=this[u[r]],i.apply)if(o instanceof oh){if(o.__ctx)for(;o.__ctx.__defs.childNodes.length;)a=o.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[a]=a,this.__defs.appendChild(o.__ctx.__defs.childNodes[0]);t.setAttribute(i.apply,uh("url(#{id})",{id:o.__root.getAttribute("id")}))}else if(o instanceof ih)t.setAttribute(i.apply,uh("url(#{id})",{id:o.__root.getAttribute("id")}));else if(i&&-1!==i.apply.indexOf(e)&&i.svg!==o)if("stroke"!==i.svgAttr&&"fill"!==i.svgAttr||!o||-1===o.indexOf("rgba")){var c=i.svgAttr;if("globalAlpha"===u[r]&&(c=e+"-"+i.svgAttr,t.getAttribute(c)))continue;t.setAttribute(c,o)}else{s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(o),t.setAttribute(i.svgAttr,uh("rgb({r},{g},{b})",{r:s[1],g:s[2],b:s[3]}));var l=s[4],f=this.globalAlpha;null!=f&&(l*=f),t.setAttribute(i.svgAttr+"-opacity",l)}},rh.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},rh.prototype.getSerializedSvg=function(e){var t,n,r,i,o,a=(new XMLSerializer).serializeToString(this.__root);if(e)for(t=Object.keys(ah),n=0;n<t.length;n++)r=t[n],i=ah[r],(o=new RegExp(r,"gi")).test(a)&&(a=a.replace(o,i));return a},rh.prototype.getSvg=function(){return this.__root},rh.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},rh.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)},rh.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=e,this.__currentElement.setAttribute("transform",r)},rh.prototype.addTrackGroupWithTranslationAndClipRect=function(e,t,n,r,i,o){var a=e+"_clip_rect",s=this.__createElement("clipPath",{id:a});this.__defs.appendChild(s),s.appendChild(this.__createElement("rect",{x:"0",y:o.toString(),width:r.toString(),height:i.toString()}));var u=this.__createElement("g");this.__rootGroup.appendChild(u),u.setAttribute("transform",uh("translate({x},{y})",{x:t,y:n})),u.setAttribute("id",e+"_group"),u.setAttribute("clip-path",uh("url(#{id})",{id:a})),this.__currentElement=u},rh.prototype.scale=function(e,t){void 0===t&&(t=e),this.__addTransform(uh("scale({x},{y})",{x:e,y:t}))},rh.prototype.rotate=function(e){var t=180*e/Math.PI;this.__addTransform(uh("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))},rh.prototype.translate=function(e,t){this.__addTransform(uh("translate({x},{y})",{x:e,y:t}))},rh.prototype.transform=function(e,t,n,r,i,o){this.__addTransform(uh("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:i,f:o}))},rh.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},rh.prototype.__applyCurrentDefaultPath=function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)},rh.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},rh.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(uh("M {x} {y}",{x:e,y:t}))},rh.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},rh.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath&&this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(uh("L {x} {y}",{x:e,y:t})):this.__addPathCommand(uh("M {x} {y}",{x:e,y:t}))},rh.prototype.bezierCurveTo=function(e,t,n,r,i,o){this.__currentPosition={x:i,y:o},this.__addPathCommand(uh("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:i,y:o}))},rh.prototype.quadraticCurveTo=function(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(uh("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))};var fh=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};rh.prototype.arcTo=function(e,t,n,r,i){var o=this.__currentPosition&&this.__currentPosition.x,a=this.__currentPosition&&this.__currentPosition.y;if(void 0!==o&&void 0!==a){if(i<0)throw new Error("IndexSizeError: The radius provided ("+i+") is negative.");if(o===e&&a===t||e===n&&t===r||0===i)this.lineTo(e,t);else{var s=fh([o-e,a-t]),u=fh([n-e,r-t]);if(s[0]*u[1]!=s[1]*u[0]){var c=s[0]*u[0]+s[1]*u[1],l=Math.acos(Math.abs(c)),f=fh([s[0]+u[0],s[1]+u[1]]),h=i/Math.sin(l/2),p=e+h*f[0],d=t+h*f[1],g=[-s[1],s[0]],v=[u[1],-u[0]],m=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},y=m(g),b=m(v);this.lineTo(p+g[0]*i,d+g[1]*i),this.arc(p,d,i,y,b)}else this.lineTo(e,t)}}},rh.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},rh.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},rh.prototype.rect=function(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()},rh.prototype.fillRect=function(e,t,n,r){r<0&&(t+=r,r=-r),n<0&&(e+=n,n=-n);var i,o,a,s={x:e,y:t,width:n,height:r};(!this.viewbox||(i=this.viewbox,o=s,i.x<o.x+o.width&&i.x+i.width>o.x&&i.y<o.y+o.height&&i.y+i.height>o.y))&&(a=this.__createElement("rect",s,!0),this.__closestGroupOrSvg().appendChild(a),this.__currentElement=a,this.__applyStyleToCurrentElement("fill"))},rh.prototype.strokeRect=function(e,t,n,r){var i;i=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("stroke")},rh.prototype.__clearCanvas=function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],n=t.childNodes,r=n.length-1;r>=0;r--)n[r]&&t.removeChild(n[r]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)},rh.prototype.clearRect=function(e,t,n,r){if(0!==e||0!==t||n!==this.width||r!==this.height){var i,o=this.__closestGroupOrSvg();i=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),o.appendChild(i)}else this.__clearCanvas()},rh.prototype.createLinearGradient=function(e,t,n,r){var i=this.__createElement("linearGradient",{id:ch(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:r+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new ih(i,this)},rh.prototype.createRadialGradient=function(e,t,n,r,i,o){var a=this.__createElement("radialGradient",{id:ch(this.__ids),cx:r+"px",cy:i+"px",r:o+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(a),new ih(a,this)},rh.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t},rh.prototype.__wrapTextLink=function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t},rh.prototype.__applyText=function(e,t,n,r){var i,o,a=this.__parseFont(),s=this.__closestGroupOrSvg(),u=this.__createElement("text",{"font-family":a.family,"font-size":a.size,"font-style":a.style,"font-weight":a.weight,"text-decoration":a.decoration,x:t,y:n,"text-anchor":(i=this.textAlign,o={left:"start",right:"end",center:"middle",start:"start",end:"end"},o[i]||o.start),"dominant-baseline":lh(this.textBaseline)},!0);u.appendChild(this.__document.createTextNode(e)),this.__currentElement=u,this.__applyStyleToCurrentElement(r),s.appendChild(this.__wrapTextLink(a,u))},rh.prototype.fillText=function(e,t,n){this.__applyText(e,t,n,"fill")},rh.prototype.strokeText=function(e,t,n){this.__applyText(e,t,n,"stroke")},rh.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},rh.prototype.arc=function(e,t,n,r,i,o){if(r!==i){(r%=2*Math.PI)==(i%=2*Math.PI)&&(i=(i+2*Math.PI-.001*(o?-1:1))%(2*Math.PI));var a=e+n*Math.cos(i),s=t+n*Math.sin(i),u=e+n*Math.cos(r),c=t+n*Math.sin(r),l=o?0:1,f=0,h=i-r;h<0&&(h+=2*Math.PI),f=o?h>Math.PI?0:1:h>Math.PI?1:0,this.lineTo(u,c),this.__addPathCommand(uh("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:f,sweepFlag:l,endX:a,endY:s})),this.__currentPosition={x:a,y:s}}},rh.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=ch(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",uh("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r},rh.prototype.drawImage=function(){var e,t,n,r,i,o,a,s,u,c,l,f,h,p=Array.prototype.slice.call(arguments),d=p[0],g=0,v=0;if(3===p.length)e=p[1],t=p[2],n=i=d.width,r=o=d.height;else if(5===p.length)e=p[1],t=p[2],n=p[3],r=p[4],i=d.width,o=d.height;else{if(9!==p.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);g=p[1],v=p[2],i=p[3],o=p[4],e=p[5],t=p[6],n=p[7],r=p[8]}a=this.__closestGroupOrSvg(),this.__currentElement;var m="translate("+e+", "+t+")";if(d instanceof rh){if((s=d.getSvg().cloneNode(!0)).childNodes&&s.childNodes.length>1){for(u=s.childNodes[0];u.childNodes.length;)h=u.childNodes[0].getAttribute("id"),this.__ids[h]=h,this.__defs.appendChild(u.childNodes[0]);if(c=s.childNodes[1]){var y,b=c.getAttribute("transform");y=b?b+" "+m:m,c.setAttribute("transform",y),a.appendChild(c)}}}else"CANVAS"!==d.nodeName&&"IMG"!==d.nodeName||((l=this.__createElement("image")).setAttribute("width",n),l.setAttribute("height",r),l.setAttribute("preserveAspectRatio","none"),(g||v||i!==d.width||o!==d.height)&&((f=this.__document.createElement("canvas")).width=n,f.height=r,f.getContext("2d").drawImage(d,g,v,i,o,0,0,n,r),d=f),l.setAttribute("transform",m),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===d.nodeName?d.toDataURL():d.getAttribute("src")),a.appendChild(l))},rh.prototype.createPattern=function(e,t){var n,r=this.__document.__createElement("pattern"),i=ch(this.__ids);return r.setAttribute("id",i),r.setAttribute("width",e.width),r.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((n=this.__createElement("image")).setAttribute("width",e.width),n.setAttribute("height",e.height),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),r.appendChild(n),this.__defs.appendChild(r)):e instanceof rh&&(r.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(r)),new oh(r,this)},rh.prototype.setLineDash=function(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null},rh.prototype.drawFocusRing=function(){},rh.prototype.createImageData=function(){},rh.prototype.getImageData=function(){},rh.prototype.putImageData=function(){},rh.prototype.globalCompositeOperation=function(){},rh.prototype.setTransform=function(){};var hh,ph=rh;function dh(e,t){au(t).on("mousedown.igv_drag",gh.bind(e))}function gh(e){e.stopPropagation(),e.preventDefault();var t=Math.round(parseFloat(this.style.left.replace("px",""))),n=Math.round(parseFloat(this.style.top.replace("px",""))),r=vh.bind(this),i=mh.bind(this);hh={dragFunction:r,dragEndFunction:i,dx:t-e.screenX,dy:n-e.screenY},au(document).on("mousemove.igv_drag",r),au(document).on("mouseup.igv_drag",i),au(document).on("mouseleave.igv_drag",i),au(document).on("mouseexit.igv_drag",i)}function vh(e){if(hh){e.stopPropagation(),e.preventDefault();var t=hh.dx+e.screenX,n=hh.dy+e.screenY;this.style.left=t+"px",this.style.top=n+"px"}}function mh(e){if(hh){e.stopPropagation(),e.preventDefault();var t=hh.dx+e.screenX,n=hh.dy+e.screenY;this.style.left=t+"px",this.style.top=n+"px",au(document).off(".igv_drag"),hh=void 0}}var yh=Ut.trim,bh=a.parseInt,wh=/^[+-]?0[Xx]/,xh=8!==bh(Dt+"08")||22!==bh(Dt+"0x16")?function(e,t){var n=yh(String(e));return bh(n,t>>>0||(wh.test(n)?16:10))}:bh;Pe({target:"Number",stat:!0,forced:Number.parseInt!=xh},{parseInt:xh});var kh=!s((function(){return Object.isExtensible(Object.preventExtensions({}))})),_h=i((function(e){var t=I.f,n=$("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!b(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!k(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!k(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return kh&&a.REQUIRED&&i(e)&&!k(e,n)&&o(e),e}};Z[n]=!0})),Sh=(_h.REQUIRED,_h.fastKey,_h.getWeakData,_h.onFreeze,function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",u=a[e],c=u&&u.prototype,l=u,f={},h=function(e){var t=c[e];ie(c,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!b(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!b(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!b(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Le(e,"function"!=typeof u||!(i||c.forEach&&!s((function(){(new u).entries().next()})))))l=n.getConstructor(t,e,r,o),_h.REQUIRED=!0;else if(Le(e,!0)){var p=new l,d=p[o](i?{}:-0,1)!=p,g=s((function(){p.has(1)})),v=Ou((function(e){new u(e)})),m=!i&&s((function(){for(var e=new u,t=5;t--;)e[o](t,t);return!e.has(-0)}));v||((l=t((function(t,n){gu(t,l,e);var i=At(new u,t,l);return null!=n&&ku(n,i[o],i,r),i}))).prototype=c,c.constructor=l),(g||m)&&(h("delete"),h("has"),r&&h("get")),(m||d)&&h(o),i&&c.clear&&delete c.clear}return f[e]=l,Pe({global:!0,forced:l!=u},f),kr(l,e),i||n.setStrong(l,e,r),l}),Eh=I.f,Ch=_h.fastKey,Th=re.set,Ah=re.getterFor,Rh={getConstructor:function(e,t,n,r){var i=e((function(e,o){gu(e,i,t),Th(e,{type:t,index:Ft(null),first:void 0,last:void 0,size:0}),u||(e.size=0),null!=o&&ku(o,e[r],e,n)})),o=Ah(t),a=function(e,t,n){var r,i,a=o(e),c=s(e,t);return c?c.value=n:(a.last=c={index:i=Ch(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=c),r&&(r.next=c),u?a.size++:e.size++,"F"!==i&&(a.index[i]=c)),e},s=function(e,t){var n,r=o(e),i=Ch(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return du(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,u?e.size=0:this.size=0},delete:function(e){var t=o(this),n=s(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),u?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=o(this),r=Fe(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),du(i.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),u&&Eh(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=Ah(t),o=Ah(r);Ni(e,t,(function(e,t){Th(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),ho(t)}},Oh=(Sh("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Rh),{trackMenuItemList:function(e){var t,n=new Set(["alignment","annotation","variant","eqtl","snp"]),r=e.track.config&&void 0!==e.track.config.visibilityWindow,i=[];return"sequence"!==e.track.config.type&&(i.push(function(e){var t;return(t=au("<div>")).text("Set track name"),{object:t,click:function(){var t,n;t=function(){var t;t=""===(t=e.browser.inputDialog.$input.val().trim())||void 0===t?"untitled":t,e.browser.setTrackLabelName(e,t)},e.browser.inputDialog.configure({label:"Track Name",input:(n=e.track,n.trackView.viewports[0].$trackLabel.text()||"unnamed"),click:t}),e.browser.inputDialog.present(au(e.trackDiv))}}}(e)),i.push(function(e){var t;return(t=au("<div>")).text("Set track height"),{object:t,click:function(){var t;t=function(){var t;void 0!==(t=parseFloat(e.browser.inputDialog.$input.val(),10))&&(void 0!==e.track.minHeight&&e.track.minHeight>t&&(e.track.minHeight=t),void 0!==e.track.maxHeight&&e.track.maxHeight<t&&(e.track.minHeight=t),e.setTrackHeight(t,!0,!0),e.track.autoHeight=!1)},e.browser.inputDialog.configure({label:"Track Height",input:e.trackDiv.clientHeight,click:t}),e.browser.inputDialog.present(au(e.trackDiv))}}}(e))),("alignment"===(t=e.track).type||"annotation"===t.type||"variant"===t.type||"wig"===t.type)&&i.push(function(e){var t;return(t=au("<div>")).text("Set track color"),{object:t,click:function(){e.presentColorPicker()}}}(e)),e.track.menuItemList&&(i=i.concat(e.track.menuItemList())),(r||n.has(e.track.config.type))&&(i.push("<hr/>"),i.push(function(e){var t=au("<div>");return t.text("Set visibility window"),{object:t,click:function(){e.browser.inputDialog.configure({label:"Visibility Window",input:e.track.visibilityWindow,click:function(){var t=e.browser.inputDialog.$input.val().trim();""!==t&&void 0!==t||(t=-1),t=Number.parseInt(t),e.track.visibilityWindow=t,e.track.config.visibilityWindow=t,e.updateViews()}}),e.browser.inputDialog.present(au(e.trackDiv))}}}(e))),!1!==e.track.removable&&(i.push("<hr/>"),i.push(function(e){var t;return(t=au("<div>")).text("Remove track"),{object:t,click:function(){e.browser.removeTrack(e.track)}}}(e))),i},dataRangeMenuItem:function(e){var t;return(t=au("<div>")).text("Set data range"),{object:t,click:function(){e.browser.dataRangeDialog.configure({trackView:e}),e.browser.dataRangeDialog.present(au(e.trackDiv))}}},trackMenuItemListHelper:function(e,t){var n=[];return e.length>0&&(n=e.map((function(e,n){var r;if(e.name?(r=au("<div>")).text(e.name):e.object?r=e.object:"string"==typeof e.label?(r=au("<div>")).html(e.label):"string"==typeof e&&(r=e.startsWith("<")?au(e):au("<div>"+e+"</div>")),0===n&&r.addClass("igv-track-menu-border-top"),e.click){function i(n){e.click(n),t.hide(),n.preventDefault(),n.stopPropagation()}r.on("click",i),r.on("touchend",(function(e){i(e)})),r.on("mouseup",(function(e){e.preventDefault(),e.stopPropagation()}))}return{object:r,init:e.init||void 0}}))),n}});var Ih=f.f,Lh=function(e){return function(t){for(var n,r=y(t),i=Rt(r),o=i.length,a=0,s=[];o>a;)n=i[a++],u&&!Ih.call(r,n)||s.push(e?[n,r[n]]:r[n]);return s}},Mh={entries:Lh(!0),values:Lh(!1)},Ph=Mh.values;function Nh(e,t){var n=au("<div>",{class:"igv-trackgear-popover-check-container"}),r=au("<div>");n.append(r);var i=Dh("check",!0===t?"#444":"transparent");r.append(i);var o=au("<div>");return o.text(e),n.append(o),n}function Fh(e,t){return au(Dh(e,t))}function Dh(e,t){t=t||"currentColor";var n=Bh[e];n||(console.error("No icon named: ".concat(e)),n=Bh.question);var r='<svg viewBox="0 0 '+n[0]+" "+n[1]+'">';return r+='<path fill="'+t+'" d="'+n[4]+'"></path>',r+="</svg>"}Pe({target:"Object",stat:!0},{values:function(e){return Ph(e)}});var Bh={check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"]},jh={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"white",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"},zh={A:[0,200,0],C:[0,0,200],T:[255,0,0],G:[209,113,5],a:[0,200,0],c:[0,0,200],t:[255,0,0],g:[209,113,5],N:[80,80,80]},Hh={A:"rgb(  0, 200,   0)",C:"rgb(  0,   0, 200)",T:"rgb(255,   0,   0)",G:"rgb(209, 113,   5)",a:"rgb(  0, 200,   0)",c:"rgb(  0,   0, 200)",t:"rgb(255,   0,   0)",g:"rgb(209, 113,   5)",N:"rgb(80, 80, 80)"},Uh={Set1:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(166,86,40)","rgb(152,78,163)","rgb(255,127,0)","rgb(247,129,191)","rgb(153,153,153)","rgb(255,255,51)"],Dark2:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],Set2:["rgb(102, 194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],Set3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],Pastel1:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],Pastel2:["rgb(173,226,207)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(243,225,206)"],Accent:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"]};function qh(e){this.colors=Uh[e],Array.isArray(this.colors)||(this.colors=[]),this.colorTable={},this.nextIdx=0,this.colorGenerator=new Gh}function Gh(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2}qh.prototype.getColor=function(e){return this.colorTable.hasOwnProperty(e)||(this.nextIdx<this.colors.length?this.colorTable[e]=this.colors[this.nextIdx]:this.colorTable[e]=this.colorGenerator.get(),this.nextIdx++),this.colorTable[e]},Gh.prototype.hsvToRgb=function(e,t,n){var r=Math.floor(6*e),i=6*e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=255,c=255,l=255;switch(r){case 0:u=n,c=s,l=o;break;case 1:u=a,c=n,l=o;break;case 2:u=o,c=n,l=s;break;case 3:u=o,c=a,l=n;break;case 4:u=s,c=o,l=n;break;case 5:u=n,c=o,l=a}return[Math.floor(256*u),Math.floor(256*c),Math.floor(256*l)]},Gh.prototype.padHex=function(e){return e.length>this.hexwidth?e:new Array(this.hexwidth-e.length+1).join("0")+e},Gh.prototype.get=function(e,t){this.hue+=this.goldenRatio,this.hue%=1,"number"!=typeof e&&(e=.5),"number"!=typeof t&&(t=.95);var n=this.hsvToRgb(this.hue,e,t);return"#"+this.padHex(n[0].toString(16))+this.padHex(n[1].toString(16))+this.padHex(n[2].toString(16))};var $h=new Gh,Vh=me.includes,Wh=at("indexOf",{ACCESSORS:!0,1:0});Pe({target:"Array",proto:!0,forced:!Wh},{includes:function(e){return Vh(this,e,arguments.length>1?arguments[1]:void 0)}}),pi("includes"),Pe({target:"String",proto:!0,forced:!mn("includes")},{includes:function(e){return!!~String(m(this)).indexOf(gn(e),arguments.length>1?arguments[1]:void 0)}});var Zh=function(e,t){if(0!==e.length){var n=Math.floor(e.length*((100-t)/100));return 0===n?(e.sort((function(e,t){return t-e})),e[n]):function(e,t){var n,r=new Kh;for(n=0;n<e.length;n++){var i=e[n];(r.content.length<t||i>r.content[0])&&(r.content.length===t&&r.pop(),r.push(i))}return r.content[0]}(e,n)}},Xh=function(e,t,n){return Math.min(Math.max(e,t),n)},Yh=function(e){return Math.log(e)/Math.LN2};function Kh(){this.content=[]}Kh.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var r=this.content.pop();if(n===t-1)break;this.content[n]=r,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=t;e>0;){var r=Math.floor((e+1)/2)-1,i=this.content[r];if(n>=i)break;this.content[r]=t,this.content[e]=i,e=r}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=n;;){var i=2*(e+1),o=i-1,a=null;if(o<t){var s=this.content[o],u=s;s<r&&(a=o)}if(i<t&&this.content[i]<(null==a?r:u)&&(a=i),null==a)break;this.content[e]=this.content[a],this.content[a]=n,e=a}}},u&&("g"!=/./g.flags||rn.UNSUPPORTED_Y)&&I.f(RegExp.prototype,"flags",{configurable:!0,get:tn});var Qh,Jh="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,ep=I.f,tp=a.Int8Array,np=tp&&tp.prototype,rp=a.Uint8ClampedArray,ip=rp&&rp.prototype,op=tp&&Si(tp),ap=np&&Si(np),sp=Object.prototype,up=sp.isPrototypeOf,cp=Ge("toStringTag"),lp=$("TYPED_ARRAY_TAG"),fp=Jh&&!!Tt&&"Opera"!==co(a.opera),hp=!1,pp={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},dp=function(e){return b(e)&&k(pp,co(e))};for(Qh in pp)a[Qh]||(fp=!1);if((!fp||"function"!=typeof op||op===Function.prototype)&&(op=function(){throw TypeError("Incorrect invocation")},fp))for(Qh in pp)a[Qh]&&Tt(a[Qh],op);if((!fp||!ap||ap===sp)&&(ap=op.prototype,fp))for(Qh in pp)a[Qh]&&Tt(a[Qh].prototype,ap);if(fp&&Si(ip)!==ap&&Tt(ip,ap),u&&!k(ap,cp))for(Qh in hp=!0,ep(ap,cp,{get:function(){return b(this)?this[lp]:void 0}}),pp)a[Qh]&&L(a[Qh],lp,Qh);var gp={NATIVE_ARRAY_BUFFER_VIEWS:fp,TYPED_ARRAY_TAG:hp&&lp,aTypedArray:function(e){if(dp(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(Tt){if(up.call(op,e))return e}else for(var t in pp)if(k(pp,Qh)){var n=a[t];if(n&&(e===n||up.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(u){if(n)for(var r in pp){var i=a[r];i&&k(i.prototype,e)&&delete i.prototype[e]}ap[e]&&!n||ie(ap,e,n?t:fp&&np[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(u){if(Tt){if(n)for(r in pp)(i=a[r])&&k(i,e)&&delete i[e];if(op[e]&&!n)return;try{return ie(op,e,n?t:fp&&tp[e]||t)}catch(e){}}for(r in pp)!(i=a[r])||i[e]&&!n||ie(i,e,t)}},isView:function(e){var t=co(e);return"DataView"===t||k(pp,t)},isTypedArray:dp,TypedArray:op,TypedArrayPrototype:ap},vp=gp.NATIVE_ARRAY_BUFFER_VIEWS,mp=a.ArrayBuffer,yp=a.Int8Array,bp=!vp||!s((function(){yp(1)}))||!s((function(){new yp(-1)}))||!Ou((function(e){new yp,new yp(null),new yp(1.5),new yp(e)}),!0)||s((function(){return 1!==new yp(new mp(2),1,void 0).length})),wp=function(e){if(void 0===e)return 0;var t=le(e),n=he(t);if(t!==n)throw RangeError("Wrong length or index");return n},xp=Math.abs,kp=Math.pow,_p=Math.floor,Sp=Math.log,Ep=Math.LN2,Cp=function(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?kp(2,-24)-kp(2,-77):0,f=e<0||0===e&&1/e<0?1:0,h=0;for((e=xp(e))!=e||e===1/0?(i=e!=e?1:0,r=u):(r=_p(Sp(e)/Ep),e*(o=kp(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?l/o:l*kp(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*kp(2,t),r+=c):(i=e*kp(2,c-1)*kp(2,t),r=0));t>=8;a[h++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*f,a},Tp=function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=r-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;n=256*n+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return n?NaN:c?-1/0:1/0;n+=kp(2,t),l-=a}return(c?-1:1)*n*kp(2,l-t)},Ap=ke.f,Rp=I.f,Op=re.get,Ip=re.set,Lp=a.ArrayBuffer,Mp=Lp,Pp=a.DataView,Np=Pp&&Pp.prototype,Fp=Object.prototype,Dp=a.RangeError,Bp=Cp,jp=Tp,zp=function(e){return[255&e]},Hp=function(e){return[255&e,e>>8&255]},Up=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},qp=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Gp=function(e){return Bp(e,23,4)},$p=function(e){return Bp(e,52,8)},Vp=function(e,t){Rp(e.prototype,t,{get:function(){return Op(this)[t]}})},Wp=function(e,t,n,r){var i=wp(n),o=Op(e);if(i+t>o.byteLength)throw Dp("Wrong index");var a=Op(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+t);return r?u:u.reverse()},Zp=function(e,t,n,r,i,o){var a=wp(n),s=Op(e);if(a+t>s.byteLength)throw Dp("Wrong index");for(var u=Op(s.buffer).bytes,c=a+s.byteOffset,l=r(+i),f=0;f<t;f++)u[c+f]=l[o?f:t-f-1]};if(Jh){if(!s((function(){Lp(1)}))||!s((function(){new Lp(-1)}))||s((function(){return new Lp,new Lp(1.5),new Lp(NaN),"ArrayBuffer"!=Lp.name}))){for(var Xp,Yp=(Mp=function(e){return gu(this,Mp),new Lp(wp(e))}).prototype=Lp.prototype,Kp=Ap(Lp),Qp=0;Kp.length>Qp;)(Xp=Kp[Qp++])in Mp||L(Mp,Xp,Lp[Xp]);Yp.constructor=Mp}Tt&&Si(Np)!==Fp&&Tt(Np,Fp);var Jp=new Pp(new Mp(2)),ed=Np.setInt8;Jp.setInt8(0,2147483648),Jp.setInt8(1,2147483649),!Jp.getInt8(0)&&Jp.getInt8(1)||du(Np,{setInt8:function(e,t){ed.call(this,e,t<<24>>24)},setUint8:function(e,t){ed.call(this,e,t<<24>>24)}},{unsafe:!0})}else Mp=function(e){gu(this,Mp,"ArrayBuffer");var t=wp(e);Ip(this,{bytes:sh.call(new Array(t),0),byteLength:t}),u||(this.byteLength=t)},Pp=function(e,t,n){gu(this,Pp,"DataView"),gu(e,Mp,"DataView");var r=Op(e).byteLength,i=le(t);if(i<0||i>r)throw Dp("Wrong offset");if(i+(n=void 0===n?r-i:he(n))>r)throw Dp("Wrong length");Ip(this,{buffer:e,byteLength:n,byteOffset:i}),u||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},u&&(Vp(Mp,"byteLength"),Vp(Pp,"buffer"),Vp(Pp,"byteLength"),Vp(Pp,"byteOffset")),du(Pp.prototype,{getInt8:function(e){return Wp(this,1,e)[0]<<24>>24},getUint8:function(e){return Wp(this,1,e)[0]},getInt16:function(e){var t=Wp(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Wp(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return qp(Wp(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return qp(Wp(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return jp(Wp(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return jp(Wp(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Zp(this,1,e,zp,t)},setUint8:function(e,t){Zp(this,1,e,zp,t)},setInt16:function(e,t){Zp(this,2,e,Hp,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Zp(this,2,e,Hp,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Zp(this,4,e,Up,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Zp(this,4,e,Up,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Zp(this,4,e,Gp,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Zp(this,8,e,$p,t,arguments.length>2?arguments[2]:void 0)}});kr(Mp,"ArrayBuffer"),kr(Pp,"DataView");var td={ArrayBuffer:Mp,DataView:Pp},nd=function(e,t){var n=function(e){var t=le(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}(e);if(n%t)throw RangeError("Wrong offset");return n},rd=gp.aTypedArrayConstructor,id=function(e){var t,n,r,i,o,a,s=De(e),u=arguments.length,c=u>1?arguments[1]:void 0,l=void 0!==c,f=wu(s);if(null!=f&&!yu(f))for(a=(o=f.call(s)).next,s=[];!(i=a.call(o)).done;)s.push(i.value);for(l&&u>2&&(c=Fe(c,arguments[2],2)),n=he(s.length),r=new(rd(this))(n),t=0;n>t;t++)r[t]=l?c(s[t],t):s[t];return r},od=i((function(e){var t=ke.f,n=Xe.forEach,r=re.get,i=re.set,o=I.f,s=A.f,c=Math.round,l=a.RangeError,f=td.ArrayBuffer,p=td.DataView,d=gp.NATIVE_ARRAY_BUFFER_VIEWS,g=gp.TYPED_ARRAY_TAG,v=gp.TypedArray,m=gp.TypedArrayPrototype,y=gp.aTypedArrayConstructor,x=gp.isTypedArray,_=function(e,t){for(var n=0,r=t.length,i=new(y(e))(r);r>n;)i[n]=t[n++];return i},S=function(e,t){o(e,t,{get:function(){return r(this)[t]}})},E=function(e){var t;return e instanceof f||"ArrayBuffer"==(t=co(e))||"SharedArrayBuffer"==t},C=function(e,t){return x(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},T=function(e,t){return C(e,t=w(t,!0))?h(2,e[t]):s(e,t)},R=function(e,t,n){return!(C(e,t=w(t,!0))&&b(n)&&k(n,"value"))||k(n,"get")||k(n,"set")||n.configurable||k(n,"writable")&&!n.writable||k(n,"enumerable")&&!n.enumerable?o(e,t,n):(e[t]=n.value,e)};u?(d||(A.f=T,I.f=R,S(m,"buffer"),S(m,"byteOffset"),S(m,"byteLength"),S(m,"length")),Pe({target:"Object",stat:!0,forced:!d},{getOwnPropertyDescriptor:T,defineProperty:R}),e.exports=function(e,s,u){var h=e.match(/\d+$/)[0]/8,y=e+(u?"Clamped":"")+"Array",w="get"+e,k="set"+e,S=a[y],C=S,T=C&&C.prototype,A={},R=function(e,t){o(e,t,{get:function(){return function(e,t){var n=r(e);return n.view[w](t*h+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=r(e);u&&(n=(n=c(n))<0?0:n>255?255:255&n),i.view[k](t*h+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};d?bp&&(C=s((function(e,t,n,r){return gu(e,C,y),At(b(t)?E(t)?void 0!==r?new S(t,nd(n,h),r):void 0!==n?new S(t,nd(n,h)):new S(t):x(t)?_(C,t):id.call(C,t):new S(wp(t)),e,C)})),Tt&&Tt(C,v),n(t(S),(function(e){e in C||L(C,e,S[e])})),C.prototype=T):(C=s((function(e,t,n,r){gu(e,C,y);var o,a,s,u=0,c=0;if(b(t)){if(!E(t))return x(t)?_(C,t):id.call(C,t);o=t,c=nd(n,h);var d=t.byteLength;if(void 0===r){if(d%h)throw l("Wrong length");if((a=d-c)<0)throw l("Wrong length")}else if((a=he(r)*h)+c>d)throw l("Wrong length");s=a/h}else s=wp(t),o=new f(a=s*h);for(i(e,{buffer:o,byteOffset:c,byteLength:a,length:s,view:new p(o)});u<s;)R(e,u++)})),Tt&&Tt(C,v),T=C.prototype=Ft(m)),T.constructor!==C&&L(T,"constructor",C),g&&L(T,g,y),A[y]=C,Pe({global:!0,forced:C!=S,sham:!d},A),"BYTES_PER_ELEMENT"in C||L(C,"BYTES_PER_ELEMENT",h),"BYTES_PER_ELEMENT"in T||L(T,"BYTES_PER_ELEMENT",h),ho(y)}):e.exports=function(){}}));od("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),od("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),od("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var ad=Math.min,sd=[].copyWithin||function(e,t){var n=De(this),r=he(n.length),i=ge(e,r),o=ge(t,r),a=arguments.length>2?arguments[2]:void 0,s=ad((void 0===a?r:ge(a,r))-o,r-i),u=1;for(o<i&&i<o+s&&(u=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=u,o+=u;return n},ud=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("copyWithin",(function(e,t){return sd.call(ud(this),e,t,arguments.length>2?arguments[2]:void 0)}));var cd=Xe.every,ld=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("every",(function(e){return cd(ld(this),e,arguments.length>1?arguments[1]:void 0)}));var fd=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("fill",(function(e){return sh.apply(fd(this),arguments)}));var hd=Xe.filter,pd=gp.aTypedArray,dd=gp.aTypedArrayConstructor;(0,gp.exportTypedArrayMethod)("filter",(function(e){for(var t=hd(pd(this),e,arguments.length>1?arguments[1]:void 0),n=Mn(this,this.constructor),r=0,i=t.length,o=new(dd(n))(i);i>r;)o[r]=t[r++];return o}));var gd=Xe.find,vd=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("find",(function(e){return gd(vd(this),e,arguments.length>1?arguments[1]:void 0)}));var md=Xe.findIndex,yd=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("findIndex",(function(e){return md(yd(this),e,arguments.length>1?arguments[1]:void 0)}));var bd=Xe.forEach,wd=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("forEach",(function(e){bd(wd(this),e,arguments.length>1?arguments[1]:void 0)}));var xd=me.includes,kd=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("includes",(function(e){return xd(kd(this),e,arguments.length>1?arguments[1]:void 0)}));var _d=me.indexOf,Sd=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("indexOf",(function(e){return _d(Sd(this),e,arguments.length>1?arguments[1]:void 0)}));var Ed=Ge("iterator"),Cd=a.Uint8Array,Td=Bi.values,Ad=Bi.keys,Rd=Bi.entries,Od=gp.aTypedArray,Id=gp.exportTypedArrayMethod,Ld=Cd&&Cd.prototype[Ed],Md=!!Ld&&("values"==Ld.name||null==Ld.name),Pd=function(){return Td.call(Od(this))};Id("entries",(function(){return Rd.call(Od(this))})),Id("keys",(function(){return Ad.call(Od(this))})),Id("values",Pd,!Md),Id(Ed,Pd,!Md);var Nd=gp.aTypedArray,Fd=[].join;(0,gp.exportTypedArrayMethod)("join",(function(e){return Fd.apply(Nd(this),arguments)}));var Dd=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("lastIndexOf",(function(e){return Et.apply(Dd(this),arguments)}));var Bd=Xe.map,jd=gp.aTypedArray,zd=gp.aTypedArrayConstructor;(0,gp.exportTypedArrayMethod)("map",(function(e){return Bd(jd(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(zd(Mn(e,e.constructor)))(t)}))}));var Hd=Qf.left,Ud=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("reduce",(function(e){return Hd(Ud(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var qd=Qf.right,Gd=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("reduceRight",(function(e){return qd(Gd(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var $d=gp.aTypedArray,Vd=gp.exportTypedArrayMethod,Wd=Math.floor;Vd("reverse",(function(){for(var e,t=$d(this).length,n=Wd(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}));var Zd=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("set",(function(e){Zd(this);var t=nd(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=De(e),i=he(r.length),o=0;if(i+t>n)throw RangeError("Wrong length");for(;o<i;)this[t+o]=r[o++]}),s((function(){new Int8Array(1).set({})})));var Xd=gp.aTypedArray,Yd=gp.aTypedArrayConstructor,Kd=[].slice;(0,gp.exportTypedArrayMethod)("slice",(function(e,t){for(var n=Kd.call(Xd(this),e,t),r=Mn(this,this.constructor),i=0,o=n.length,a=new(Yd(r))(o);o>i;)a[i]=n[i++];return a}),s((function(){new Int8Array(1).slice()})));var Qd=Xe.some,Jd=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("some",(function(e){return Qd(Jd(this),e,arguments.length>1?arguments[1]:void 0)}));var eg=gp.aTypedArray,tg=[].sort;(0,gp.exportTypedArrayMethod)("sort",(function(e){return tg.call(eg(this),e)}));var ng=gp.aTypedArray;(0,gp.exportTypedArrayMethod)("subarray",(function(e,t){var n=ng(this),r=n.length,i=ge(e,r);return new(Mn(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,he((void 0===t?r:ge(t,r))-i))}));var rg=a.Int8Array,ig=gp.aTypedArray,og=gp.exportTypedArrayMethod,ag=[].toLocaleString,sg=[].slice,ug=!!rg&&s((function(){ag.call(new rg(1))}));og("toLocaleString",(function(){return ag.apply(ug?sg.call(ig(this)):ig(this),arguments)}),s((function(){return[1,2].toLocaleString()!=new rg([1,2]).toLocaleString()}))||!s((function(){rg.prototype.toLocaleString.call([1,2])})));var cg=gp.exportTypedArrayMethod,lg=a.Uint8Array,fg=lg&&lg.prototype||{},hg=[].toString,pg=[].join;s((function(){hg.call({})}))&&(hg=function(){return pg.call(this)});var dg=fg.toString!=hg;cg("toString",hg,dg);var gg={Huffman:{},Util:{},CRC32:{},CompressionMethod:{DEFLATE:8,RESERVED:15},Zip:function(e){e=e||{},this.files=[],this.comment=e.comment,this.password}};gg.Zip.CompressionMethod={STORE:0,DEFLATE:8},gg.Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},gg.Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},gg.Zip.FileHeaderSignature=[80,75,1,2],gg.Zip.LocalFileHeaderSignature=[80,75,3,4],gg.Zip.CentralDirectorySignature=[80,75,5,6],gg.Zip.prototype.addFile=function(e,t){(t=t||{}).filename;var n,r=e.length,i=0;if(e instanceof Array&&(e=new Uint8Array(e)),"number"!=typeof t.compressionMethod&&(t.compressionMethod=gg.Zip.CompressionMethod.DEFLATE),t.compress)switch(t.compressionMethod){case gg.Zip.CompressionMethod.STORE:break;case gg.Zip.CompressionMethod.DEFLATE:i=gg.CRC32.calc(e),e=this.deflateWithOption(e,t),n=!0;break;default:throw new Error("unknown compression method:"+t.compressionMethod)}this.files.push({buffer:e,option:t,compressed:n,encrypted:!1,size:r,crc32:i})},gg.Zip.prototype.setPassword=function(e){this.password=e},gg.Zip.prototype.compress=function(){var e,t,n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,b,w,x,k,_,S,E,C=this.files,T=0,A=0;for(k=0,_=C.length;k<_;++k){if(p=(e=C[k]).option.filename?e.option.filename.length:0,d=e.option.extraField?e.option.extraField.length:0,g=e.option.comment?e.option.comment.length:0,!e.compressed)switch(e.crc32=gg.CRC32.calc(e.buffer),e.option.compressionMethod){case gg.Zip.CompressionMethod.STORE:break;case gg.Zip.CompressionMethod.DEFLATE:e.buffer=this.deflateWithOption(e.buffer,e.option),e.compressed=!0;break;default:throw new Error("unknown compression method:"+e.option.compressionMethod)}if(void 0!==e.option.password||void 0!==this.password){for(x=this.createEncryptionKey(e.option.password||this.password),b=e.buffer,(w=new Uint8Array(b.length+12)).set(b,12),b=w,S=0;S<12;++S)b[S]=this.encode(x,11===k?255&e.crc32:256*Math.random()|0);for(E=b.length;S<E;++S)b[S]=this.encode(x,b[S]);e.buffer=b}T+=30+p+e.buffer.length,A+=46+p+g}for(o=22+(this.comment?this.comment.length:0),t=new Uint8Array(T+A+o),n=0,i=(r=T)+A,k=0,_=C.length;k<_;++k)p=(e=C[k]).option.filename?e.option.filename.length:0,d=0,g=e.option.comment?e.option.comment.length:0,a=n,t[n++]=gg.Zip.LocalFileHeaderSignature[0],t[n++]=gg.Zip.LocalFileHeaderSignature[1],t[n++]=gg.Zip.LocalFileHeaderSignature[2],t[n++]=gg.Zip.LocalFileHeaderSignature[3],t[r++]=gg.Zip.FileHeaderSignature[0],t[r++]=gg.Zip.FileHeaderSignature[1],t[r++]=gg.Zip.FileHeaderSignature[2],t[r++]=gg.Zip.FileHeaderSignature[3],t[r++]=20,t[r++]=e.option.os||gg.Zip.OperatingSystem.MSDOS,t[n++]=t[r++]=20,t[n++]=t[r++]=0,s=0,(e.option.password||this.password)&&(s|=gg.Zip.Flags.ENCRYPT),t[n++]=t[r++]=255&s,t[n++]=t[r++]=s>>8&255,u=e.option.compressionMethod,t[n++]=t[r++]=255&u,t[n++]=t[r++]=u>>8&255,c=e.option.date||new Date,t[n++]=t[r++]=(7&c.getMinutes())<<5|c.getSeconds()/2|0,t[n++]=t[r++]=c.getHours()<<3|c.getMinutes()>>3,t[n++]=t[r++]=(c.getMonth()+1&7)<<5|c.getDate(),t[n++]=t[r++]=(c.getFullYear()-1980&127)<<1|c.getMonth()+1>>3,l=e.crc32,t[n++]=t[r++]=255&l,t[n++]=t[r++]=l>>8&255,t[n++]=t[r++]=l>>16&255,t[n++]=t[r++]=l>>24&255,f=e.buffer.length,t[n++]=t[r++]=255&f,t[n++]=t[r++]=f>>8&255,t[n++]=t[r++]=f>>16&255,t[n++]=t[r++]=f>>24&255,h=e.size,t[n++]=t[r++]=255&h,t[n++]=t[r++]=h>>8&255,t[n++]=t[r++]=h>>16&255,t[n++]=t[r++]=h>>24&255,t[n++]=t[r++]=255&p,t[n++]=t[r++]=p>>8&255,t[n++]=t[r++]=255&d,t[n++]=t[r++]=d>>8&255,t[r++]=255&g,t[r++]=g>>8&255,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=a>>16&255,t[r++]=a>>24&255,(v=e.option.filename)&&(t.set(v,n),t.set(v,r),n+=p,r+=p),(m=e.option.extraField)&&(t.set(m,n),t.set(m,r),n+=d,r+=d),(y=e.option.comment)&&(t.set(y,r),r+=g),t.set(e.buffer,n),n+=e.buffer.length;return t[i++]=gg.Zip.CentralDirectorySignature[0],t[i++]=gg.Zip.CentralDirectorySignature[1],t[i++]=gg.Zip.CentralDirectorySignature[2],t[i++]=gg.Zip.CentralDirectorySignature[3],t[i++]=0,t[i++]=0,t[i++]=0,t[i++]=0,t[i++]=255&_,t[i++]=_>>8&255,t[i++]=255&_,t[i++]=_>>8&255,t[i++]=255&A,t[i++]=A>>8&255,t[i++]=A>>16&255,t[i++]=A>>24&255,t[i++]=255&T,t[i++]=T>>8&255,t[i++]=T>>16&255,t[i++]=T>>24&255,g=this.comment?this.comment.length:0,t[i++]=255&g,t[i++]=g>>8&255,this.comment&&(t.set(this.comment,i),i+=g),t},gg.Zip.prototype.deflateWithOption=function(e,t){return new gg.RawDeflate(e,t.deflateOption).compress()},gg.Zip.prototype.getByte=function(e){var t=65535&e[2]|2;return t*(1^t)>>8&255},gg.Zip.prototype.encode=function(e,t){var n=this.getByte(e);return this.updateKeys(e,t),n^t},gg.Zip.prototype.updateKeys=function(e,t){e[0]=gg.CRC32.single(e[0],t),e[1]=1+(6681*(20173*(e[1]+(255&e[0]))>>>0)>>>0)>>>0,e[2]=gg.CRC32.single(e[2],e[1]>>>24)},gg.Zip.prototype.createEncryptionKey=function(e){var t,n,r=[305419896,591751049,878082192];for(r=new Uint32Array(r),t=0,n=e.length;t<n;++t)this.updateKeys(r,255&e[t]);return r},gg.Huffman.buildHuffmanTable=function(e){var t,n,r,i,o,a,s,u,c,l,f,h=e.length,p=0,d=Number.POSITIVE_INFINITY;for(u=0,c=h;u<c;++u)e[u]>p&&(p=e[u]),e[u]<d&&(d=e[u]);for(t=1<<p,n=new Uint32Array(t),r=1,i=0,o=2;r<=p;){for(u=0;u<h;++u)if(e[u]===r){for(a=0,s=i,l=0;l<r;++l)a=a<<1|1&s,s>>=1;for(f=r<<16|u,l=a;l<t;l+=o)n[l]=f;++i}++r,i<<=1,o<<=1}return[n,p,d]};var vg=gg.Huffman.buildHuffmanTable;function mg(e){return"string"==typeof e||e instanceof String}function yg(e){var t=String(e).split(/[.,]/);return t[0].split("").reverse().reduce((function(e,t,n){return n%3==0?e+","+t:e+t})).split("").reverse().join("")+(t[1]?"."+t[1]:"")}gg.RawInflate=function(e,t){switch(this.buffer,this.blocks=[],this.bufferSize=32768,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output,this.op,this.bfinal=!1,this.bufferType=gg.RawInflate.BufferType.ADAPTIVE,this.resize=!1,!t&&(t={})||(t.index&&(this.ip=t.index),t.bufferSize&&(this.bufferSize=t.bufferSize),t.bufferType&&(this.bufferType=t.bufferType),t.resize&&(this.resize=t.resize)),this.bufferType){case gg.RawInflate.BufferType.BLOCK:this.op=gg.RawInflate.MaxBackwardLength,this.output=new Uint8Array(gg.RawInflate.MaxBackwardLength+this.bufferSize+gg.RawInflate.MaxCopyLength);break;case gg.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new Uint8Array(this.bufferSize);break;default:throw new Error("invalid inflate mode")}},gg.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},gg.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case gg.RawInflate.BufferType.BLOCK:return this.concatBufferBlock();case gg.RawInflate.BufferType.ADAPTIVE:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}},gg.RawInflate.MaxBackwardLength=32768,gg.RawInflate.MaxCopyLength=258,gg.RawInflate.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gg.RawInflate.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),gg.RawInflate.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),gg.RawInflate.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),gg.RawInflate.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),gg.RawInflate.FixedLiteralLengthTable=function(){var e,t,n=new Uint8Array(288);for(e=0,t=n.length;e<t;++e)n[e]=e<=143?8:e<=255?9:e<=279?7:8;return vg(n)}(),gg.RawInflate.FixedDistanceTable=function(){var e,t,n=new Uint8Array(30);for(e=0,t=n.length;e<t;++e)n[e]=5;return vg(n)}(),gg.RawInflate.prototype.parseBlock=function(){var e=this.readBits(3);switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+e)}},gg.RawInflate.prototype.readBits=function(e){var t,n=this.bitsbuf,r=this.bitsbuflen,i=this.input,o=this.ip;if(o+(e-r+7>>3)>=i.length)throw new Error("input buffer is broken");for(;r<e;)n|=i[o++]<<r,r+=8;return t=n&(1<<e)-1,n>>>=e,r-=e,this.bitsbuf=n,this.bitsbuflen=r,this.ip=o,t},gg.RawInflate.prototype.readCodeByTable=function(e){for(var t,n,r=this.bitsbuf,i=this.bitsbuflen,o=this.input,a=this.ip,s=o.length,u=e[0],c=e[1];i<c&&!(a>=s);)r|=o[a++]<<i,i+=8;if((n=(t=u[r&(1<<c)-1])>>>16)>i)throw new Error("invalid code length: "+n);return this.bitsbuf=r>>n,this.bitsbuflen=i-n,this.ip=a,65535&t},gg.RawInflate.prototype.parseUncompressedBlock=function(){var e,t,n=this.input,r=this.ip,i=this.output,o=this.op,a=n.length,s=i.length;if(this.bitsbuf=0,this.bitsbuflen=0,r+1>=a)throw new Error("invalid uncompressed block header: LEN");if(e=n[r++]|n[r++]<<8,r+1>=a)throw new Error("invalid uncompressed block header: NLEN");if(e===~(n[r++]|n[r++]<<8))throw new Error("invalid uncompressed block header: length verify");if(r+e>n.length)throw new Error("input buffer is broken");switch(this.bufferType){case gg.RawInflate.BufferType.BLOCK:for(;o+e>i.length;)e-=t=s-o,i.set(n.subarray(r,r+t),o),o+=t,r+=t,this.op=o,i=this.expandBufferBlock(),o=this.op;break;case gg.RawInflate.BufferType.ADAPTIVE:for(;o+e>i.length;)i=this.expandBufferAdaptive({fixRatio:2});break;default:throw new Error("invalid inflate mode")}i.set(n.subarray(r,r+e),o),o+=e,r+=e,this.ip=r,this.op=o,this.output=i},gg.RawInflate.prototype.parseFixedHuffmanBlock=function(){switch(this.bufferType){case gg.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(gg.RawInflate.FixedLiteralLengthTable,gg.RawInflate.FixedDistanceTable);break;case gg.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(gg.RawInflate.FixedLiteralLengthTable,gg.RawInflate.FixedDistanceTable);break;default:throw new Error("invalid inflate mode")}},gg.RawInflate.prototype.parseDynamicHuffmanBlock=function(){var e,t,n,r,i,o,a,s,u,c=this.readBits(5)+257,l=this.readBits(5)+1,f=this.readBits(4)+4,h=new Uint8Array(gg.RawInflate.Order.length);for(s=0;s<f;++s)h[gg.RawInflate.Order[s]]=this.readBits(3);for(e=vg(h),r=new Uint8Array(c+l),s=0,u=c+l;s<u;)switch(i=this.readCodeByTable(e)){case 16:for(a=3+this.readBits(2);a--;)r[s++]=o;break;case 17:for(a=3+this.readBits(3);a--;)r[s++]=0;o=0;break;case 18:for(a=11+this.readBits(7);a--;)r[s++]=0;o=0;break;default:r[s++]=i,o=i}switch(t=vg(r.subarray(0,c)),n=vg(r.subarray(c)),this.bufferType){case gg.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(t,n);break;case gg.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(t,n);break;default:throw new Error("invalid inflate mode")}},gg.RawInflate.prototype.decodeHuffmanBlock=function(e,t){var n=this.output,r=this.op;this.currentLitlenTable=e;for(var i,o,a,s,u=n.length-gg.RawInflate.MaxCopyLength,c=gg.RawInflate.LengthCodeTable,l=gg.RawInflate.LengthExtraTable,f=gg.RawInflate.DistCodeTable,h=gg.RawInflate.DistExtraTable;256!==(i=this.readCodeByTable(e));)if(i<256)r>=u&&(this.op=r,n=this.expandBufferBlock(),r=this.op),n[r++]=i;else for(s=c[o=i-257],l[o]>0&&(s+=this.readBits(l[o])),a=f[i=this.readCodeByTable(t)],h[i]>0&&(a+=this.readBits(h[i])),r>=u&&(this.op=r,n=this.expandBufferBlock(),r=this.op);s--;)n[r]=n[r++-a];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},gg.RawInflate.prototype.decodeHuffmanAdaptive=function(e,t){var n=this.output,r=this.op;this.currentLitlenTable=e;for(var i,o,a,s,u=n.length,c=gg.RawInflate.LengthCodeTable,l=gg.RawInflate.LengthExtraTable,f=gg.RawInflate.DistCodeTable,h=gg.RawInflate.DistExtraTable;256!==(i=this.readCodeByTable(e));)if(i<256)r>=u&&(u=(n=this.expandBufferAdaptive()).length),n[r++]=i;else for(s=c[o=i-257],l[o]>0&&(s+=this.readBits(l[o])),a=f[i=this.readCodeByTable(t)],h[i]>0&&(a+=this.readBits(h[i])),r+s>u&&(u=(n=this.expandBufferAdaptive()).length);s--;)n[r]=n[r++-a];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},gg.RawInflate.prototype.expandBufferBlock=function(e){var t=new Uint8Array(this.op-gg.RawInflate.MaxBackwardLength),n=this.op-gg.RawInflate.MaxBackwardLength,r=this.output;return t.set(r.subarray(gg.RawInflate.MaxBackwardLength,t.length)),this.blocks.push(t),this.totalpos+=t.length,r.set(r.subarray(n,n+gg.RawInflate.MaxBackwardLength)),this.op=gg.RawInflate.MaxBackwardLength,r},gg.RawInflate.prototype.expandBufferAdaptive=function(e){var t,n,r,i=this.input.length/this.ip+1|0,o=this.input,a=this.output;return e&&("number"==typeof e.fixRatio&&(i=e.fixRatio),"number"==typeof e.addRatio&&(i+=e.addRatio)),n=i<2?(r=(o.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<a.length?a.length+r:a.length<<1:a.length*i,(t=new Uint8Array(n)).set(a),this.output=t,this.output},gg.RawInflate.prototype.concatBufferBlock=function(){var e,t,n,r,i,o=0,a=this.totalpos+(this.op-gg.RawInflate.MaxBackwardLength),s=this.output,u=this.blocks,c=new Uint8Array(a);if(0===u.length)return this.output.subarray(gg.RawInflate.MaxBackwardLength,this.op);for(t=0,n=u.length;t<n;++t)for(r=0,i=(e=u[t]).length;r<i;++r)c[o++]=e[r];for(t=gg.RawInflate.MaxBackwardLength,n=this.op;t<n;++t)c[o++]=s[t];return this.blocks=[],this.buffer=c,this.buffer},gg.RawInflate.prototype.concatBufferDynamic=function(){var e,t=this.op;return this.resize?(e=new Uint8Array(t)).set(this.output.subarray(0,t)):e=this.output.subarray(0,t),this.buffer=e,this.buffer},vg=gg.Huffman.buildHuffmanTable,gg.RawInflateStream=function(e,t,n){this.blocks=[],this.bufferSize=n||65e3,this.totalpos=0,this.ip=void 0===t?0:t,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output=new Uint8Array(this.bufferSize),this.op=0,this.bfinal=!1,this.blockLength,this.resize=!1,this.litlenTable,this.distTable,this.sp=0,this.status=gg.RawInflateStream.Status.INITIALIZED,this.ip_,this.bitsbuflen_,this.bitsbuf_},gg.RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},gg.RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},gg.RawInflateStream.prototype.decompress=function(e,t){var n=!1;for(void 0!==e&&(this.input=e),void 0!==t&&(this.ip=t);!n;)switch(this.status){case gg.RawInflateStream.Status.INITIALIZED:case gg.RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(n=!0);break;case gg.RawInflateStream.Status.BLOCK_HEADER_END:case gg.RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case gg.RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(n=!0);break;case gg.RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(n=!0);break;case gg.RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(n=!0)}break;case gg.RawInflateStream.Status.BLOCK_BODY_END:case gg.RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case gg.RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(n=!0);break;case gg.RawInflateStream.BlockType.FIXED:case gg.RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(n=!0)}break;case gg.RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?n=!0:this.status=gg.RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},gg.RawInflateStream.MaxBackwardLength=32768,gg.RawInflateStream.MaxCopyLength=258,gg.RawInflateStream.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gg.RawInflateStream.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),gg.RawInflateStream.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),gg.RawInflateStream.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),gg.RawInflateStream.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),gg.RawInflateStream.FixedLiteralLengthTable=function(){var e,t,n=new Uint8Array(288);for(e=0,t=n.length;e<t;++e)n[e]=e<=143?8:e<=255?9:e<=279?7:8;return vg(n)}(),gg.RawInflateStream.FixedDistanceTable=function(){var e,t,n=new Uint8Array(30);for(e=0,t=n.length;e<t;++e)n[e]=5;return vg(n)}(),gg.RawInflateStream.prototype.readBlockHeader=function(){var e;if(this.status=gg.RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(e=this.readBits(3))<0)return this.restore_(),-1;switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.currentBlockType=gg.RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=gg.RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=gg.RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+e)}this.status=gg.RawInflateStream.Status.BLOCK_HEADER_END},gg.RawInflateStream.prototype.readBits=function(e){for(var t,n=this.bitsbuf,r=this.bitsbuflen,i=this.input,o=this.ip;r<e;){if(i.length<=o)return-1;n|=(t=i[o++])<<r,r+=8}return t=n&(1<<e)-1,n>>>=e,r-=e,this.bitsbuf=n,this.bitsbuflen=r,this.ip=o,t},gg.RawInflateStream.prototype.readCodeByTable=function(e){for(var t,n,r=this.bitsbuf,i=this.bitsbuflen,o=this.input,a=this.ip,s=e[0],u=e[1];i<u;){if(o.length<=a)return-1;r|=o[a++]<<i,i+=8}if((n=(t=s[r&(1<<u)-1])>>>16)>i)throw new Error("invalid code length: "+n);return this.bitsbuf=r>>n,this.bitsbuflen=i-n,this.ip=a,65535&t},gg.RawInflateStream.prototype.readUncompressedBlockHeader=function(){var e,t=this.input,n=this.ip;if(this.status=gg.RawInflateStream.Status.BLOCK_BODY_START,n+4>=t.length)return-1;if((e=t[n++]|t[n++]<<8)==~(t[n++]|t[n++]<<8))throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=n,this.blockLength=e,this.status=gg.RawInflateStream.Status.BLOCK_BODY_END},gg.RawInflateStream.prototype.parseUncompressedBlock=function(){var e=this.input,t=this.ip,n=this.output,r=this.op,i=this.blockLength;for(this.status=gg.RawInflateStream.Status.DECODE_BLOCK_START;i--;){if(r===n.length&&(n=this.expandBuffer({fixRatio:2})),t>=e.length)return this.ip=t,this.op=r,this.blockLength=i+1,-1;n[r++]=e[t++]}return i<0&&(this.status=gg.RawInflateStream.Status.DECODE_BLOCK_END),this.ip=t,this.op=r,0},gg.RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=gg.RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=gg.RawInflateStream.FixedLiteralLengthTable,this.distTable=gg.RawInflateStream.FixedDistanceTable,this.status=gg.RawInflateStream.Status.BLOCK_BODY_END,0},gg.RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},gg.RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},gg.RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var e,t,n,r,i=new Uint8Array(gg.RawInflateStream.Order.length);if(this.status=gg.RawInflateStream.Status.BLOCK_BODY_START,this.save_(),e=this.readBits(5)+257,t=this.readBits(5)+1,n=this.readBits(4)+4,e<0||t<0||n<0)return this.restore_(),-1;try{(function(){var o,a,s,u,c,l,f=0;for(c=0;c<n;++c){if((o=this.readBits(3))<0)throw new Error("not enough input");i[gg.RawInflateStream.Order[c]]=o}for(r=vg(i),u=new Uint8Array(e+t),c=0,l=e+t;c<l;){if((a=this.readCodeByTable(r))<0)throw new Error("not enough input");switch(a){case 16:if((o=this.readBits(2))<0)throw new Error("not enough input");for(s=3+o;s--;)u[c++]=f;break;case 17:if((o=this.readBits(3))<0)throw new Error("not enough input");for(s=3+o;s--;)u[c++]=0;f=0;break;case 18:if((o=this.readBits(7))<0)throw new Error("not enough input");for(s=11+o;s--;)u[c++]=0;f=0;break;default:u[c++]=a,f=a}}this.litlenTable=vg(u.subarray(0,e)),this.distTable=vg(u.subarray(e))}).call(this)}catch(e){return this.restore_(),-1}return this.status=gg.RawInflateStream.Status.BLOCK_BODY_END,0},gg.RawInflateStream.prototype.decodeHuffman=function(){var e,t,n,r,i,o=this.output,a=this.op,s=this.litlenTable,u=this.distTable,c=o.length;for(this.status=gg.RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(e=this.readCodeByTable(s))<0)return this.op=a,this.restore_(),-1;if(256===e)break;if(e<256)a===c&&(c=(o=this.expandBuffer()).length),o[a++]=e;else{if(t=e-257,r=gg.RawInflateStream.LengthCodeTable[t],gg.RawInflateStream.LengthExtraTable[t]>0){if((i=this.readBits(gg.RawInflateStream.LengthExtraTable[t]))<0)return this.op=a,this.restore_(),-1;r+=i}if((e=this.readCodeByTable(u))<0)return this.op=a,this.restore_(),-1;if(n=gg.RawInflateStream.DistCodeTable[e],gg.RawInflateStream.DistExtraTable[e]>0){if((i=this.readBits(gg.RawInflateStream.DistExtraTable[e]))<0)return this.op=a,this.restore_(),-1;n+=i}for(a+r>=c&&(c=(o=this.expandBuffer()).length);r--;)o[a]=o[a++-n];if(this.ip===this.input.length)return this.op=a,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=a,this.status=gg.RawInflateStream.Status.DECODE_BLOCK_END},gg.RawInflateStream.prototype.expandBuffer=function(e){var t,n,r,i=this.input.length/this.ip+1|0,o=this.input,a=this.output;return e&&("number"==typeof e.fixRatio&&(i=e.fixRatio),"number"==typeof e.addRatio&&(i+=e.addRatio)),n=i<2?(r=(o.length-this.ip)/this.litlenTable[2]/2*258|0)<a.length?a.length+r:a.length<<1:a.length*i,(t=new Uint8Array(n)).set(a),this.output=t,this.output},gg.RawInflateStream.prototype.concatBuffer=function(){var e,t,n=this.op;return e=this.resize?new Uint8Array(this.output.subarray(this.sp,n)):this.output.subarray(this.sp,n),this.sp=n,n>gg.RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=gg.RawInflateStream.MaxBackwardLength,t=this.output,this.output=new Uint8Array(this.bufferSize+gg.RawInflateStream.MaxBackwardLength),this.output.set(t.subarray(n-gg.RawInflateStream.MaxBackwardLength,n))),e},gg.Inflate=function(e,t){var n,r;switch(this.input=e,this.ip=0,this.rawinflate,this.verify,!t&&(t={})||(t.index&&(this.ip=t.index),t.verify&&(this.verify=t.verify)),n=e[this.ip++],r=e[this.ip++],15&n){case gg.CompressionMethod.DEFLATE:this.method=gg.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.rawinflate=new gg.RawInflate(e,{index:this.ip,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})},gg.Inflate.BufferType=gg.RawInflate.BufferType,gg.Inflate.prototype.decompress=function(){var e,t=this.input;if(e=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(t[this.ip++]<<24|t[this.ip++]<<16|t[this.ip++]<<8|t[this.ip++])>>>0!==gg.Adler32(e))throw new Error("invalid adler-32 checksum");return e},gg.InflateStream=function(e){this.input=void 0===e?new Uint8Array:e,this.ip=0,this.rawinflate=new gg.RawInflateStream(this.input,this.ip),this.method,this.output=this.rawinflate.output},gg.InflateStream.prototype.decompress=function(e){var t;if(void 0!==e){var n=new Uint8Array(this.input.length+e.length);n.set(this.input,0),n.set(e,this.input.length),this.input=n}return void 0===this.method&&this.readHeader()<0?new Uint8Array:(t=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=this.input.subarray(this.rawinflate.ip),this.ip=0),t)},gg.InflateStream.prototype.readHeader=function(){var e=this.ip,t=this.input,n=t[e++],r=t[e++];if(void 0===n||void 0===r)return-1;switch(15&n){case gg.CompressionMethod.DEFLATE:this.method=gg.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.ip=e},gg.Gunzip=function(e,t){this.input=e,this.ip=0,this.member=[],this.decompressed=!1},gg.Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},gg.Gunzip.prototype.decompress=function(){for(var e=this.input.length;this.ip<e;)this.decodeMember();return this.decompressed=!0,this.concatMember()},gg.Gunzip.prototype.decodeMember=function(){var e,t,n,r,i,o,a,s,u,c=new gg.GunzipMember,l=this.input,f=this.ip;if(c.id1=l[f++],c.id2=l[f++],31!==c.id1||139!==c.id2)throw new Error("invalid file signature:"+c.id1+","+c.id2);switch(c.cm=l[f++],c.cm){case 8:break;default:throw new Error("unknown compression method: "+c.cm)}if(c.flg=l[f++],s=l[f++]|l[f++]<<8|l[f++]<<16|l[f++]<<24,c.mtime=new Date(1e3*s),c.xfl=l[f++],c.os=l[f++],(c.flg&gg.Gzip.FlagsMask.FEXTRA)>0&&(c.xlen=l[f++]|l[f++]<<8,f=this.decodeSubField(f,c.xlen)),(c.flg&gg.Gzip.FlagsMask.FNAME)>0){for(a=[],o=0;(i=l[f++])>0;)a[o++]=String.fromCharCode(i);c.name=a.join("")}if((c.flg&gg.Gzip.FlagsMask.FCOMMENT)>0){for(a=[],o=0;(i=l[f++])>0;)a[o++]=String.fromCharCode(i);c.comment=a.join("")}if((c.flg&gg.Gzip.FlagsMask.FHCRC)>0&&(c.crc16=65535&gg.CRC32.calc(l,0,f),c.crc16!==(l[f++]|l[f++]<<8)))throw new Error("invalid header crc16");if(e=l[l.length-4]|l[l.length-3]<<8|l[l.length-2]<<16|l[l.length-1]<<24,l.length-f-4-4<512*e&&(r=e),t=new gg.RawInflate(l,{index:f,bufferSize:r}),c.data=n=t.decompress(),f=t.ip,c.crc32=u=(l[f++]|l[f++]<<8|l[f++]<<16|l[f++]<<24)>>>0,gg.CRC32.calc(n)!==u)throw new Error("invalid CRC-32 checksum: 0x"+gg.CRC32.calc(n).toString(16)+" / 0x"+u.toString(16));if(c.isize=e=(l[f++]|l[f++]<<8|l[f++]<<16|l[f++]<<24)>>>0,(4294967295&n.length)!==e)throw new Error("invalid input size: "+(4294967295&n.length)+" / "+e);this.member.push(c),this.ip=f},gg.Gunzip.prototype.decodeSubField=function(e,t){return e+t},gg.Gunzip.prototype.concatMember=function(){var e,t,n,r=this.member,i=0,o=0;for(e=0,t=r.length;e<t;++e)o+=r[e].data.length;for(n=new Uint8Array(o),e=0;e<t;++e)n.set(r[e].data,i),i+=r[e].data.length;return n},gg.GunzipMember=function(){this.id1,this.id2,this.cm,this.flg,this.mtime,this.xfl,this.os,this.crc16,this.xlen,this.crc32,this.isize,this.name,this.comment,this.data},gg.GunzipMember.prototype.getName=function(){return this.name},gg.GunzipMember.prototype.getData=function(){return this.data},gg.GunzipMember.prototype.getMtime=function(){return this.mtime},gg.Gzip=function(e,t){this.input=e,this.ip=0,this.output,this.op=0,this.flags={},this.filename,this.comment,this.deflateOptions,t&&(t.flags&&(this.flags=t.flags),"string"==typeof t.filename&&(this.filename=t.filename),"string"==typeof t.comment&&(this.comment=t.comment),t.deflateOptions&&(this.deflateOptions=t.deflateOptions)),this.deflateOptions||(this.deflateOptions={})},gg.Gzip.DefaultBufferSize=32768,gg.Gzip.prototype.compress=function(){var e,t,n,r,i,o,a,s,u=new Uint8Array(gg.Gzip.DefaultBufferSize),c=0,l=this.input,f=this.ip,h=this.filename,p=this.comment;if(u[c++]=31,u[c++]=139,u[c++]=8,e=0,this.flags.fname&&(e|=gg.Gzip.FlagsMask.FNAME),this.flags.fcomment&&(e|=gg.Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(e|=gg.Gzip.FlagsMask.FHCRC),u[c++]=e,t=(Date.now?Date.now():+new Date)/1e3|0,u[c++]=255&t,u[c++]=t>>>8&255,u[c++]=t>>>16&255,u[c++]=t>>>24&255,u[c++]=0,u[c++]=gg.Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(a=0,s=h.length;a<s;++a)(o=h.charCodeAt(a))>255&&(u[c++]=o>>>8&255),u[c++]=255&o;u[c++]=0}if(this.flags.comment){for(a=0,s=p.length;a<s;++a)(o=p.charCodeAt(a))>255&&(u[c++]=o>>>8&255),u[c++]=255&o;u[c++]=0}return this.flags.fhcrc&&(n=65535&gg.CRC32.calc(u,0,c),u[c++]=255&n,u[c++]=n>>>8&255),this.deflateOptions.outputBuffer=u,this.deflateOptions.outputIndex=c,u=(i=new gg.RawDeflate(l,this.deflateOptions)).compress(),(c=i.op)+8>u.buffer.byteLength?(this.output=new Uint8Array(c+8),this.output.set(new Uint8Array(u.buffer)),u=this.output):u=new Uint8Array(u.buffer),r=gg.CRC32.calc(l),u[c++]=255&r,u[c++]=r>>>8&255,u[c++]=r>>>16&255,u[c++]=r>>>24&255,s=l.length,u[c++]=255&s,u[c++]=s>>>8&255,u[c++]=s>>>16&255,u[c++]=s>>>24&255,this.ip=f,c<u.length&&(this.output=u=u.subarray(0,c)),u},gg.Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},gg.Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16},gg.Heap=function(e){this.buffer=new Uint16Array(2*e),this.length=0},gg.Heap.prototype.getParent=function(e){return 2*((e-2)/4|0)},gg.Heap.prototype.getChild=function(e){return 2*e+2},gg.Heap.prototype.push=function(e,t){var n,r,i,o=this.buffer;for(n=this.length,o[this.length++]=t,o[this.length++]=e;n>0&&(r=this.getParent(n),o[n]>o[r]);)i=o[n],o[n]=o[r],o[r]=i,i=o[n+1],o[n+1]=o[r+1],o[r+1]=i,n=r;return this.length},gg.Heap.prototype.pop=function(){var e,t,n,r,i,o=this.buffer;for(t=o[0],e=o[1],this.length-=2,o[0]=o[this.length],o[1]=o[this.length+1],i=0;!((r=this.getChild(i))>=this.length)&&(r+2<this.length&&o[r+2]>o[r]&&(r+=2),o[r]>o[i]);)n=o[i],o[i]=o[r],o[r]=n,n=o[i+1],o[i+1]=o[r+1],o[r+1]=n,i=r;return{index:e,value:t,length:this.length}},gg.RawDeflate=function(e,t){this.compressionType=gg.RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.freqsLitLen,this.freqsDist,this.input=e instanceof Array?new Uint8Array(e):e,this.output,this.op=0,t&&(t.lazy&&(this.lazy=t.lazy),"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t.outputBuffer&&(this.output=t.outputBuffer instanceof Array?new Uint8Array(t.outputBuffer):t.outputBuffer),"number"==typeof t.outputIndex&&(this.op=t.outputIndex)),this.output||(this.output=new Uint8Array(32768))},gg.RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},gg.RawDeflate.Lz77MinLength=3,gg.RawDeflate.Lz77MaxLength=258,gg.RawDeflate.WindowSize=32768,gg.RawDeflate.MaxCodeLength=16,gg.RawDeflate.HUFMAX=286,gg.RawDeflate.FixedHuffmanTable=function(){var e,t=[];for(e=0;e<288;e++)switch(!0){case e<=143:t.push([e+48,8]);break;case e<=255:t.push([e-144+400,9]);break;case e<=279:t.push([e-256+0,7]);break;case e<=287:t.push([e-280+192,8]);break;default:throw"invalid literal: "+e}return t}(),gg.RawDeflate.prototype.compress=function(){var e,t,n,r=this.input;switch(this.compressionType){case gg.RawDeflate.CompressionType.NONE:for(t=0,n=r.length;t<n;)t+=(e=r.subarray(t,t+65535)).length,this.makeNocompressBlock(e,t===n);break;case gg.RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(r,!0),this.op=this.output.length;break;case gg.RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(r,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},gg.RawDeflate.prototype.makeNocompressBlock=function(e,t){var n,r,i,o,a=this.output,s=this.op;for(a=new Uint8Array(this.output.buffer);a.length<=s+e.length+5;)a=new Uint8Array(a.length<<1);return a.set(this.output),n=t?1:0,r=gg.RawDeflate.CompressionType.NONE,a[s++]=n|r<<1,o=65536+~(i=e.length)&65535,a[s++]=255&i,a[s++]=i>>>8&255,a[s++]=255&o,a[s++]=o>>>8&255,a.set(e,s),s+=e.length,a=a.subarray(0,s),this.op=s,this.output=a,a},gg.RawDeflate.prototype.makeFixedHuffmanBlock=function(e,t){var n,r,i,o=new gg.BitStream(new Uint8Array(this.output.buffer),this.op);return n=t?1:0,r=gg.RawDeflate.CompressionType.FIXED,o.writeBits(n,1,!0),o.writeBits(r,2,!0),i=this.lz77(e),this.fixedHuffman(i,o),o.finish()},gg.RawDeflate.prototype.makeDynamicHuffmanBlock=function(e,t){var n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,b=new gg.BitStream(new Uint8Array(this.output.buffer),this.op),w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(19);for(n=t?1:0,r=gg.RawDeflate.CompressionType.DYNAMIC,b.writeBits(n,1,!0),b.writeBits(r,2,!0),i=this.lz77(e),u=this.getLengths_(this.freqsLitLen,15),c=this.getCodesFromLengths_(u),l=this.getLengths_(this.freqsDist,7),f=this.getCodesFromLengths_(l),o=286;o>257&&0===u[o-1];o--);for(a=30;a>1&&0===l[a-1];a--);for(h=this.getTreeSymbols_(o,u,a,l),p=this.getLengths_(h.freqs,7),m=0;m<19;m++)x[m]=p[w[m]];for(s=19;s>4&&0===x[s-1];s--);for(d=this.getCodesFromLengths_(p),b.writeBits(o-257,5,!0),b.writeBits(a-1,5,!0),b.writeBits(s-4,4,!0),m=0;m<s;m++)b.writeBits(x[m],3,!0);for(m=0,y=h.codes.length;m<y;m++)if(g=h.codes[m],b.writeBits(d[g],p[g],!0),g>=16){switch(m++,g){case 16:v=2;break;case 17:v=3;break;case 18:v=7;break;default:throw"invalid code: "+g}b.writeBits(h.codes[m],v,!0)}return this.dynamicHuffman(i,[c,u],[f,l],b),b.finish()},gg.RawDeflate.prototype.dynamicHuffman=function(e,t,n,r){var i,o,a,s,u,c,l,f;for(u=t[0],c=t[1],l=n[0],f=n[1],i=0,o=e.length;i<o;++i)if(a=e[i],r.writeBits(u[a],c[a],!0),a>256)r.writeBits(e[++i],e[++i],!0),s=e[++i],r.writeBits(l[s],f[s],!0),r.writeBits(e[++i],e[++i],!0);else if(256===a)break;return r},gg.RawDeflate.prototype.fixedHuffman=function(e,t){var n,r,i;for(n=0,r=e.length;n<r;n++)if(i=e[n],gg.BitStream.prototype.writeBits.apply(t,gg.RawDeflate.FixedHuffmanTable[i]),i>256)t.writeBits(e[++n],e[++n],!0),t.writeBits(e[++n],5),t.writeBits(e[++n],e[++n],!0);else if(256===i)break;return t},gg.RawDeflate.Lz77Match=function(e,t){this.length=e,this.backwardDistance=t},gg.RawDeflate.Lz77Match.LengthCodeTable=function(e){return new Uint32Array(e)}(function(){var e,t,n=[];for(e=3;e<=258;e++)t=r(e),n[e]=t[2]<<24|t[1]<<16|t[0];function r(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case e<=12:return[265,e-11,1];case e<=14:return[266,e-13,1];case e<=16:return[267,e-15,1];case e<=18:return[268,e-17,1];case e<=22:return[269,e-19,2];case e<=26:return[270,e-23,2];case e<=30:return[271,e-27,2];case e<=34:return[272,e-31,2];case e<=42:return[273,e-35,3];case e<=50:return[274,e-43,3];case e<=58:return[275,e-51,3];case e<=66:return[276,e-59,3];case e<=82:return[277,e-67,4];case e<=98:return[278,e-83,4];case e<=114:return[279,e-99,4];case e<=130:return[280,e-115,4];case e<=162:return[281,e-131,5];case e<=194:return[282,e-163,5];case e<=226:return[283,e-195,5];case e<=257:return[284,e-227,5];case 258===e:return[285,e-258,0];default:throw"invalid length: "+e}}return n}()),gg.RawDeflate.Lz77Match.prototype.getDistanceCode_=function(e){var t;switch(!0){case 1===e:t=[0,e-1,0];break;case 2===e:t=[1,e-2,0];break;case 3===e:t=[2,e-3,0];break;case 4===e:t=[3,e-4,0];break;case e<=6:t=[4,e-5,1];break;case e<=8:t=[5,e-7,1];break;case e<=12:t=[6,e-9,2];break;case e<=16:t=[7,e-13,2];break;case e<=24:t=[8,e-17,3];break;case e<=32:t=[9,e-25,3];break;case e<=48:t=[10,e-33,4];break;case e<=64:t=[11,e-49,4];break;case e<=96:t=[12,e-65,5];break;case e<=128:t=[13,e-97,5];break;case e<=192:t=[14,e-129,6];break;case e<=256:t=[15,e-193,6];break;case e<=384:t=[16,e-257,7];break;case e<=512:t=[17,e-385,7];break;case e<=768:t=[18,e-513,8];break;case e<=1024:t=[19,e-769,8];break;case e<=1536:t=[20,e-1025,9];break;case e<=2048:t=[21,e-1537,9];break;case e<=3072:t=[22,e-2049,10];break;case e<=4096:t=[23,e-3073,10];break;case e<=6144:t=[24,e-4097,11];break;case e<=8192:t=[25,e-6145,11];break;case e<=12288:t=[26,e-8193,12];break;case e<=16384:t=[27,e-12289,12];break;case e<=24576:t=[28,e-16385,13];break;case e<=32768:t=[29,e-24577,13];break;default:throw"invalid distance"}return t},gg.RawDeflate.Lz77Match.prototype.toLz77Array=function(){var e,t=this.length,n=this.backwardDistance,r=[],i=0;return e=gg.RawDeflate.Lz77Match.LengthCodeTable[t],r[i++]=65535&e,r[i++]=e>>16&255,r[i++]=e>>24,e=this.getDistanceCode_(n),r[i++]=e[0],r[i++]=e[1],r[i++]=e[2],r},gg.RawDeflate.prototype.lz77=function(e){var t,n,r,i,o,a,s,u,c,l={},f=gg.RawDeflate.WindowSize,h=new Uint16Array(2*e.length),p=0,d=0,g=new Uint32Array(286),v=new Uint32Array(30),m=this.lazy;function y(e,t){var n,r,i=e.toLz77Array();for(n=0,r=i.length;n<r;++n)h[p++]=i[n];g[i[0]]++,v[i[3]]++,d=e.length+t-1,u=null}for(g[256]=1,t=0,n=e.length;t<n;++t){for(o=0,r=0,i=gg.RawDeflate.Lz77MinLength;r<i&&t+r!==n;++r)o=o<<8|e[t+r];if(void 0===l[o]&&(l[o]=[]),a=l[o],d-- >0)a.push(t);else{for(;a.length>0&&t-a[0]>f;)a.shift();if(t+gg.RawDeflate.Lz77MinLength>=n){for(u&&y(u,-1),r=0,i=n-t;r<i;++r)c=e[t+r],h[p++]=c,++g[c];break}a.length>0?(s=this.searchLongestMatch_(e,t,a),u?u.length<s.length?(c=e[t-1],h[p++]=c,++g[c],y(s,0)):y(u,-1):s.length<m?u=s:y(s,0)):u?y(u,-1):(c=e[t],h[p++]=c,++g[c]),a.push(t)}}return h[p++]=256,g[256]++,this.freqsLitLen=g,this.freqsDist=v,h.subarray(0,p)},gg.RawDeflate.prototype.searchLongestMatch_=function(e,t,n){var r,i,o,a,s,u,c=0,l=e.length;e:for(a=0,u=n.length;a<u;a++){if(r=n[u-a-1],o=gg.RawDeflate.Lz77MinLength,c>gg.RawDeflate.Lz77MinLength){for(s=c;s>gg.RawDeflate.Lz77MinLength;s--)if(e[r+s-1]!==e[t+s-1])continue e;o=c}for(;o<gg.RawDeflate.Lz77MaxLength&&t+o<l&&e[r+o]===e[t+o];)++o;if(o>c&&(i=r,c=o),o===gg.RawDeflate.Lz77MaxLength)break}return new gg.RawDeflate.Lz77Match(c,t-i)},gg.RawDeflate.prototype.getTreeSymbols_=function(e,t,n,r){var i,o,a,s,u,c,l=new Uint32Array(e+n),f=new Uint32Array(316),h=new Uint8Array(19);for(o=0,i=0;i<e;i++)l[o++]=t[i];for(i=0;i<n;i++)l[o++]=r[i];for(u=0,i=0,s=l.length;i<s;i+=o){for(o=1;i+o<s&&l[i+o]===l[i];++o);if(a=o,0===l[i])if(a<3)for(;a-- >0;)f[u++]=0,h[0]++;else for(;a>0;)(c=a<138?a:138)>a-3&&c<a&&(c=a-3),c<=10?(f[u++]=17,f[u++]=c-3,h[17]++):(f[u++]=18,f[u++]=c-11,h[18]++),a-=c;else if(f[u++]=l[i],h[l[i]]++,--a<3)for(;a-- >0;)f[u++]=l[i],h[l[i]]++;else for(;a>0;)(c=a<6?a:6)>a-3&&c<a&&(c=a-3),f[u++]=16,f[u++]=c-3,h[16]++,a-=c}return{codes:f.subarray(0,u),freqs:h}},gg.RawDeflate.prototype.getLengths_=function(e,t){var n,r,i,o,a,s=e.length,u=new gg.Heap(2*gg.RawDeflate.HUFMAX),c=new Uint8Array(s);for(o=0;o<s;++o)e[o]>0&&u.push(o,e[o]);if(n=new Array(u.length/2),r=new Uint32Array(u.length/2),1===n.length)return c[u.pop().index]=1,c;for(o=0,a=u.length/2;o<a;++o)n[o]=u.pop(),r[o]=n[o].value;for(i=this.reversePackageMerge_(r,r.length,t),o=0,a=n.length;o<a;++o)c[n[o].index]=i[o];return c},gg.RawDeflate.prototype.reversePackageMerge_=function(e,t,n){var r,i,o,a,s,u=new Uint16Array(n),c=new Uint8Array(n),l=new Uint8Array(t),f=new Array(n),h=new Array(n),p=new Array(n),d=(1<<n)-t,g=1<<n-1;function v(e){var n=h[e][p[e]];n===t?(v(e+1),v(e+1)):--l[n],++p[e]}for(u[n-1]=t,i=0;i<n;++i)d<g?c[i]=0:(c[i]=1,d-=g),d<<=1,u[n-2-i]=(u[n-1-i]/2|0)+t;for(u[0]=c[0],f[0]=new Array(u[0]),h[0]=new Array(u[0]),i=1;i<n;++i)u[i]>2*u[i-1]+c[i]&&(u[i]=2*u[i-1]+c[i]),f[i]=new Array(u[i]),h[i]=new Array(u[i]);for(r=0;r<t;++r)l[r]=n;for(o=0;o<u[n-1];++o)f[n-1][o]=e[o],h[n-1][o]=o;for(r=0;r<n;++r)p[r]=0;for(1===c[n-1]&&(--l[0],++p[n-1]),i=n-2;i>=0;--i){for(r=0,a=0,s=p[i+1],o=0;o<u[i];o++)(a=f[i+1][s]+f[i+1][s+1])>e[r]?(f[i][o]=a,h[i][o]=t,s+=2):(f[i][o]=e[r],h[i][o]=r,++r);p[i]=0,1===c[i]&&v(i)}return l},gg.RawDeflate.prototype.getCodesFromLengths_=function(e){var t,n,r,i,o=new Uint16Array(e.length),a=[],s=[],u=0;for(t=0,n=e.length;t<n;t++)a[e[t]]=1+(0|a[e[t]]);for(t=1,n=gg.RawDeflate.MaxCodeLength;t<=n;t++)s[t]=u,u+=0|a[t],u<<=1;for(t=0,n=e.length;t<n;t++)for(u=s[e[t]],s[e[t]]+=1,o[t]=0,r=0,i=e[t];r<i;r++)o[t]=o[t]<<1|1&u,u>>>=1;return o},gg.Unzip=function(e,t){t=t||{},this.input=e instanceof Array?new Uint8Array(e):e,this.ip=0,this.eocdrOffset,this.numberOfThisDisk,this.startDisk,this.totalEntriesThisDisk,this.totalEntries,this.centralDirectorySize,this.centralDirectoryOffset,this.commentLength,this.comment,this.fileHeaderList,this.filenameToIndex,this.verify=t.verify||!1,this.password=t.password},gg.Unzip.CompressionMethod=gg.Zip.CompressionMethod,gg.Unzip.FileHeaderSignature=gg.Zip.FileHeaderSignature,gg.Unzip.LocalFileHeaderSignature=gg.Zip.LocalFileHeaderSignature,gg.Unzip.CentralDirectorySignature=gg.Zip.CentralDirectorySignature,gg.Unzip.FileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.version,this.os,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.fileCommentLength,this.diskNumberStart,this.internalFileAttributes,this.externalFileAttributes,this.relativeOffset,this.filename,this.extraField,this.comment},gg.Unzip.FileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==gg.Unzip.FileHeaderSignature[0]||e[t++]!==gg.Unzip.FileHeaderSignature[1]||e[t++]!==gg.Unzip.FileHeaderSignature[2]||e[t++]!==gg.Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=e[t++],this.os=e[t++],this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.fileCommentLength=e[t++]|e[t++]<<8,this.diskNumberStart=e[t++]|e[t++]<<8,this.internalFileAttributes=e[t++]|e[t++]<<8,this.externalFileAttributes=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,this.relativeOffset=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.comment=e.subarray(t,t+this.fileCommentLength),this.length=t-this.offset},gg.Unzip.LocalFileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.filename,this.extraField},gg.Unzip.LocalFileHeader.Flags=gg.Zip.Flags,gg.Unzip.LocalFileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==gg.Unzip.LocalFileHeaderSignature[0]||e[t++]!==gg.Unzip.LocalFileHeaderSignature[1]||e[t++]!==gg.Unzip.LocalFileHeaderSignature[2]||e[t++]!==gg.Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.length=t-this.offset},gg.Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var e,t=this.input;for(e=t.length-12;e>0;--e)if(t[e]===gg.Unzip.CentralDirectorySignature[0]&&t[e+1]===gg.Unzip.CentralDirectorySignature[1]&&t[e+2]===gg.Unzip.CentralDirectorySignature[2]&&t[e+3]===gg.Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=e);throw new Error("End of Central Directory Record not found")},gg.Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var e,t=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),e=this.eocdrOffset,t[e++]!==gg.Unzip.CentralDirectorySignature[0]||t[e++]!==gg.Unzip.CentralDirectorySignature[1]||t[e++]!==gg.Unzip.CentralDirectorySignature[2]||t[e++]!==gg.Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=t[e++]|t[e++]<<8,this.startDisk=t[e++]|t[e++]<<8,this.totalEntriesThisDisk=t[e++]|t[e++]<<8,this.totalEntries=t[e++]|t[e++]<<8,this.centralDirectorySize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.centralDirectoryOffset=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.commentLength=t[e++]|t[e++]<<8,this.comment=t.subarray(e,e+this.commentLength)},gg.Unzip.prototype.parseFileHeader=function(){var e,t,n,r,i=[],o={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),e=this.centralDirectoryOffset,n=0,r=this.totalEntries;n<r;++n)(t=new gg.Unzip.FileHeader(this.input,e)).parse(),e+=t.length,i[n]=t,o[t.filename]=n;if(this.centralDirectorySize<e-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=i,this.filenameToIndex=o}},gg.Unzip.prototype.getFileData=function(e,t){t=t||{};var n,r,i,o,a,s,u,c,l=this.input,f=this.fileHeaderList;if(f||this.parseFileHeader(),void 0===f[e])throw new Error("wrong index");if(r=f[e].relativeOffset,(n=new gg.Unzip.LocalFileHeader(this.input,r)).parse(),r+=n.length,i=n.compressedSize,0!=(n.flags&gg.Unzip.LocalFileHeader.Flags.ENCRYPT)){if(!t.password&&!this.password)throw new Error("please set password");for(s=this.createDecryptionKey(t.password||this.password),u=r,c=r+12;u<c;++u)this.decode(s,l[u]);for(u=r+=12,c=r+(i-=12);u<c;++u)l[u]=this.decode(s,l[u])}switch(n.compression){case gg.Unzip.CompressionMethod.STORE:o=this.input.subarray(r,r+i);break;case gg.Unzip.CompressionMethod.DEFLATE:o=new gg.RawInflate(this.input,{index:r,bufferSize:n.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(a=gg.CRC32.calc(o),n.crc32!==a))throw new Error("wrong crc: file=0x"+n.crc32.toString(16)+", data=0x"+a.toString(16));return o},gg.Unzip.prototype.getFilenames=function(){var e,t,n,r=[];for(this.fileHeaderList||this.parseFileHeader(),e=0,t=(n=this.fileHeaderList).length;e<t;++e)r[e]=n[e].filename;return r},gg.Unzip.prototype.decompress=function(e,t){var n;if(this.filenameToIndex||this.parseFileHeader(),void 0===(n=this.filenameToIndex[e]))throw new Error(e+" not found");return this.getFileData(n,t)},gg.Unzip.prototype.setPassword=function(e){this.password=e},gg.Unzip.prototype.decode=function(e,t){return t^=this.getByte(e),this.updateKeys(e,t),t},gg.Unzip.prototype.updateKeys=gg.Zip.prototype.updateKeys,gg.Unzip.prototype.createDecryptionKey=gg.Zip.prototype.createEncryptionKey,gg.Unzip.prototype.getByte=gg.Zip.prototype.getByte,gg.Util.stringToByteArray=function(e){var t,n,r=e.split("");for(t=0,n=r.length;t<n;t++)r[t]=(255&r[t].charCodeAt(0))>>>0;return r},gg.Adler32=function(e){return"string"==typeof e&&(e=gg.Util.stringToByteArray(e)),gg.Adler32.update(1,e)},gg.Adler32.update=function(e,t){for(var n,r=65535&e,i=e>>>16&65535,o=t.length,a=0;o>0;){o-=n=o>gg.Adler32.OptimizationParameter?gg.Adler32.OptimizationParameter:o;do{i+=r+=t[a++]}while(--n);r%=65521,i%=65521}return(i<<16|r)>>>0},gg.Adler32.OptimizationParameter=1024,gg.BitStream=function(e,t){if(this.index="number"==typeof t?t:0,this.bitindex=0,this.buffer=e instanceof Uint8Array?e:new Uint8Array(gg.BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()},gg.BitStream.DefaultBlockSize=32768,gg.BitStream.prototype.expandBuffer=function(){var e=this.buffer,t=e.length,n=new Uint8Array(t<<1);return n.set(e),this.buffer=n},gg.BitStream.prototype.writeBits=function(e,t,n){var r,i=this.buffer,o=this.index,a=this.bitindex,s=i[o];if(n&&t>1&&(e=t>8?function(e){return gg.BitStream.ReverseTable[255&e]<<24|gg.BitStream.ReverseTable[e>>>8&255]<<16|gg.BitStream.ReverseTable[e>>>16&255]<<8|gg.BitStream.ReverseTable[e>>>24&255]}(e)>>32-t:gg.BitStream.ReverseTable[e]>>8-t),t+a<8)s=s<<t|e,a+=t;else for(r=0;r<t;++r)s=s<<1|e>>t-r-1&1,8==++a&&(a=0,i[o++]=gg.BitStream.ReverseTable[s],s=0,o===i.length&&(i=this.expandBuffer()));i[o]=s,this.buffer=i,this.bitindex=a,this.index=o},gg.BitStream.prototype.finish=function(){var e=this.buffer,t=this.index;return this.bitindex>0&&(e[t]<<=8-this.bitindex,e[t]=gg.BitStream.ReverseTable[e[t]],t++),e.subarray(0,t)},gg.BitStream.ReverseTable=function(){var e,t=new Uint8Array(256);for(e=0;e<256;++e)t[e]=function(e){var t=e,n=7;for(e>>>=1;e;e>>>=1)t<<=1,t|=1&e,--n;return(t<<n&255)>>>0}(e);return t}(),gg.CRC32.calc=function(e,t,n){return gg.CRC32.update(e,0,t,n)},gg.CRC32.update=function(e,t,n,r){var i=gg.CRC32.Table,o="number"==typeof n?n:n=0,a="number"==typeof r?r:e.length;for(t^=4294967295,o=7&a;o--;++n)t=t>>>8^i[255&(t^e[n])];for(o=a>>3;o--;n+=8)t=(t=(t=(t=(t=(t=(t=(t=t>>>8^i[255&(t^e[n])])>>>8^i[255&(t^e[n+1])])>>>8^i[255&(t^e[n+2])])>>>8^i[255&(t^e[n+3])])>>>8^i[255&(t^e[n+4])])>>>8^i[255&(t^e[n+5])])>>>8^i[255&(t^e[n+6])])>>>8^i[255&(t^e[n+7])];return(4294967295^t)>>>0},gg.CRC32.single=function(e,t){return(gg.CRC32.Table[255&(e^t)]^e>>>8)>>>0},gg.CRC32.Table_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],gg.CRC32.Table=new Uint32Array(gg.CRC32.Table_),gg.Deflate=function(e,t){this.input=e,this.output=new Uint8Array(gg.Deflate.DefaultBufferSize),this.compressionType=gg.Deflate.CompressionType.DYNAMIC,this.rawDeflate;var n,r={};for(n in!t&&(t={})||"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t)r[n]=t[n];r.outputBuffer=this.output,this.rawDeflate=new gg.RawDeflate(this.input,r)},gg.Deflate.DefaultBufferSize=32768,gg.Deflate.CompressionType=gg.RawDeflate.CompressionType,gg.Deflate.compress=function(e,t){return new gg.Deflate(e,t).compress()},gg.Deflate.prototype.compress=function(){var e,t,n,r,i,o,a,s=0;switch(a=this.output,e=gg.CompressionMethod.DEFLATE){case gg.CompressionMethod.DEFLATE:t=Math.LOG2E*Math.log(gg.RawDeflate.WindowSize)-8;break;default:throw new Error("invalid compression method")}switch(n=t<<4|e,a[s++]=n,e){case gg.CompressionMethod.DEFLATE:switch(this.compressionType){case gg.Deflate.CompressionType.NONE:i=0;break;case gg.Deflate.CompressionType.FIXED:i=1;break;case gg.Deflate.CompressionType.DYNAMIC:i=2;break;default:throw new Error("unsupported compression type")}break;default:throw new Error("invalid compression method")}return r=i<<6|0,r|=31-(256*n+r)%31,a[s++]=r,o=gg.Adler32(this.input),this.rawDeflate.op=s,s=(a=this.rawDeflate.compress()).length,(a=new Uint8Array(a.buffer)).length<=s+4&&(this.output=new Uint8Array(a.length+4),this.output.set(a),a=this.output),(a=a.subarray(0,s+4))[s++]=o>>24&255,a[s++]=o>>16&255,a[s++]=o>>8&255,a[s++]=255&o,a};var bg=function(e){return e.split(/\n|\r\n|\r/g)};function wg(e,t){var n,r,i=[],o=e.length,a=0,s=!1;if(o>0)for(i[a]=e.charAt(0),n=1;n<o;n++)'"'===(r=e.charAt(n))?s=!s:s||r!==t?i[a]+=r:i[++a]="";return i}function xg(e){return e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)}var kg={rgbListFromHSV:function(){for(var e=[],t=1;t>=.5;t-=.1)for(var n=0;n<1;n+=1/28){var r="rgb("+kg.hsvToRgb(n,1,t).join(",")+")";e.push(r)}return e.pop(),e.push(kg.rgbColor(16,16,16)),e},rgbToHex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(null!==t)return"rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+")"},hsvToRgb:function(e,t,n){var r,i,o,a=Math.floor(6*e),s=6*e-a,u=n*(1-t),c=n*(1-s*t),l=n*(1-(1-s)*t);switch(a%6){case 0:r=n,i=l,o=u;break;case 1:r=c,i=n,o=u;break;case 2:r=u,i=n,o=l;break;case 3:r=u,i=c,o=n;break;case 4:r=l,i=u,o=n;break;case 5:r=n,i=u,o=c}return[Math.floor(255*r),Math.floor(255*i),Math.floor(255*o)]},hslToRgb:function(e,t,n){var r,i,o;if(0===t)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=kg.hue2rgb(s,a,e+1/3),i=kg.hue2rgb(s,a,e),o=kg.hue2rgb(s,a,e-1/3)}return[255*r,255*i,255*o]},hue2rgb:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},rgbaColor:function(e,t,n,r){return"rgba("+(e=Xh(e,0,255))+","+(t=Xh(t,0,255))+","+(n=Xh(n,0,255))+","+(r=Xh(r,0,1))+")"},rgbColor:function(e,t,n){return"rgb("+(e=Xh(e,0,255))+","+(t=Xh(t,0,255))+","+(n=Xh(n,0,255))+")"},greyScale:function(e){var t=Xh(e,0,255);return"rgb("+t+","+t+","+t+")"},randomGrey:function(e,t){e=Xh(e,0,255),t=Xh(t,0,255);var n=Math.round(Math.random(e,t)).toString(10);return"rgb("+n+","+n+","+n+")"},randomRGB:function(e,t){return e=Xh(e,0,255),t=Xh(t,0,255),"rgb("+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+")"},randomRGBConstantAlpha:function(e,t,n){return e=Xh(e,0,255),t=Xh(t,0,255),"rgba("+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+n+")"},addAlpha:function(e,t){var n=this.colorNameToHex(e);n&&(e=n);var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);return e.startsWith("rgba")?e:(r&&(e=kg.hexToRgb(e)),e.startsWith("rgb")?e.replace("rgb","rgba").replace(")",", "+t+")"):e)},getCompositeColor:function(e,t,n){return"rgb("+Math.floor(n*t[0]+(1-n)*e[0])+","+Math.floor(n*t[1]+(1-n)*e[1])+","+Math.floor(n*t[2]+(1-n)*e[2])+")"},createColorString:function(e){return(e=function(e){return(e.startsWith("'")||e.startsWith('"'))&&(e=e.substring(1)),(e.endsWith("'")||e.endsWith('"'))&&(e=e.substring(0,e.length-1)),e}(e)).includes(",")?e.startsWith("rgb")?e:"rgb("+e+")":e},darkenLighten:function(e,t){var n=this.colorNameToHex(e),r=(n?kg.hexToRgb(n):e.startsWith("rgb(")?e:kg.hexToRgb(e)).replace(")","").substring(4).split(","),i=Math.max(0,Math.min(255,Number.parseInt(r[0].trim())+t)),o=Math.max(0,Math.min(255,Number.parseInt(r[1].trim())+t)),a=Math.max(0,Math.min(255,Number.parseInt(r[2].trim())+t));return"rgb("+i.toString()+","+o.toString()+","+a.toString()+")"},colorNameToHex:function(e){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[e]}};function _g(e,t){var n=au("<div>");e.append(n),n.append(Fh("times")),n.on("click",(function(e){e.preventDefault(),e.stopPropagation(),t()}))}function Sg(e,t,n){var r=Object.values(jh);n&&"function"!=typeof n&&(r.splice(11,1),r.unshift(kg.rgbToHex(n)));for(var i=function(){var n=a[o],r=au("<div>",{class:"igv-color-swatch"});e.append(r),r.css("background-color",n),"white"===n||(r.hover((function(){r.get(0).style.borderColor=n}),(function(){r.get(0).style.borderColor="white"})),r.on("click.trackview",(function(e){e.stopPropagation(),t(n)})),r.on("touchend.trackview",(function(e){e.stopPropagation(),t(n)})))},o=0,a=r;o<a.length;o++)i()}function Eg(e){if(e.type.startsWith("touch")){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}function Cg(e,t){var n=au(t);n.offset();var r=Eg(e);return{x:r.x-n.offset().left,y:r.y-n.offset().top}}function Tg(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}var Ag=Oh.trackMenuItemListHelper,Rg=function(e,t){this.browser=t,this.$parent=Og.call(this,e)};function Og(e){var t,n=this;return this.$popover=au('<div class="igv-popover">'),e.append(this.$popover),t=au('<div class="igv-popover-header">'),this.$popover.append(t),_g(t,(function(){n.hide()})),this.$popoverContent=au("<div>"),this.$popover.append(this.$popoverContent),dh(this.$popover.get(0),t.get(0)),e}function Ig(e,t,n){var r,i,o=e,a=au(window).width(),s=(au(window).height(),e),u=t;return r=s-=n.$parent.offset().left,o+(i={x:s,y:u-=n.$parent.offset().top,width:n.$popover.outerWidth(),height:n.$popover.outerHeight()}).width>a&&(r=s-i.width),{left:r+"px",top:u+"px"}}Rg.prototype.hide=function(){this.$popover.hide()},Rg.prototype.presentTrackContextMenu=function(e,t){var n=this.$popover;if(au(".igv-popover").hide(),t.length>0){t=Ag(t,n),this.$popoverContent.empty(),this.$popoverContent.removeClass(),this.$popoverContent.addClass("igv-popover-track-popup-content");var r,i=hr(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.$popoverContent.append(o.object)}}catch(e){i.e(e)}finally{i.f()}var a=Eg(e);n.css(Ig(a.x,a.y,this)),n.show()}},Rg.prototype.presentTrackContent=function(e,t,n){au(".igv-popover").hide(),void 0!==n&&(this.$popoverContent.empty(),this.$popoverContent.removeClass(),this.$popoverContent.addClass("igv-popover-track-popup-content"),this.$popoverContent.html(n),this.$popover.css(Ig(e,t,this)),this.$popover.show())},Rg.prototype.dispose=function(){this.$popover.empty(),this.$popoverContent.empty(),Object.keys(this).forEach((function(e){this[e]=void 0}))},Pe({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var Lg="".repeat||function(e){var t=String(m(this)),n="",r=le(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},Mg=1..toFixed,Pg=Math.floor,Ng=function(e,t,n){return 0===t?n:t%2==1?Ng(e,t-1,n*e):Ng(e*e,t/2,n)},Fg=Mg&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){Mg.call({})}));Pe({target:"Number",proto:!0,forced:Fg},{toFixed:function(e){var t,n,r,i,o=function(e){if("number"!=typeof e&&"Number"!=d(e))throw TypeError("Incorrect invocation");return+e}(this),a=le(e),s=[0,0,0,0,0,0],u="",c="0",l=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*s[n],s[n]=r%1e7,r=Pg(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=s[t],s[t]=Pg(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==s[e]){var n=String(s[e]);t=""===t?n:t+Lg.call("0",7-n.length)+n}return t};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(u="-",o=-o),o>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*Ng(2,69,1))-69)<0?o*Ng(2,-t,1):o/Ng(2,t,1),n*=4503599627370496,(t=52-t)>0){for(l(0,n),r=a;r>=7;)l(1e7,0),r-=7;for(l(Ng(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),l(1,1),f(2),c=h()}else l(0,n),l(1<<-t,0),c=h()+Lg.call("0",a);return c=a>0?u+((i=c.length)<=a?"0."+Lg.call("0",a-i)+c:c.slice(0,i-a)+"."+c.slice(i-a)):u+c}});var Dg=function(e,t){return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype._super=Object.getPrototypeOf(t.prototype),t};function Bg(e){var t=new Set(["boolean","number","string","symbol"]),n=$n(e);return void 0!==e&&(t.has(n)||e.substring||e.toFixed)}function jg(e,t){var n={oauthToken:e.oauthToken,headers:e.headers,withCredentials:e.withCredentials,filename:e.filename};return Object.assign(n,t)}function zg(e,t){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}var Hg=function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach((function(e){Number.isNaN(e.value)||(t=Math.min(t,e.value),n=Math.max(n,e.value))})),n>0&&(t=Math.min(0,t)),n<0&&(n=0)):(t=0,n=100),{min:t,max:n}},Ug=function(e,t,n){var r=t.start,i=t.end;if(void 0===i)(i=(r-=n/2)+n)>e?r=(i=e)-n:r<0&&(r=0,i=n);else if(i-r<n){var o=(i+r)/2;o-n/2<0?i=(r=0)+n:o+n/2>e?r=(i=e)-n:i=(r=o-n/2)+n}t.start=Math.ceil(r),t.end=Math.floor(i)},qg=function(e){this.viewport=e,this.browser=e.browser,this.$rulerSweeper=au('<div class="igv-ruler-sweeper-div">'),au(e.contentDiv).append(this.$rulerSweeper),this.namespace=".sweeper_"+Tg(),this.addMouseHandlers()};function Gg(e){return this.viewport.genomicState.referenceFrame.start+e*this.viewport.genomicState.referenceFrame.bpPerPixel}qg.prototype.disableMouseHandlers=function(){au(document).off(this.namespace),this.viewport.$viewport.off(this.namespace)},qg.prototype.addMouseHandlers=function(){var e,t,n,r,i,o,a=this.browser,s=this;this.disableMouseHandlers(),e=t=n=void 0,au(this.browser.$root).on("mousedown"+this.namespace,(function(o){t=!0,n=Cg(o,s.viewport.$viewport).x,!0===e&&(s.$rulerSweeper.show(),i=1,r=n,s.$rulerSweeper.css({left:r+"px"}),s.$rulerSweeper.width(i))})),au(this.browser.$root).on("mousemove"+this.namespace,(function(a){var u;e&&t&&(u=Cg(a,s.viewport.$viewport).x,u=Math.min(u,s.viewport.$viewport.width()),u=Math.max(u,0),o=u-n,i=Math.abs(o),s.$rulerSweeper.width(i),o<0&&(r=n+o,s.$rulerSweeper.css({left:r+"px"})))})),au(this.browser.$root).on("mouseup"+this.namespace,(function(n){var o;!0===e&&!0===t&&(e=t=void 0,s.$rulerSweeper.hide(),(o={}).start=Gg.call(s,r),o.end=Gg.call(s,r+i),i>1&&(Ug(a.genome.getChromosome(s.viewport.genomicState.referenceFrame.chrName).bpLength,o,a.minimumBases()),s.viewport.genomicState.referenceFrame.bpPerPixel=(Math.round(o.end)-Math.round(o.start))/s.viewport.$viewport.width(),s.viewport.genomicState.referenceFrame.start=Math.round(o.start),a.updateViews(s.viewport.genomicState)))})),this.viewport.$viewport.on("mousedown"+this.namespace,(function(t){e=!0}))},qg.prototype.dispose=function(){this.disableMouseHandlers()};var $g=function(e,t,n,r){this.start=e,this.end=t,this.name=n,this.stain=0,"acen"===r?this.type="c":(this.type=r.charAt(1),"p"===this.type&&(this.stain=parseInt(r.substring(4))))},Vg=function(e,t,n,r){this.chr=e,this.start=t,this.end=n,this.features=r};Vg.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},Vg.prototype.containsRange=function(e){return this.chr===e.chr&&this.start<=e.start&&this.end>=e.end};var Wg=function(e,t,n,r,i){this.name=e,this.order=t,this.bpStart=n,this.bpLength=r,this.rangeLocus=i},Zg=String.fromCharCode,Xg=String.fromCodePoint,Yg=!!Xg&&1!=Xg.length;Pe({target:"String",stat:!0,forced:Yg},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],ge(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?Zg(t):Zg(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}});var Kg={fileInfoCache:{},isGoogleURL:function(e){return e.includes("googleapis")&&!e.includes("urlshortener")||this.isGoogleCloudURL(e)||this.isGoogleStorageURL(e)||this.isGoogleDrive(e)},isGoogleStorageURL:function(e){return e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")||e.startsWith("https://storage.googleapis.com")},isGoogleCloudURL:function(e){return e.startsWith("gs://")},isGoogleDrive:function(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0},setApiKey:function(e){this.apiKey=e},translateGoogleCloudURL:function(e){var t,n,r,i,o,a;return t=e.indexOf("/",5),i=e.indexOf("?"),t<0?e:(n=e.substring(5,t),o=i<0?e.substring(t+1):e.substring(t+1,i),r=encodeURIComponent(o),i>0&&(a=e.substring(i)),"https://www.googleapis.com/storage/v1/b/"+n+"/o/"+r+(a?a+"&alt=media":"?alt=media"))},addApiKey:function(e){var t=this.apiKey;if(void 0!==t&&!e.includes("key=")){var n=e.includes("?")?"&":"?";e=e+n+"key="+t}return e},driveDownloadURL:function(e){var t=Qg(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e},getDriveFileInfo:function(e){var t="https://www.googleapis.com/drive/v3/files/"+Qg(e)+"?supportsTeamDrives=true";return _v.loadJson(t,jg({}))},loadGoogleProperties:function(e){var t=this;return _v.loadArrayBuffer(e).then((function(e){var n,r;n=new gg.Gunzip(new Uint8Array(e)).decompress(),r=String.fromCharCode.apply(null,n);var i=JSON.parse(r);return t.setApiKey(i.api_key),t.properties=i,i}))}};function Qg(e){var t,n;if(e.includes("/open?id=")){if(t=e.indexOf("/open?id=")+9,n=e.indexOf("&"),t>0&&n>t)return e.substring(t,n);if(t>0)return e.substring(t)}else if(e.includes("/file/d/"))return t=e.indexOf("/file/d/")+8,n=e.lastIndexOf("/"),e.substring(t,n)}var Jg={oauthTokens:{},setToken:function(e,t){t?this.oauthTokens[t]=e:this.google.access_token=e},getToken:function(e){var t;if(e){for(var n in this.oauthTokens)if(new RegExp("^"+n.split(/\*+/).map(ev).join(".*")+"$").test(e)){t=this.oauthTokens[n];break}}else t=this.google.access_token;return t},removeToken:function(e){e?delete this.oauthTokens[e]:delete Jg.google.access_token},google:{setToken:function(e){this.access_token=e}}};function ev(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function tv(e,t){var n=[],r=0,i=0;for(t=t||e.byteLength-18;r<t;)try{var o=new Uint8Array(e,r,18),a=o[11]<<8|o[10],s=(o[12],o[13],o[15],o[14],1+(o[17]<<8|o[16])),u=12+a+r,c=e.byteLength-u,l=s-a-19;if(c<l)break;var f=new Uint8Array(e,u,l),h=new gg.RawInflate(f),p=h.decompress();r+=h.ip+26,i+=p.byteLength,n.push(p)}catch(e){console.error(e);break}if(1===n.length)return n[0];for(var d=new Uint8Array(i),g=0,v=0;v<n.length;++v){var m=new Uint8Array(n[v]);iv(m,0,d,g,m.length),g+=m.length}return d}function nv(e){var t=new Uint8Array(e);return t[17]<<8|t[16]+1}var rv="function"==typeof new Uint8Array(1).subarray;function iv(e,t,n,r,i){if(0!==i){if(!e)throw"Undef src";if(!n)throw"Undef dest";0===t&&i===e.length?ov(e,n,r):rv?ov(e.subarray(t,t+i),n,r):1===e.BYTES_PER_ELEMENT&&i>100?ov(new Uint8Array(e.buffer,e.byteOffset+t,i),n,r):function(e,t,n,r,i){for(var o=0;o<i;++o)n[r+o]=e[t+o]}(e,t,n,r,i)}}function ov(e,t,n){t.set(e,n)}function av(e){var t,n;return e instanceof File?e.name:((t=(n=(t=e.lastIndexOf("/"))<0?e:e.substr(t+1)).indexOf("?"))>0&&(n=n.substr(0,t)),n)}function sv(e){return e instanceof File}function uv(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return n.indexOf("gzip")>0?new gg.Gunzip(i).decompress():i}function cv(e){for(var t=lv,n=t.parser.loose.exec(e),r={},i=14;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,(function(e,n,i){n&&(r[t.q.name][n]=i)})),r}"object"===(void 0===n?"undefined":$n(n))&&"undefined"==typeof window&&(t.atob=function(e){return r.from(e,"base64").toString("binary")});var lv={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function fv(e){return hv.apply(this,arguments)}function hv(){return(hv=Wn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof t&&(t=t()),!(t instanceof Promise)){e.next=5;break}return e.next=4,t;case 4:t=e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pv,dv={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},gv=function(e){var t=this;this.$container=au("<div>",{class:"igv-alert-dialog-container"}),e.append(this.$container);var n=au("<div>");this.$container.append(n);var r=au("<div>",{id:"igv-alert-dialog-body"});this.$container.append(r),this.$body=au("<div>",{id:"igv-alert-dialog-body-copy"}),r.append(this.$body);var i=au("<div>");this.$container.append(i),this.$ok=au("<div>"),i.append(this.$ok),this.$ok.text("OK"),this.$ok.on("click",(function(){t.$body.html(""),t.$container.hide()})),this.$container.hide()};gv.prototype.configure=function(e){this.$body.html(e.label)},gv.prototype.present=function(e,t){var n=this,r=e.message||e;dv.hasOwnProperty(r)&&(r=dv[r]),this.$body.html(r),this.$ok.on("click",(function(){"function"==typeof t&&t("OK"),n.$body.html(""),n.$container.hide()})),this.$container.show()};var vv={init:function(e){pv||(pv=new gv(e))},presentAlert:function(e,t){pv.present(e,t)}};function mv(e){this.requestsPerSecond=e.requestsPerSecond,this.promiseImplementation=e.promiseImplementation||Promise,this.lastStartTime=0,this.queued=[]}mv.prototype.add=function(e,t){var n=this,r=t||{};return new n.promiseImplementation((function(t,i){n.queued.push({resolve:t,reject:i,promise:e,weight:r.weight||1,signal:r.signal}),n.dequeue()}))},mv.prototype.addAll=function(e,t){var n=e.map(function(e){return this.add(e,t)}.bind(this));return Promise.all(n)},mv.prototype.dequeue=function(){if(this.queued.length>0){var e=new Date,t=this.queued[0].weight,n=1e3/this.requestsPerSecond*t+1,r=e-this.lastStartTime;r>=n?this._execute():setTimeout(function(){this.dequeue()}.bind(this),n-r)}},mv.prototype._execute=function(){this.lastStartTime=new Date;var e=this.queued.shift();e.signal&&e.signal.aborted?e.reject(new DOMException("","AbortError")):e.promise().then((function(t){e.resolve(t)})).catch((function(t){e.reject(t)}))};var yv,bv,wv,xv,kv=new mv({requestsPerSecond:10,promiseImplementation:Promise}),_v={load:(yv=Wn(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=n||{},e.next=3,"function"==typeof t?t():t;case 3:if(!((t=e.sent)instanceof File)){e.next=8;break}return e.abrupt("return",Cv(t,n));case 8:if("function"!=typeof t.startsWith){e.next=21;break}if(!t.startsWith("data:")){e.next=13;break}return e.abrupt("return",uv(t));case 13:if(t.startsWith("https://drive.google.com")&&(t=Kg.driveDownloadURL(t)),!Mv(t)){e.next=18;break}return e.abrupt("return",kv.add((function(){return Sv(t,n)})));case 18:return e.abrupt("return",Sv(t,n));case 19:e.next=22;break;case 21:throw Error("url must be either a 'string', 'function', or 'Promise'.  Actual type: ".concat($n(t)));case 22:case"end":return e.stop()}}),e)}))),function(e,t){return yv.apply(this,arguments)}),loadArrayBuffer:function(e,t){return(t=t||{}).responseType||(t.responseType="arraybuffer"),e instanceof File?Cv(e,t):_v.load(e,t)},loadJson:function(e,t){return"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json"),_v.load(e,t).then((function(e){return e?JSON.parse(e):e}))},loadString:function(e,t){return t=t||{},e instanceof File?function(e,t){var n=(t=t||{}).range?e.slice(t.range.start,t.range.start+t.range.size):e;return new Promise((function(r,i){var o=new FileReader,a=0;t.bgz||e.name.endsWith(".bgz")?a=2:e.name.endsWith(".gz")&&(a=1),o.onload=function(e){return r(0===a?o.result:Lv(o.result,a))},o.onerror=function(t){var n=o.error;i(n+" "+e.name,o)},0===a?o.readAsText(n):o.readAsArrayBuffer(n)}))}(e,t):function(e,t){return Tv.apply(this,arguments)}(e,t)},startup:function(){var e=window.document.location.href;cv(e).host,0!==Dv||e.includes("localhost")||e.includes("127.0.0.1")||(Dv++,_v.load("https://data.broadinstitute.org/igv/projects/current/counter_igvjs.php?version=0").then((function(e){})).catch((function(e){})))}};function Sv(e,t){return Ev.apply(this,arguments)}function Ev(){return(Ev=Wn(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Iv(t),!(r=(n=n||{}).oauthToken||Rv(t))){e.next=7;break}return e.next=6,"function"==typeof r?r():r;case 6:r=e.sent;case 7:return e.abrupt("return",new Promise((function(e,i){Kg.isGoogleURL(t)&&(t.startsWith("gs://")?t=Kg.translateGoogleCloudURL(t):Kg.isGoogleStorageURL(t)&&(t.includes("altMedia=")||(t+=t.includes("?")?"&altMedia=true":"?altMedia=true")));var o=n.headers||{};r&&Ov(o,r);var a=n.range,s=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),a&&s&&!Av(t)&&(t+=t.includes("?")?"&":"?",t+="someRandomSeed="+Math.random().toString(36));var u=new XMLHttpRequest,c=n.sendData||n.body,l=n.method||(c?"POST":"GET"),f=n.responseType,h=n.contentType,p=n.mimeType;if(u.open(l,t),a){var d=a.size?a.start+a.size-1:"";u.setRequestHeader("Range","bytes="+a.start+"-"+d)}if(h&&u.setRequestHeader("Content-Type",h),p&&u.overrideMimeType(p),f&&(u.responseType=f),o)for(var g=0,v=Object.keys(o);g<v.length;g++){var m=v[g],y=o[m];u.setRequestHeader(m,y)}!0===n.withCredentials&&(u.withCredentials=!0),u.onload=function(){var r=Wn(regeneratorRuntime.mark((function r(i){var o,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(0===u.status||u.status>=200&&u.status<=300)){r.next=4;break}a&&206!==u.status&&0!==a.start?(u.response.length>1e5&&vv.presentAlert("Warning: Range header ignored for URL: ".concat(t,".  This can have performance impacts.")),e(u.response.slice(a.start,a.start+a.size))):e(u.response),r.next=23;break;case 4:if("undefined"==typeof gapi||404!==u.status&&401!==u.status&&403!==u.status||!Kg.isGoogleURL(t)||n.retries){r.next=22;break}return r.prev=5,n.retries=1,r.next=9,Pv();case 9:return o=r.sent,n.oauthToken=o,r.next=13,_v.load(t,n);case 13:s=r.sent,e(s),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(5),b(r.t0);case 20:r.next=23;break;case 22:403===u.status?b("Access forbidden: "+t):416===u.status?b("Unsatisfiable range"):b(u.status);case 23:case"end":return r.stop()}}),r,null,[[5,17]])})));return function(e){return r.apply(this,arguments)}}(),u.onerror=function(e){b("Error accessing resource: "+t+" Status: "+u.status)},u.ontimeout=function(e){b("Timed out")},u.onabort=function(e){i(e)};try{u.send(c)}catch(e){i(e)}function b(e){if(!i)throw new Error(e);i(new Error(e))}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cv(e,t){return new Promise((function(n,r){var i=new FileReader;if(i.onload=function(e){n(i.result)},i.onerror=function(e){r(null,i)},t.range){var o=e.slice(t.range.start,t.range.start+t.range.size);"arraybuffer"===t.responseType?i.readAsArrayBuffer(o):i.readAsBinaryString(o)}else"arraybuffer"===t.responseType?i.readAsArrayBuffer(e):i.readAsBinaryString(e)}))}function Tv(){return(Tv=Wn(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=n||{}).filename||av(t),i=3,n.bgz?i=2:r.endsWith(".gz")&&(i=1),n.responseType="arraybuffer",e.abrupt("return",_v.load(t,n).then((function(e){return Lv(e,i)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Av(e){return e.indexOf("X-Amz-Signature")>-1}function Rv(e){var t=cv(e).host,n=Jg.getToken(t);return!n&&Kg.isGoogleURL(e)&&(n=Jg.google.access_token),n}function Ov(e,t){return t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t),e}function Iv(e){return e.includes("//www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.includes("//drive.google.com")?Kg.driveDownloadURL(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):e.startsWith("ftp://ftp.ncbi.nlm.nih.gov/geo")?e.replace("ftp://","https://"):e}function Lv(e,n){if(3===n&&e.byteLength>2){var r=new Uint8Array(e,0,2);31===r[0]&&139===r[1]&&(n=1)}var i;return i=1===n?new gg.Gunzip(new Uint8Array(e)).decompress():2===n?tv(e):new Uint8Array(e),"TextDecoder"in("undefined"!=typeof self?self:void 0!==t?t:window)?(new TextDecoder).decode(i):function(e){for(var t="",n=0;n<e.length;){var r=e[n],i=0,o=0;if(r<=127?(i=0,o=255&r):r<=223?(i=1,o=31&r):r<=239?(i=2,o=15&r):r<=244&&(i=3,o=7&r),e.length-n-i>0)for(var a=0;a<i;)r=e[n+a+1],o=o<<6|63&r,a+=1;else o=65533,i=e.length-n;t+=String.fromCodePoint(o),n+=i+1}return t}(i)}function Mv(e){return e.includes("drive.google.com")||e.includes("www.googleapis.com/drive")}function Pv(){return Nv.apply(this,arguments)}function Nv(){return(Nv=Wn(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jg.google.access_token){e.next=9;break}if(!(wv&&Date.now()>wv&&xv)){e.next=8;break}return t=xv,e.next=5,t.reloadAuthResponse();case 5:n=e.sent,Jg.google.access_token=n.access_token,wv=n.expires_at;case 8:return e.abrupt("return",Jg.google.access_token);case 9:if(!bv){e.next=11;break}return e.abrupt("return",bv);case 11:if(gapi&&gapi.auth2){e.next=13;break}throw new Error("The Google oAuth API is required but not loaded");case 13:if(gapi.auth2.getAuthInstance()){e.next=17;break}return vv.presentAlert("Authorization is required, but Google oAuth has not been initalized.  Contact your site administrator for assistance."),e.abrupt("return",void 0);case 17:return(r=new gapi.auth2.SigninOptionsBuilder).setPrompt("select_account"),r.setScope("https://www.googleapis.com/auth/devstorage.read_only https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/drive.readonly"),bv=new Promise((function(e,t){vv.presentAlert("Google Login required",(function(){gapi.auth2.getAuthInstance().signIn(r).then((function(t){xv=t;var n=t.getAuthResponse();Jg.google.setToken(n.access_token),wv=n.expires_at,e(n.access_token),bv=void 0})).catch((function(e){bv=void 0,t(e)}))}))})),e.abrupt("return",bv);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fv,Dv=0,Bv=new Set(["fastaURL","indexURL","cytobandURL","indexed"]),jv=function(e){"string"==typeof e.fastaURL&&e.fastaURL.startsWith("data:")?(this.file=function(e){var t,n=e.split(","),r=n[0].split(":")[1],i=n[1];i=r.indexOf("base64")>=0?atob(i):decodeURI(i),t=new Uint8Array(i.length);for(var o=0;o<i.length;o++)t[o]=i.charCodeAt(o);for(var a=new gg.Gunzip(t).decompress(),s="",u=a.length,c=0;c<u;c++)s+=String.fromCharCode(a[c]);return s}(e.fastaURL),this.indexed=!1,this.isDataURI=!0):(this.file=e.fastaURL,this.indexed=!1!==e.indexed,this.indexed&&(this.indexFile=e.indexURL||e.indexFile||this.file+".fai")),this.withCredentials=e.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences={},this.offsets={},this.config=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&!Bv.has(t)&&(n[t]=e[t]);return n}(e)};function zv(e,t,n){var r=this,i=r.interval;if(i&&i.contains(e,t,n))return Promise.resolve(c(i,t,n));var o=t,a=n;if(n-t<5e4){var s=n-t,u=Math.round(t+s/2);o=Math.max(0,u-25e3),a=u+25e3}return r.readSequence(e,o,a).then((function(i){return r.interval=new Vg(e,o,a,i),c(r.interval,t,n)}));function c(e,t,n){var r=t-e.start,i=n-t;return e.features?e.features.substr(r,i):null}}function Hv(e,t,n){this.offsets[e]&&(t-=this.offsets[e],n-=this.offsets[e]);var r="";if(t<0)for(var i=t;i<Math.min(n,0);i++)r+="*";if(n<=0)return Promise.resolve(r);var o=this.sequences[e];return Math.min(n,o.length),Promise.resolve(r+o.substring(t,n))}jv.prototype.init=function(){return this.indexed?this.getIndex():this.loadAll()},jv.prototype.getSequence=function(e,t,n){return this.indexed?zv.call(this,e,t,n):Hv.call(this,e,t,n)},jv.prototype.getIndex=function(){if(this.index)return Promise.resolve(this.index);var e=this;return _v.load(e.indexFile,jg(e.config)).then((function(t){var n=bg(t),r=n.length,i=0,o=0;for(e.index={};i<r;){var a=n[i++].split("\t");if(5===a.length){var s=a[0],u=parseInt(a[1]),c={size:u,position:parseInt(a[2]),basesPerLine:parseInt(a[3]),bytesPerLine:parseInt(a[4])};e.chromosomeNames.push(s),e.index[s]=c,e.chromosomes[s]=new Wg(s,o++,0,u)}}return e.index}))},jv.prototype.loadAll=function(){var e=this;return this.isDataURI?Promise.resolve(t(this.file)):_v.load(e.file,jg(e.config)).then(t);function t(t){for(var n,r,i=bg(t),o=i.length,a=0,s="",u=void 0,c=0,l=0;a<o;)if((n=i[a++].trim()).startsWith("#")||0===n.length);else if(n.startsWith(">")){s&&(e.chromosomeNames.push(r),e.sequences[r]=s,e.chromosomes[r]=new Wg(r,l++,c,c+s.length,u));var f=n.substr(1).split(/\s+/)[0].split(":");if(r=f[0],s="",c=0,u=void 0,f.length>1&&f[1].indexOf("-")>0){var h=f[1].split("-");2===h.length&&/^[0-9]+$/.test(h[0])&&/^[0-9]+$/.test(h[1]);var p=Number.parseInt(h[0]);Number.parseInt(h[1])>p&&(c=p-1,e.offsets[r]=c,u=f[1])}}else s+=n;s&&(e.chromosomeNames.push(r),e.sequences[r]=s,e.chromosomes[r]=new Wg(r,l++,c,c+s.length,u))}},jv.prototype.readSequence=function(e,t,n){var r,i,o,a,s,u=this;return u.getIndex().then((function(){var c=u.index[e];if(c){i=Math.max(0,t),o=Math.min(c.size,n);var l=c.bytesPerLine;a=c.basesPerLine;var f=c.position;s=l-a;var h=Math.floor(i/a),p=Math.floor(o/a),d=f+h*l+(r=i-h*a),g=f+p*l+(o-p*a)-1-d+1;return g<=0?(console.error("No sequence for "+e+":"+t+"-"+n),""):_v.load(u.file,jg(u.config,{range:{start:d,size:g}}))}return u.interval=new Vg(e,t,n,null),null})).then((function(e){if(e){var t,n="",u=0,c=e.length;for(r>0&&(t=Math.min(o-i,a-r),n+=e.substr(u,t),u+=t+s);u<c;)t=Math.min(a,c-u),n+=e.substr(u,t),u+=t+s;return n}return null}))};var Uv,qv,Gv={loadGenome:(qv=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cytobandURL,r=t.aliasURL,i=new jv(t),e.next=5,i.init();case 5:if(!n){e.next=9;break}return e.next=8,Wv(n,i.config);case 8:o=e.sent;case 9:if(!r){e.next=13;break}return e.next=12,Zv(r,i.config);case 12:a=e.sent;case 13:return e.abrupt("return",new $v(t,i,o,a));case 14:case"end":return e.stop()}}),e)}))),function(e){return qv.apply(this,arguments)}),getKnownGenomes:(Uv=Wn(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){var t={};return e.forEach((function(e){t[e.id]=e})),Fv=t,t},t=Gv.genomeList,!Fv){e.next=6;break}return e.abrupt("return",Fv);case 6:if(t){e.next=10;break}return e.abrupt("return",{});case 10:if("string"!=typeof t){e.next=17;break}return e.next=13,_v.loadJson(t,{});case 13:return n=e.sent,e.abrupt("return",r(n));case 17:return e.abrupt("return",r(t));case 18:case"end":return e.stop()}}),e)}))),function(){return Uv.apply(this,arguments)}),isWholeGenomeView:function(e){return"all"===e.chrName.toLowerCase()}},$v=function(e,t,n,r){this.config=e,this.id=e.id,this.sequence=t,this.chromosomeNames=t.chromosomeNames,this.chromosomes=t.chromosomes,this.ideograms=n,this.wholeGenomeView=void 0===e.wholeGenomeView||e.wholeGenomeView,this.wholeGenomeView&&Object.keys(t.chromosomes).length>1?function(e,t){var n;if(t.chromosomeOrder)e.wgChromosomeNames=t.chromosomeOrder.split(",").map((function(e){return e.trim()})),n=e.wgChromosomeNames.map((function(t){return e.chromosomes[t]})).filter((function(e){return void 0!==e}));else{var r=Object.keys(e.chromosomes).map((function(t){return e.chromosomes[t].bpLength})).reduce((function(e,t){return Math.max(e,t)}))/50,i=(n=Object.values(e.chromosomes).filter((function(e){return e.bpLength>r}))).filter((function(e){return f(e.name.replace("chr",""))})),o=n.filter((function(e){return!f(e.name.replace("chr",""))}));i.sort((function(e,t){return Number.parseInt(e.name.replace("chr",""))-Number.parseInt(t.name.replace("chr",""))}));var a,s=i.map((function(e){return e.name})),u=hr(o);try{for(u.s();!(a=u.n()).done;){var c=a.value;s.push(c.name)}}catch(e){u.e(e)}finally{u.f()}e.wgChromosomeNames=s}var l=n.reduce((function(e,t){return e+t.bpLength}),0);function f(e){return/^\d+$/.test(e)}e.chromosomes.all={name:"all",bpLength:l}}(this,e):this.wgChromosomeNames=t.chromosomeNames;var i={},o=this;i.all="all",this.chromosomeNames.forEach((function(e){var t=e.startsWith("chr")?e.substring(3):"chr"+e;i[t.toLowerCase()]=e,"chrM"===e&&(i.mt="chrM"),"MT"===e&&(i.chrm="MT"),i[e.toLowerCase()]=e})),r&&r.forEach((function(e){var t,n;for(n=0;n<e.length;n++)if(o.chromosomes[e[n]]){t=e[n];break}t&&e.forEach((function(e){e!==t&&(i[e.toLowerCase()]=t,i[e]=t)}))})),this.chrAliasTable=i};function Vv(){var e,t={},n=0,r=hr(this.wgChromosomeNames);try{for(r.s();!(e=r.n()).done;){var i=e.value;t[i]=Math.floor(n),n+=this.getChromosome(i).bpLength}}catch(e){r.e(e)}finally{r.f()}return t}function Wv(e,t){if(e.startsWith("data:")){var n=function(e){var t;if(e.startsWith("data:application/gzip;base64"))t=uv(e);else{var n,r=e.split(","),i=r[0].split(":")[1],o=r[1];o=i.indexOf("base64")>=0?atob(o):decodeURI(o),n=new Uint8Array(o.length);for(var a=0;a<o.length;a++)n[a]=o.charCodeAt(a);var s=new gg.Gunzip(n);t=s.decompress()}for(var u="",c=t.length,l=0;l<c;l++)u+=String.fromCharCode(t[l]);return u}(e);return Promise.resolve(r(n))}return _v.loadString(e,jg(t)).then((function(e){return r(e)}));function r(e){for(var t,n=[],r=0,i=bg(e),o=i.length,a={},s=0;s<o;s++){var u=i[s].split("\t"),c=u[0];if(t||(t=c),c!==t&&(a[t]=n,n=[],t=c,r=0),5===u.length){var l=parseInt(u[1]),f=parseInt(u[2]),h=u[3],p=u[4];n[r++]=new $g(l,f,h,p)}}return a}}function Zv(e,t){return _v.loadString(e,jg(t)).then((function(e){var t=bg(e),n=[];return t.forEach((function(e){!e.startsWith("#")&&e.length>0&&n.push(e.split("\t"))})),n}))}$v.prototype.showWholeGenomeView=function(){return!1!==this.config.wholeGenomeView},$v.prototype.toJSON=function(){return Object.assign({},this.config,{tracks:void 0})},$v.prototype.getInitialLocus=function(){},$v.prototype.getHomeChromosomeName=function(){if(this.showWholeGenomeView()&&this.chromosomes.hasOwnProperty("all"))return"all";var e=this.chromosomes[this.chromosomeNames[0]];return e.rangeLocus?e.name+":"+e.rangeLocus:this.chromosomeNames[0]},$v.prototype.getChromosomeName=function(e){var t=this.chrAliasTable[e.toLowerCase()];return t||e},$v.prototype.getChromosome=function(e){return e=this.getChromosomeName(e),this.chromosomes[e]},$v.prototype.getCytobands=function(e){return this.ideograms?this.ideograms[e]:null},$v.prototype.getLongestChromosome=function(){var e,t=this.chromosomes;for(var n in t){if(t.hasOwnProperty(n)){var r=t[n];(void 0===e||r.bpLength>e.bpLength)&&(e=r)}return e}},$v.prototype.getChromosomes=function(){return this.chromosomes},$v.prototype.getGenomeCoordinate=function(e,t){var n=this.getCumulativeOffset(e);if(void 0!==n)return n+t},$v.prototype.getChromosomeCoordinate=function(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=Vv.call(this));var t,n=void 0,r=0,i=hr(this.wgChromosomeNames);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=this.cumulativeOffsets[o];if(a>e)return{chr:n,position:e-r};n=o,r=a}}catch(e){i.e(e)}finally{i.f()}return{chr:this.chromosomeNames[this.chromosomeNames.length-1],position:0}},$v.prototype.getCumulativeOffset=function(e){void 0===this.cumulativeOffsets&&(this.cumulativeOffsets=Vv.call(this));var t=this.getChromosomeName(e);return this.cumulativeOffsets[t]},$v.prototype.getGenomeLength=function(){var e=this;if(!this.bpLength){var t=0;e.wgChromosomeNames.forEach((function(n){var r=e.chromosomes[n];t+=r.bpLength})),this.bpLength=t}return this.bpLength};var Xv=function(){function e(t,n,r,i){Zn(this,e);var o=this;this.guid=Tg(),this.trackView=t,this.genomicState=r,this.browser=t.browser,this.$viewport=au('<div class="igv-viewport-div">'),n.append(this.$viewport),this.$viewport.data("viewportGUID",this.guid);var a=au("<div>",{class:"igv-viewport-content-div"});this.$viewport.append(a),a.height(this.$viewport.height()),this.contentDiv=a.get(0);var s=au('<canvas class ="igv-canvas">');if(au(this.contentDiv).append(s),this.canvas=s.get(0),this.ctx=this.canvas.getContext("2d"),this.setWidth(i),"sequence"===t.track.type&&this.$viewport.addClass("igv-viewport-sequence"),"ruler"===t.track.type)this.rulerSweeper=new qg(this),t.track.appendMultiPanelCloseButton(this.$viewport,this.genomicState),this.$rulerLabel=au('<div class = "igv-multi-locus-panel-label-div">'),this.$rulerLabel.click((function(e){o.browser.selectMultiLocusPanelWithGenomicState(o.genomicState)})),au(this.contentDiv).append(this.$rulerLabel),!0===Gv.isWholeGenomeView(this.genomicState.referenceFrame)?Jv.call(this):em.call(this);else if(rm.call(this),this.$spinner=au('<div class="igv-viewport-spinner">'),this.$spinner.append(Fh("spinner")),this.$viewport.append(this.$spinner),this.stopSpinner(),"sequence"!==t.track.type){this.popover=new Rg(this.browser.$content);var u=t.track.name.toLowerCase().split(" ").join("_");u=u+"_"+this.browser.genomicStateList.indexOf(this.genomicState),this.popover.$popover.attr("id",u),this.$zoomInNotice=Yv.call(this,au(this.contentDiv))}t.track.name&&(this.$trackLabel=au('<div class="igv-track-label">'),this.$viewport.append(this.$trackLabel),this.setTrackLabel(t.track.name),!1===this.browser.trackLabelsVisible&&this.$trackLabel.hide(),this.$trackLabel.click((function(e){var n;e.stopPropagation(),n="function"==typeof t.track.description?t.track.description():t.track.description?t.track.description:t.track.name;var r=Eg(e);o.popover.presentTrackContent(r.x,r.y,n)})),this.$trackLabel.mousedown((function(e){e.stopPropagation()})),this.$trackLabel.mouseup((function(e){e.stopPropagation()})),this.$trackLabel.mousemove((function(e){e.stopPropagation()})))}var t,n,r,i,o;return Yn(e,[{key:"isVisible",value:function(){return this.$viewport.width()}},{key:"setTrackLabel",value:function(e){this.trackView.track.name=this.trackView.track.config.name=e,this.$trackLabel.empty(),this.$trackLabel.html(e);var t=this.$trackLabel.text();this.$trackLabel.attr("title",t)}},{key:"setWidth",value:function(e){this.$viewport.outerWidth(e),this.canvas.style.width=this.$viewport.width()+"px",this.canvas.setAttribute("width",this.$viewport.width())}},{key:"startSpinner",value:function(){var e=this.$spinner;e&&(e.addClass("igv-fa5-spin"),e.show())}},{key:"stopSpinner",value:function(){var e=this.$spinner;e&&(e.hide(),e.removeClass("igv-fa5-spin"))}},{key:"showMessage",value:function(e){this.messageDiv||(this.messageDiv=document.createElement("div"),this.messageDiv.className="igv-viewport-message",this.contentDiv.append(this.messageDiv)),this.messageDiv.textContent=e,this.messageDiv.style.display="inline-block"}},{key:"hideMessage",value:function(e){this.messageDiv&&(this.messageDiv.style.display="none")}},{key:"checkZoomIn",value:function(){if(!Qv.call(this))return!1;if(this.$zoomInNotice){if(function(){var e=this.genomicState.referenceFrame;if("all"!==e.chrName.toLowerCase()||this.trackView.track.supportsWholeGenome()){var t="function"==typeof this.trackView.track.getVisibilityWindow?this.trackView.track.getVisibilityWindow():this.trackView.track.visibilityWindow;return void 0!==t&&t>0&&e.bpPerPixel*this.$viewport.width()>t}return!0}.call(this)){if(this.canvas&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tile=void 0),this.$zoomInNotice.show(),this.trackView.track.autoHeight){var e=this.trackView.minHeight||0;this.setContentHeight(e)}return!1}return this.$zoomInNotice.hide(),!0}return!0}},{key:"shift",value:function(){var e=this.genomicState.referenceFrame;if(this.canvas&&this.tile&&this.tile.chr===e.chrName&&this.tile.bpPerPixel===e.bpPerPixel){var t=Math.round((this.tile.startBP-e.start)/e.bpPerPixel);this.canvas.style.left=t+"px"}}},{key:"setTop",value:function(e){var t=-e,n=t+this.$viewport.height();au(this.contentDiv).css("top",e+"px"),(!this.canvasVerticalRange||this.canvasVerticalRange.bottom<n||this.canvasVerticalRange.top>t)&&this.repaint()}},{key:"loadFeatures",value:(o=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,h,p,d,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genomicState,n=t.referenceFrame,r=n.chrName,i=this.browser.genome.getChromosome(r).bpLength,o=3*au(this.contentDiv).width(),a=o*n.bpPerPixel,s=Math.floor(Math.max(0,n.start-a/3)),u=Math.ceil(Math.min(i,s+a)),!this.loading||this.loading.start!==s||this.loading.end!==u){e.next=10;break}return e.abrupt("return",void 0);case 10:return this.loading={start:s,end:u},this.startSpinner(),e.prev=12,e.next=15,this.getFeatures(this.trackView.track,n.chrName,s,u,n.bpPerPixel);case 15:if(c=e.sent,l=[],v=this.browser.roi,m=this.trackView.track.roi,!(f=v&&m?v.concat(m):v||m)){e.next=38;break}h=hr(f),e.prev=20,h.s();case 22:if((p=h.n()).done){e.next=30;break}return d=p.value,e.next=26,d.getFeatures(n.chrName,s,u,n.bpPerPixel);case 26:g=e.sent,l.push({track:d,features:g});case 28:e.next=22;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(20),h.e(e.t0);case 35:return e.prev=35,h.f(),e.finish(35);case 38:return this.tile=new nm(n.chrName,s,u,n.bpPerPixel,c,l),this.loading=!1,this.hideMessage(),this.stopSpinner(),e.abrupt("return",this.tile);case 45:e.prev=45,e.t1=e.catch(12),this.showMessage("Error loading track data"),console.error(e.t1);case 49:return e.prev=49,this.loading=!1,this.stopSpinner(),e.finish(49);case 53:case"end":return e.stop()}var v,m}),e,this,[[12,45,49,53],[20,32,35,38]])}))),function(){return o.apply(this,arguments)})},{key:"repaint",value:(i=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,n=this.tile){e.next=4;break}return e.abrupt("return");case 4:if(r=Gv.isWholeGenomeView(this.genomicState.referenceFrame),i=n.features,o=n.roiFeatures,a=this.genomicState,s=a.referenceFrame,u=r?s.initialEnd/this.$viewport.width():n.bpPerPixel,c=r?0:n.startBP,l=r?s.initialEnd:n.endBP,f=r?this.$viewport.width():Math.ceil((l-c)/u),h=this.$viewport.height(),p=o?Math.max(t.getContentHeight(),h):t.getContentHeight(),d=Math.min(p,3*h),0!==f&&0!==d){e.next=19;break}return t.canvas&&au(t.canvas).remove(),e.abrupt("return");case 19:g=Math.max(0,-au(this.contentDiv).position().top-h),v="FILL"===this.trackView.track.displayMode?window.devicePixelRatio:!1===this.trackView.track.supportHiDPI?1:window.devicePixelRatio,m={features:i,pixelWidth:f,pixelHeight:d,pixelTop:g,bpStart:c,bpEnd:l,bpPerPixel:u,referenceFrame:s,genomicState:a,selection:t.selection,viewport:t,viewportWidth:t.$viewport.width(),viewportContainerX:s.toPixels(s.start-c),viewportContainerWidth:this.browser.viewportContainerWidth()},(y=au('<canvas class="igv-canvas">').get(0)).style.width=f+"px",y.style.height=d+"px",y.width=v*f,y.height=v*d,(b=y.getContext("2d")).scale(v,v),w=Math.round((c-s.start)/s.bpPerPixel),y.style.position="absolute",y.style.left=w+"px",y.style.top=g+"px",m.context=b,b.translate(0,-g),this.draw(m,i,o),this.canvasVerticalRange={top:g,bottom:g+d},t.canvas&&au(t.canvas).remove(),au(t.contentDiv).append(y),t.canvas=y,t.ctx=b;case 41:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"draw",value:function(e,t,n){if(t&&(e.features=t,this.trackView.track.draw(e)),n){var r,i=hr(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;e.features=o.features,o.track.draw(e)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"toSVG",value:(r=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u,c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){e.next=2;break}return e.abrupt("return");case 2:return n=this.genomicState,r=n.referenceFrame,i=t.bpPerPixel,o=t.features,a=t.roiFeatures,s=this.$viewport.width(),u=this.$viewport.height(),c=r.start,l=r.start+s*r.bpPerPixel,f=new ph({width:s,height:u,viewbox:{x:0,y:-au(this.contentDiv).position().top,width:s,height:u}}),h={viewport:this,context:f,top:-au(this.contentDiv).position().top,pixelTop:0,pixelWidth:s,pixelHeight:u,bpStart:c,bpEnd:l,bpPerPixel:i,referenceFrame:r,genomicState:this.genomicState,selection:this.selection,viewportWidth:s,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth()},Kv.call(this,h,o,a),e.abrupt("return",f.getSerializedSvg(!0));case 15:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"setContentHeight",value:function(e){e=Math.min(e,32e3),au(this.contentDiv).height(e),this.tile&&(this.tile.invalidate=!0)}},{key:"getContentHeight",value:function(){return au(this.contentDiv).height()}},{key:"getContentTop",value:function(){return this.contentDiv.offsetTop}},{key:"isLoading",value:function(){return this.loading}},{key:"saveImage",value:function(){if(this.ctx){var e=this.canvasVerticalRange?this.canvasVerticalRange.top:0,t=window.devicePixelRatio,n=this.$viewport.width()*t,r=this.$viewport.height()*t,i=-au(this.canvas).position().left*t,o=(-au(this.contentDiv).position().top-e)*t,a=this.ctx.getImageData(i,o,n,r),s=document.createElement("canvas"),u=s.getContext("2d");s.width=a.width,s.height=a.height,u.putImageData(a,0,0),zg((this.$trackLabel.text()?this.$trackLabel.text():"image")+".png",s.toDataURL("image/png"))}}},{key:"renderSVGContext",value:(n=Wn(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){e.next=2;break}return e.abrupt("return");case 2:r=(r=this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),i=this.browser.genomicStateList.indexOf(this.genomicState),o=r.toLowerCase()+"_genomic_state_index_"+i,0===i&&"function"==typeof this.trackView.track.paintAxis&&(a=this.trackView.controlCanvas.getBoundingClientRect(),t.addTrackGroupWithTranslationAndClipRect(o+"_axis",n.deltaX-a.width,n.deltaY,a.width,a.height,0),t.save(),this.trackView.track.paintAxis(t,a.width,a.height),t.restore()),s=au(this.contentDiv).position().top,u=n.deltaX+i*t.multiLocusGap,c=n.deltaY+s,l=this.$viewport.get(0).getBoundingClientRect(),f=l.width,h=l.height,t.addTrackGroupWithTranslationAndClipRect(o,u,c,f,h,-s),p=this.genomicState.referenceFrame,d=p.start,g=p.bpPerPixel,t.save(),v={context:t,viewport:this,referenceFrame:p,genomicState:this.genomicState,pixelWidth:f,pixelTop:0,pixelHeight:h,viewportWidth:f,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth(),bpStart:d,bpEnd:d+f*g,bpPerPixel:g,selection:this.selection},m=this.tile?this.tile.features:[],y=this.tile?this.tile.roiFeatures:void 0,Kv.call(this,v,m,y),this.$trackLabel&&!0===this.browser.trackLabelsVisible&&tm.call(this,t),t.restore();case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"saveSVG",value:function(){var e=this.$viewport.width(),t=this.$viewport.height(),n=new ph({width:e,height:t,viewbox:{x:0,y:-au(this.contentDiv).position().top,width:e,height:t}}),r=this.genomicState.referenceFrame,i=r.start,o=r.bpPerPixel,a={viewport:this,context:n,top:-au(this.contentDiv).position().top,pixelTop:0,pixelWidth:e,pixelHeight:t,bpStart:i,bpEnd:i+e*o,bpPerPixel:o,referenceFrame:this.genomicState.referenceFrame,genomicState:this.genomicState,selection:this.selection,viewportWidth:e,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth()},s=this.tile?this.tile.roiFeatures:void 0;Kv.call(this,a,this.tile.features,s),this.$trackLabel&&!0===this.browser.trackLabelsVisible&&tm.call(this,n);var u=a.context.getSerializedSvg(!0),c=URL.createObjectURL(new Blob([u],{type:"application/octet-stream"}));zg((this.$trackLabel?this.$trackLabel.text():this.trackView.track.id)+".svg",c)}},{key:"dispose",value:function(){var e=this;this.popover&&(this.popover.$popover.off(),this.popover.$popover.empty(),this.popover.$popover.remove()),au(this.canvas).off(),au(this.canvas).empty(),au(this.contentDiv).off(),au(this.contentDiv).empty(),this.$viewport.off(),this.$viewport.empty(),Object.keys(this).forEach((function(t,n,r){e[t]=void 0}))}},{key:"getCachedFeatures",value:function(){return this.tile?this.tile.features:[]}},{key:"checkContentHeight",value:function(){var e=this.trackView.track;if("FILL"===e.displayMode)this.setContentHeight(this.$viewport.height());else if("function"==typeof e.computePixelHeight){var t=this.cachedFeatures;if(t){var n=e.computePixelHeight(t);n!==au(this.contentDiv).height()&&this.setContentHeight(n)}}}},{key:"getFeatures",value:(t=Wn(regeneratorRuntime.mark((function e(t,n,r,i,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.tile||!this.tile.containsRange(n,r,i,o)){e.next=4;break}return e.abrupt("return",this.tile.features);case 4:if("function"!=typeof t.getFeatures){e.next=13;break}return e.next=7,t.getFeatures(n,r,i,o,this);case 7:return a=e.sent,this.cachedFeatures=a,this.checkContentHeight(),e.abrupt("return",a);case 13:return e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,o){return t.apply(this,arguments)})}]),e}();function Yv(e){var t=au('<div class="zoom-in-notice-container">');e.append(t);var n=au("<div>");return t.append(n),n.text("Zoom in to see features"),t.hide(),t}function Kv(e,t,n){if(t&&(e.features=t,this.trackView.track.draw(e)),n){var r,i=hr(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;e.features=o.features,o.track.draw(e)}}catch(e){i.e(e)}finally{i.f()}}}function Qv(){return this.browser&&this.browser.genomicStateList&&this.genomicState.referenceFrame}function Jv(){var e=".ruler_track_viewport_"+this.browser.genomicStateList.indexOf(this.genomicState),t=this;this.$viewport.on("click"+e,(function(e){var n,r=Cg(e,t.$viewport.get(0)).x,i=Math.round(t.genomicState.referenceFrame.start+t.genomicState.referenceFrame.toBP(r));if(1===t.browser.genomicStateList.length)n=t.browser.genome.getChromosomeCoordinate(i).chr;else{var o=t.browser.genomicStateList.map((function(e){return e.locusSearchString}));o[t.browser.genomicStateList.indexOf(t.genomicState)]=t.browser.genome.getChromosomeCoordinate(i).chr,n=o.join(" ")}t.browser.search(n)}))}function em(){var e=".ruler_track_viewport_"+this.browser.genomicStateList.indexOf(this.genomicState);this.$viewport.off(e)}function tm(e){var t,n,r,i,o,a,s=(t=this.$viewport.get(0),n=this.$trackLabel.get(0),r=t.getBoundingClientRect(),i=r.x,o=r.y,r.width,r.height,{x:(a=n.getBoundingClientRect()).x-i,y:a.y-o,width:a.width,height:a.height}),u=s.x,c=s.y,l=s.width,f=s.height,h=e.measureText(this.$trackLabel.text()).width;e.fillStyle="white",e.fillRect(u,c,l,f),e.font="12px Arial",e.fillStyle="rgb(68, 68, 68)";var p=.25*(l-h),d=.7*(f-12);e.fillText(this.$trackLabel.text(),u+p,c+f-d),e.strokeStyle="rgb(68, 68, 68)",e.strokeRect(u,c,l,f)}var nm=function(e,t,n,r,i,o){this.chr=e,this.startBP=t,this.endBP=n,this.bpPerPixel=r,this.features=i,this.roiFeatures=o};function rm(){var e,t=this,n=this.browser,r=0;function i(e){if(t.browser.dragObject||t.browser.isScrolling)return t.browser.cancelTrackPan(),e.preventDefault(),e.stopPropagation(),void(t.enableClick=!1);t.browser.cancelTrackPan(),t.browser.endTrackDrag()}function o(e,t){var n=t.genomicState.referenceFrame,r=Cg(e,t.contentDiv),i=Cg(e,t.canvas),o=n.start+n.toBP(r.x);if(void 0!==o&&null!==t.tile)return{viewport:t,referenceFrame:n,genomicLocation:o,x:r.x,y:r.y,canvasX:i.x,canvasY:i.y}}this.$viewport.on("contextmenu",(function(e){if(t.browser.dragObject)return!1;var n=o(e,t);if(void 0===n)return!1;e.preventDefault();var r=[];"function"==typeof t.trackView.track.contextMenuItemList&&(r=t.trackView.track.contextMenuItemList(n)),r.length>0&&r.push({label:au("<HR>")}),r.push({label:"Save Image (PNG)",click:function(){t.saveImage()}}),r.push({label:"Save Image (SVG)",click:function(){t.saveSVG()}}),t.popover&&t.popover.presentTrackContextMenu(e,r)})),this.$viewport.on("mousedown",(function(e){t.enableClick=!0,n.mouseDownOnViewport(e,t),Eg(e)})),this.$viewport.on("touchstart",(function(e){t.enableClick=!0,n.mouseDownOnViewport(e,t),Eg(e)})),this.$viewport.on("mouseup",i),this.$viewport.on("touchend",i),this.$viewport.on("click",(function(i){t.enableClick&&function(i){if(3!==i.which&&!i.ctrlKey&&(au(".igv-popover").hide(),!n.dragObject&&!n.isScrolling)){i.preventDefault(),i.stopPropagation();var a=Cg(i,t.$viewport.get(0)).x,s=Cg(i,t.canvas).x,u=t.genomicState.referenceFrame,c=Math.floor(u.start+u.toBP(s)),l=Date.now();if(l-r<n.constants.doubleClickDelay){e&&(window.clearTimeout(e),e=void 0);var f,h=Math.round(u.start+u.toBP(a));if("all"===u.chrName.toLowerCase()){var p=n.genome.getChromosomeCoordinate(h).chr;if(1===n.genomicStateList.length)f=p;else{var d=n.genomicStateList.map((function(e){return e.locusSearchString}));d[n.genomicStateList.indexOf(t.genomicState)]=p,f=d.join(" ")}n.search(f)}else n.zoomWithScaleFactor(.5,h,t)}else i.shiftKey&&"function"==typeof t.trackView.track.shiftClick?t.trackView.track.shiftClick(c,i):"function"==typeof t.trackView.track.popupData&&(e=setTimeout((function(){var r=function(e,t){var r=o(e,t);if(void 0!==r){var i,a,s=t.trackView.track,u=s.popupData(r),c=n.fireEvent("trackclick",[s,u]);return void 0===c||!0===c?u&&u.length>0&&(a='<table class="igv-popover-table">',u.forEach((function(e){e.name?a+='<tr><td class="igv-popover-td"><div class="igv-popover-name-value"><span class="igv-popover-name">'+e.name+'</span><span class="igv-popover-value">'+e.value+"</span></div></td></tr>":a+="<tr><td>"+e.toString()+"</td></tr>"})),i=a+="</table>"):"string"==typeof c&&(i=c),i}}(i,t);if(r){var a=Eg(i);t.popover.presentTrackContent(a.x,a.y,r)}clearTimeout(e),e=void 0}),n.constants.doubleClickDelay));r=l}}(i)}))}nm.prototype.containsRange=function(e,t,n,r){return this.bpPerPixel===r&&t>=this.startBP&&n<=this.endBP&&e===this.chr},nm.prototype.overlapsRange=function(e,t,n){return this.chr===e&&n>=this.startBP&&t<=this.endBP};var im={color:1};im.parent=im,im.left=im,im.right=im;var om=function(){this.root=im};function am(e,t,n){return t.interval.overlaps(e)&&n.push(t.interval),t.left!==im&&t.left.max>=e.low&&am.call(this,e,t.left,n),t.right!==im&&t.right.min<=e.high&&am.call(this,e,t.right,n),n}function sm(e){var t=e.right;e.right=t.left,t.left!==im&&(t.left.parent=e),t.parent=e.parent,e.parent===im?this.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,cm.call(this,e)}function um(e){var t=e.left;e.left=t.right,t.right!==im&&(t.right.parent=e),t.parent=e.parent,e.parent===im?this.root=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,cm.call(this,e)}function cm(e){for(;e!==im;){var t=e.left.max>e.right.max?e.left.max:e.right.max,n=e.interval.high;e.max=t>n?t:n;var r=e.left.min<e.right.min?e.left.min:e.right.min,i=e.interval.low;e.min=r<i?r:i,e=e.parent}}function lm(e,t,n){this.low=e,this.high=t,this.value=n}function fm(e){this.parent=im,this.left=im,this.right=im,this.interval=e,this.color=2}om.prototype.insert=function(e,t,n){var r=new fm(new lm(e,t,n));for(this.treeInsert(r),r.color=2;r!==this.root&&2===r.parent.color;)if(r.parent===r.parent.parent.left){var i=r.parent.parent.right;2===i.color?(r.parent.color=1,i.color=1,r.parent.parent.color=2,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,sm.call(this,r)),r.parent.color=1,r.parent.parent.color=2,um.call(this,r.parent.parent))}else{var o=r.parent.parent.left;2===o.color?(r.parent.color=1,o.color=1,r.parent.parent.color=2,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,um.call(this,r)),r.parent.color=1,r.parent.parent.color=2,sm.call(this,r.parent.parent))}this.root.color=1},om.prototype.findOverlapping=function(e,t){var n=new lm(e,t,0);if(this.root===im)return[];var r=am.call(this,n,this.root,[]);return r.length>1&&r.sort((function(e,t){return e.low-t.low})),r},om.prototype.logIntervals=function(){!function e(t,n){t.left!==im&&e(t.left),t.right!==im&&e(t.right)}(this.root)},om.prototype.mapIntervals=function(e){!function t(n){e(n.interval),n.left!==im&&t(n.left),n.right!==im&&t(n.right)}(this.root)},om.prototype.treeInsert=function(e){for(var t=this.root,n=im;t!==im;)n=t,t=e.interval.low<=t.interval.low?t.left:t.right;e.parent=n,n===im?(this.root=e,e.left=e.right=im):e.interval.low<=n.interval.low?n.left=e:n.right=e,cm.call(this,e)},lm.prototype.equals=function(e){return!!e&&(this===e||this.low===e.low&&this.high===e.high)},lm.prototype.compareTo=function(e){return this.low<e.low?-1:this.low>e.low?1:this.high<e.high?-1:this.high>e.high?1:0},lm.prototype.overlaps=function(e){try{return this.low<=e.high&&e.low<=this.high}catch(e){vv.presentAlert(e,void 0)}};var hm=function(e,t,n){if(e&&0!==e.length){var r=function(e){var t=new om,n=e.length,r=Math.max(10,Math.round(n/100));e.sort((function(e,t){return e.start===t.start?0:e.start>t.start?1:-1}));for(var i=function(i){var o=Math.min(n,i+r),a=e.slice(i,o),s=a[0].start,u=s;a.forEach((function(e){u=Math.max(u,e.end)})),t.insert(s,u,a)},o=0;o<n;o+=r)i(o);return t}(e).findOverlapping(t,n);return 0===r.length?[]:(e=[],r.forEach((function(r){for(var i=r.value,o=i.length,a=0;a<o;a++){var s=i[a];if(s.start>n)break;s.end>t&&e.push(s)}})),e.sort((function(e,t){return e.start-t.start})),e)}return[]},pm=Math.log,dm=Math.LOG10E;Pe({target:"Math",stat:!0},{log10:function(e){return pm(e)*dm}});var gm={setProperties:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]=r}},strokeLine:function(e,t,n,r,i,o){t=Math.floor(t)+.5,n=Math.floor(n)+.5,r=Math.floor(r)+.5,i=Math.floor(i)+.5,o&&(e.save(),gm.setProperties(e,o)),e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke(),o&&e.restore()},fillRect:function(e,t,n,r,i,o){t=Math.round(t),n=Math.round(n),o&&(e.save(),gm.setProperties(e,o)),e.fillRect(t,n,r,i),o&&e.restore()},fillPolygon:function(e,t,n,r){r&&(e.save(),gm.setProperties(e,r)),vm(e,t,n),e.fill(),r&&e.restore()},strokePolygon:function(e,t,n,r){r&&(e.save(),gm.setProperties(e,r)),vm(e,t,n),e.stroke(),r&&e.restore()},fillText:function(e,t,n,r,i,o){if((i||o)&&e.save(),i&&gm.setProperties(e,i),o){for(var a in e.translate(n,r),o){var s=o[a];"translate"===a&&e.translate(s.x,s.y),"rotate"===a&&e.rotate(s.angle*Math.PI/180)}e.fillText(t,0,0)}else e.fillText(t,n,r);(i||o)&&e.restore()},strokeText:function(e,t,n,r,i,o){if((i||o)&&e.save(),i&&gm.setProperties(e,i),o){for(var a in e.translate(n,r),o){var s=o[a];"translate"===a&&e.translate(s.x,s.y),"rotate"===a&&e.rotate(s.angle*Math.PI/180)}e.strokeText(t,0,0)}else e.strokeText(t,n,r);(i||o)&&e.restore()},strokeCircle:function(e,t,n,r,i){i&&(e.save(),gm.setProperties(e,i)),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.stroke(),i&&e.restore()},fillCircle:function(e,t,n,r,i){i&&(e.save(),gm.setProperties(e,i)),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),i&&e.restore()},drawArrowhead:function(e,t,n,r,i){e.save(),r||(r=5),i&&(e.lineWidth=i),e.beginPath(),e.moveTo(t,n-r/2),e.lineTo(t,n+r/2),e.lineTo(t+r,n),e.lineTo(t,n-r/2),e.closePath(),e.fill(),e.restore()},dashedLine:function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};void 0===o&&(o=2),e.setLineDash([o,o]),gm.strokeLine(e,t,n,r,i,a),e.setLineDash([])},roundRect:function(e,t,n,r,i,o,a,s){void 0===s&&(s=!0),void 0===o&&(o=5),e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),s&&e.stroke(),a&&e.fill()},polygon:function(e,t,n,r,i){void 0===i&&(i=!0),e.beginPath();var o=t.length;e.moveTo(t[0],n[0]);for(var a=1;a<o;a++)e.lineTo(t[a],n[a]);e.closePath(),i&&e.stroke(),r&&e.fill()}};function vm(e,t,n){var r,i=t.length;for(r=0;r<i;r++)t[r]=Math.round(t[r]),n[r]=Math.round(n[r]);for(e.beginPath(),e.moveTo(t[0],n[0]),r=1;r<i;r++)e.lineTo(t[r],n[r]);e.closePath()}var mm=function(e){this.browser=e,this.height=40,this.name="",this.id="ruler",this.disableButtons=!0,this.ignoreTrackMenu=!0,this.order=-Number.MAX_SAFE_INTEGER,this.removable=!1,this.type="ruler"};function ym(e){e.context.save(),gm.fillRect(e.context,0,0,e.pixelWidth,e.pixelHeight,{fillStyle:"white"});var t,n=e.pixelHeight,r=hr(this.browser.genome.wgChromosomeNames);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=this.browser.genome.getCumulativeOffset(i),a=this.browser.genome.getChromosome(i).bpLength,s=Math.round(o/e.bpPerPixel),u=Math.round(a/e.bpPerPixel);bm.call(this,e.context,s,0,u,n,i)}}catch(e){r.e(e)}finally{r.f()}e.context.restore()}function bm(e,t,n,r,i,o){e.textAlign="center",e.textBaseline="middle",e.font="12px sans-serif",gm.strokeLine(e,t+r,n,t+r,n+i,{strokeStyle:kg.greyScale(191)});var a=o.startsWith("chr")?o.substring(3):o;r>e.measureText(a).width&&gm.fillText(e,a,t+r/2,n+i/2,{fillStyle:kg.greyScale(68)})}mm.prototype.updateLocusLabel=function(){this.trackView.viewports.forEach((function(e){var t;t=e.genomicState.referenceFrame.showLocus(e.$viewport.width()),e.$rulerLabel.text(t)}))},mm.prototype.appendMultiPanelCloseButton=function(e,t){var n,r=this.browser;e.addClass("igv-viewport-ruler"),n=au('<div class="igv-multi-locus-panel-close-container">'),e.append(n),n.append(Fh("times-circle")),n.click((function(e){r.removeMultiLocusPanelWithGenomicState(t,!0)}))},mm.prototype.getFeatures=function(e,t,n){return Promise.resolve([])},mm.prototype.computePixelHeight=function(e){return this.height},mm.prototype.draw=function(e){if(Gv.isWholeGenomeView(e.referenceFrame))e.viewport.rulerSweeper.disableMouseHandlers(),ym.call(this,e);else{e.viewport.rulerSweeper.addMouseHandlers();var t=1+Math.floor(e.referenceFrame.toBP(e.pixelWidth));new wm(t,e).drawTicks(e,6,2,this.height),gm.strokeLine(e.context,0,this.height-2,e.pixelWidth,this.height-2)}},mm.prototype.supportsWholeGenome=function(){return!0},mm.prototype.dispose=function(){};var wm=function(e,t){function n(e,t,n,r){this.majorTick=!0===r?2*e:e,this.majorUnit=t,this.halfTick=e/2,this.unitMultiplier=n}(function(e,t){var r,i,o,a,s=t.context.isSVG||!1;e<10&&n.call(this,1,"bp",1,s),(r=Math.floor(Math.log10(e)))>9?(i="gb",o=1e9):r>6?(i="mb",o=1e6):r>3?(i="kb",o=1e3):(i="bp",o=1),a=yg(Math.floor(e/o))+" "+i,this.labelWidthBP=Math.round(t.referenceFrame.toBP(t.context.measureText(a).width)),e/Math.pow(10,r-1)<25?n.call(this,Math.pow(10,r-1),i,o,s):n.call(this,Math.pow(10,r)/2,i,o,s)}).call(this,e,t)};wm.prototype.drawTicks=function(e,t,n,r){var i,o,a,s,u,c,l;for(i=Math.floor(e.bpStart/this.majorTick)-1,u=0,c=0,a=0;a<e.pixelWidth;)o=Math.floor(i*this.majorTick),a=Math.round(e.referenceFrame.toPixels(o-1-e.bpStart+.5)),s=yg(Math.floor(o/this.unitMultiplier))+" "+this.majorUnit,u=e.context.measureText(s).width,c=Math.round(a-u/2),gm.fillText(e.context,s,c,r-t/.75),gm.strokeLine(e.context,a,r-t,a,r-n),++i;for(i=Math.floor(e.bpStart/this.halfTick)-1,a=0;a<e.pixelWidth;)o=Math.floor(i*this.halfTick),a=Math.round(e.referenceFrame.toPixels(o-1-e.bpStart+.5)),(l=o/this.unitMultiplier)===Math.floor(l)&&this.majorTick/this.labelWidthBP>8&&(s=yg(Math.floor(l))+" "+this.majorUnit,c=a-(u=e.context.measureText(s).width)/2,gm.fillText(e.context,s,c,r-t/.75)),gm.strokeLine(e.context,a,r-t,a,r-n),++i},wm.prototype.description=function(e){};var xm=Oh.trackMenuItemListHelper,km=function(e){this.$popover=au("<div>",{class:"igv-trackgear-popover"}),e.append(this.$popover);var t=au("<div>",{class:"igv-trackgear-popover-header"});this.$popover.append(t);var n=this;_g(t,(function(){n.$popover.hide()})),this.$popoverContent=au("<div>"),this.$popover.append(this.$popoverContent),dh(this.$popover.get(0),t.get(0)),t.on("click.track_gear_popover",(function(e){e.stopPropagation(),e.preventDefault()}))};km.prototype.presentMenuList=function(e,t,n){if(n.length>0){this.$popoverContent.empty();var r,i=hr(n=xm(n,this.$popover));try{for(i.s();!(r=i.n()).done;){var o=r.value;o.init&&o.init();var a=o.object;0===n.indexOf(o)&&a.removeClass("igv-track-menu-border-top"),a.hasClass("igv-track-menu-border-top")||a.hasClass("igv-trackgear-popover-check-container")||a.is("div")&&a.addClass("igv-trackgear-popover-shim"),this.$popoverContent.append(a)}}catch(e){i.e(e)}finally{i.f()}this.$popover.css({left:e+"px",top:t+"px"}),this.$popover.show()}},km.prototype.dispose=function(){this.$popover.empty(),this.$popoverContent.empty(),Object.keys(this).forEach((function(e){this[e]=void 0}))};var _m=function(e){var t,n=e.$parent,r=e.width,i=e.height,o=e.closeHandler;this.namespace=".generic_container_"+Tg();var a=au("<div>",{class:"igv-generic-container"});n.append(a),this.$container=a,r&&this.$container.width(r),i&&this.$container.height(i);var s=n.get(0).getBoundingClientRect();this.origin={x:s.x,y:s.y},this.$container.offset({left:this.origin.x,top:this.origin.y}),t=au("<div>"),this.$container.append(t);var u=au("<i>");t.append(u),u.append(Fh("times")),u.on("mousedown"+this.namespace,(function(e){e.stopPropagation()})),u.on("mouseup"+this.namespace,(function(e){e.stopPropagation()})),u.on("click"+this.namespace,(function(e){e.preventDefault(),e.stopPropagation(),o(e)})),u.on("touchend"+this.namespace,(function(e){e.preventDefault(),e.stopPropagation(),o(e)})),dh(this.$container.get(0),t.get(0))},Sm=function(e,t,n){var r,i,o=this;this.browser=e,this.track=n,n.trackView=this,i=au('<div class="igv-track-div">'),this.trackDiv=i.get(0),t.append(i),this.namespace=".trackview_"+Tg(),this.track instanceof mm&&(this.trackDiv.dataset.rulerTrack="rulerTrack"),n.height&&(this.trackDiv.style.height=n.height+"px"),this.appendLeftHandGutter(au(this.trackDiv)),this.$viewportContainer=au('<div class="igv-viewport-container">'),au(this.trackDiv).append(this.$viewportContainer),this.viewports=[],r=this.browser.viewportContainerWidth()/this.browser.genomicStateList.length,e.genomicStateList.forEach((function(e){var t;t=new Xv(o,o.$viewportContainer,e,r),o.viewports.push(t)})),this.decorateViewports(),this.configureViewportContainer(this.$viewportContainer,this.viewports),!0===this.track.ignoreTrackMenu||this.appendRightHandGutter(au(this.trackDiv)),this.track instanceof mm||Tm.call(this,au(this.trackDiv),this.$viewportContainer),"sequence"===this.track.type||this.track instanceof mm||this.createColorPicker()};function Em(e){var t=au("<div>",{class:"igv-trackgear-container"});e.append(t),t.append(Fh("cog")),this.trackGearPopover=new km(e),this.trackGearPopover.$popover.hide();var n=this;t.click((function(e){e.preventDefault(),e.stopPropagation(),n.trackGearPopover.presentMenuList(-n.trackGearPopover.$popover.width(),0,Oh.trackMenuItemList(n))}))}function Cm(e,t){var n=window.devicePixelRatio;if(this.leftHandGutter){this.controlCanvas&&au(this.controlCanvas).remove();var r=au('<canvas class ="igv-canvas">');this.controlCanvas=r[0],au(this.leftHandGutter).append(r),this.controlCanvas.height=n*t,this.controlCanvas.width=n*e,this.controlCanvas.style.height=t+"px",this.controlCanvas.style.width=e+"px",this.controlCtx=this.controlCanvas.getContext("2d"),this.controlCtx.scale(n,n)}}function Tm(e,t){var n=this,r=this.browser;this.$trackDragScrim=au('<div class="igv-track-drag-scrim">'),t.append(this.$trackDragScrim),this.$trackDragScrim.hide(),n.$trackManipulationHandle=au('<div class="igv-track-manipulation-handle">'),e.append(n.$trackManipulationHandle),n.$trackManipulationHandle.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),n.$trackDragScrim.show(),r.startTrackDrag(n)})),n.$trackManipulationHandle.on("mouseup",(function(e){e.preventDefault(),e.stopPropagation(),r.endTrackDrag(),n.$trackDragScrim.hide()})),e.on("mouseenter",(function(e){r.dragTrack&&(e.preventDefault(),e.stopPropagation(),r.updateTrackDrag(n))})),n.$trackManipulationHandle.on("mouseleave",(function(e){r.dragTrack||(e.preventDefault(),e.stopPropagation(),n.$trackDragScrim.hide())}))}function Am(e){return this.viewports.filter((function(t){if(!t.isVisible())return!1;if(t.checkZoomIn()){var n=t.genomicState.referenceFrame,r=n.chrName,i=n.start,o=i+n.toBP(au(t.contentDiv).width()),a=n.bpPerPixel;return e||!t.tile||t.tile.invalidate||!t.tile.containsRange(r,i,o,a)}return!1}))}function Rm(){var e,t,n=this.maxContentHeight();if(this.track.autoHeight?this.setTrackHeight(n,!1):this.track.paintAxis&&this.track.paintAxis(this.controlCtx,au(this.controlCanvas).width(),au(this.controlCanvas).height()),this.scrollbar){var r=this.viewports[0].getContentTop(),i=Math.min(0,this.$viewportContainer.height()-(e=this.viewports,t=e.map((function(e){return e.getContentHeight()})),Math.min.apply(Math,ar(t))));r<i&&this.viewports.forEach((function(e){au(e.contentDiv).css("top",i+"px")})),this.scrollbar.update()}}function Om(e){var t=e.map((function(e){return e.getContentHeight()}));return Math.max.apply(Math,ar(t))}Sm.prototype.renderSVGContext=function(e,t){var n,r=hr(this.viewports);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.browser.genomicStateList.indexOf(i.genomicState),a=i.$viewport.get(0).getBoundingClientRect(),s={deltaX:t.deltaX+o*i.$viewport.width(),deltaY:t.deltaY+a.y};i.renderSVGContext(e,s)}}catch(e){r.e(e)}finally{r.f()}},Sm.prototype.configureViewportContainer=function(e,t){return"hidden"===e.css("overflow-y")&&(this.scrollbar=new Im(e,t,this.browser.$root),e.append(this.scrollbar.$outerScroll)),e},Sm.prototype.removeViewportWithLocusIndex=function(e){this.viewports[e].$viewport.remove(),this.viewports.splice(e,1),this.decorateViewports()},Sm.prototype.decorateViewports=function(){var e=this;this.viewports.forEach((function(t,n){var r;r=t.$viewport,e.viewports.length>1?(r.find(".igv-multi-locus-panel-close-container").show(),r.find(".igv-multi-locus-panel-label-div").show()):(r.find(".igv-multi-locus-panel-close-container").hide(),r.find(".igv-multi-locus-panel-label-div").hide()),n<e.viewports.length&&1+n!==e.viewports.length?r.addClass("igv-viewport-div-border-right"):r.removeClass("igv-viewport-div-border-right")}))},Sm.prototype.appendLeftHandGutter=function(e){var t,n,r=this;t=au('<div class="igv-left-hand-gutter">'),this.leftHandGutter=t[0],e.append(t),"function"==typeof this.track.paintAxis&&(this.track.dataRange&&(t.click((function(e){r.browser.dataRangeDialog.configure({trackView:r}),r.browser.dataRangeDialog.present(au(r.trackDiv))})),t.addClass("igv-clickable")),n=au('<canvas class ="igv-canvas">'),t.append(n),this.controlCanvas=n.get(0),Cm.call(this,t.outerWidth(),t.outerHeight()))},Sm.prototype.appendRightHandGutter=function(e){var t=au('<div class="igv-right-hand-gutter">');e.append(t),Em.call(this,t)},Sm.prototype.dataRange=function(){return this.track.dataRange?this.track.dataRange:void 0},Sm.prototype.setDataRange=function(e,t,n){void 0!==e&&(this.track.dataRange.min=e,this.track.config.min=e),void 0!==t&&(this.track.dataRange.max=t,this.track.config.max=t),this.track.autoscale=n,this.track.config.autoScale=n,n?this.updateViews():this.repaintViews()},Sm.prototype.setColor=function(e){this.track.color=e,this.track.config.color=e,this.repaintViews(!0)},Sm.prototype.createColorPicker=function(){var e=this,t={$parent:au(this.trackDiv),width:384,height:void 0,closeHandler:function(){e.colorPicker.$container.hide(),e.colorPicker.$container.get(0).style.top=0,e.colorPicker.$container.get(0).style.left=0}};this.colorPicker=new _m(t),Sg(this.colorPicker.$container,(function(t){return e.setColor(t)}),this.track.color),this.colorPicker.$container.hide()},Sm.prototype.presentColorPicker=function(){this.colorPicker.$container.get(0).style.top=0,this.colorPicker.$container.get(0).style.left=0,this.colorPicker.$container.show()},Sm.prototype.setTrackHeight=function(e,t,n){n||(this.track.minHeight&&(e=Math.max(this.track.minHeight,e)),this.track.maxHeight&&(e=Math.min(this.track.maxHeight,e))),this.track.height=e,this.track.config.height=e,au(this.trackDiv).height(e),"function"!=typeof this.track.computePixelHeight&&(this.viewports.forEach((function(t){t.setContentHeight(e),t.tile&&(t.tile.invalidate=!0)})),this.repaintViews()),Cm.call(this,au(this.leftHandGutter).outerWidth(),e),this.track.paintAxis&&this.track.paintAxis(this.controlCtx,au(this.controlCanvas).width(),au(this.controlCanvas).height()),this.scrollbar&&this.scrollbar.update()},Sm.prototype.isLoading=function(){for(var e=0;e<this.viewports.length;e++)if(this.viewports[e].isLoading())return!0},Sm.prototype.resize=function(){var e;if(0!=(e=this.browser.viewportContainerWidth()/this.browser.genomicStateList.length)){this.viewports.forEach((function(t){t.setWidth(e)}));var t=au(this.leftHandGutter);Cm.call(this,t.outerWidth(),t.outerHeight()),this.updateViews(!0)}},Sm.prototype.repaintViews=function(){this.viewports.forEach((function(e){e.repaint()})),this.track.paintAxis&&this.track.paintAxis(this.controlCtx,au(this.controlCanvas).width(),au(this.controlCanvas).height())},Sm.prototype.updateViews=function(){var e=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.browser&&this.browser.genomicStateList){e.next=2;break}return e.abrupt("return");case 2:(n=this.viewports.filter((function(e){return e.isVisible()}))).forEach((function(e){e.shift()})),r=Am.call(this,t),i=hr(r),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=14;break}return a=o.value,e.next=12,a.loadFeatures();case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:if(!(s=this.browser.dragObject)&&this.track.autoscale){u=[],c=hr(n);try{for(c.s();!(l=c.n()).done;)f=l.value,h=f.genomicState.referenceFrame,p=h.start,d=p+h.toBP(au(f.contentDiv).width()),f.tile&&f.tile.features&&(u=u.concat(hm(f.tile.features,p,d)))}catch(e){c.e(e)}finally{c.f()}"function"==typeof this.track.doAutoscale?this.track.dataRange=this.track.doAutoscale(u):this.track.dataRange=Hg(u)}if(s||!this.track.autoscale&&!this.track.autoscaleGroup){m=hr(r);try{for(m.s();!(y=m.n()).done;)y.value.repaint()}catch(e){m.e(e)}finally{m.f()}}else{g=hr(n);try{for(g.s();!(v=g.n()).done;)v.value.repaint()}catch(e){g.e(e)}finally{g.f()}}Rm.call(this);case 26:case"end":return e.stop()}}),e,this,[[6,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),Sm.prototype.getInViewFeatures=function(){var e=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.browser&&this.browser.genomicStateList){e.next=2;break}return e.abrupt("return",[]);case 2:return n=Am.call(this,t),r=n.map((function(e){return e.loadFeatures()})),e.next=6,Promise.all(r);case 6:i=[],o=hr(this.viewports);try{for(o.s();!(a=o.n()).done;)(s=a.value).tile&&s.tile.features&&(u=s.genomicState.referenceFrame,c=u.start,l=c+u.toBP(au(s.contentDiv).width()),i=i.concat(hm(s.tile.features,c,l)))}catch(e){o.e(e)}finally{o.f()}return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),Sm.prototype.checkContentHeight=function(){this.viewports.forEach((function(e){e.checkContentHeight()})),Rm.call(this)},Sm.prototype.maxContentHeight=function(){return Om(this.viewports)},Sm.prototype.dispose=function(){var e=this;this.$trackManipulationHandle&&this.$trackManipulationHandle.off(),this.scrollbar&&this.scrollbar.dispose(),au(document).off(this.namespace),"function"==typeof this.track.dispose&&this.track.dispose();var t=this.track;"function"==typeof t.dispose&&t.dispose(),Object.keys(t).forEach((function(e){t[e]=void 0})),this.viewports.forEach((function(e){e.dispose()})),Object.keys(this).forEach((function(t){e[t]=void 0}))},Sm.prototype.scrollBy=function(e){this.scrollbar.moveScrollerBy(e)};var Im=function(e,t,n){var r,i=this,o=".trackscrollbar"+Tg();function a(e){e.preventDefault(),e.stopPropagation();var t=Eg(e);i.moveScrollerBy(t.y-r),r=t.y}function s(e){au(document).off(i.namespace)}this.namespace=o,this.$outerScroll=au('<div class="igv-scrollbar-outer-div">'),this.$innerScroll=au("<div>"),this.$outerScroll.append(this.$innerScroll),this.$viewportContainer=e,this.viewports=t,this.$innerScroll.on("mousedown",(function(e){e.preventDefault();var t=Eg(e);r=t.y,au(document).on("mousemove"+o,a),au(document).on("mouseup"+o,s),au(document).on("mouseleave"+o,s),e.stopPropagation()})),this.$innerScroll.on("click",(function(e){e.stopPropagation()})),this.$outerScroll.on("click",(function(e){i.moveScrollerBy(e.offsetY-i.$innerScroll.height()/2),e.stopPropagation()}))};Im.prototype.moveScrollerBy=function(e){var t=this.$innerScroll.position().top+e;this.moveScrollerTo(t)},Im.prototype.moveScrollerTo=function(e){var t=this.$outerScroll.height(),n=this.$innerScroll.height(),r=Math.min(Math.max(0,e),t-n),i=Om(this.viewports),o=-Math.round(r*(i/this.$viewportContainer.height()));this.$innerScroll.css("top",r+"px"),this.viewports.forEach((function(e){e.setTop(o)}))},Im.prototype.dispose=function(){au(window).off(this.namespace),this.$innerScroll.off()},Im.prototype.update=function(){var e,t,n;e=this.$viewportContainer.height(),t=Om(this.viewports),n=Math.round(e/t*e),t>e?(this.$outerScroll.show(),this.$innerScroll.height(n)):this.$outerScroll.hide()};var Lm=Ut.trim,Mm=a.parseFloat,Pm=1/Mm(Dt+"-0")!=-1/0?function(e){var t=Lm(String(e)),n=Mm(t);return 0===n&&"-"==t.charAt(0)?-0:n}:Mm;Pe({target:"Number",stat:!0,forced:Number.parseFloat!=Pm},{parseFloat:Pm});var Nm=Mh.entries;function Fm(e){return"string"==typeof e||e instanceof String?new Dm(e):new Bm(e)}Pe({target:"Object",stat:!0},{entries:function(e){return Nm(e)}});var Dm=function(e){this.data=e,this.ptr=0};Dm.prototype.nextLine=function(){var e=this.ptr,t=this.data.indexOf("\n",e);return t>0?(this.ptr=t+1,t===e?void 0:this.data.substring(e,t).trim()):(this.ptr=this.data.length,e>=this.data.length?void 0:this.data.substring(e).trim())},Dm.prototype.nextLineNoTrim=function(){var e=this.ptr,t=this.data.indexOf("\n",e),n=this.data;if(t>0)return this.ptr=t+1,t>e&&"\r"===n.charAt(t-1)?n.substring(e,t-1):n.substring(e,t);var r=n.length;return this.ptr=r,e>=r?void 0:n.substring(e)};var Bm=function(e){this.data=e,this.length=this.data.length,this.ptr=0};Bm.prototype.nextLine=function(){var e,t;if(t="",!(this.ptr>=this.length)){for(var n=this.ptr;n<this.length;n++)if("\r"!==(e=String.fromCharCode(this.data[n]))){if("\n"===e)break;t+=e}return this.ptr=n+1,t}},Bm.prototype.nextLineNoTrim=Bm.prototype.nextLine;var jm={gwascatalog:{fields:["bin","chr","start","end","name","pubMedID","author","pubDate","journal","title","trait","initSample","replSample","region","genes","riskAllele","riskAlFreq","pValue","pValueDesc","orOrBeta","ci95","platform","cnv"]},wgrna:{fields:["bin","chr","start","end","name","score","strand","thickStart","thickEnd","type"]},cpgislandext:{fields:["bin","chr","start","end","name","length","cpgNum","gcNum","perCpg","perGc","obsExp"]},clinVarMain:{fields:["chr1","start","end","name","score","strand","thickStart","thickEnd","reserved","blockCount","blockSizes","chromStarts","origName","clinSign","reviewStatus","type","geneId","snpId","nsvId","rcvAcc","testedInGtr","phenotypeList","phenotype","origin","assembly","cytogenetic","hgvsCod","hgvsProt","numSubmit","lastEval","guidelines","otherIds"]}},zm=new Set(["narrowpeak","broadpeak","regionpeak","peaks","bedgraph","wig","gff3","gff","gtf","fusionjuncspan","refflat","seg","aed","bed","vcf","bb","bigbed","bw","bigwig","bam","tdf","refgene","genepred","genepredext","bedpe","bp","snp","rmsk","cram","gwas"]);function Hm(e){if(function(e){e.featureType&&(e.type=e.type||e.featureType,e.featureType=void 0),"junctions"===e.type?e.type="spliceJunctions":"bed"===e.type?(e.type="annotation",e.format=e.format||"bed"):"annotations"===e.type?e.type="annotation":"alignments"===e.type?e.type="alignment":"bam"===e.type?(e.type="alignment",e.format="bam"):"vcf"===e.type?(e.type="variant",e.format="vcf"):"t2d"===e.type?e.type="gwas":"FusionJuncSpan"!==e.type||e.format?"aed"===e.type&&(e.type="annotation",e.format=e.format||"aed"):e.format="fusionjuncspan"}(e),void 0===e.sourceType&&e.url&&(e.sourceType="file"),"file"===e.sourceType)if(void 0===e.format){var t=sv(e.url)?e.url.name:e.url;e.format=Um(t)}else e.format=e.format.toLowerCase();if(void 0===e.type){if(e.type)return;if(e.format)switch(e.format.toLowerCase()){case"bw":case"bigwig":case"wig":case"bedgraph":case"tdf":e.type="wig";break;case"vcf":e.type="variant";break;case"seg":e.type="seg";break;case"bam":case"cram":e.type="alignment";break;case"bedpe":case"bedpe-loop":e.type="interaction";break;case"bp":e.type="arc";break;case"gwas":e.type="gwas";break;default:e.type="annotation"}}}function Um(e){var t,n;if((e=e.toLowerCase()).endsWith("refgene.txt.gz")||e.endsWith("refgene.txt.bgz")||e.endsWith("refgene.txt")||e.endsWith("refgene.sorted.txt.gz")||e.endsWith("refgene.sorted.txt.bgz"))return"refgene";switch((t=e.indexOf("?"))>0&&(e=e.substr(0,t)),e.endsWith(".gz")&&(e=e.substr(0,e.length-3)),(e.endsWith(".txt")||e.endsWith(".tab")||e.endsWith(".bgz"))&&(e=e.substr(0,e.length-4)),n=(t=e.lastIndexOf("."))<0?e:e.substr(t+1)){case"bw":return"bigwig";case"bb":return"bigbed";default:return zm.has(n)?n:void 0}}var qm=Number.MAX_SAFE_INTEGER,Gm=["Name","gene_name","gene","gene_id","alias","locus","name"],$m=function(e,t,n){var r;if(void 0!==e&&(this.format=e.toLowerCase()),this.nameField=n?n.nameField:void 0,this.skipRows=0,t)this.decode=t;else switch(this.format){case"narrowpeak":case"broadpeak":case"regionpeak":case"peaks":this.decode=ny,this.delimiter=/\s+/;break;case"bedgraph":this.decode=ry,this.delimiter=/\s+/;break;case"wig":this.decode=iy,this.delimiter=/\s+/;break;case"gff3":case"gff":case"gtf":this.decode=uy,this.delimiter="\t";break;case"fusionjuncspan":this.decode=oy,this.delimiter=/\s+/;break;case"gtexgwas":this.skipRows=1,this.decode=ay,this.delimiter="\t";break;case"refflat":this.decode=ey,this.delimiter=/\s+/;break;case"genepred":this.decode=Qm,this.delimiter=/\s+/;break;case"genepredext":this.decode=Jm,this.delimiter=/\s+/;break;case"ensgene":this.decode=Qm,this.shift=1,this.delimiter=/\s+/;break;case"refgene":this.decode=Jm,this.delimiter=/\s+/,this.shift=1;break;case"bed":this.decode=Ym,this.delimiter=n.delimiter||/\s+/;break;case"bedpe":this.skipRows=1,this.decode=ly,this.delimiter=/\s+/;break;case"bedpe-domain":this.decode=fy,this.headerLine=!0,this.delimiter=/\s+/;break;case"bedpe-loop":this.decode=ly,this.delimiter=/\s+/,this.skipRows=1,this.header={colorColumn:7};break;case"snp":this.decode=hy,this.delimiter="\t";break;case"rmsk":this.decode=Km,this.delimiter="\t";break;default:void 0!==(r=function(e){return jm&&jm[e]?function(e){for(var t=e.fields,n=["chr","start","end"],r=0;r<t.length;r++){var i,o=hr(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;a===t[r]&&(e[a]=r)}}catch(e){o.e(e)}finally{o.f()}}return e}(jm[e]):void 0}(this.format))?(this.decode=py,this.format=r,this.delimiter=r.delimiter||"\t"):(this.decode=Ym,this.delimiter=/\s+/)}};function Vm(e){var t=e.split(/\s+/);return{format:"fixedStep",chrom:t[1].split("=")[1],start:parseInt(t[2].split("=")[1],10)-1,step:parseInt(t[3].split("=")[1],10),span:t.length>4?parseInt(t[4].split("=")[1],10):1,index:0}}function Wm(e){var t=e.split(/\s+/);return{format:"variableStep",chrom:t[1].split("=")[1],span:t.length>2?parseInt(t[2].split("=")[1],10):1}}function Zm(e){var t,n,r={},i=[],o=hr(e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g));try{for(o.s();!(n=o.n()).done;){var a=n.value;a&&0!==a.trim().length&&(a.endsWith("=")>0?t=a:t?(i.push(t+a),t=void 0):i.push(a))}}catch(e){o.e(e)}finally{o.f()}for(var s=0,u=i;s<u.length;s++){var c=u[s];if(!c)return;var l=c.split("=",2);if(2===l.length){var f=l[0].trim(),h=l[1].trim();r[f]=h}}return r}function Xm(e){var t={},n=e.split(/\s+/);return 2===n.length&&n[1].split(";").forEach((function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)})),t}function Ym(e,t){var n,r,i,o,a,s,u,c;if(!(e.length<3)){if(this.header&&this.header.gffTags,s={chr:e[0],start:n=parseInt(e[1]),end:e.length>2?parseInt(e[2]):n+1,score:1e3},e.length>3){if(e[3].indexOf(";")>0){var l,f=sy(e[3],"="),h=hr(Gm);try{for(h.s();!(l=h.n()).done;){var p=l.value;if(f.hasOwnProperty(p)){s.name=f[p],delete f[p];break}}}catch(e){h.e(e)}finally{h.f()}s.attributes=f}s.name?s.nameField=e[3]:s.name=e[3]}if(e.length>4&&(s.score=parseFloat(e[4])),e.length>5&&(s.strand=e[5]),e.length>6&&(s.cdStart=parseInt(e[6])),e.length>7&&(s.cdEnd=parseInt(e[7])),e.length>8&&"."!==e[8]&&"0"!==e[8]&&(s.color=kg.createColorString(e[8])),e.length>11){r=parseInt(e[9]),i=e[10].split(","),o=e[11].split(","),a=[];for(var d=0;d<r;d++)c=(u=n+parseInt(o[d]))+parseInt(i[d]),a.push({start:u,end:c});ty(a,s.cdStart,s.cdEnd),s.exons=a}if(this.header){var g=this.header.thicknessColumn,v=this.header.colorColumn;v&&v<e.length&&(s.color=kg.createColorString(e[v])),g&&g<e.length&&(s.thickness=e[g])}return s}}function Km(e,t){if(!(e.length<=15))return{swScore:Number.parseInt(e[1]),milliDiv:Number.parseInt(e[2]),milliDel:Number.parseInt(e[3]),milliIns:Number.parseInt(e[4]),chr:e[5],start:Number.parseInt(e[6]),end:Number.parseInt(e[7]),strand:e[9],repName:e[10],repClass:e[11],repFamily:e[12],repStart:Number.parseInt(e[13]),repEnd:Number.parseInt(e[14]),repLeft:Number.parseInt(e[15])}}function Qm(e,t){var n=void 0===this.shift?0:1;if(!(e.length<=9+n)){for(var r=parseInt(e[5+n]),i=parseInt(e[6+n]),o={name:e[0+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:r,cdEnd:i,id:e[0+n]},a=parseInt(e[7+n]),s=e[8+n].split(","),u=e[9+n].split(","),c=[],l=0;l<a;l++){var f=parseInt(s[l]),h=parseInt(u[l]);c.push({start:f,end:h})}return ty(c,r,i),o.exons=c,o}}function Jm(e,t){var n=void 0===this.shift?0:1;if(!(e.length<=11+n)){for(var r=parseInt(e[5+n]),i=parseInt(e[6+n]),o={name:e[11+n],chr:e[1+n],strand:e[2+n],start:parseInt(e[3+n]),end:parseInt(e[4+n]),cdStart:r,cdEnd:i,id:e[0+n]},a=parseInt(e[7+n]),s=e[8+n].split(","),u=e[9+n].split(","),c=[],l=0;l<a;l++){var f=parseInt(s[l]),h=parseInt(u[l]);c.push({start:f,end:h})}return ty(c,r,i),o.exons=c,o}}function ey(e,t){var n=void 0===this.shift?0:1;if(!(e.length<=10+n)){for(var r=parseInt(e[6+n]),i=parseInt(e[7+n]),o={name:e[0+n],id:e[1+n],chr:e[2+n],strand:e[3+n],start:parseInt(e[4+n]),end:parseInt(e[5+n]),cdStart:r,cdEnd:i},a=parseInt(e[8+n]),s=e[9+n].split(","),u=e[10+n].split(","),c=[],l=0;l<a;l++){var f=parseInt(s[l]),h=parseInt(u[l]);c.push({start:f,end:h})}return ty(c,r,i),o.exons=c,o}}function ty(e,t,n){var r,i=hr(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.end,s=o.start;a<t||s>n?o.utr=!0:(t>=s&&t<=a&&(o.cdStart=t),n>=s&&n<=a&&(o.cdEnd=n))}}catch(e){i.e(e)}finally{i.f()}}function ny(e,t){var n,r,i,o,a,s,u;if(!(e.length<=9))return n=e[0],r=parseInt(e[1]),i=parseInt(e[2]),a=e[3],s=parseFloat(e[4]),o=e[5].trim(),u=parseFloat(e[6]),0===s&&(s=u),{chr:n,start:r,end:i,name:a,score:s,strand:o,signal:u,pValue:parseFloat(e[7]),qValue:parseFloat(e[8])}}function ry(e,t){if(!(e.length<=3)){var n={chr:e[0],start:parseInt(e[1]),end:parseInt(e[2]),value:parseFloat(e[3])};if(this.header){var r=this.header.colorColumn;r&&r<e.length&&(n.color=kg.createColorString(e[r]))}return n}}function iy(e,t){var n,r,i;return"fixedStep"===t.format?(r=(n=t.index*t.step+t.start)+t.span,i=parseFloat(e[0]),++t.index,isNaN(i)?null:{chr:t.chrom,start:n,end:r,value:i}):"variableStep"===t.format?e.length<2?null:(r=(n=parseInt(e[0],10)-1)+t.span,i=parseFloat(e[1]),isNaN(i)?null:{chr:t.chrom,start:n,end:r,value:i}):ry(e)}function oy(e,t){if(!(e.length<7)){var n=e[0],r=e[1],i=parseInt(e[2]),o=parseInt(e[3]),a=parseInt(e[4]),s=parseInt(e[5]),u=e[6],c={chr:n,name:r,junction_left:i,junction_right:o,num_junction_reads:a,num_spanning_frags:s,spanning_frag_coords:[],start:-1,end:-1},l=i,f=o;if(s>0)for(var h=u.split(","),p=0;p<h.length;p++){var d=h[p].split("-"),g=d[0],v=d[1];g<l&&(l=g),v>f&&(f=v),c.spanning_frag_coords.push({left:g,right:v})}return c.start=l,c.end=f,c}}function ay(e,t){if(e.length<7)return null;var n={chr:e[0],start:parseInt(e[1])-1,end:parseInt(e[2]),"Strongest SNP-risk allele":e[3],"Disease/Phenotype":e[4],"P-value":e[5],"Odds ratio or beta":e[6]};return e.length>6&&(n.PUBMEDID='<a target = "blank" href = "https://www.ncbi.nlm.nih.gov/pubmed/'.concat(e[7],'">').concat(e[7],"</a>")),n}function sy(e,t){var n,r={},i=hr(e.split(";"));try{for(i.s();!(n=i.n()).done;){var o=n.value.trim().split(t,2);if(2===o.length){var a=o[0].trim(),s=o[1].trim();s.startsWith('"')&&s.endsWith('"')&&(s=s.substr(1,s.length-2)),r[a]=s}}}catch(e){i.e(e)}finally{i.f()}return r}function uy(e,t){var n,r,i,o,a,s,u,c,l,f,h=this.format;if(e.length<9)return null;n=e[0],a=e[2],r=parseInt(e[3])-1,i=parseInt(e[4]),s="."===e[5]?0:parseFloat(e[5]),o=e[6],"."===e[7]||parseInt(e[7]);for(var p="gff3"===h?"=":/\s+/,d=sy(u=e[8],p),g=0,v=Object.entries(d);g<v.length;g++){var m=or(v[g],2),y=m[0],b=m[1],w=y.toLowerCase();if("color"===w||"colour"===w)c=kg.createColorString(b);else if("gff3"===h)try{d[y]=unescape(b)}catch(e){d[y]=b,console.error("Malformed gff3 attibute value: ".concat(b))}}if(this.nameField)l=d[this.nameField];else for(f=0;f<Gm.length;f++)if(d.hasOwnProperty(Gm[f])){this.nameField=Gm[f],l=d[this.nameField];break}return new cy({id:d.ID||d.transcript_id,parent:d.Parent,name:l,type:a,chr:n,start:r,end:i,score:s,strand:o,color:c,attributeString:u,delim:p})}function cy(e){Object.assign(this,e)}function ly(e,t){if(!(e.length<6)){var n={chr1:e[0],start1:Number.parseInt(e[1]),end1:Number.parseInt(e[2]),chr2:e[3],start2:Number.parseInt(e[4]),end2:Number.parseInt(e[5])};e.length>6&&(n.name=e[6]),e.length>7&&(n.score=e[7]),n.chr=n.chr1===n.chr2?n.chr1:"MIXED",n.start=Math.min(n.start1,n.start2),n.end=Math.max(n.end1,n.end2);var r=(n.start1+n.end1)/2,i=(n.start2+n.end2)/2;if(n.m1=r<i?r:i,n.m2=r<i?i:r,this.header){var o=this.header.thicknessColumn,a=this.header.colorColumn;a&&a<e.length&&(n.color=kg.createColorString(e[a])),o&&o<e.length&&(n.thickness=e[o])}return n}}function fy(e,t){if(!(e.length<8))return{chr:e[0],start:Number.parseInt(e[1]),end:Number.parseInt(e[2]),color:kg.createColorString(e[6]),score:Number.parseFloat(e[7])}}function hy(e,t){if(!(e.length<6)){for(var n=["bin","chr","start","end","name","score","strand","refNCBI","refUCSC","observed","molType","class","valid","avHet","avHetSE","func","locType","weight","exceptions","submitterCount","submitters","alleleFreqCount","alleles","alleleNs","alleleFreqs","bitfields"],r={chr:e[1],start:Number.parseInt(e[2]),end:Number.parseInt(e[3]),name:e[4],score:Number.parseInt(e[5])},i=Math.min(e.length,n.length),o=6;o<i;o++)r[n[o]]=e[o];return r}}function py(e,t){if(!(e.length<this.format.fields.length)){var n=this.format,r=n.coords||0,i=e[n.chr],o=parseInt(e[n.start])-r,a={chr:i,start:o,end:void 0!==n.end?parseInt(e[n.end]):o+1};return n.fields&&n.fields.forEach((function(t,r){r!==n.chr&&r!==n.start&&r!==n.end&&(a[t]=e[r])})),a}}$m.prototype.parseHeader=function(e){var t,n,r;for(r=Fm(e);(t=r.nextLine())&&(t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"));)if(t.startsWith("track")||t.startsWith("#track")){var i=Zm(t);n?Object.assign(n,i):n=i}else if(t.startsWith("#columns")){var o=Xm(t);n?Object.assign(n,o):n=o}else t.startsWith("##gff-version 3")?(this.format="gff3",n||(n={}),n.format="gff3"):t.startsWith("#gffTags")&&(n||(n={}),n.gffTags=!0);return this.header=n,n},$m.prototype.parseFeatures=function(e){if(!e)return null;for(var t,n,r=Fm(e),i=r.nextLine.bind(r),o=[],a=0,s=this.decode,u=this.format,c=this.delimiter||"\t",l=0;t=i();)if(!(++l<=this.skipRows||t.startsWith("track")||t.startsWith("#")||t.startsWith("browser")))if("wig"===u&&t.startsWith("fixedStep"))n=Vm(t);else if("wig"===u&&t.startsWith("variableStep"))n=Wm(t);else{var f=t.split(c);if(!(f.length<1)){var h=s.call(this,f,n);if(h){if(o.length<qm)o.push(h);else{var p=Math.floor(Math.random()*a);p<qm&&(o[p]=h)}a++}}}return o},cy.prototype.popupData=function(e){var t=this.attributeString.split(";"),n=[];this.name&&n.push({name:"name:",value:this.name}),n.push({name:"type:",value:this.type});var r,i=hr(t);try{for(i.s();!(r=i.n()).done;){var o=r.value.trim().split(this.delim,2);if(2===o.length&&void 0!==o[1]){var a=o[0].trim();if("name"===a.toLowerCase())continue;var s=o[1].trim();s.startsWith('"')&&s.endsWith('"')&&(s=s.substr(1,s.length-2)),n.push({name:a+":",value:s})}}}catch(e){i.e(e)}finally{i.f()}return n.push({name:"position:",value:"".concat(this.chr,":").concat(yg(this.start+1),"-").concat(yg(this.end))}),n};var dy=function(){function e(){Zn(this,e)}return Yn(e,[{key:"parseHeader",value:function(e){var t,n=hr(bg(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!r.startsWith("#")){var i=r.split("\t");this.header={headings:i};break}}}catch(e){n.e(e)}finally{n.f()}return this.header}},{key:"parseFeatures",value:function(e){var t=Fm(e),n=t.nextLine.bind(t),r=[];this.header||(this.header=this.parseHeader(n()));for(var i,o=this.header.headings.length-1;i=n();){var a=i.split("\t");a.length>o&&r.push({sampleKey:a[0],sample:a[0],chr:a[1],start:parseInt(a[2]),end:parseInt(a[3]),value:parseFloat(a[o])})}return r}}]),e}(),gy=function(e,t){e.displayMode&&(e.displayMode=e.displayMode.toUpperCase()),this.config=e,this.browser=t,this.url=e.url,this.type=e.type,this.description=e.description,this.supportHiDPI=void 0===e.supportHiDPI||e.supportHiDPI,e.name=e.name||e.label,e.name?this.name=e.name:sv(e.url)?this.name=e.url.name:this.name=e.url,this.order=e.order,"civic-ws"===e.sourceType?this.color="rgb(155,20,20)":this.color=e.color||e.defaultColor||"rgb(0,0,150)",this.autoscaleGroup=e.autoscaleGroup,this.removable=void 0===e.removable||e.removable,this.height=e.height||100,this.autoHeight=e.autoHeight,this.minHeight=e.minHeight||Math.min(25,this.height),this.maxHeight=e.maxHeight||Math.max(1e3,this.height),this.visibilityWindow=e.visibilityWindow};function vy(e){var t,n,r=new wy;return r.chr=e[0],r.pos=parseInt(e[1]),r.names=e[2],r.referenceBases=e[3],r.alternateBases=e[4],r.quality=e[5],r.filter=e[6],r.info=(t=e[7],n={},t&&t.split(";").forEach((function(e){var t=e.split("=");n[t[0]]=t[1]})),n),my(r),r}function my(e){var t=e.referenceBases,n=e.alternateBases;if(e.info&&(e.info.VT?e.type=e.info.VT:e.info.SVTYPE?e.type="SV":e.info.PERIOD&&(e.type="STR")),void 0===e.type&&(e.type=function(e,t){var n=e.length;if(void 0===t)return"UNKNOWN";if(0===t.trim().length||"<NON_REF>"===t||"<*>"===t||"."===t)return"NONVARIANT";var r,i=t.split(",").map((function(e){return 1===n&&1===e.length?"SNP":"<NON_REF>"===e?"NONVARIANT":"OTHER"})),o=i[0],a=hr(i);try{for(a.s();!(r=a.n()).done;)if(r.value!==o)return"MIXED"}catch(e){a.e(e)}finally{a.f()}return o}(t,n)),"NONVARIANT"===e.type&&(e.heterozygosity=0,e.start=e.pos-1,e.end=e.start+t.length),e.info.END)e.start=e.pos-1,e.end=Number.parseInt(e.info.END);else if("NONVARIANT"!==e.type){var r=n.split(",").filter((function(e){return e.length>0}));e.alleles=[],e.start=e.pos,e.end=e.pos;var i,o=hr(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.alleles.push(a),"SV"!==e.type&&by(a)){var s=a.length,u=t.length,c=0;for(t.charCodeAt(0)===a.charCodeAt(0)&&(c++,s--,u--);s>0&&u>0&&a.charCodeAt(c+s-1)===t.charCodeAt(c+u-1);)s--,u--;for(;s>0&&u>0&&a.charCodeAt(c+s-1)===t.charCodeAt(c+u-1);)c++,s--,u--;var l=e.pos+c-1,f=l+Math.max(1,u);e.start=Math.min(e.start,l),e.end=Math.max(e.end,f)}}}catch(e){o.e(e)}finally{o.f()}}}gy.prototype.getState=function(){var e=Object.assign({},this.config),t=this;return Object.keys(e).forEach((function(n){var r=t[n];r&&(Bg(r)||"boolean"==typeof r)&&(e[n]=r)})),e},gy.prototype.supportsWholeGenome=function(){return!1},gy.prototype.clickedFeatures=function(e){var t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];var n=e.genomicLocation,r=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:0,i=Math.floor(n)-r,o=Math.floor(n)+r;return hm(t,i,o)},gy.prototype.setTrackProperties=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];switch(r){case"name":case"useScore":this[r]=e[r];break;case"visibility":switch(e[r]){case"2":case"3":case"pack":case"full":this.displayMode="EXPANDED";break;case"4":case"squish":this.displayMode="SQUISHED";break;case"1":case"dense":this.displayMode="COLLAPSED"}break;case"color":case"altColor":this[r]="rgb("+e[r]+")";break;case"featureVisiblityWindow":this.visibilityWindow=Number.parseInt(e[r])}}},gy.prototype.getVisibilityWindow=function(){return this.visibilityWindow},gy.extractPopupData=function(e,t){var n,r,i=new Set(["row","color"]),o=[];for(var a in e)if(e.hasOwnProperty(a)&&!i.has(a)&&Bg(e[a])){var s=e[a];"start"===a&&(s+=1),o.push({name:a,value:s}),"alleles"===a?n=e[a]:"alleleFreqs"===a&&(r=e[a])}if(n&&r){n.endsWith(",")&&(n=n.substr(0,n.length-1)),r.endsWith(",")&&(r=r.substr(0,r.length-1));var u=n.split(","),c=r.split(",");if(c.length>1){for(var l=[],f=0;f<c.length;f++)l.push({a:u[f],af:Number.parseFloat(c[f])});l.sort((function(e,t){return e.af-t.af}));var h=l[l.length-1].a;if(1===h.length)for(var p=l.length-2;p>=0;p--){var d=l[p].a;if(1===d.length){var g=gy.getCravatLink(e.chr,e.start+1,h,d,t);g&&(o.push("<hr/>"),o.push(g))}}}}if(e.attributes)for(var v=0,m=Object.keys(e.attributes);v<m.length;v++){var y=m[v];o.push({name:y,value:e.attributes[y]})}return o},gy.prototype.getGenomeId=function(){return this.browser.genome?this.browser.genome.id:void 0},gy.getCravatLink=function(e,t,n,r,i){if("hg38"===i||"GRCh38"===i){var o=e.startsWith("chr")?e:"chr"+e;return'<a target="_blank" href="https://run.opencravat.org/result/nocache/variant.html'+"?chrom=".concat(o,"&pos=").concat(t,"&ref_base=").concat(n,"&alt_base=").concat(r,'">Cravat ').concat(n,"->").concat(r,"</a>")}};var yy=new Set(["A","C","T","G"].map((function(e){return e.charCodeAt(0)})));function by(e){for(var t=0;t<e.length;t++)if(!yy.has(e.charCodeAt(t)))return!1;return!0}var wy=function(){};function xy(e,t){return void 0===t&&(t=","),Array.isArray(e)?e.join(t):e}wy.prototype.popupData=function(e,t){var n,r,i=this,o=this.end===this.pos?this.pos:"".concat(this.pos,"-").concat(this.end);if(n=[{name:"Chr",value:this.chr},{name:"Pos",value:o},{name:"Names",value:this.names?this.names:""},{name:"Ref",value:this.referenceBases},{name:"Alt",value:this.alternateBases.replace("<","&lt;")},{name:"Qual",value:this.quality},{name:"Filter",value:this.filter}],"SNP"===this.type){var a=this.referenceBases;if(1===a.length){var s,u=hr(this.alternateBases.split(","));try{for(u.s();!(s=u.n()).done;){var c=s.value;if(1===c.length){var l=gy.getCravatLink(this.chr,this.pos,a,c,t);l&&(n.push("<hr/>"),n.push(l))}}}catch(e){u.e(e)}finally{u.f()}}}return this.hasOwnProperty("heterozygosity")&&n.push({name:"Heterozygosity",value:this.heterozygosity}),this.info&&(n.push("<hr>"),Object.keys(this.info).forEach((function(e){n.push({name:e,value:xy(i.info[e])})}))),this.calls&&1===this.calls.length&&(n.push("<hr>"),r=this.alleles[this.calls[0].genotype[0]]+this.alleles[this.calls[0].genotype[1]],n.push({name:"Genotype",value:r})),n},wy.prototype.isRefBlock=function(){return"NONVARIANT"===this.type};var ky=function(){};function _y(e){for(var t={genotypeIndex:-1,fields:e},n=0;n<e.length;n++)"GT"===e[n]&&(t.genotypeIndex=n);return t}ky.prototype.parseHeader=function(e){var t={},n=Fm(e),r=n.nextLine();if(!r.startsWith("##fileformat"))throw new Error("Invalid VCF file: missing fileformat line");for(t.version=r.substr(13);(r=n.nextLine())&&r.startsWith("#");){var i=void 0,o={};if(r.startsWith("##")){if(r.startsWith("##INFO")||r.startsWith("##FILTER")||r.startsWith("##FORMAT")){var a=r.indexOf("<"),s=r.lastIndexOf(">");if(!(a>2&&s>0))continue;var u=r.substring(2,a-1);t[u]||(t[u]={});var c,l=hr(wg(r.substring(a+1,s-1),","));try{for(l.s();!(c=l.n()).done;){var f=c.value.split("=");f.length>1&&("ID"===f[0]?i=f[1]:o[f[0]]=f[1])}}catch(e){l.e(e)}finally{l.f()}i&&(t[u][i]=o)}}else if(r.startsWith("#CHROM")){var h=r.split("\t");if(h.length>8){t.callSets=[];for(var p=9;p<h.length;p++)t.callSets.push({id:p,name:h[p]})}}}return this.header=t,t},ky.prototype.parseFeatures=function(e){for(var t,n=[],r=this.header.callSets,i=Fm(e),o=8+(r?r.length+1:0);t=i.nextLine();)if(!t.startsWith("#")){var a=t.split("\t");if(a.length===o){var s,u,c=vy(a);c.header=this.header,n.push(c),a.length>9&&function(){var e=_y(a[8].split(":"));c.calls={};for(var t=9;t<a.length;t++){var n=a[t];s=r[t-9],u={callSetName:s.name,info:{}},c.calls[s.id]=u,n.split(":").forEach((function(t,n){switch(n){case e.genotypeIndex:u.genotype=[],t.split(/[\|\/]/).forEach((function(e){u.genotype.push("."===e?e:parseInt(e))}));break;default:u.info[e.fields[n]]=t}}))}}()}}return n};var Sy=function(){function e(){Zn(this,e)}return Yn(e,[{key:"parseFeatures",value:function(e){if(!e)return null;for(var t,n=this.parseHeader(e),r=Fm(e),i=[];t=r.nextLine();){var o=t.split("\t"),a=o[0],s=parseInt(o[1]),u=parseInt(o[2]),c=o.slice(3).map(parseFloat);c.length==n.length&&i.push({chr:a,start:s,end:u,values:c})}return console.warn("Parsed",i.length,"features from",n.length,"samples"),i}},{key:"parseHeader",value:function(e){if(!this.sampleNames){var t=Fm(e);this.sampleNames=t.nextLine().split("\t").slice(3),console.warn("Parsed",this.sampleNames.length,"samples from gCNV track file header:",this.sampleNames)}return this.sampleNames}}]),e}(),Ey=function(e,t){this.littleEndian=void 0===t||t,this.position=0,this.view=e,this.length=e.byteLength};function Cy(e,t){this.block=e,this.offset=t}function Ty(e,t,n,r){return Ay.apply(this,arguments)}function Ay(){return(Ay=Wn(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h,p,d,g,v,m,y,b,w,x,k,_,S,E,C,T,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_v.loadArrayBuffer(t,jg(n));case 2:if(o=e.sent,a=[],s=Number.MAX_SAFE_INTEGER,u=0,o){e.next=7;break}return e.abrupt("return");case 7:if(r&&(c=new gg.Gunzip(new Uint8Array(o)),o=c.decompress().buffer),l=new Ey(new DataView(o)),f=l.getInt(),h={},!(21578050===f||r&&21578324===f)){e.next=17;break}if(p=l.getInt(),r)for(l.getInt(),l.getInt(),l.getInt(),l.getInt(),l.getInt(),l.getInt(),l.getInt(),d=0;d<p;d++)g=l.getString(),i&&(g=i.getChromosomeName(g)),h[g]=d;for(v=0;v<p;v++){for(m={},y=[],b=l.getInt(),w=0;w<b;w++)if(37450===(x=l.getInt()))l.getInt(),l.getVPointer(),l.getVPointer(),l.getLong(),l.getLong();else for(m[x]=[],k=l.getInt(),_=0;_<k;_++)S=l.getVPointer(),E=l.getVPointer(),S&&E&&(S.block<s&&(s=S.block),E.block>u&&(u=E.block),m[x].push([S,E]));for(C=l.getInt(),T=0;T<C;T++)A=l.getVPointer(),y.push(A);b>0&&(a[v]={binIndex:m,linearIndex:y})}e.next=18;break;case 17:throw new Error(t+" is not a "+(r?"tabix":"bai")+" file");case 18:return e.abrupt("return",new Ry(a,s,u,h,r));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ey.prototype.available=function(){return this.length-this.position},Ey.prototype.remLength=function(){return this.length-this.position},Ey.prototype.hasNext=function(){return this.position<this.length-1},Ey.prototype.getByte=function(){var e=this.view.getUint8(this.position,this.littleEndian);return this.position++,e},Ey.prototype.getShort=function(){var e=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,e},Ey.prototype.getUShort=function(){var e=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,e},Ey.prototype.getInt=function(){var e=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,e},Ey.prototype.getUInt=function(){var e=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,e},Ey.prototype.getLong=function(){var e=[];e[0]=this.view.getUint8(this.position),e[1]=this.view.getUint8(this.position+1),e[2]=this.view.getUint8(this.position+2),e[3]=this.view.getUint8(this.position+3),e[4]=this.view.getUint8(this.position+4),e[5]=this.view.getUint8(this.position+5),e[6]=this.view.getUint8(this.position+6),e[7]=this.view.getUint8(this.position+7);var t=0;if(this.littleEndian)for(var n=e.length-1;n>=0;n--)t=256*t+e[n];else for(var r=0;r<e.length;r++)t=256*t+e[r];return this.position+=8,t},Ey.prototype.getString=function(e){for(var t,n="";0!==(t=this.view.getUint8(this.position++))&&(n+=String.fromCharCode(t),!e||n.length!==e););return n},Ey.prototype.getFixedLengthString=function(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>0&&(r+=String.fromCharCode(n));return r},Ey.prototype.getFixedLengthTrimmedString=function(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>32&&(r+=String.fromCharCode(n));return r},Ey.prototype.getFloat=function(){var e=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,e},Ey.prototype.getDouble=function(){var e=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,e},Ey.prototype.skip=function(e){return this.position+=e,this.position},Ey.prototype.getVPointer=function(){var e=this.position,t=this.view.getUint8(e+1)<<8|this.view.getUint8(e),n=4294967296*(255&this.view.getUint8(e+6))+16777216*(255&this.view.getUint8(e+5))+65536*(255&this.view.getUint8(e+4))+256*(255&this.view.getUint8(e+3))+(255&this.view.getUint8(e+2));return this.position+=8,new Cy(n,t)},Cy.prototype.isLessThan=function(e){return this.block<e.block||this.block===e.block&&this.offset<e.offset},Cy.prototype.isGreaterThan=function(e){return this.block>e.block||this.block===e.block&&this.offset>e.offset},Cy.prototype.print=function(){return this.block+":"+this.offset};var Ry=function(e,t,n,r,i){this.firstAlignmentBlock=t,this.lastAlignmentBlock=n,this.indices=e,this.sequenceIndexMap=r,this.tabix=i};function Oy(e,t,n){return Iy.apply(this,arguments)}function Iy(){return(Iy=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(e){var t=e.getString();r&&(t=r.getChromosomeName(t));for(var n=e.getInt(),i=e.getInt(),o=e.getInt(),a=(e.getInt(),e.getInt(),e.getLong()),s=new Array,u=0;u<i;u++){var c=e.getLong();s.push({min:a,max:c}),a=c}return{chr:t,blocks:s,longestFeature:o,binWidth:n}},c=function(e){e.getInt(),e.getInt();var t=e.getInt();if(e.getString(),e.getLong(),e.getLong(),e.getString(),e.getInt(),t>=3)for(var n=e.getInt();n-- >0;)e.getString(),e.getString()},e.next=4,_v.loadArrayBuffer(t,jg(n));case 4:if(!(i=e.sent)){e.next=14;break}for(o={},a=new Ey(new DataView(i)),c(a),s=a.getInt();s-- >0;)u=l(a),o[u.chr]=u;return e.abrupt("return",new Ly(o));case 14:return e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ry.prototype.blocksForRange=function(e,t,n){var r=this.indices[e];if(r){var i=function(e,t){var n,r=[];for(t>=1<<29&&(t=1<<29),--t,r.push(0),n=1+(e>>26);n<=1+(t>>26);++n)r.push(n);for(n=9+(e>>23);n<=9+(t>>23);++n)r.push(n);for(n=73+(e>>20);n<=73+(t>>20);++n)r.push(n);for(n=585+(e>>17);n<=585+(t>>17);++n)r.push(n);for(n=4681+(e>>14);n<=4681+(t>>14);++n)r.push(n);return r}(t,n),o=[];i.forEach((function(e){if(r.binIndex[e])for(var t=r.binIndex[e],n=t.length,i=0;i<n;++i){var a=t[i][0],s=t[i][1];o.push({minv:a,maxv:s,bin:e})}}));for(var a=r.linearIndex.length,s=null,u=Math.min(t>>14,a-1),c=Math.min(n>>14,a-1),l=u;l<=c;++l){var f=r.linearIndex[l];f&&(s&&!f.isLessThan(s)||(s=f))}return function(e,t){var n=[],r=null;return 0===e.length?e:(e.sort((function(e,t){var n=e.minv.block-t.minv.block;return 0!==n?n:e.minv.offset-t.minv.offset})),e.forEach((function(e){var i,o;t&&!e.maxv.isGreaterThan(t)||(null===r?(n.push(e),r=e):(i=r,(o=e).minv.block-i.maxv.block<65e3&&o.maxv.block-i.minv.block<5e6?e.maxv.isGreaterThan(r.maxv)&&(r.maxv=e.maxv):(n.push(e),r=e)))})),n)}(o,s)}return[]};var Ly=function(){function e(t){Zn(this,e),this.chrIndex=t}return Yn(e,[{key:"blocksForRange",value:function(e,t,n){var r=this.chrIndex[e];if(r){var i=r.blocks,o=r.longestFeature,a=r.binWidth,s=Math.max(t-o,0),u=Math.floor(s/a);if(u>=i.length)return[];var c=Math.min(Math.floor((n-1)/a),i.length-1),l=i[u].min,f=i[c].max;return 0==f-l?[]:[{minv:{block:l,offset:0},maxv:{block:f,offset:0}}]}}}]),e}(),My=function(){function e(t){if(Zn(this,e),this.config=t,t.columns){if(void 0===t.columns.chromosome||void 0===t.columns.position||void 0===t.columns.value)throw Error("columns property must define chrCol, posCol, and valueCol");this.posCol=t.columns.position-1,this.chrCol=t.columns.chromosome-1,this.pvalueCol=t.columns.value-1}else this.posCol=2,this.chrCol=1,this.pvalueCol=3}return Yn(e,[{key:"parseHeader",value:function(e){var t=Fm(e).nextLine();return this.parseHeaderLine(t)}},{key:"parseHeaderLine",value:function(e){if(this.columns=e.split(/\t/),!this.config.columns)for(var t=0;t<this.columns.length;t++)switch(this.columns[t].toLowerCase()){case"chr":case"chromosome":case"chr_id":this.chrCol=t;break;case"bp":case"pos":case"position":case"chr_pos":this.posCol=t;break;case"p":case"pval":case"pvalue":case"p-value":case"p.value":this.pvalueCol=t}return this.columns}},{key:"parseFeatures",value:function(e){if(!e)return null;var t,n=Fm(e),r=[],i=n.nextLine();for(this.columns||this.parseHeaderLine(i);t=n.nextLine();){var o=t.split(/\t/);if(o.length===this.columns.length){var a=o[this.chrCol],s=parseInt(o[this.posCol])-1,u=s+1,c=parseFloat(o[this.pvalueCol]);r.push(new Py({chr:a,start:s,end:u,value:c,line:t,columns:this.columns}))}}return r}}]),e}(),Py=function(){function e(t){var n=t.chr,r=t.start,i=t.end,o=t.value,a=t.line,s=t.columns;Zn(this,e),this.chr=n,this.start=r,this.end=i,this.value=o,this.line=a,this.columns=s}return Yn(e,[{key:"popupData",value:function(){var e=this.line.split(/\t/);return this.columns.map((function(t,n){return{name:t,value:e[n]}}))}},{key:"getAttribute",value:function(e){for(var t=this.line.split(/\t/),n=0;n<this.columns.length;n++)if(this.columns[n]===e)return t[n]}}]),e}(),Ny=new RegExp("([^:]*)\\(([^)]*)\\)"),Fy=new RegExp("([^:]*):([^(]*)\\(([^)]*)\\)"),Dy=function(){function e(t,n,r){Zn(this,e),this.nameField=r?r.nameField:void 0,this.skipRows=0,this.decode=n||qy,this.delimiter="\t"}return Yn(e,[{key:"parseHeader",value:function(e){for(var t,n,r=Fm(e);(t=r.nextLine())&&(t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"));)if(t.startsWith("track")||t.startsWith("#track")){var i=zy(t);n?Object.assign(n,i):n=i}else if(t.startsWith("#columns")){var o=Hy(t);n?Object.assign(n,o):n=o}else t.startsWith("##gff-version 3")&&(this.format="gff3",n||(n={}),n.format="gff3");return this.header=n,n}},{key:"parseFeatures",value:function(e){if(!e)return null;for(var t,n=Fm(e),r=n.nextLineNoTrim.bind(n),i=[],o=this.decode,a=this.delimiter||"\t",s=0;t=r();)if(!(++s<=this.skipRows||t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"))){var u=l();if(!(u.length<1))if(this.aed){var c=o.call(this,u,void 0);c&&i.push(c)}else this.aed=jy(u)}return i;function l(){for(var e,n,i=[],o="",s=!1;t||""===t;){for(e=0;e<t.length;e++)(n=t.charAt(e))===a?s?o+=n:(i.push(o),o=""):'"'===n?e+1<t.length&&'"'===t.charAt(e+1)?(s&&(o+='"'),e++):s=!s:o+=n;if(!s)break;o+="\n",t=r()}return i.push(o),i}}}]),e}();function By(e){var t=Fy.exec(e);if(t)return{namespace:t[1],name:t[2],type:t[3]};if(t=Ny.exec(e))return{namespace:"?",name:t[1],type:t[2]};throw new Error("Error parsing the header row of AED file - column not in ns:name(ns:type) format")}function jy(e){var t,n,r;for(t={columns:[],metadata:{}},n=0;n<e.length;n++)r=By(e[n]),t.columns.push(r);return t}function zy(e){var t,n,r={},i=[],o=hr(e.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g));try{for(o.s();!(n=o.n()).done;){var a=n.value;a&&0!==a.trim().length&&(a.endsWith("=")>0?t=a:t?(i.push(t+a),t=void 0):i.push(a))}}catch(e){o.e(e)}finally{o.f()}for(var s=0,u=i;s<u.length;s++){var c=u[s];if(!c)return;var l=c.split("=",2);if(2===l.length){var f=l[0].trim(),h=l[1].trim();r[f]=h}}return r}function Hy(e){var t={},n=e.split(/\s+/);return 2===n.length&&n[1].split(";").forEach((function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)})),t}function Uy(e,t){var n,r,i=e.columns;this.aed=e,this.allColumns=t,this.chr=null,this.start=null,this.end=null,this.score=1e3,this.strand=".",this.cdStart=null,this.cdEnd=null,this.name=null,this.color=null;for(var o=0;o<t.length;o++)(n=t[o])&&("aed:Integer"===(r=i[o]).type&&(n=parseInt(n)),"bio"===r.namespace?"sequence"===r.name?this.chr=n:"start"===r.name?this.start=n:"end"===r.name?this.end=n:"cdsMin"===r.name?this.cdStart=n:"cdsMax"===r.name?this.cdEnd=n:"strand"===r.name&&(this.strand=n):"aed"===r.namespace?"name"===r.name&&(this.name=n):"style"===r.namespace&&"color"===r.name&&(this.color=kg.createColorString(n)))}function qy(e,t){var n,r,i,o,a,s,u=0,c=this.aed.columns;if(e.length===c.length){for(s=0;s<e.length;s++)o=c[s],""!==(i=e[s])&&u++,"name"===o.name&&"aed"===o.namespace?n=i:"value"===o.name&&"aed"===o.namespace&&(r=i);if(2===u&&n&&r)return a=By(n),this.aed.metadata[a.namespace]||(this.aed.metadata[a.namespace]={}),void(this.aed.metadata[a.namespace][a.name]||(this.aed.metadata[a.namespace][a.name]={type:a.type,value:r}));var l=new Uy(this.aed,e);if(l.chr&&(l.start||0===l.start)&&l.end)return l}}Uy.prototype.popupData=function(){for(var e=[],t=this.aed,n=0;n<this.allColumns.length;n++){var r=this.allColumns[n],i=t.columns[n].name;"sequence"!==i&&"color"!==i&&r&&e.push({name:i,value:r})}return e};var Gy=function(){function e(t,n){var r;Zn(this,e),this.config=t||{},this.genome=n,this.indexURL=t.indexURL,this.indexed=t.indexed,sv(this.config.url)?this.filename=this.config.url.name:mg(this.config.url)&&this.config.url.startsWith("data:")?(this.indexed=!1,this.dataURI=t.url):(r=cv(this.config.url),this.filename=t.filename||r.file),this.format=this.config.format,this.parser=this.getParser(this.format,this.config.decode,this.config),"vcf"!==this.config.format||this.config.indexURL||console.warn("Warning: index file not specified.  The entire vcf file will be loaded.")}var t,n,r,i,o,a;return Yn(e,[{key:"readFeatures",value:(a=Wn(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",this.loadFeaturesWithIndex(t,n,r));case 7:if(!this.dataURI){e.next=11;break}return e.abrupt("return",this.loadFeaturesFromDataURI());case 11:return e.abrupt("return",this.loadFeaturesNoIndex());case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"readHeader",value:(o=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=38;break}if(!this.dataURI){e.next=9;break}return e.next=4,this.loadFeaturesFromDataURI(this.dataURI);case 4:n=e.sent,(t=this.header||{}).features=n,e.next=38;break;case 9:if(!this.config.indexURL){e.next=30;break}return e.next=12,this.getIndex();case 12:if(r=e.sent){e.next=15;break}throw new Error("Unable to load index: "+this.config.indexURL);case 15:if(i="vcf"===this.config.format?65e3:1e3,!r.tabix){e.next=23;break}return o=jg(this.config,{range:{start:r.firstAlignmentBlock,size:26}}),e.next=20,_v.loadArrayBuffer(this.config.url,o);case 20:a=e.sent,s=nv(a),i=r.firstAlignmentBlock+s;case 23:return u=jg(this.config,{bgz:r.tabix,range:{start:0,size:i}}),e.next=26,_v.loadString(this.config.url,u);case 26:c=e.sent,t=this.parser.parseHeader(c),e.next=35;break;case 30:return e.next=32,this.loadFeaturesNoIndex();case 32:l=e.sent,(t=this.header||{}).features=l;case 35:return t&&this.parser&&(this.parser.header=t),this.header=t,e.abrupt("return",t);case 38:return e.abrupt("return",this.header);case 39:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getParser",value:function(e,t,n){switch(e){case"vcf":return new ky(n);case"seg":return new dy;case"gcnv":return new Sy;case"gwas":return new My(n);case"aed":return new Dy(e,t,n);default:return new $m(e,t,n)}}},{key:"loadFeaturesNoIndex",value:(i=Wn(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=jg(this.config),e.next=3,_v.loadString(this.config.url,t);case 3:return n=e.sent,this.header=this.parser.parseHeader(n),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),e.abrupt("return",this.parser.parseFeatures(n));case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"loadFeaturesWithIndex",value:(r=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.config,o=this.parser,a=this.index.tabix,s=a?this.index.sequenceIndexMap[t]:t,u=[],c=this.genome,(l=this.index.blocksForRange(s,n,r))&&0!==l.length){e.next=11;break}return e.abrupt("return",[]);case 11:f=hr(l),e.prev=12,p=regeneratorRuntime.mark((function e(){var s,l,f,p,d,g,v,m,y,b,w,x,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k=function(e){for(var i=f?e.slice(f):e,a=o.parseFeatures(i),s=!1,l=0;l<a.length;l++){var h=a[l];if(c.getChromosomeName(h.chr)!==t){if(0===u.length)continue;break}if(h.start>r){u.push(h);break}h.end>=n&&h.start<=r&&(s||(s=!0,l>0&&u.push(a[l-1])),u.push(h))}},s=h.value,l=s.minv.block,f=s.minv.offset,p=s.maxv.offset,d=void 0,!a){e.next=17;break}if(g=0,!(p>0)){e.next=14;break}return v=jg(i,{range:{start:s.maxv.block,size:26}}),e.next=12,_v.loadArrayBuffer(i.url,v);case 12:m=e.sent,g=nv(m);case 14:d=s.maxv.block+g,e.next=18;break;case 17:d=s.maxv.block;case 18:if(y=jg(i,{range:{start:l,size:d-l+1}}),!a){e.next=27;break}return e.next=22,_v.loadArrayBuffer(i.url,y);case 22:b=e.sent,w=tv(b),k(w),e.next=31;break;case 27:return e.next=29,_v.loadString(i.url,y);case 29:x=e.sent,k(x);case 31:case"end":return e.stop()}}),e)})),f.s();case 15:if((h=f.n()).done){e.next=19;break}return e.delegateYield(p(),"t0",17);case 17:e.next=15;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(12),f.e(e.t1);case 24:return e.prev=24,f.f(),e.finish(24);case 27:return u.sort((function(e,t){return e.start-t.start})),e.abrupt("return",u);case 29:case"end":return e.stop()}}),e,this,[[12,21,24,27]])}))),function(e,t,n){return r.apply(this,arguments)})},{key:"getIndex",value:function(){var e=Wn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.index&&this.config.indexURL){e.next=4;break}return e.abrupt("return",this.index);case 4:return e.next=6,this.loadIndex();case 6:return this.index=e.sent,e.abrupt("return",this.index);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadIndex",value:(n=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sv(t=this.config.indexURL)?n=t.name:(r=cv(t),n=r.file),!(n.endsWith(".tbi")||this.filename.endsWith(".gz")||this.filename.endsWith(".bgz"))){e.next=9;break}return e.next=6,Ty(t,this.config,!0,this.genome);case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,Oy(t,this.config,this.genome);case 11:i=e.sent;case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"loadFeaturesFromDataURI",value:(t=Wn(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=uv(this.dataURI),this.header=this.parser.parseHeader(t),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),n=this.parser.parseFeatures(t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),$y=function(e,t,n){this.treeMap=this.buildTreeMap(e,t),this.range=n,this.count=e.length};function Vy(e){for(var t=new om,n=e.length,r=Math.max(10,Math.round(n/10)),i=0;i<n;i+=r){for(var o=Math.min(n,i+r),a=new Wy(i,o),s=e[i].start,u=s,c=i;c<o;c++)u=Math.max(u,e[c].end);t.insert(s,u,a)}return t}$y.prototype.containsRange=function(e){return void 0===this.range||this.range.contains(e.chr,e.start,e.end)},$y.prototype.queryFeatures=function(e,t,n){var r=this.treeMap[e];if(!r)return[];var i=r.findOverlapping(t,n);if(0===i.length)return[];var o=[],a=this.allFeatures[e];if(a){var s,u=hr(i);try{for(u.s();!(s=u.n()).done;)for(var c=s.value.value,l=c.start;l<c.end;l++){var f=a[l];if(f.start>n)break;f.end>=t&&o.push(f)}}catch(e){u.e(e)}finally{u.f()}o.sort((function(e,t){return e.start-t.start}))}return o},$y.prototype.getAllFeatures=function(){return this.allFeatures},$y.prototype.buildTreeMap=function(e,t){var n={},r=[];if(this.allFeatures={},e){var i,o=hr(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.chr;t&&(s=t.getChromosomeName(s));var u=this.allFeatures[s];u||(r.push(s),u=[],this.allFeatures[s]=u),u.push(a)}}catch(e){o.e(e)}finally{o.f()}var c,l=hr(r);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=this.allFeatures[f];h.sort((function(e,t){return e.start===t.start?0:e.start>t.start?1:-1})),n[f]=Vy(h)}}catch(e){l.e(e)}finally{l.f()}}return n};var Wy=function e(t,n){Zn(this,e),this.start=t,this.end=n},Zy=function(){function e(t){Zn(this,e),this.config=t}var t;return Yn(e,[{key:"readFeatures",value:(t=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="function"==typeof this.config.url?this.config.url({chr:t,start:n,end:r}):this.config.url.replace("$CHR",t).replace("$START",n).replace("$END",r),o=Object.assign({},this.config),void 0!==this.config.body&&("function"==typeof this.config.body?o.body=this.config.body({chr:t,start:n,end:r}):o.body=this.config.body.replace("$CHR",t).replace("$START",n).replace("$END",r)),e.next=5,_v.load(i,o);case 5:if((s=e.sent)&&(a="function"==typeof this.config.parser?this.config.parser(s):mg(s)?JSON.parse(s):s),this.config.mappings){u=Object.keys(this.config.mappings),c=hr(a);try{for(c.s();!(l=c.n()).done;){f=l.value,h=hr(u);try{for(h.s();!(p=h.n()).done;)d=p.value,f[d]=f[this.config.mappings[d]]}catch(e){h.e(e)}finally{h.f()}}}catch(e){c.e(e)}finally{c.f()}}return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Xy=function(e,t){this.config=e,this.genome=t,this.expandQueryInterval=!1};Xy.prototype.readFeatures=function(e,t,n){var r=Math.max(0,Math.floor(t)),i=Math.ceil(n);if(this.genome){var o=this.genome.getChromosome(e);o&&i>o.bpLength&&(i=o.bpLength)}var a=this.config.url+"?db="+this.config.db+"&table="+this.config.tableName+"&chr="+e+"&start="+r+"&end="+i;return _v.loadJson(a,this.config).then((function(e){return e?(e.forEach((function(e){e.hasOwnProperty("exonStarts")&&e.hasOwnProperty("exonEnds")&&e.hasOwnProperty("exonCount")&&e.hasOwnProperty("cdsStart")&&e.hasOwnProperty("cdsEnd")&&function(e){var t,n,r,i,o,a;t=e.exonCount,n=e.exonStarts.split(","),r=e.exonEnds.split(","),i=[];for(var s=0;s<t;s++){o=parseInt(n[s]),a=parseInt(r[s]);var u={start:o,end:a};(e.cdsStart>a||e.cdsEnd<e.cdsStart)&&(u.utr=!0),e.cdsStart>=o&&e.cdsStart<=a&&(u.cdStart=e.cdsStart),e.cdsEnd>=o&&e.cdsEnd<=a&&(u.cdEnd=e.cdsEnd),i.push(u)}e.exons=i}(e)})),e):null}))};for(var Yy=new Set(["transcript","primary_transcript","processed_transcript","mRNA","mrna"]),Ky=new Set(["CDS","cds"]),Qy=new Set(["start_codon","stop_codon"]),Jy=new Set(["5UTR","3UTR","UTR","five_prime_UTR","three_prime_UTR","3'-UTR","5'-UTR"]),eb=new Set(["exon","coding-exon"]),tb=new Set,nb=0,rb=[Yy,Ky,Qy,Jy,eb];nb<rb.length;nb++){var ib,ob=hr(rb[nb]);try{for(ob.s();!(ib=ob.n()).done;){var ab=ib.value;tb.add(ab)}}catch(e){ob.e(e)}finally{ob.f()}}var sb=function(){function e(t){Zn(this,e),this.format=t.format,t.filterTypes&&(this.filterTypes=new Set(t.filterTypes))}return Yn(e,[{key:"combineFeatures",value:function(e){var t;if("gff3"===this.format){var n=this.combineFeaturesById(e);t=this.combineFeaturesGFF(n)}else t=this.combineFeaturesGTF(e);return t.sort((function(e,t){return e.start-t.start})),t}},{key:"combineFeaturesById",value:function(e){var t,n=[],r={},i=hr(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(void 0===o.id)n.push(o);else{var a=r[o.chr];if(a||(a={},r[o.chr]=a),a.hasOwnProperty(o.id)){var s=a[o.id];if(s.hasOwnProperty("exons"))s.start=Math.min(s.start,o.start),s.end=Math.max(s.end,o.end),s.exons.push(o);else{var u={id:o.id,type:o.type,chr:o.chr,strand:o.strand,start:Math.min(o.start,s.start),end:Math.max(o.end,s.end),exons:[s,o]};o.parent&&""!==o.parent.trim()&&(u.parent=o.parent),a[o.id]=u}}else a[o.id]=o}}}catch(e){i.e(e)}finally{i.f()}for(var c=0,l=Object.keys(r);c<l.length;c++)for(var f=r[l[c]],h=0,p=Object.keys(f);h<p.length;h++){var d=p[h];n.push(f[d])}return n}},{key:"combineFeaturesGTF",value:function(e){var t,n=Object.create(null),r=[],i=new Set,o=this.filterTypes,a=hr(e=e.filter((function(e){return void 0===o||!o.has(e.type)})));try{for(a.s();!(t=a.n()).done;){var s=t.value;if(Yy.has(s.type)){var u=s.id;if(void 0!==u){var c=new ub(s);n[u]=c,r.push(c),i.add(s)}}}}catch(e){a.e(e)}finally{a.f()}var l,f=hr(e);try{for(f.s();!(l=f.n()).done;){var h=l.value;if(eb.has(h.type)){var p=h.id;if(p){var d=n[p];void 0===d&&(d=new ub(h),n[p]=d,r.push(d)),d.addExon(h),i.add(h)}}}}catch(e){f.e(e)}finally{f.f()}var g,v=hr(e);try{for(v.s();!(g=v.n()).done;){var m=g.value;if(Ky.has(m.type)||Jy.has(m.type)||Qy.has(m.type)){var y=m.id;if(y){var b=n[y];void 0===b&&(b=new ub(m),n[y]=b,r.push(b)),Jy.has(m.type)?b.addUTR(m):Ky.has(m.type)?b.addCDS(m):Qy.has(m.type),i.add(m)}}}}catch(e){v.e(e)}finally{v.f()}for(var w=0,x=r;w<x.length;w++){var k=x[w];"function"==typeof k.finish&&k.finish()}var _,S=hr(e.filter((function(e){return!i.has(e)})));try{for(S.s();!(_=S.n()).done;){var E=_.value;r.push(E)}}catch(e){S.e(e)}finally{S.f()}return r}},{key:"combineFeaturesGFF",value:function(e){var t,n=e.filter((function(e){return"gene"===e.type})),r=Object.create(null),i=hr(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;r[o.id]=o}}catch(e){i.e(e)}finally{i.f()}var a,s=Object.create(null),u=[],c=new Set,l=this.filterTypes,f=hr(e=e.filter((function(e){return void 0===l||!l.has(e.type)})));try{for(f.s();!(a=f.n()).done;){var h=a.value;if(Yy.has(h.type)){var p=h.id;if(void 0!==p){var d=new ub(h);s[p]=d,u.push(d),c.add(h);var g=r[h.parent];g&&(d.gene=r[h.parent],c.add(g))}}}}catch(e){f.e(e)}finally{f.f()}var v,m=hr(e);try{for(m.s();!(v=m.n()).done;){var y=v.value;if(eb.has(y.type)){var b=B(y);if(b){var w,x=hr(b);try{for(x.s();!(w=x.n()).done;){var k=s[w.value];void 0!==k&&(k.addExon(y),c.add(y))}}catch(e){x.e(e)}finally{x.f()}}}}}catch(e){m.e(e)}finally{m.f()}var _,S=hr(e);try{for(S.s();!(_=S.n()).done;){var E=_.value;if(Ky.has(E.type)||Jy.has(E.type)||Qy.has(E.type)){var C=B(E);if(C){var T,A=hr(C);try{for(A.s();!(T=A.n()).done;){var R=s[T.value];void 0!==R&&(Jy.has(E.type)?R.addUTR(E):Ky.has(E.type)?R.addCDS(E):Qy.has(E.type),c.add(E))}}catch(e){A.e(e)}finally{A.f()}}}}}catch(e){S.e(e)}finally{S.f()}var O,I=hr(e.filter((function(e){return"intron"===e.type})));try{for(I.s();!(O=I.n()).done;){var L,M=O.value,P=hr(B(M));try{for(P.s();!(L=P.n()).done;)if(s[L.value]){c.add(M);break}}catch(e){P.e(e)}finally{P.f()}}}catch(e){I.e(e)}finally{I.f()}u.forEach((function(e){"function"==typeof e.finish&&e.finish()}));var N,F=hr(e.filter((function(e){return!c.has(e)})));try{for(F.s();!(N=F.n()).done;){var D=N.value;u.push(D)}}catch(e){F.e(e)}finally{F.f()}return u;function B(e){return e.parent&&""!==e.parent.trim()?e.parent.trim().split(","):null}}}]),e}(),ub=function(e){Object.assign(this,e),this.exons=[]};ub.prototype.addExon=function(e){this.exons.push(e),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)},ub.prototype.addCDS=function(e){for(var t,n=this.exons,r=0;r<n.length;r++)if(n[r].start<=e.start&&n[r].end>=e.end){t=n[r];break}t?(t.cdStart=t.cdStart?Math.min(e.start,t.cdStart):e.start,t.cdEnd=t.cdEnd?Math.max(e.end,t.cdEnd):e.end,t.children||(t.children=[]),t.children.push(e)):(e.cdStart=e.start,e.cdEnd=e.end,n.push(e)),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end),this.cdStart=this.cdStart?Math.min(e.start,this.cdStart):e.start,this.cdEnd=this.cdEnd?Math.max(e.end,this.cdEnd):e.end},ub.prototype.addUTR=function(e){for(var t,n=this.exons,r=0;r<n.length;r++)if(n[r].start<=e.start&&n[r].end>=e.end){t=n[r];break}t?(e.start===t.start&&e.end===t.end?t.utr=!0:(e.end<t.end&&(t.cdStart=e.end),e.start>t.start&&(t.cdEnd=e.start)),t.children||(t.children=[]),t.children.push(e)):(e.utr=!0,n.push(e)),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)},ub.prototype.finish=function(){var e=this.cdStart,t=this.cdEnd;this.exons.sort((function(e,t){return e.start-t.start})),e&&this.exons.forEach((function(n){(n.end<e||n.start>t)&&(n.utr=!0)}))},ub.prototype.popupData=function(e){var t=this.attributeString.split(";"),n=[];if(this.gene&&"function"==typeof this.gene.popupData){var r,i=hr(this.gene.popupData(e));try{for(i.s();!(r=i.n()).done;){var o=r.value;n.push(o)}}catch(e){i.e(e)}finally{i.f()}n.push("<hr>")}this.name&&n.push({name:"name",value:this.name}),n.push({name:"type",value:this.type});var a,s=hr(t);try{for(s.s();!(a=s.n()).done;){var u=a.value.trim().split(this.delim,2);if(2===u.length&&void 0!==u[1]){var c=u[0].trim();if("name"===c.toLowerCase())continue;var l=u[1].trim();l.startsWith('"')&&l.endsWith('"')&&(l=l.substr(1,l.length-2)),n.push({name:c,value:l})}}}catch(e){s.e(e)}finally{s.f()}n.push({name:"position",value:"".concat(this.chr,":").concat(yg(this.start+1),"-").concat(yg(this.end))});var f,h=hr(this.exons);try{for(h.s();!(f=h.n()).done;){var p=f.value;if(e>=p.start&&e<p.end&&"function"==typeof p.popupData){n.push("<hr>");var d,g=hr(p.popupData(e));try{for(g.s();!(d=g.n()).done;){var v=d.value;n.push(v)}}catch(e){g.e(e)}finally{g.f()}if(p.children){var m,y=hr(p.children);try{for(y.s();!(m=y.n()).done;){var b=m.value;n.push("<hr>");var w,x=hr(b.popupData(e));try{for(x.s();!(w=x.n()).done;){var k=w.value;n.push(k)}}catch(e){x.e(e)}finally{x.f()}}}catch(e){y.e(e)}finally{y.f()}}}}}catch(e){h.e(e)}finally{h.f()}return n};var cb=function(e){this.config=e,this.url=e.url,this.tissueId=e.tissueSiteDetailId,this.indexed=!0,this.datasetId=e.datasetId||"gtex_v8"};cb.prototype.readFeatures=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,o=t.startsWith("chr")?t:"chr"+t,a=Math.floor(n),s=Math.ceil(r),u=this.datasetId,c=this.url+"?chromosome="+o+"&start="+a+"&end="+s+"&tissueSiteDetailId="+this.tissueId+"&datasetId="+u,e.next=3,_v.loadJson(c,{withCredentials:i.config.withCredentials});case 3:if(!(l=e.sent)||!l.singleTissueEqtl){e.next=9;break}return l.singleTissueEqtl.forEach((function(e){e.chr=e.chromosome,e.position=e.pos,e.start=e.pos-1,e.end=e.start+1,e.snp=e.snpId,e.geneName=e.geneSymbol,e.geneId=e.gencodeId})),e.abrupt("return",l.singleTissueEqtl);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}();var lb=function(e){this.config=e,this.url=e.url,this.cellConditionId=e.cellConditionId,this.valueThreshold=e.valueThreshold?e.valueThreshold:.05};function fb(e){var t=e.url+"/"+e.entity+"/"+e.entityId;return e.headers={"Cache-Control":"no-cache"},_v.loadJson(t,e)}function hb(e){return new Promise((function(t,n){var r=e.results?e.results:[],i=e.url,o=e.body,a=e.decode,s=Kg.apiKey,u="?",c=e.fields;return s&&(i=i+u+"key="+s,u="&"),c&&(i=i+u+"fields="+c),function e(s){s?o.pageToken=s:void 0!==o.pageToken&&delete o.pageToken;var u=JSON.stringify(o);_v.loadJson(i,{sendData:u,contentType:"application/json",headers:{"Cache-Control":"no-cache"}}).then((function(n){var i,o;n?((o=a?a(n):n)&&o.forEach((function(e){r.push(e)})),(i=n.nextPageToken)?e(i):t(r)):t(r)})).catch((function(e){n(e)}))}()}))}lb.prototype.readFeatures=function(e,t,n){var r=this,i=this.url+"?chromosome="+e+"&start="+t+"&end="+n+"&cell_condition_id="+this.cellConditionId;return new Promise((function(e,t){_v.loadJson(i,{withCredentials:r.config.withCredentials}).then((function(t){t?(t.eqtls.forEach((function(e){e.chr=e.chromosome,e.start=e.position,e.end=e.position+1})),e(t.eqtls)):e(null)})).catch((function(e){t(e)}))}))};var pb=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.variantSetId=e.variantSetId,this.callSetIds=e.callSetIds,this.includeCalls=void 0===e.includeCalls||e.includeCalls};pb.prototype.readHeader=function(){var e=this;return e.header?Promise.resolve(e.header):(e.header={},!1===e.includeCalls?Promise.resolve(e.header):hb({url:e.url+"/callsets/search",fields:"nextPageToken,callSets(id,name)",body:{variantSetIds:Array.isArray(e.variantSetId)?e.variantSetId:[e.variantSetId],pageSize:"10000"},decode:function(t){if(e.callSetIds){var n=[],r=new Set;return e.callSetIds.forEach((function(e){r.add(e)})),t.callSets.forEach((function(e){r.has(e.id)&&n.push(e)})),n}return t.callSets}}).then((function(t){return e.header.callSets=t,e.header})))},pb.prototype.readFeatures=function(e,t,n){var r=this,i=this.genome;return r.readHeader().then((function(e){return new Promise((function(e,t){r.chrAliasTable?e(r.chrAliasTable):r.readMetadata().then((function(t){r.metadata=t.metadata,r.chrAliasTable={},t.referenceBounds&&i&&t.referenceBounds.forEach((function(e){var t=e.referenceName,n=i.getChromosomeName(t);r.chrAliasTable[n]=t})),e(r.chrAliasTable)}))}))})).then((function(i){var o=i.hasOwnProperty(e)?i[e]:e;return hb({url:r.url+"/variants/search",fields:r.includeCalls?void 0:"nextPageToken,variants(id,variantSetId,names,referenceName,start,end,referenceBases,alternateBases,quality,filter,info)",body:{variantSetIds:Array.isArray(r.variantSetId)?r.variantSetId:[r.variantSetId],callSetIds:r.callSetIds?r.callSetIds:void 0,referenceName:o,start:t.toString(),end:n.toString(),pageSize:"10000"},decode:function(e){var t,n=[];return e.variants.forEach((function(e){(t=function(e){var t,n=new wy;return n.chr=e.referenceName,n.start=parseInt(e.start),n.end=parseInt(e.end),n.pos=n.start+1,n.names=xy(e.names,"; "),n.referenceBases=e.referenceBases,n.alternateBases=xy(e.alternateBases),n.quality=e.quality,n.filter=xy(e.filter),n.info={},e.info&&Object.keys(e.info).forEach((function(t){var r,i=e.info[t];r=Array.isArray(i)?i.join(","):i,n.info[t]=r})),n.calls={},e.calls&&e.calls.forEach((function(e){t=e.callSetId,n.calls[t]=e})),my(n),n}(e)).isRefBlock()||n.push(t)})),n}})}))},pb.prototype.readMetadata=function(){return fb({url:this.url,entity:"variantsets",entityId:this.variantSetId})};var db=function(e){this.config=e};function gb(e,t,n,r){if(this.chr=e,this.start=t,this.end=n,this.id=r.id,this.entrezName=r.entrez_name,this.name=r.name,this.actionabilityScore=r.civic_actionability_score,r.coordinates.reference_bases&&(this.refBases=r.coordinates.reference_bases),r.coordinates.variant_bases&&(this.altBases=r.coordinates.variant_bases),r.variant_types&&(this.variant_types=r.variant_types),this.locationString=this.chr+":"+yg(this.start+1)+"-"+yg(this.end),void 0!==this.actionabilityScore){var i;if(this.actionabilityScore<=10)i=.2;else{var o=Math.min(30,this.actionabilityScore);i=.2+.8*Math.log10((o-10)/2)}this.alpha=i}}function vb(e,t){t=t||Number.MAX_SAFE_INTEGER;var n=[];e.sort((function(e,t){return e.start-t.start})),n.push(-1e3);var r,i=hr(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=0,s=Math.min(n.length,t);for(a=0;a<s;a++)if(o.start>n[a]){o.row=a,n[a]=o.end;break}o.row=a,n[a]=o.end}}catch(e){i.e(e)}finally{i.f()}}db.prototype.readFeatures=function(e,t,n){return _v.loadJson(this.config.url+"/variants/?count=5000").then((function(e){var t,n=[],r=hr(e.records);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.coordinates){i.id;var o=i.coordinates;o.chromosome&&n.push(new gb(o.chromosome,o.start-1,o.stop,i)),o.chromosome2&&n.push(new gb(o.chromosome2,o.start2-1,o.stop2,i))}}}catch(e){r.e(e)}finally{r.f()}return n}))},gb.prototype.popupData=function(){var e=s("CIViC","https://civicdb.org/links/variants/"+this.id),t=(this.refBases!==this.altBases&&this.refBases&&1===this.refBases.length&&this.altBases&&this.altBases.length,[e]);if(t.push({name:"Entrez",value:s(this.entrezName,"https://ghr.nlm.nih.gov/gene/"+this.entrezName)}),t.push({name:"Name",value:this.name}),this.variant_types&&this.variant_types.length>0){var n,r,i=1===this.variant_types.length?"Type":"Types",o=hr(this.variant_types);try{for(o.s();!(r=o.n()).done;){var a=r.value;n?n+=", "+a.display_name:n=a.display_name}}catch(e){o.e(e)}finally{o.f()}t.push({name:i,value:n})}return t.push({name:"Actionability",value:this.actionabilityScore}),t.push({name:"Location",value:this.locationString}),t;function s(e,t){return"<a target='_blank' href='"+t+"'>"+e+"</a>"}};var mb=new Set(["bigwig","bw","bigbed","bb","tdf"]),yb=function(){function e(t,n){if(Zn(this,e),this.config=t||{},this.genome=n,this.sourceType=void 0===t.sourceType?"file":t.sourceType,void 0===t.filterTypes&&(t.filterTypes=["chromosome"]),t.features&&Array.isArray(t.features)){var r=t.features;bb(r),t.mappings&&function(e,t){var n=Object.keys(t);e.forEach((function(e){n.forEach((function(n){e[n]=e[t[n]]}))}))}(r,t.mappings),this.featureCache=new $y(r,n),this.static=!0}else"ga4gh"===t.sourceType?(this.reader=new pb(t,n),this.queryable=!0):"immvar"===t.sourceType?(this.reader=new lb(t),this.queryable=!0):"eqtl"===t.type&&"gtex-ws"===t.sourceType?(this.reader=new cb(t),this.queryable=!0,this.expandQuery=!!t.expandQuery):"ucscservice"===t.sourceType?(this.reader=new Xy(t.source),this.queryable=!0):"custom"===t.sourceType||void 0!==t.source?(this.reader=new Zy(t.source),this.queryable=void 0===t.source.queryable||t.source.queryable,this.expandQuery=!!t.expandQuery):t.reader?(this.reader=t.reader,this.queryable=void 0===t.queryable||t.queryable,this.expandQuery=!!t.expandQuery):"civic-ws"===t.sourceType?(this.reader=new db(t),this.queryable=!1,this.expandQuery=!!t.expandQuery):(this.reader=new Gy(t,n),void 0!==t.queryable?this.queryable=t.queryable:mb.has(t.format)&&(this.queryable=mb.has(t.format)||this.reader.indexed));this.supportsWG=!this.queryable}var t,n;return Yn(e,[{key:"supportsWholeGenome",value:function(){return this.supportsWG}},{key:"getFileHeader",value:(n=Wn(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=10;break}if(!this.reader||"function"!=typeof this.reader.readHeader){e.next=9;break}return e.next=4,this.reader.readHeader();case 4:(t=e.sent)&&(this.header=t,(n=t.features)&&this.ingestFeatures(n),t.format&&(this.config.format=t.format)),this.header=t,e.next=10;break;case 9:this.header={};case 10:return e.abrupt("return",this.header);case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getFeatures",value:(t=Wn(regeneratorRuntime.mark((function e(t,n,r,i,o){var a,s,u,c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(){return(h=Wn(regeneratorRuntime.mark((function e(){var i,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new Vg(u,i=n,s=r),!0===this.config.disableCache||!this.featureCache||!this.static&&!this.featureCache.containsRange(c)&&"all"!==t.toLowerCase()){e.next=7;break}return e.abrupt("return",this.featureCache);case 7:return(!o||o<=0)&&!1!==this.expandQuery?(i=0,s=Number.MAX_SAFE_INTEGER):o>r-n&&!1!==this.expandQuery&&(l=Math.min(4.1*(r-n),o),i=Math.max(0,(n+r-l)/2),s=n+l),c=new Vg(u,i,s),e.next=11,a.readFeatures(u,c.start,c.end);case 11:return f=e.sent,void 0===this.queryable&&(this.queryable=a.indexed),f?this.ingestFeatures(f,c):this.featureCache=new $y,e.abrupt("return",this.featureCache);case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)},f=function(){return h.apply(this,arguments)},a=this.reader,s=this.genome,u=s?s.getChromosomeName(t):t,e.next=7,f.call(this);case 7:if(c=e.sent,l=this.queryable,"all"!==t.toLowerCase()){e.next=22;break}if(!l){e.next=14;break}return e.abrupt("return",[]);case 14:if(!this.wgFeatures){e.next=18;break}return e.abrupt("return",this.wgFeatures);case 18:return this.wgFeatures=this.getWGFeatures(c.getAllFeatures()),e.abrupt("return",this.wgFeatures);case 20:e.next=23;break;case 22:return e.abrupt("return",c.queryFeatures(u,n,r));case 23:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,o){return t.apply(this,arguments)})},{key:"ingestFeatures",value:function(e,t){"gtf"!==this.config.format&&"gff3"!==this.config.format&&"gff"!==this.config.format||(e=new sb(this.config).combineFeatures(e)),"wig"!==this.config.format&&"junctions"!==this.config.type&&bb(e,this.config.maxRows||500),this.featureCache=new $y(e,this.genome,t),this.config.searchable&&this.addFeaturesToDB(e)}},{key:"addFeaturesToDB",value:function(e){var t=this;e.forEach((function(e){e.name&&(t.config.browser.featureDB[e.name.toUpperCase()]=e)}))}},{key:"getWGFeatures",value:function(e){var t,n=this.genome,r=new Set(n.wgChromosomeNames),i=[],o=hr(n.wgChromosomeNames);try{for(o.s();!(t=o.n()).done;){var a=e[t.value];if(a){var s,u=hr(a);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=n.getChromosomeName(c.chr);if(r.has(l)){var f=Object.create(Object.getPrototypeOf(c));Object.assign(f,c),f.realChr=c.chr,f.realStart=c.start,f.realEnd=c.end,f.chr="all",f.start=n.getGenomeCoordinate(c.chr,c.start),f.end=n.getGenomeCoordinate(c.chr,c.end),f.originalFeature=c,f.exons&&delete f.exons,f.popupData=function(e){if("function"==typeof this.originalFeature.popupData)return this.originalFeature.popupData();var t=Object.assign({},this);return t.chr=this.realChr,t.start=this.realStart+1,t.end=this.realEnd,delete t.realChr,delete t.realStart,delete t.realEnd,delete t.px,delete t.py,gy.extractPopupData(t,n.id)},i.push(f)}}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){o.e(e)}finally{o.f()}return i.sort((function(e,t){return e.start-t.start})),i}}]),e}();function bb(e,t){if(t=t||1e3,null!=e&&0!==e.length){var n={},r=[];e.forEach((function(e){var t=e.chr,i=n[t];i||(i=[],n[t]=i,r.push(t)),i.push(e)})),r.forEach((function(e){vb(n[e],t)}))}}var wb=a.isFinite,xb=Number.isFinite||function(e){return"number"==typeof e&&wb(e)};Pe({target:"Number",stat:!0},{isFinite:xb});var kb=function(e,t,n){this.path=e.url,this.bufferSize=n||512e3,this.range={start:-1,size:-1},this.config=e};kb.prototype.dataViewForRange=function(e,t){var n,r,i=this;return i.data&&i.range.start<=e.start&&i.range.start+i.range.size>=e.start+e.size?Promise.resolve(o(i,e,t)):(n=e.size?Math.max(i.bufferSize,e.size):i.bufferSize,r={start:e.start,size:n},_v.loadArrayBuffer(i.path,jg(i.config,{range:r})).then((function(n){return i.data=n,i.range=r,o(i,e,t)})));function o(e,t,n){var r=e.data.byteLength,i=t.start-e.range.start;return n?new Uint8Array(e.data,i,r-i):new DataView(e.data,i,r-i)}};var _b=function(e,t){this.path=e.url,this.genome=t,this.rpTreeCache={},this.config=e};function Sb(e,t){this.index=e,this.reductionLevel=t.getInt(),this.reserved=t.getInt(),this.dataOffset=t.getLong(),this.indexOffset=t.getLong()}function Eb(e,t,n){this.config=t,this.fileOffset=e,this.path=t.url,this.littleEndian=n}function Cb(e){this.items=e;var t,n,r=Number.MAX_SAFE_INTEGER,i=0,o=Number.MAX_SAFE_INTEGER,a=0;for(t=0;t<e.length;t++)n=e[t],r=Math.min(r,n.startChrom),i=Math.max(i,n.endChrom),o=Math.min(o,n.startBase),a=Math.max(a,n.endBase);this.startChrom=r,this.endChrom=i,this.startBase=o,this.endBase=a}function Tb(e,t,n){var r=e.getInt(),i=e.getInt(),o=e.getInt(),a=e.getInt(),s=e.getLong(),u=e.getLong(),c={},l=[];this.header={magic:r,blockSize:i,keySize:o,valSize:a,itemCount:s,reserved:u},this.chromToID=c,this.idToChrom=l,function e(r,i){i>=0&&(r.position=i);var a,s,u,f,h,p,d=r.getByte(),g=(r.getByte(),r.getUShort());if(1===d)for(a=0;a<g;a++)s=r.getFixedLengthTrimmedString(o),u=r.getInt(),r.getInt(),n&&(s=n.getChromosomeName(s)),c[s]=u,l[u]=s;else for(a=0;a<g;a++)s=r.getFixedLengthTrimmedString(o),f=r.getLong(),h=f-t,p=r.position,e(r,h),r.position=p}(e,-1)}function Ab(e,t,n,r,i){return!!e&&(r>e.startChrom||r===e.startChrom&&i>=e.startBase)&&(t<e.endChrom||t===e.endChrom&&n<=e.endBase)}function Rb(e){e?(this.basesCovered=e.getLong(),this.minVal=e.getDouble(),this.maxVal=e.getDouble(),this.sumData=e.getDouble(),this.sumSquares=e.getDouble(),Ob.call(this)):(this.basesCovered=0,this.minVal=0,this.maxVal=0,this.sumData=0,this.sumSquares=0,this.mean=0,this.stddev=0)}function Ob(){var e=this.basesCovered;if(e>0){this.mean=this.sumData/e,this.stddev=Math.sqrt(this.sumSquares/(e-1));var t=this.minVal<0?this.mean-2*this.stddev:0,n=this.maxVal>0?this.mean+2*this.stddev:0;this.defaultRange={min:t,max:n}}}function Ib(e,t,n,r,i,o,a){var s,u,c=new Ey(e),l=c.getInt(),f=c.getInt(),h=c.getInt(),p=c.getInt(),d=c.getInt(),g=c.getByte(),v=(c.getByte(),c.getUShort());if(l>=t&&l<=r)for(;v-- >0;){switch(g){case 1:f=c.getInt(),h=c.getInt(),s=c.getFloat();break;case 2:f=c.getInt(),s=c.getFloat(),h=f+d;break;case 3:s=c.getFloat(),h=f+d,f+=p}if(!(l<t||l===t&&h<n)){if(l>r||l===r&&f>=i)break;Number.isFinite(s)&&(u=a[l],o.push({chr:u,start:f,end:h,value:s}))}}}function Lb(e,t,n,r,i,o,a){for(var s=new Ey(e);s.remLength()>=13;){var u=s.getInt(),c=a[u],l=s.getInt(),f=s.getInt(),h=s.getString();if(!(u<t||u===t&&f<n)){if(u>r||u===r&&l>=i)break;var p={chr:c,start:l,end:f};o.push(p);var d=h.split("\t");if(d.length>0&&(p.name=d[0]),d.length>1&&(p.score=parseFloat(d[1])),d.length>2&&(p.strand=d[2]),d.length>3&&(p.cdStart=parseInt(d[3])),d.length>4&&(p.cdEnd=parseInt(d[4])),d.length>5&&"."!==d[5]&&"0"!==d[5]&&"-1"!==d[5]){var g=kg.createColorString(d[5]);p.color=g.startsWith("rgb")?g:void 0}if(d.length>8){for(var v=parseInt(d[6]),m=d[7].split(","),y=d[8].split(","),b=[],w=0;w<v;w++){var x=l+parseInt(y[w]),k=x+parseInt(m[w]);b.push({start:x,end:k})}p.exons=b}}}}function Mb(e,t,n,r,i,o,a,s){for(var u,c,l,f,h,p,d,g,v,m=new Ey(e);m.remLength()>=32;){switch(v=a[u=m.getInt()],c=m.getInt(),l=m.getInt(),f=m.getInt(),h=m.getFloat(),p=m.getFloat(),d=m.getFloat(),m.getFloat(),s){case"min":g=h;break;case"max":g=p;break;default:g=0===f?0:d/f}if(!(u<t||u===t&&l<n)){if(u>r||u===r&&c>=i)break;Number.isFinite(g)&&o.push({chr:v,start:c,end:l,value:g})}}}_b.prototype.readWGFeatures=function(e,t){var n=this;return this.genome,n.getZoomHeaders().then((function(r){var i,o,a;return i=n.chromTree.idToChrom.length-1,o=n.chromTree.idToChrom[0],a=n.chromTree.idToChrom[i],n.readFeatures(o,0,a,Number.MAX_VALUE,e,t)}))},_b.prototype.readFeatures=function(e,t,n,r,i,o){var a,s,u,c=this;return c.getZoomHeaders().then((function(e){var t,n=function(e,t){var n,r,i=null;for(n=0;n<t.length;n++)if((r=t[n]).reductionLevel<e){i=r;break}return i}(i,e);return n?(t=n.indexOffset,a=Mb):(t=c.header.fullIndexOffset,a="BigWig"===c.type?Ib:Lb),c.loadRPTree(t)})).then((function(i){return s=c.chromTree.chromToID[e],u=c.chromTree.chromToID[n],void 0===s||void 0===u?void 0:i.findLeafItemsOverlapping(s,t,u,r)})).then((function(e){if(e&&0!==e.length){var n,i=Number.MAX_VALUE,l=0,f=hr(e);try{for(f.s();!(n=f.n()).done;){var h=n.value;i=Math.min(i,h.dataOffset),l=Math.max(l,h.dataOffset+h.dataSize)}}catch(e){f.e(e)}finally{f.f()}var p=l-i;return _v.loadArrayBuffer(c.config.url,jg(c.config,{range:{start:i,size:p}})).then((function(n){var l,f=[],h=new Uint8Array(n),p=hr(e);try{for(p.s();!(l=p.n()).done;){var d=l.value,g=h.subarray(d.dataOffset-i,d.dataOffset+d.dataSize),v=void 0;v=c.header.uncompressBuffSize>0?new gg.Inflate(g).decompress():g,a(new DataView(v.buffer),s,t,u,r,f,c.chromTree.idToChrom,o)}}catch(e){p.e(e)}finally{p.f()}return f.sort((function(e,t){return e.start-t.start})),f}))}return[]}))},_b.prototype.getZoomHeaders=function(){var e=this;return e.zoomLevelHeaders?Promise.resolve(e.zoomLevelHeaders):e.loadHeader().then((function(){return e.zoomLevelHeaders}))},_b.prototype.loadHeader=function(){var e=this;return e.header?Promise.resolve(e.header):_v.loadArrayBuffer(e.path,jg(e.config,{range:{start:0,size:64}})).then((function(t){var n;e.littleEndian=!0;var r=new Ey(new DataView(t)),i=r.getUInt();if(2291137574===i)e.type="BigWig";else if(2273964779===i)e.type="BigBed";else{e.littleEndian=!1,r.littleEndian=!1,r.position=0;var o=r.getUInt();654085990===o?e.type="BigWig":3958540679===o&&(e.type="BigBed")}return(n={}).bwVersion=r.getUShort(),n.nZoomLevels=r.getUShort(),n.chromTreeOffset=r.getLong(),n.fullDataOffset=r.getLong(),n.fullIndexOffset=r.getLong(),n.fieldCount=r.getUShort(),n.definedFieldCount=r.getUShort(),n.autoSqlOffset=r.getLong(),n.totalSummaryOffset=r.getLong(),n.uncompressBuffSize=r.getInt(),n.reserved=r.getLong(),n})).then((function(n){return e.header=n,t.call(e)}));function t(){var e=this,t={start:64,size:e.header.fullDataOffset-64+5};return _v.loadArrayBuffer(e.path,jg(e.config,{range:t})).then((function(t){var n=e.header.nZoomLevels,r=new Ey(new DataView(t));e.zoomLevelHeaders=[],e.firstZoomDataOffset=Number.MAX_SAFE_INTEGER;for(var i=1;i<=n;i++){var o=n-i,a=new Sb(o,r);e.firstZoomDataOffset=Math.min(a.dataOffset,e.firstZoomDataOffset),e.zoomLevelHeaders[o]=a}if(e.header.autoSqlOffset>0&&(r.position=e.header.autoSqlOffset-64,e.autoSql=r.getString()),e.header.totalSummaryOffset>0&&(r.position=e.header.totalSummaryOffset-64,e.totalSummary=new Rb(r)),!(e.header.chromTreeOffset>0))throw"BigWig chromosome tree offset <= 0";return r.position=e.header.chromTreeOffset-64,e.chromTree=new Tb(r,64,e.genome),r.position=e.header.fullDataOffset-64,e.header.dataCount=r.getInt(),e.header}))}},_b.prototype.loadRPTree=function(e){var t=this,n=t.rpTreeCache[e];return n?Promise.resolve(n):(n=new Eb(e,t.config,t.littleEndian)).load().then((function(){return t.rpTreeCache[e]=n,n}))},Eb.prototype.load=function(){var e=this,t=e.fileOffset+48,n=new kb(e.config,512e3);return e.readNode(t,n).then((function(t){return e.rootNode=t,e}))},Eb.prototype.readNode=function(e,t){var n,r,i=this;return t.dataViewForRange({start:e,size:4},!1).then((function(o){var a,s;s=(a=new Ey(o,i.littleEndian)).getByte(),r=1===s,a.getByte(),n=a.getUShort();var u={start:e+=4,size:n*(r?32:24)};return t.dataViewForRange(u,!1)})).then((function(e){var t,i=new Array(n),o=new Ey(e);if(r){for(t=0;t<n;t++){var a={isLeaf:!0,startChrom:o.getInt(),startBase:o.getInt(),endChrom:o.getInt(),endBase:o.getInt(),dataOffset:o.getLong(),dataSize:o.getLong()};i[t]=a}return new Cb(i)}for(t=0;t<n;t++){var s={isLeaf:!1,startChrom:o.getInt(),startBase:o.getInt(),endChrom:o.getInt(),endBase:o.getInt(),childOffset:o.getLong()};i[t]=s}return new Cb(i)}))},Eb.prototype.findLeafItemsOverlapping=function(e,t,n,r){var i=this;return new Promise((function(o,a){var s=[],u=new Set,c=new kb(i.config,512e3);u.add(0),function l(f,h){Ab(f,e,t,n,r)&&f.items.forEach((function(o){Ab(o,e,t,n,r)&&(o.isLeaf?s.push(o):o.childNode?l(o.childNode):(u.add(o.childOffset),i.readNode(o.childOffset,c).then((function(e){o.childNode=e,l(e,o.childOffset)})).catch(a)))})),void 0!==h&&u.delete(h),0===u.size&&o(s)}(i.rootNode,0)}))};var Pb=function(e,t){this.reader=new _b(e,t),this.genome=t,this.format=e.format||"bigwig",this.wgValues={}};Pb.prototype.getFeatures=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r,i,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("all"!==t.toLowerCase()){e.next=6;break}return e.next=3,this.getWGValues(o);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.reader.readFeatures(t,n,t,r,i,o);case 8:e.t0=e.sent;case 9:return a=e.t0,"bigwig"===this.format.toLowerCase()||"bw"===this.format.toLowerCase()||vb(a),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),Pb.prototype.getDefaultRange=function(){return void 0!==this.reader.totalSummary?this.reader.totalSummary.defaultRange:void 0},Pb.prototype.defaultVisibilityWindow=function(){if("bigwig"===this.reader.type)return Promise.resolve(void 0);var e=this.genome?this.genome.getGenomeLength():3088286401;return this.reader.loadHeader().then((function(t){return e/t.dataCount*1e3}))},Pb.prototype.getWGValues=function(e){var t,n=this,r=this.genome;return n.wgValues[e]?Promise.resolve(n.wgValues[e]):(t=r.getGenomeLength()/500,n.reader.readWGFeatures(t,e).then((function(t){var i=[];return t.forEach((function(e){var t,n,o;o=e.chr,n=r.getCumulativeOffset(o),(t=Object.assign({},e)).chr="all",t.start=n+e.start,t.end=n+e.end,i.push(t)})),n.wgValues[e]=i,i})))},Pb.prototype.supportsWholeGenome=function(){return!0};var Nb={getTissueInfo:function(e,t){var n=(t=t||"https://gtexportal.org/rest/v1")+"/dataset/tissueInfo?datasetId="+(e=e||"gtex_v8");return _v.loadJson(n,{})},trackConfiguration:function(e,t){return{type:"eqtl",sourceType:"gtex-ws",url:(t=t||"https://gtexportal.org/rest/v1")+"/association/singleTissueEqtlByLocation",tissueSiteDetailId:e.tissueSiteDetailId,name:e.tissueSiteDetailId.split("_").join(" "),visibilityWindow:25e4}}},Fb=new qh("Dark2");["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"].forEach((function(e){Fb.getColor(e)}));var Db=Dg(gy,(function(e,t){this.type="feature",gy.call(this,e,t),void 0===e.maxRows&&(e.maxRows=500),this.maxRows=e.maxRows,this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode;var n=e.format?e.format.toLowerCase():void 0;this.featureSource="bigwig"===n||"bigbed"===n?new Pb(e,t.genome):new yb(e,t.genome),this.autoHeight=e.autoHeight,this.margin=void 0===e.margin?10:e.margin,this.featureHeight=e.featureHeight||14,"FusionJuncSpan"===e.type?(this.squishedRowHeight=e.squishedRowHeight||50,this.expandedRowHeight=e.expandedRowHeight||50,this.height=e.height||this.margin+2*this.expandedRowHeight):"snp"===e.type?(this.expandedRowHeight=e.expandedRowHeight||10,this.squishedRowHeight=e.squishedRowHeight||5,this.height=e.height||30):(this.squishedRowHeight=e.squishedRowHeight||15,this.expandedRowHeight=e.expandedRowHeight||30,this.height=e.height||this.margin+2*this.expandedRowHeight),void 0!==this.height&&this.height||(this.height=100),"spliceJunctions"===e.type&&void 0===e.colorByNumReadsThreshold&&(e.colorByNumReadsThreshold=5),e.render?this.render=e.render:"FusionJuncSpan"===e.type?this.render=Hb:"spliceJunctions"===e.type?this.render=Ub:"snp"===e.type?(this.render=Wb,this.snpColors=["rgb(0,0,0)","rgb(0,0,255)","rgb(0,255,0)","rgb(255,0,0)"],this.colorBy="function"):(this.render=jb,this.arrowSpacing=30,function(e){function t(){e.trackView&&e.trackView.tile&&"SQUISHED"!==e.displayMode&&e.trackView.repaintViews()}e.browser.on&&(e.browser.on("trackdragend",t),e.browser.on("trackremoved",(function n(r){e.browser.un&&e===r&&(e.browser.un("trackdrag",t),e.browser.un("trackremoved",n))})))}(this))}));function Bb(e,t,n){var r=(e.start-t)/n,i=(e.end-t)/n,o=i-r;return o<3&&(o=3,r-=1.5),{px:r,px1:i,pw:o}}function jb(e,t,n,r,i,o){var a,s,u=this.browser,c=this.color;if(e.alpha&&1!==e.alpha&&(c=kg.addAlpha(this.color,e.alpha)),this.config.colorBy){var l=e[this.config.colorBy.field];l&&(c=this.config.colorBy.pallete[l])}else e.color&&(c=e.color);i.fillStyle=c,i.strokeStyle=c,"SQUISHED"===this.displayMode&&void 0!==e.row?(a=this.featureHeight/2,s=this.margin+this.squishedRowHeight*e.row):"EXPANDED"===this.displayMode&&void 0!==e.row?(a=this.featureHeight,s=this.margin+this.expandedRowHeight*e.row):(a=this.featureHeight,s=this.margin);var f=s+a/2,h=a/2,p=f-h/2,d=e.exons?e.exons.length:0,g=Bb(e,t,n),v=this.arrowSpacing,m="+"===e.strand?1:"-"===e.strand?-1:0;if(0===d){if(i.fillRect(g.px,s,g.pw,a),0!==m){i.fillStyle="white",i.strokeStyle="white";for(var y=g.px+v/2;y<g.px1;y+=v)gm.strokeLine(i,y-2*m,f-2,y,f),gm.strokeLine(i,y-2*m,f+2,y,f);i.fillStyle=c,i.strokeStyle=c}}else{gm.strokeLine(i,g.px+1,f,g.px1-1,f);for(var b=o.pixelWidth,w=Math.max(0,g.px)+v/2,x=Math.min(b,g.px1),k=w;k<x;k+=v)gm.strokeLine(i,k-2*m,f-2,k,f),gm.strokeLine(i,k-2*m,f+2,k,f);for(var _=0;_<d;_++){var S=e.exons[_],E=Math.round((S.start-t)/n),C=Math.round((S.end-t)/n),T=Math.max(1,C-E),A=void 0;if(!(E+T<0)){if(E>b)break;if(S.utr)i.fillRect(E,p,T,h);else if(S.cdStart&&(A=Math.round((S.cdStart-t)/n),i.fillRect(E,p,A-E,h),T-=A-E,E=A),S.cdEnd&&(A=Math.round((S.cdEnd-t)/n),i.fillRect(A,p,C-A,h),T-=C-A,C=A),i.fillRect(E,s,T,a),T>v+5&&0!==m){i.fillStyle="white",i.strokeStyle="white";for(var R=E+v/2;R<C;R+=v)gm.strokeLine(i,R-2*m,f-2,R,f),gm.strokeLine(i,R-2*m,f+2,R,f);i.fillStyle=c,i.strokeStyle=c}}}}var O=Math.round(o.viewportContainerX),I=u.genomicStateList?u.genomicStateList.length:1,L=O+o.viewportContainerWidth/I;o.drawLabel&&zb.call(this,i,e,g.px,g.px1,s,O,L,o.genomicState,o)}function zb(e,t,n,r,i,o,a,s,u){var c=t.name;if(void 0===c&&t.gene&&(c=t.gene.name),void 0===c&&(c=t.id||t.ID),void 0!==c){var l,f,h;r<o||n>a?(l=n,f=r):(l=Math.max(n,o),f=Math.min(r,a));var p=!1;if(s.selection&&Nb.gtexLoaded&&(p=!0,h=s.selection.colorForGene(c)),"SQUISHED"!==this.displayMode){var d,g={textAlign:"SLANT"===this.labelDisplayMode?void 0:"center",fillStyle:h||t.color||this.color,strokeStyle:h||t.color||this.color};"COLLAPSED"===this.displayMode&&"SLANT"===this.labelDisplayMode&&(d={rotate:{angle:45}});var v=l+(f-l)/2,m=function(e,t){return t?e+20:e+25}(i,d),y=e.measureText(c),b=v-y.width/2,w=v+y.width/2;(u.labelAllFeatures||b>u.rowLastX[t.row]||p)&&(u.rowLastX[t.row]=w,u.labelTransform?(e.save(),u.labelTransform(e,v),gm.fillText(e,c,v,m,g,void 0),e.restore()):gm.fillText(e,c,v,m,g,d))}}}function Hb(e,t,n,r,i){var o,a="EXPANDED"===this.displayMode?this.expandedRowHeight:this.squishedRowHeight;"COLLAPSED"===this.display&&(o=this.margin),"SQUISHED"===this.displayMode&&void 0!==e.row?o=this.margin+a*e.row:"EXPANDED"===this.displayMode&&void 0!==e.row&&(o=this.margin+a*e.row);var s=o+.5*a,u=s-.5*a,c=s+.5*a,l=Math.round((e.junction_left-t)/n),f=Math.round((e.junction_right-t)/n);i.beginPath(),i.moveTo(l,s),i.bezierCurveTo(l,u,f,u,f,s),i.lineWidth=1+Math.log(e.num_junction_reads)/Math.log(2),i.strokeStyle="blue",i.stroke();for(var h=e.spanning_frag_coords,p=0;p<h.length;p++){var d=h[p],g=Math.round((d.left-t)/n),v=Math.round((d.right-t)/n);i.beginPath(),i.moveTo(g,s),i.bezierCurveTo(g,c,v,c,v,s),i.lineWidth=1,i.strokeStyle="purple",i.stroke()}}function Ub(e,t,n,r,i){if(!(this.config.hideAnnotatedJunctions&&"true"===e.attributes.annotated_junction||this.config.hideUnannotatedJunctions&&"false"===e.attributes.annotated_junction||this.config.hideMotifs&&this.config.hideMotifs.includes(e.attributes.motif)||this.config.hideStrand===e.strand)){var o=parseInt(e.attributes.uniquely_mapped);if(!(o<this.config.minUniquelyMappedReads)){var a=parseInt(e.attributes.multi_mapped),s=o+a;if(!(s<this.config.minTotalReads||s>0&&a/s>this.config.maxFractionMultiMappedReads||parseInt(e.attributes.maximum_spliced_alignment_overhang)<this.config.minSplicedAlignmentOverhang)){var u,c,l,f=this.margin,h=this.height,p=f+.5*h,d=f,g=f+h-10,v=Math.round((e.start-t)/n),m=Math.round((e.end-t)/n),y=(v+m)/2,b=(v+y)/2,w=(y+m)/2;void 0===this.config.thicknessBasedOn||"numUniqueReads"===this.config.thicknessBasedOn?u=o:"numReads"===this.config.thicknessBasedOn?u=s:"isAnnotatedJunction"===this.config.thicknessBasedOn&&(u="true"===e.attributes.annotated_junction?20:100),u=1+Math.log(u+1)/Math.log(12),void 0===this.config.bounceHeightBasedOn||"random"===this.config.bounceHeightBasedOn?c=(e.start+e.end)%7:"distance"===this.config.bounceHeightBasedOn?c=(e.end-e.start)/1e3:"thickness"===this.config.bounceHeightBasedOn&&(c=2*u),d+=h*Math.max(7-c,0)/10,e.color?l=e.color:void 0===this.config.colorBy||"numUniqueReads"===this.config.colorBy?l=o>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"numReads"===this.config.colorBy?l=s>this.config.colorByNumReadsThreshold?"blue":"#AAAAAA":"isAnnotatedJunction"===this.config.colorBy?l="true"===e.attributes.annotated_junction?"#b0b0ec":"orange":"strand"===this.config.colorBy?l="+"===e.strand?"#b0b0ec":"#ecb0b0":"motif"===this.config.colorBy&&(l=Fb.getColor(e.attributes.motif));var x="";void 0===this.config.labelUniqueReadCount&&void 0===this.config.labelMultiMappedReadCount&&void 0===this.config.labelTotalReadCount?x+=o+(0==a?"":"(+"+a+")"):(this.config.labelTotalReadCount?x+=s:this.config.labelUniqueReadCount&&(x+=o),this.config.labelMultiMappedReadCount&&a>0&&(x+=" (+"+a+")")),this.config.labelAnnotatedJunction&&"true"===e.attributes.annotated_junction&&(x+=this.config.labelAnnotatedJunction),this.config.labelMotif&&e.attributes.motif&&(x+=" ".concat(e.attributes.motif)),i.beginPath(),i.moveTo(v,g),i.bezierCurveTo(b,d,w,d,m,g),i.lineWidth=u,i.strokeStyle=l,i.stroke(),i.fillText(x,y-i.measureText(x).width/2,(7*d+p)/8)}}}}Db.prototype.postInit=Wn(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readFileHeader();case 2:if((t=e.sent)&&this.setTrackProperties(t),!(n=this.config.format)||"bigbed"!==n.toLowerCase()||void 0!==this.visibilityWindow||"function"!=typeof this.featureSource.defaultVisibilityWindow){e.next=10;break}return e.next=8,this.featureSource.defaultVisibilityWindow();case 8:this.visibilityWindow=e.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 10:return e.abrupt("return",this);case 11:case"end":return e.stop()}}),e,this)}))),Db.prototype.supportsWholeGenome=function(){return!1===this.config.indexed&&!1!==this.config.supportsWholeGenome},Db.prototype.readFileHeader=Wn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.header);case 5:case"end":return e.stop()}}),e,this)}))),Db.prototype.getFeatures=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures(t,n,r,i,this.visibilityWindow));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Db.prototype.computePixelHeight=function(e){if("spliceJunctions"===this.type)return this.height;if("COLLAPSED"===this.displayMode)return this.margin+this.expandedRowHeight;var t=0;if(e&&"function"==typeof e.forEach){var n,r=hr(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.row&&i.row>t&&(t=i.row)}}catch(e){r.e(e)}finally{r.f()}}return this.margin+(t+1)*("SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight)},Db.prototype.draw=function(e){var t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,o=e.pixelWidth,a=e.pixelHeight,s=i+o*r+1;if(this.config.isMergedTrack||gm.fillRect(n,0,e.pixelTop,o,a,{fillStyle:"rgb(255, 255, 255)"}),t){var u=[];e.rowLastX=[];var c,l=hr(t);try{for(l.s();!(c=l.n()).done;){var f=c.value.row||0;void 0===u[f]?u[f]=1:u[f]++,e.rowLastX[f]=-Number.MAX_SAFE_INTEGER}}catch(e){l.e(e)}finally{l.f()}var h,p=[],d=hr(t);try{for(d.s();!(h=d.n()).done;){var g=h.value;if(!(g.end<i)){if(g.start>s)break;var v="COLLAPSED"===this.displayMode?0:g.row,m=o/u[v];e.drawLabel=e.labelAllFeatures||m>10;var y=Math.ceil((g.end-i)/r),b=p[v];if((!b||y>b||"spliceJunctions"===this.config.type)&&(this.render.call(this,g,i,r,a,n,e),"spliceJunctions"!==this.config.type)){var w=Math.floor((g.start-i)/r);b&&w-b<=0&&(n.globalAlpha=.5,gm.strokeLine(n,w,0,w,a,{strokeStyle:"rgb(255, 255, 255)"}),n.globalAlpha=1),p[v]=y}}}}catch(e){d.e(e)}finally{d.f()}}},Db.prototype.clickedFeatures=function(e){var t,n=e.y-this.margin,r=gy.prototype.clickedFeatures.call(this,e);switch(this.displayMode){case"SQUISHED":t=Math.floor(n/this.squishedRowHeight);break;case"EXPANDED":t=Math.floor(n/this.expandedRowHeight);break;default:t=void 0}return r.filter((function(e){return void 0===t||void 0===e.row||t===e.row}))},Db.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n,r=e.genomicLocation,i=[],o=hr(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s="function"==typeof a.popupData?a.popupData(r):gy.extractPopupData(a,this.getGenomeId());s&&(i.length>0&&i.push("<HR>"),Array.prototype.push.apply(i,s))}}catch(e){o.e(e)}finally{o.f()}return i},Db.prototype.menuItemList=function(){var e=this,t=[];return this.render===Wb&&(["function","class"].forEach((function(n){t.push({object:Nh("Color by "+n,n===e.colorBy),click:function(){e.colorBy=n,e.trackView.repaintViews()}})})),t.push({object:au('<div class="igv-track-menu-border-top">')})),t.push({object:au('<div class="igv-track-menu-border-top">')}),["COLLAPSED","SQUISHED","EXPANDED"].forEach((function(n){t.push({object:Nh({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[n],n===e.displayMode),click:function(){e.displayMode=n,e.config.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})})),t},Db.prototype.description=function(){if(Wb===this.render){var e="<html>"+this.name+"<hr>";return e+="<em>Color By Function:</em><br>",e+='<span style="color:red">Red</span>: Coding-Non-Synonymous, Splice Site<br>',e+='<span style="color:green">Green</span>: Coding-Synonymous<br>',e+='<span style="color:blue">Blue</span>: Untranslated<br>',e+='<span style="color:black">Black</span>: Intron, Locus, Unknown<br><br>',e+="<em>Color By Class:</em><br>",e+='<span style="color:red">Red</span>: Deletion<br>',e+='<span style="color:green">Green</span>: MNP<br>',e+='<span style="color:blue">Blue</span>: Microsatellite, Named<br>',e+='<span style="color:black">Black</span>: Indel, Insertion, SNP',e+="</html>"}return this.name},Db.prototype.dispose=function(){this.trackView=void 0};var qb=new Set(["nonsense","missense","stop-loss","frameshift","cds-indel"]),Gb=new Set(["coding-synon"]),$b=new Set(["splice-3","splice-5"]),Vb=new Set(["untranslated-5","untranslated-3"]);function Wb(e,t,n,r,i){var o,a,s,u,c=Bb(e,t,n),l=this.margin,f=this.snpColors.length;switch(o="squished"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight,this.colorBy){case"function":u=e.func,a=u.split(",").map((function(e){return qb.has(e)||$b.has(e)?f-1:Gb.has(e)?f-2:Vb.has(e)?f-3:0})).reduce((function(e,t){return Math.max(e,t)}));break;case"class":a="deletion"===(s=e.class)?f-1:"mnp"===s?f-2:"microsatellite"===s||"named"===s?f-3:0}i.fillStyle=this.snpColors[a],i.fillRect(c.px,l,c.pw,o)}var Zb=function(e,t){this.type="sequence",this.browser=t,this.removable=!1,this.config=e,this.name="",this.id="sequence",this.sequenceType=e.sequenceType||"dna",this.height=25,this.disableButtons=!1,this.order=e.order||-Number.MAX_SAFE_INTEGER,this.ignoreTrackMenu=!1,this.removable=!1,this.reversed=!1,this.frameTranslate=!1,this.complement={A:"T",C:"G",G:"C",T:"A"},this.translationDict={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"STOP",TAG:"STOP",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"STOP",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"}};function Xb(e){return this.color?this.color:"dna"===this.sequenceType?Hh[e]||"gray":"rgb(0, 0, 150)"}Zb.prototype.menuItemList=function(){var e=this;return[{name:e.reversed?"Forward":"Reverse",click:function(){e.reversed=!e.reversed,e.trackView.repaintViews()}},{name:e.frameTranslate?"Close Translation":"Three-frame Translate",click:function(){e.frameTranslate=!e.frameTranslate,e.frameTranslate?(e.trackView.viewports.forEach((function(e){e.setContentHeight(115)})),e.trackView.setTrackHeight(115)):(e.trackView.viewports.forEach((function(e){e.setContentHeight(25)})),e.trackView.setTrackHeight(25)),e.trackView.repaintViews()}}]},Zb.prototype.translateSequence=function(e){var t=[[],[],[]],n=this;return[0,1,2].forEach((function(r){for(var i,o,a=r;e.length-a>=3;)i={},o=e.slice(a,a+3),n.reversed&&(o=o.split("").reverse().join("")),i.codons=o,i.aminoA=n.translationDict[o.toUpperCase()],t[r].push(i),i=null,a+=3})),t},Zb.prototype.getFeatures=function(e,t,n,r){var i=this.browser;return r&&r>1?Promise.resolve(null):i.genome.sequence.getSequence(e,t,n).then((function(e){return{bpStart:t,sequence:e}}))},Zb.prototype.draw=function(e){var t=this,n=e.context;if(e.features){for(var r=e.features.sequence,i=e.features.bpStart,o=1+e.bpStart+e.pixelWidth*e.bpPerPixel,a=i;a<=o;a++){var s=Math.floor(a-i);if(s<r.length){var u=r[s];this.reversed&&(u=this.complement[u.toUpperCase()]);var c=a-e.bpStart,l=c/e.bpPerPixel,f=(c+1)/e.bpPerPixel,h=Xb.call(this,u);if(e.bpPerPixel>.1)gm.fillRect(n,l,5,f-l,10,{fillStyle:h});else{var p=.5*(l+f-n.measureText(u).width);gm.strokeText(n,u,p,15,{strokeStyle:h})}}}if(this.frameTranslate){var d;d=this.reversed?(d=r.split("").map((function(e){return t.complement[e]}))).join(""):r;var g,v=15,m=this.translateSequence(d),y=hr(m);try{for(y.s();!(g=y.n()).done;){var b=g.value,w=m.indexOf(b),x=w;v=0===w?v+10:v+30;var k,_=hr(b);try{for(_.s();!(k=_.n()).done;){var S=k.value,E=void 0,C=b.indexOf(S),T=C+x+2*C,A=0==C%2?"rgb(160,160,160)":"rgb(224,224,224)",R=Math.floor(T/e.bpPerPixel),O=Math.floor((T+3)/e.bpPerPixel),I=Math.round((R+O)/2);S.aminoA.indexOf("STOP")>-1?(A="rgb(255, 0, 0)",E="STOP"):E=S.aminoA,"M"===S.aminoA&&(A="rgb(0, 153, 0)",E="START"),gm.fillRect(n,R,v,O-R,25,{fillStyle:A}),e.bpPerPixel<=.1&&gm.strokeText(n,E,I-n.measureText(E).width/2,v+15)}}catch(e){_.e(e)}finally{_.f()}}}catch(e){y.e(e)}finally{y.f()}}}},Zb.prototype.supportsWholeGenome=function(){return!1},Zb.prototype.computePixelHeight=function(e){return this.height};var Yb=function(e,t){this.config=e,this.genome=t,this.path=e.url,this.groupCache={},this.datasetCache={}};function Kb(e,t){for(var n=e.getInt(),r=e.getInt(),i=e.getFloat(),o=[],a=t;a-- >0;){for(var s=n,u=[];s-- >0;)u.push(e.getFloat());o.push(u)}return{type:"fixedStep",start:r,span:i,data:o,nTracks:t,nPositions:n}}function Qb(e,t){for(var n=e.getInt(),r=e.getFloat(),i=e.getInt(),o=[],a=i;a-- >0;)o.push(e.getInt());e.getInt();for(var s=[],u=t;u-- >0;){a=i;for(var c=[];a-- >0;)c.push(e.getFloat());s.push(c)}return{type:"variableStep",tileStart:n,span:r,start:o,data:s,nTracks:t,nPositions:i}}function Jb(e,t,n){for(var r=e.getInt(),i=r,o=[];i-- >0;)o.push(e.getInt());i=r;for(var a=[];i-- >0;)a.push(e.getInt());e.getInt();for(var s=[],u=t;u-- >0;){for(var c=r,l=[];c-- >0;)l.push(e.getFloat());s.push(l)}if("bedWithName"===n){i=r;for(var f=[];i-- >0;)f.push(e.getString())}return{type:n,start:o,end:a,data:s,name:name,nTracks:t,nPositions:r}}Yb.prototype.readHeader=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.magic){e.next=2;break}return e.abrupt("return",this);case 2:return e.next=4,_v.loadArrayBuffer(this.path,jg(this.config,{range:{start:0,size:64e3}}));case 4:if(t=e.sent,n=new Ey(new DataView(t)),this.magic=n.getInt(),this.version=n.getInt(),this.indexPos=n.getLong(),this.indexSize=n.getInt(),n.getInt(),this.version>=2)for(r=n.getInt(),this.windowFunctions=[];r-- >0;)this.windowFunctions.push(n.getString());for(this.trackType=n.getString(),this.trackLine=n.getString(),i=n.getInt(),this.trackNames=[];i-- >0;)this.trackNames.push(n.getString());return this.genomeID=n.getString(),this.flags=n.getInt(),this.compressed=0!=(1&this.flags),e.next=22,_v.loadArrayBuffer(this.path,jg(this.config,{range:{start:this.indexPos,size:this.indexSize}}));case 22:for(t=e.sent,n=new Ey(new DataView(t)),this.datasetIndex={},o=n.getInt();o-- >0;)a=n.getString(),s=n.getLong(),u=n.getInt(),this.datasetIndex[a]={position:s,size:u};for(this.groupIndex={},o=n.getInt();o-- >0;)c=n.getString(),l=n.getLong(),f=n.getInt(),this.groupIndex[c]={position:l,size:f};return e.abrupt("return",this);case 31:case"end":return e.stop()}}),e,this)}))),Yb.prototype.readDataset=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h,p,d,g,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t+"_"+n+"_"+r,!this.datasetCache[i]){e.next=5;break}return e.abrupt("return",this.datasetCache[i]);case 5:return e.next=7,this.readHeader();case 7:if(o=this.version<2?"":"/"+n,a="all"===t.toLowerCase()||void 0===r?"0":r.toString(),s="raw"===n?"/"+t+"/raw":"/"+t+"/z"+a+o,void 0!==(u=this.datasetIndex[s])){e.next=13;break}return e.abrupt("return",void 0);case 13:return e.next=15,_v.loadArrayBuffer(this.path,jg(this.config,{range:{start:u.position,size:u.size}}));case 15:if(c=e.sent){e.next=18;break}return e.abrupt("return",void 0);case 18:for(l=new Ey(new DataView(c)),f=l.getInt(),h={};f-- >0;)h[l.getString()]=l.getString();for(p=l.getString(),d=l.getFloat(),g=l.getInt(),v=[];g-- >0;)v.push({position:l.getLong(),size:l.getInt()});return m={name:s,attributes:h,dataType:p,tileWidth:d,tiles:v},this.datasetCache[i]=m,e.abrupt("return",m);case 30:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),Yb.prototype.readRootGroup=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genome,!(n=this.groupCache["/"])){e.next=6;break}return e.abrupt("return",n);case 6:return e.next=8,this.readGroup("/");case 8:return r=e.sent,i=r.chromosomes,(o=r.maxZoom)&&(this.maxZoom=Number(o)),a={},i&&i.split(",").forEach((function(e){var n=t.getChromosomeName(e);a[n]=e})),this.chrAliasTable=a,this.groupCache["/"]=r,e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)}))),Yb.prototype.readGroup=function(){var e=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.groupCache[t])){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.readHeader();case 7:if(void 0!==(r=this.groupIndex[t])){e.next=10;break}return e.abrupt("return",void 0);case 10:return e.next=12,_v.loadArrayBuffer(this.path,jg(this.config,{range:{start:r.position,size:r.size}}));case 12:if(i=e.sent){e.next=15;break}return e.abrupt("return",void 0);case 15:for(o=new Ey(new DataView(i)),a={name:t},s=o.getInt();s-- >0;)u=o.getString(),c=o.getString(),a[u]=c;return this.groupCache[t]=a,e.abrupt("return",a);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),Yb.prototype.readTiles=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sort((function(e,t){return e.position-t.position})),0!==(t=t.filter((function(e){return e.size>0}))).length){e.next=4;break}return e.abrupt("return",Promise.resolve([]));case 4:return r=t[0],i=t[t.length-1],o=r.position,a=i.position+i.size-o,e.next=10,_v.loadArrayBuffer(this.path,jg(this.config,{range:{start:o,size:a}}));case 10:s=e.sent,u=[],c=hr(t),e.prev=13,c.s();case 15:if((l=c.n()).done){e.next=38;break}if(f=l.value,h=f.position-o,!((p=f.size)>0)){e.next=36;break}d=void 0,this.compressed?(g=new gg.Inflate(new Uint8Array(s,h,p)),v=g.decompress(),d=v.buffer):d=s.slice(h,h+p),m=new Ey(new DataView(d)),y=m.getString(),b=void 0,e.t0=y,e.next="fixedStep"===e.t0?28:"variableStep"===e.t0?30:"bed"===e.t0?32:"bedWithName"===e.t0?32:34;break;case 28:return b=Kb(m,n),e.abrupt("break",35);case 30:return b=Qb(m,n),e.abrupt("break",35);case 32:return b=Jb(m,n,y),e.abrupt("break",35);case 34:throw"Unknown tile type: "+y;case 35:u.push(b);case 36:e.next=15;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(13),c.e(e.t1);case 43:return e.prev=43,c.f(),e.finish(43);case 46:return e.abrupt("return",u);case 47:case"end":return e.stop()}}),e,this,[[13,40,43,46]])})));return function(t,n){return e.apply(this,arguments)}}(),Yb.prototype.readTile=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_v.loadArrayBuffer(this.path,jg(this.config,{range:{start:t.position,size:t.size}}));case 2:r=e.sent,this.compressed&&(i=new gg.Inflate(new Uint8Array(r)),o=i.decompress(),r=o.buffer),a=new Ey(new DataView(r)),s=a.getString(),e.t0=s,e.next="fixedStep"===e.t0?9:"variableStep"===e.t0?10:"bed"===e.t0?11:"bedWithName"===e.t0?11:12;break;case 9:return e.abrupt("return",Kb(a,n));case 10:return e.abrupt("return",Qb(a,n));case 11:return e.abrupt("return",Jb(a,n,s));case 12:throw"Unknown tile type: "+s;case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}();var ew=function(e,t){this.genome=t,this.windowFunction=e.windowFunction||"mean",this.reader=new Yb(e,t)};function tw(e,t,n,r,i,o){for(var a=e.nPositions,s=e.start,u=e.end,c=e.data[0],l=0;l<a;l++){var f=s[l],h=u[l];if(!(h<n)){if(f>r)break;o.push({chr:t,start:f,end:h,value:c[l]})}}}function nw(e,t,n,r,i,o){for(var a=e.nPositions,s=e.start,u=e.span,c=e.data[0],l=0;l<a;l++){var f=s[l],h=f+u;if(!(h<n)){if(f>r)break;o.push({chr:t,start:f,end:h,value:c[l]})}}}function rw(e,t,n,r,i,o){for(var a=e.nPositions,s=e.start,u=e.span,c=e.data[0],l=0;l<a;l++){var f=s+u;if(s>r)break;f>=n&&(Number.isNaN(c[l])||o.push({chr:t,start:s,end:f,value:c[l]})),s=f}}ew.prototype.getFeatures=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h,p,d,g,v,m,y,b,w,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x=function(){return(x=Wn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rootGroup){e.next=4;break}return e.abrupt("return",this.rootGroup);case 4:return e.next=6,this.reader.readRootGroup();case 6:return this.rootGroup=e.sent,e.abrupt("return",this.rootGroup);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)},w=function(){return x.apply(this,arguments)},e.next=4,w.call(this);case 4:if(o=new Vg(t,n,r),a=this.genome,"all"!==t.toLowerCase()){e.next=8;break}return e.abrupt("return",[]);case 8:return o.bpPerPixel=i,e.next=11,w.call(this);case 11:return e.sent,s=ow(t,i,a),u=this.reader.chrAliasTable[t],c=this.reader.maxZoom,void 0===u&&(u=t),void 0===c&&(c=-1),l=s>c?"raw":this.windowFunction,e.next=20,this.reader.readDataset(u,l,s);case 20:if(null!=(f=e.sent)){e.next=23;break}return e.abrupt("return",[]);case 23:return h=f.tileWidth,p=Math.floor(n/h),d=Math.floor(r/h),e.next=29,this.reader.readTiles(f.tiles.slice(p,d+1),1);case 29:g=e.sent,v=[],m=hr(g),e.prev=32,m.s();case 34:if((y=m.n()).done){e.next=48;break}b=y.value,e.t0=b.type,e.next="bed"===e.t0?39:"variableStep"===e.t0?41:"fixedStep"===e.t0?43:45;break;case 39:return tw(b,t,n,r,0,v),e.abrupt("break",46);case 41:return nw(b,t,n,r,0,v),e.abrupt("break",46);case 43:return rw(b,t,n,r,0,v),e.abrupt("break",46);case 45:throw"Unknown tile type: "+b.type;case 46:e.next=34;break;case 48:e.next=53;break;case 50:e.prev=50,e.t1=e.catch(32),m.e(e.t1);case 53:return e.prev=53,m.f(),e.finish(53);case 56:return v.sort((function(e,t){return e.start-t.start})),e.abrupt("return",v);case 58:case"end":return e.stop()}}),e,this,[[32,50,53,56]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),ew.prototype.supportsWholeGenome=function(){return!1};var iw=Math.log(2);function ow(e,t,n){var r=n.getChromosome(e).bpLength;return Math.ceil(Math.log(Math.max(0,r/(700*t)))/iw)}function aw(e,t,n){var r,i,o,a,s,u,c,l={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};function f(e){return 0===e?"0":Math.abs(e)>=10?e.toFixed():Math.abs(e)>=1?e.toFixed(1):e.toFixed(2)}void 0!==this.dataRange&&void 0!==this.dataRange.max&&void 0!==this.dataRange.min&&(gm.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"}),r=(c=.95*t)-8,s={x:i=c,y:o=a=.01*n},gm.strokeLine(e,r,o,i,a,l),gm.fillText(e,f(this.dataRange.max),r+4,o+12,l),u={x:i,y:o=a=.99*n},gm.strokeLine(e,r,o,i,a,l),gm.fillText(e,f(this.dataRange.min),r+4,o-4,l),gm.strokeLine(e,s.x,s.y,u.x,u.y,l))}var sw=Oh.dataRangeMenuItem,uw=Dg(gy,(function(e,t){this.type="wig",this.featureType="numeric",void 0===e.color&&(e.color="rgb(150,150,150)"),void 0===e.height&&(e.height=50),gy.call(this,e,t);var n=e.format?e.format.toLowerCase():e.format;this.featureSource="bigwig"===n?new Pb(e,t.genome):"tdf"===n?new ew(e,t.genome):new yb(e,t.genome),this.autoscale=e.autoscale||void 0===e.max,this.autoscale||(this.dataRange={min:e.min||0,max:e.max}),this.windowFunction=e.windowFunction||"mean",this.paintAxis=aw,this.graphType=e.graphType||"bar"}));function cw(e){this.thresholds=e.thresholds,this.colors=e.colors}function lw(e){this.scale=e,this.lowColor="rgb("+e.lowR+","+e.lowG+","+e.lowB+")",this.highColor="rgb("+e.highR+","+e.highG+","+e.highB+")",this.diff=e.high-e.low}uw.prototype.postInit=Wn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHeader();case 2:(t=e.sent)&&this.setTrackProperties(t);case 4:case"end":return e.stop()}}),e,this)}))),uw.prototype.getFeatures=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures(t,n,r,i,this.windowFunction));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),uw.prototype.menuItemList=function(){var e=this,t=[];return t.push(sw(this.trackView)),t.push({object:Nh("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},uw.prototype.getFileHeader=Wn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.header);case 5:case"end":return e.stop()}}),e,this)}))),uw.prototype.draw=function(e){var t,n=this,r=e.features,i=e.context,o=e.bpPerPixel,a=e.bpStart,s=e.pixelWidth,u=e.pixelHeight,c=a+s*o+1,l=-1,f=-1;"string"==typeof n.color&&n.color.startsWith("rgb(")&&(t=kg.addAlpha(n.color,.1));var h,p=function(e){return(n.dataRange.max-e)/(n.dataRange.max-n.dataRange.min)*u},d=function(e,t){var n=Math.ceil((e.end-a)/o);return Math.max(1,n-t)};if(r&&r.length>0&&(void 0===n.dataRange.min&&(n.dataRange.min=0),n.dataRange.max>n.dataRange.min)){var g,v=0==n.dataRange.min?u:p(0),m=hr(r);try{for(m.s();!(g=m.n()).done;){var y=g.value;if(!(y.end<a)){if(y.start>c)break;var b=(h=y,Math.floor((h.start-a)/o));if(!isNaN(b)){var w=p(y.value),x=d(y,b),k=y.value<0&&n.altColor?n.altColor:n.color,_="function"==typeof k?k(y.value):k;if("points"===n.graphType){var S=n.config.pointSize||3,E=b+x/2;gm.fillCircle(i,E,w,S/2,{fillStyle:_,strokeStyle:_})}else{var C=w-v;Math.abs(C)<1&&(C=C<0?-1:1);var T=b+x;(T>l||y.value>=0&&y.value>f||y.value<0&&y.value<1)&&gm.fillRect(i,b,v,x,C,{fillStyle:_}),f=y.value,l=T}}}}}catch(e){m.e(e)}finally{m.f()}if(n.dataRange.min<0){var A=n.dataRange.max/(n.dataRange.max-n.dataRange.min)*e.pixelHeight;gm.strokeLine(i,0,A,e.pixelWidth,A,{strokeStyle:t})}}!function(e){if(n.config.hasOwnProperty("guideLines")){var t,r=hr(n.config.guideLines);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.hasOwnProperty("color")&&i.hasOwnProperty("y")&&i.hasOwnProperty("dotted")){var o=p(i.y),a={strokeStyle:i.color,strokeWidth:2};i.dotted?gm.dashedLine(e.context,0,o,e.pixelWidth,o,5,a):gm.strokeLine(e.context,0,o,e.pixelWidth,o,a)}}}catch(e){r.e(e)}finally{r.f()}}}(e)},uw.prototype.popupData=function(e,t){if(t||(t=this.clickedFeatures(e)),t&&t.length>0){var n=[],r=function(e,t,n){for(var r,i,o=0,a=e.length-1,s=o+a>>1;!u(e[s],t,n)&&o<a;)t<e[s].start?a=s-1:t>e[s].end&&(o=s+1),s=o+a>>1;if(u(e[s],t,n)){if(u(r=e[s],t,0))return r;for(i=s;i-- >=0&&(u(e[i]),!n);){if(u(e[i],t,0))return e[i];for(c(e[i],t)<c(r,t)&&(r=e[i]),i=s;i++<e.length&&(u(e[i]),!n);){if(u(e[i],t,0))return e[i];c(e[i],t)<c(r,t)&&(r=e[i])}}return r}return;function u(e,t,n){return t>=e.start-n&&t<=e.end+n}function c(e,t){return Math.min(Math.abs(e.start-t),Math.abs(e.end-t))}}(t,e.genomicLocation,2*e.viewport.genomicState.referenceFrame.bpPerPixel);if(r){var i=r.end-r.start==1?yg(r.start+1):yg(r.start+1)+"-"+yg(r.end);n.push({name:"Position:",value:i}),n.push({name:"Value:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:yg(r.value)})}return n}return[]},uw.prototype.dispose=function(){this.trackView=void 0},uw.prototype.getState=function(){var e=this.config;return e.autoscale=this.autoscale,!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max),e},uw.prototype.supportsWholeGenome=function(){return"function"==typeof this.featureSource.supportsWholeGenome&&this.featureSource.supportsWholeGenome()},cw.prototype.getColor=function(e){var t,n=hr(this.thresholds);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e<r)return this.colors[this.thresholds.indexOf(r)]}}catch(e){n.e(e)}finally{n.f()}return this.colors[this.colors.length-1]},lw.prototype.getColor=function(e){var t,n=this.scale;return e<=n.low?this.lowColor:e>=n.high?this.highColor:(t=(e-n.low)/this.diff,"rgb("+Math.floor(n.lowR+t*(n.highR-n.lowR))+","+Math.floor(n.lowG+t*(n.highG-n.lowG))+","+Math.floor(n.lowB+t*(n.highB-n.lowB))+")")};var fw=function(){function e(t){Zn(this,e),this.color=t}return Yn(e,[{key:"getColor",value:function(){return this.color}}]),e}(),hw=Dg(gy,(function(e,t){if(gy.call(this,e,t),this.isLog=e.isLog,this.displayMode=e.displayMode||"SQUISHED",this.maxHeight=e.maxHeight||500,this.squishedRowHeight=e.sampleSquishHeight||e.squishedRowHeight||2,this.expandedRowHeight=e.sampleExpandHeight||e.expandedRowHeight||12,this.posColorScale=e.posColorScale||new lw({low:.1,lowR:255,lowG:255,lowB:255,high:1.5,highR:255,highG:0,highB:0}),this.negColorScale=e.negColorScale||new lw({low:-1.5,lowR:0,lowG:0,lowB:255,high:-.1,highR:255,highG:255,highB:255}),this.sampleKeys=[],this.featureSource=new yb(this.config,t.genome),e.sort){var n=e.sort;this.sortSamples(n.chr,n.start,n.end,n.direction)}}));hw.prototype.postInit=Wn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),hw.prototype.menuItemList=function(){var e=this,t=[],n={SQUISHED:"Squish",EXPANDED:"Expand",FILL:"Fill"};return t.push("<hr/>"),t.push("Sample Height"),["SQUISHED","EXPANDED","FILL"].forEach((function(r){t.push({object:Nh(n[r],r===e.displayMode),click:function(){e.displayMode=r,e.config.displayMode=r,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})})),t},hw.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},hw.prototype.draw=function(e){var t=this,n=(Yh(2),e.context),r=e.pixelTop,i=e.pixelWidth,o=e.pixelHeight;gm.fillRect(n,0,e.pixelTop,i,o,{fillStyle:"rgb(255, 255, 255)"});var a=e.features;if(a&&a.length>0){void 0===t.isLog&&function(e){if(void 0===t.isLog){t.isLog=!1;var n,r=hr(e);try{for(r.s();!(n=r.n()).done;)if(n.value.value<0)return void(t.isLog=!0)}catch(e){r.e(e)}finally{r.f()}}}(a);var s=e.bpPerPixel,u=e.bpStart,c=u+i*s+1,l=s;this.updateSampleKeys(a);var f,h,p={};switch(this.sampleKeys.forEach((function(e,t){p[e]=t})),this.displayMode){case"FILL":f=e.pixelHeight/this.sampleKeys.length,h=0;break;case"SQUISHED":f=this.squishedRowHeight,h=0;break;default:f=this.expandedRowHeight,h=1}var d,g=e.pixelTop+e.pixelHeight,v=hr(a);try{for(v.s();!(d=v.n()).done;){var m=d.value;if(!(m.end<u)){if(m.start>c)break;var y=m.sampleKey||m.sample;m.row=p[y];var b=r+m.row*f+h;if(!(b+f<r||b>g)){var w=m.value;t.isLog||(w=Yh(w/2));var x=Math.max(m.start,u),k=Math.round((x-u)/l),_=Math.min(m.end,c),S=Math.round((_-u)/l),E=Math.max(1,S-k),C=void 0;C=w<-.1?t.negColorScale.getColor(w):w>.1?t.posColorScale.getColor(w):"white",n.fillStyle=C;var T=f;if(f<.25){var A=.1+2*Math.abs(w);T=Math.min(1,A*f)}m.pixelRect={x:k,y:b,w:E,h:T-2*h},n.fillRect(k,b,E,T-2*h)}}}}catch(e){v.e(e)}finally{v.f()}}},hw.prototype.computePixelHeight=function(e){if(!e)return 0;var t="SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight;return this.updateSampleKeys(e),this.sampleKeys.length*t},hw.prototype.sortSamples=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h,p,d,g,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures(t,n,r);case 2:o=e.sent,this.updateSampleKeys(o),a={},s=r-n+1,u=hr(o),e.prev=7,u.s();case 9:if((c=u.n()).done){e.next=23;break}if(!((l=c.value).end<n)){e.next=13;break}return e.abrupt("continue",21);case 13:if(!(l.start>r)){e.next=15;break}return e.abrupt("break",23);case 15:f=Math.max(n,l.start),h=Math.min(r,l.end),p=(h-f)/s,d=l.sampleKey||l.sample,g=a[d]||0,a[d]=g+p*l.value;case 21:e.next=9;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(7),u.e(e.t0);case 28:return e.prev=28,u.f(),e.finish(28);case 31:v="ASC"===i?1:-1,this.sampleKeys.sort((function(e,t){var n=a[e],r=a[t];return n||(n=v*Number.MAX_VALUE),r||(r=v*Number.MAX_VALUE),n===r?0:n>r?v:-1*v})),this.trackView.repaintViews();case 34:case"end":return e.stop()}}),e,this,[[7,25,28,31]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),hw.prototype.clickedFeatures=function(e){var t,n,r=gy.prototype.clickedFeatures.call(this,e);return t=r,n=e.y,t.filter((function(e){var t=e.pixelRect;return t&&n>=t.y&&n<=t.y+t.h}))},hw.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n,r=[],i=hr(t);try{for(i.s();!(n=i.n()).done;)n.value}catch(e){i.e(e)}finally{i.f()}return t.forEach((function(e){!function(e,t){var n,r=new Set(["row","color","sampleKey","uniqueSampleKey","uniquePatientKey"]);e.hasOwnProperty("realChr")?((n=Object.assign({},e)).chr=e.realChr,n.start=e.realStart,n.end=e.realEnd,delete n.realChr,delete n.realStart,delete n.realEnd):n=e;for(var i=0,o=Object.keys(n);i<o.length;i++){var a=o[i];!r.has(a)&&Bg(n[a])&&t.push({name:a,value:n[a]})}}(e,r)})),r},hw.prototype.contextMenuItemList=function(e){var t=this,n=e.viewport.genomicState.referenceFrame,r=e.genomicLocation,i=this.config.sort?"ASC"===this.config.sort.direction?"DESC":"ASC":"DESC",o=n.toBP(2.5);return[{label:"Sort by value",click:function(e){var a={direction:i,chr:n.chrName,start:r-o,end:r+o};!function(e){t.sortSamples(e.chr,e.start,e.end,e.direction)}(a),t.config.sort=a}}]},hw.prototype.supportsWholeGenome=function(){return this.featureSource.supportsWholeGenome()},hw.prototype.updateSampleKeys=function(e){var t,n=new Set(this.sampleKeys),r=hr(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.sampleKey||i.sample;n.has(o)||(n.add(o),this.sampleKeys.push(o))}}catch(e){r.e(e)}finally{r.f()}};var pw=Dg(gy,(function(e,t){var n=this;e.tracks&&(gy.call(this,e,t),this.tracks=[],e.tracks.forEach((function(e){e.type||Hm(e),e.isMergedTrack=!0;var r=t.createTrack(e);r?(r.autoscale=!1,n.tracks.push(r)):console.warn("Could not create track "+e)})),Object.defineProperty(this,"height",{get:function(){return this._height},set:function(e){this._height=e;var t,n=hr(this.tracks);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.height=e,r.config.height=e}}catch(e){n.e(e)}finally{n.f()}}}),this.height=e.height||100)}));pw.prototype.getFeatures=function(e,t,n,r){var i=this.tracks.map((function(i){return i.getFeatures(e,t,n,r)}));return Promise.all(i)},pw.prototype.draw=function(e){var t,n,r,i,o;for(r=e.features,o=function(e,t){var n=0,r=-Number.MAX_VALUE;return t.forEach((function(e,t){e.forEach((function(e){void 0===e.value||Number.isNaN(e.value)||(n=Math.min(n,e.value),r=Math.max(r,e.value))}))})),{min:n,max:r}}(e.genomicState.chromosome.name,r),t=0,n=this.tracks.length;t<n;t++)(i=Object.assign({},e)).features=r[t],this.tracks[t].dataRange=o,this.tracks[t].draw(i)},pw.prototype.paintAxis=function(e,t,n){var r,i,o;for(r=0,i=this.tracks.length;r<i;r++)if("function"==typeof(o=this.tracks[r]).paintAxis){o.paintAxis(e,t,n);break}},pw.prototype.popupData=function(e){for(var t=[],n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n].popupData(e);t.push.apply(t,ar(i))}return t};var dw=function(e){this.paired=!0,this.firstAlignment=e,this.chr=e.chr,this.readName=e.readName,e.start<e.mate.position?(this.start=e.start,this.scStart=e.scStart,this.connectingStart=e.start+e.lengthOnRef,this.connectingEnd=e.mate.position):(this.start=e.mate.position,this.scStart=this.start,this.connectingStart=e.mate.position,this.connectingEnd=e.start),this.end=Math.max(e.mate.position,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start;var t=Math.max(this.end,e.scStart+e.scLengthOnRef);this.scLengthOnRef=t-this.scStart};function gw(e){return e.isPaired()&&e.mate&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}dw.prototype.setSecondAlignment=function(e){this.secondAlignment=e;var t=this.firstAlignment;e.start>t.start?this.connectingEnd=e.start:this.connectingStart=e.start+e.lengthOnRef,this.start=Math.min(t.start,e.start),this.end=Math.max(t.start+t.lengthOnRef,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start,this.scStart=Math.min(t.scStart,e.scStart);var n=Math.max(t.scStart+t.scLengthOnRef,e.scStart+e.scLengthOnRef);this.scLengthOnRef=n-this.scStart},dw.prototype.popupData=function(e){var t=[];return t=t.concat(this.firstAlignment.popupData(e)),this.secondAlignment&&(t.push("-------------------------------"),t=t.concat(this.secondAlignment.popupData(e))),t},dw.prototype.isPaired=function(){return!0},dw.prototype.firstOfPairStrand=function(){return this.firstAlignment.isFirstOfPair()?this.firstAlignment.strand:this.secondAlignment&&this.secondAlignment.isFirstOfPair()?this.secondAlignment.strand:this.firstAlignment.mate.strand};var vw=function(e,t,n,r,i,o,a){this.chr=e,this.start=Math.floor(t),this.end=Math.ceil(n),this.length=n-t,this.alleleFreqThreshold=void 0===a?.2:a,this.coverageMap=new bw(e,t,n,this.alleleFreqThreshold),this.alignments=[],this.downsampledIntervals=[],this.samplingWindowSize=void 0===r?100:r,this.samplingDepth=void 0===i?1e3:i,this.pairsSupported=void 0===o||o,this.paired=!1,this.pairsCache={},this.downsampledReads=new Set,this.currentBucket=new yw(this.start,this.start+this.samplingWindowSize,this),this.filter=function(e){return e.isMapped()&&!e.isFailsVendorQualityCheck()},this.pairedEndStats=new kw};function mw(){this.alignments=this.alignments.concat(this.currentBucket.alignments),this.currentBucket.downsampledCount>0&&this.downsampledIntervals.push(new xw(this.currentBucket.start,this.currentBucket.end,this.currentBucket.downsampledCount)),this.paired=this.paired||this.currentBucket.paired}function yw(e,t,n){this.start=e,this.end=t,this.alignments=[],this.downsampledCount=0,this.samplingDepth=n.samplingDepth,this.pairsSupported=n.pairsSupported,this.downsampledReads=n.downsampledReads,this.pairsCache=n.pairsCache}function bw(e,t,n,r){this.chr=e,this.bpStart=t,this.length=n-t,this.coverage=new Array(this.length),this.maximum=0,this.threshold=r,this.qualityWeight=!0}function ww(e){this.posA=0,this.negA=0,this.posT=0,this.negT=0,this.posC=0,this.negC=0,this.posG=0,this.negG=0,this.posN=0,this.negN=0,this.pos=0,this.neg=0,this.qualA=0,this.qualT=0,this.qualC=0,this.qualG=0,this.qualN=0,this.qual=0,this.total=0,this.del=0,this.ins=0,this.threshold=e}function xw(e,t,n){this.start=e,this.end=t,this.counts=n}function kw(e,t){this.totalCount=0,this.frCount=0,this.rfCount=0,this.ffCount=0,this.sumF=0,this.sumF2=0}vw.prototype.push=function(e){!1!==this.filter(e)&&(e.isPaired()&&this.pairedEndStats.push(e),this.coverageMap.incCounts(e),this.pairsSupported&&this.downsampledReads.has(e.readName)||(e.start>=this.currentBucket.end&&(mw.call(this),this.currentBucket=new yw(e.start,e.start+this.samplingWindowSize,this)),this.currentBucket.addAlignment(e)))},vw.prototype.forEach=function(e){this.alignments.forEach(e)},vw.prototype.finish=function(){void 0!==this.currentBucket&&mw.call(this),this.alignments.sort((function(e,t){return e.start-t.start})),this.pairsCache=void 0,this.downsampledReads=void 0,this.pairedEndStats.compute()},vw.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},vw.prototype.hasDownsampledIntervals=function(){return this.downsampledIntervals&&this.downsampledIntervals.length>0},yw.prototype.addAlignment=function(e){var t,n,r;if(this.pairsSupported&&gw(e)&&(r=this.pairsCache[e.readName]))return r.setSecondAlignment(e),void(this.pairsCache[e.readName]=void 0);this.alignments.length<this.samplingDepth?this.pairsSupported&&gw(e)?(r=new dw(e),this.paired=!0,this.pairsCache[e.readName]=r,this.alignments.push(r)):this.alignments.push(e):((t=Math.floor(Math.random()*(this.samplingDepth+this.downsampledCount-1)))<this.samplingDepth?(n=this.alignments[t],this.pairsSupported&&gw(e)?(void 0!==this.pairsCache[n.readName]&&(this.pairsCache[n.readName]=void 0),r=new dw(e),this.paired=!0,this.pairsCache[e.readName]=r,this.alignments[t]=r):this.alignments[t]=e,this.downsampledReads.add(n.readName)):this.downsampledReads.add(e.readName),this.downsampledCount++)},bw.prototype.incCounts=function(e){var t=this;if(void 0===e.blocks?l(e):e.blocks.forEach((function(e){l(e)})),e.gaps){var n,r=hr(e.gaps);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("D"===i.type)for(var o=i.start-t.bpStart,a=o;a<o+i.len;a++)a<0||(this.coverage[a]||(this.coverage[a]=new ww(t.threshold)),this.coverage[a].del++)}}catch(e){r.e(e)}finally{r.f()}}if(e.insertions){var s,u=hr(e.insertions);try{for(u.s();!(s=u.n()).done;){var c=s.value.start-this.bpStart;c<0||(this.coverage[c]||(this.coverage[c]=new ww(t.threshold)),this.coverage[c].ins++)}}catch(e){u.e(e)}finally{u.f()}}function l(n){if("S"!==n.type)for(var r=e.seq,i=e.qual,o=n.seqOffset,a=n.start-t.bpStart,s=0;s<n.len;a++,s++){t.coverage[a]||(t.coverage[a]=new ww(t.threshold));var u=r.charAt(o+s),c=e.strand?"pos"+u:"neg"+u,l=i&&o+s<i.length?i[o+s]:30;t.coverage[a][c]+=1,t.coverage[a]["qual"+u]+=l,t.coverage[a].total+=1,t.coverage[a].qual+=l,t.maximum=Math.max(t.coverage[a].total,t.maximum)}}},ww.prototype.isMismatch=function(e){var t,n=this,r=this.threshold*(this.qual?this.qual:this.total);return t=0,["A","T","C","G"].forEach((function(r){r!==e&&(t+=n.qual?n["qual"+r]:n["pos"+r]+n["neg"+r])})),t>=r},xw.prototype.popupData=function(e){return[{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"# downsampled:",value:this.counts}]},kw.prototype.push=function(e){if(e.isProperPair()){var t=Math.abs(e.fragmentLength);this.sumF+=t,this.sumF2+=t*t;var n=e.pairOrientation;if("string"==typeof n&&4===n.length)switch(""+n.charAt(0)+n.charAt(2)){case"FF":case"RR":this.ffCount++;break;case"FR":this.frCount++;break;case"RF":this.rfCount++}this.totalCount++}},kw.prototype.compute=function(){if(this.totalCount>100){this.ffCount/this.totalCount>.9?this.orienation="ff":this.frCount/this.totalCount>.9?this.orienation="fr":this.rfCount/this.totalCount>.9&&(this.orienation="rf");var e=this.sumF/this.totalCount,t=Math.sqrt((this.totalCount*this.sumF2-this.sumF*this.sumF)/(this.totalCount*this.totalCount));this.lowerFragmentLength=e-3*t,this.upperFragmentLength=e+3*t}};var _w={c:1,C:1,s:2,S:2,i:4,I:4,f:4};function Sw(){this.hidden=!1}function Ew(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t>=r.start&&t<r.start+r.len)return r}}function Cw(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function Tw(e,t){return e[t+1]<<8|e[t]}function Aw(e,t){return new DataView(e.buffer).getFloat32(t,!0)}Sw.prototype.isMapped=function(){return 0==(4&this.flags)},Sw.prototype.isPaired=function(){return 0!=(1&this.flags)},Sw.prototype.isProperPair=function(){return 0!=(2&this.flags)},Sw.prototype.isFirstOfPair=function(){return 0!=(64&this.flags)},Sw.prototype.isSecondOfPair=function(){return 0!=(128&this.flags)},Sw.prototype.isSecondary=function(){return 0!=(256&this.flags)},Sw.prototype.isSupplementary=function(){return 0!=(2048&this.flags)},Sw.prototype.isFailsVendorQualityCheck=function(){return 0!=(512&this.flags)},Sw.prototype.isDuplicate=function(){return 0!=(1024&this.flags)},Sw.prototype.isMateMapped=function(){return 0==(8&this.flags)},Sw.prototype.isNegativeStrand=function(){return 0!=(16&this.flags)},Sw.prototype.isMateNegativeStrand=function(){return 0!=(32&this.flags)},Sw.prototype.tags=function(){return this.tagDict||(this.tagBA?(this.tagDict=function(e){for(var t=0,n=e.length,r={};t<n;){var i=String.fromCharCode(e[t])+String.fromCharCode(e[t+1]);t+=2;var o=String.fromCharCode(e[t++]),a=void 0;if("A"===o)a=String.fromCharCode(e[t]),t++;else if("i"===o||"I"===o)a=Cw(e,t),t+=4;else if("c"===o||"C"===o)a=e[t],t++;else if("s"===o||"S"===o)a=Tw(e,t),t+=2;else if("f"===o)a=Aw(e,t),t+=4;else if("Z"===o)for(a="";;){var s=e[t++];if(0===s)break;a+=String.fromCharCode(s)}else{if("B"!==o){a="Error unknown type: "+o,r[i]=a;break}var u=String.fromCharCode(e[t++]),c=_w[u];if(void 0===c){r[i]="Error: unknown element type '".concat(u,"'");break}var l=Cw(e,t);t+=4+l*c,a="[not shown]"}r[i]=a}return r}(this.tagBA),this.tagBA=void 0):this.tagDict={}),this.tagDict},Sw.prototype.popupData=function(e){var t=[];if(e=Math.floor(e),this.insertions){var n,r=this.seq,i=hr(this.insertions);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.start;if(e===a||e===a-1)return t.push({name:"Insertion",value:r.substr(o.seqOffset,o.len)}),t.push({name:"Location",value:a}),t}}catch(e){i.e(e)}finally{i.f()}}t.push({name:"Read Name",value:this.readName}),t.push("<hr>"),t.push({name:"Alignment Start",value:yg(1+this.start),borderTop:!0}),t.push({name:"Read Strand",value:!0===this.strand?"(+)":"(-)",borderTop:!0}),t.push({name:"Cigar",value:this.cigar}),t.push({name:"Mapped",value:l(this.isMapped())}),t.push({name:"Mapping Quality",value:this.mq}),t.push({name:"Secondary",value:l(this.isSecondary())}),t.push({name:"Supplementary",value:l(this.isSupplementary())}),t.push({name:"Duplicate",value:l(this.isDuplicate())}),t.push({name:"Failed QC",value:l(this.isFailsVendorQualityCheck())}),this.isPaired()&&(t.push("<hr>"),t.push({name:"First in Pair",value:!this.isSecondOfPair(),borderTop:!0}),t.push({name:"Mate is Mapped",value:l(this.isMateMapped())}),this.pairOrientation&&t.push({name:"Pair Orientation",value:this.pairOrientation}),this.isMateMapped()&&(t.push({name:"Mate Chromosome",value:this.mate.chr}),t.push({name:"Mate Start",value:this.mate.position+1}),t.push({name:"Mate Strand",value:!0===this.mate.strand?"(+)":"(-)"}),t.push({name:"Insert Size",value:this.fragmentLength}))),t.push("<hr>");var s=this.tags(),u=!0;for(var c in s)s.hasOwnProperty(c)&&(u?(t.push({name:c,value:s[c],borderTop:!0}),u=!1):t.push({name:c,value:s[c]}));return t.push("<hr>"),t.push({name:"Genomic Location: ",value:yg(1+e)}),t.push({name:"Read Base:",value:this.readBaseAt(e)}),t.push({name:"Base Quality:",value:this.readBaseQualityAt(e)}),t;function l(e){return e?"Yes":"No"}},Sw.prototype.readBaseAt=function(e){var t=Ew(this.blocks,e);if(t){if("*"===this.seq)return"*";var n=t.seqIndexAt(e);return this.seq[n]}},Sw.prototype.readBaseQualityAt=function(e){var t=Ew(this.blocks,e);if(t){if("*"===this.qual)return 30;var n=t.seqIndexAt(e);return n>=0&&this.qual&&n<this.qual.length?this.qual[n]:30}},Sw.prototype.gapSizeAt=function(e){if(this.gaps){var t,n=hr(this.gaps);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e>=r.start&&e<r.start+r.len)return r.len}}catch(e){n.e(e)}finally{n.f()}}return 0};var Rw=function(e){e&&Object.assign(this,e)};function Ow(e){e||(e={}),this.vendorFailed=void 0===e.vendorFailed||e.vendorFailed,this.duplicates=void 0===e.duplicates||e.duplicates,this.secondary=e.secondary||!1,this.supplementary=e.supplementary||!1,this.mqThreshold=void 0===e.mqThreshold?0:e.mqThreshold,e.readgroups&&(this.readgroups=new Set(e.readgroups))}Rw.prototype.seqIndexAt=function(e){return Math.floor(e)-this.start+this.seqOffset},Ow.prototype.pass=function(e){if(this.vendorFailed&&e.isFailsVendorQualityCheck())return!1;if(this.duplicates&&e.isDuplicate())return!1;if(this.secondary&&e.isSecondary())return!1;if(this.supplementary&&e.isSupplementary())return!1;if(e.mq<this.mqThreshold)return!1;if(this.readgroups){var t=e.tags().RG;return this.readgroups.has(t)}return!0};var Iw=["=","A","C","x","G","x","x","x","T","x","x","x","x","x","x","N"],Lw=["M","I","D","N","S","H","P","=","X","?","?","?","?","?","?","?"],Mw=Fw(new Uint8Array([66,65,77,1]),0),Pw={readHeader:function(e,t,n){return _v.loadArrayBuffer(e,t).then((function(e){var t;return t=tv(e),Pw.decodeBamHeader(t,n)}))},decodeBamHeader:function(e,t){var n,r,i,o,a;if((n=Fw(e,0))!==Mw)throw new Error("BAM header errror: bad magic number.  This could be caused by either a corrupt or missing file.");r=Fw(e,4);for(var s=0;s<r;++s)String.fromCharCode(e[s+8]);var u=Fw(e,r+8),c=r+12;for(i={},o=[],a={},s=0;s<u;++s){for(var l=Fw(e,c),f="",h=0;h<l-1;++h)f+=String.fromCharCode(e[c+4+h]);Fw(e,c+l+4),i[f]=s,o[s]=f,t&&(a[t.getChromosomeName(f)]=f),c=c+8+l}return{magicNumber:n,size:c,chrNames:o,chrToIndex:i,chrAliasTable:a}},bam_tag2cigar:function(e,t,n,r,i,o){function a(e){return"C"===e||"c"===e||"A"===e?1:"S"===e||"s"===e?2:"I"===e||"i"===e||"f"===e?4:0}if(1!==o.length||i.start<0)return!1;for(var s=n+(r+1>>1)+r;s+4<t&&"CG"!==String.fromCharCode(e[s])+String.fromCharCode(e[s+1]);){var u=String.fromCharCode(e[s+2]);if("B"===u)s+=8+a(u=String.fromCharCode(e[s+3]))*Fw(e,s+4);else if("Z"===u||"H"===u)for(s+=3;0!==e[s++];);else s+=3+a(u)}if(s>=t)return!1;if("B"!==String.fromCharCode(e[s+2])||"I"!==String.fromCharCode(e[s+3]))return!1;var c=Fw(e,s+4),l=s+8;if(l+4*c>t)return!1;var f="",h=0;o.length=0,s=l;for(var p=0;p<c;++p,s+=4){var d=Fw(e,s),g=d>>4,v=Lw[15&d];"M"!==v&&"EQ"!==v&&"X"!==v&&"D"!==v&&"N"!==v&&"="!==v||(h+=g),f=f+g+v,o.push({len:g,ltr:v})}return i.cigar=f,i.lengthOnRef=h,!0},decodeBamRecords:function(e,t,n,r,i,o,a,s){for(;t<e.length;){var u=t+Fw(e,t)+4,c=new Sw,l=Fw(e,t+4),f=Fw(e,t+8);if(u>e.length)return;if(l<0)t=u;else{if(void 0!==i&&(l>i||f>a))return!0;if(void 0!==i&&l<i)t=u;else{for(var h=Fw(e,t+12),p=(65280&h)>>8,d=255&h,g=Fw(e,t+16),v=(4294901760&g)>>16,m=65535&g,y=Fw(e,t+20),b=Fw(e,t+24),w=Fw(e,t+28),x=Fw(e,t+32),k=[],_=0;_<d-1;++_)k.push(String.fromCharCode(e[t+36+_]));k=k.join("");for(var S=0,E="",C=t+36+d,T=[],A=void 0,R=0;R<m;++R){var O=Fw(e,C),I=O>>4,L=Lw[15&O];"M"!==L&&"EQ"!==L&&"X"!==L&&"D"!==L&&"N"!==L&&"="!==L||(S+=I),E=E+I+L,C+=4,A={len:I,ltr:L},T.push(A)}if(c.chr=r[l],c.start=f,c.flags=v,c.strand=!(16&v),c.readName=k,c.cigar=E,c.lengthOnRef=S,c.fragmentLength=x,c.mq=p,Pw.bam_tag2cigar(e,u,C,y,c,T),c.end=c.start+c.lengthOnRef,c.end<o)t=u;else{for(var M=[],P=y+1>>1,N=0;N<P;++N){var F=e[C+N];M.push(Iw[(240&F)>>4]),M.push(Iw[15&F])}M=M.slice(0,y).join(""),C+=P;for(var D=[],B=0;B<y;++B)D.push(e[C+B]);C+=y,b>=0&&(c.mate={chr:r[b],position:w,strand:!(32&v)}),c.seq=M,c.qual=D,c.tagBA=new Uint8Array(e.buffer.slice(C,u)),this.setPairOrientation(c),(void 0===s||s.pass(c))&&(Nw(c,T),n.push(c)),t=u}}}}},decodeSamRecords:function(e,t,n,r,i,o){var a,s,u,c,l,f,h,p,d,g;for(c=(a=bg(e)).length,s=0;s<c;s++)if(l=a[s].split("\t"),(d=new Sw).chr=l[2],d.start=Number.parseInt(l[3])-1,d.flags=Number.parseInt(l[1]),d.readName=l[0],d.strand=!(16&d.flags),d.mq=Number.parseInt(l[4]),d.cigar=l[5],d.fragmentLength=Number.parseInt(l[8]),d.seq=l[9],"*"!==d.chr&&d.isMapped()&&d.chr===n){if(d.start>i)break;if(p=0,(g=Dw(d.cigar)).forEach((function(e){var t=e.len,n=e.ltr;"M"!==n&&"EQ"!==n&&"X"!==n&&"D"!==n&&"N"!==n&&"="!==n||(p+=t)})),d.lengthOnRef=p,!(d.start+p<r)){for(f=l[10],d.qual=[],u=0;u<f.length;u++)d.qual[u]=f.charCodeAt(u)-33;d.tagDict=l.length<11?{}:Bw(l.slice(11)),d.isMateMapped()&&(h=l[6],d.mate={chr:"="===h?d.chr:h,position:Number.parseInt(l[7]),strand:!(32&d.flags)}),this.setPairOrientation(d),(void 0===o||o.pass(d))&&(Nw(d,g),t.push(d))}}},setReaderDefaults:function(e,t){e.filter=new Ow(t.filter),t.readgroup&&(e.filter.readgroups=new Set([t.readgroup])),e.alleleFreqThreshold=void 0===t.alleleFreqThreshold?.2:t.alleleFreqThreshold,e.samplingWindowSize=void 0===t.samplingWindowSize?100:t.samplingWindowSize,e.samplingDepth=void 0===t.samplingDepth?500:t.samplingDepth,e.samplingDepth>1e4&&(e.samplingDepth=1e4),t.viewAsPairs?e.pairsSupported=!0:e.pairsSupported=void 0===t.pairsSupported||t.pairsSupported},setPairOrientation:function(e){if(e.isMapped()&&e.mate&&e.isMateMapped()&&e.mate.chr===e.chr){var t=e.strand?"F":"R",n=e.mate,r=n.strand?"F":"R",i=" ",o=" ";e.isFirstOfPair()?(i="1",o="2"):e.isSecondOfPair()&&(i="2",o="1");var a=[],s=e.fragmentLength,u=e.end-e.start;0===s&&(s=(e.start<n.position?n.position+u:n.position-u)-e.start),s>0?(a[0]=t,a[1]=i,a[2]=r,a[3]=o):(a[2]=t,a[3]=i,a[0]=r,a[1]=o),e.pairOrientation=a.join("")}}};function Nw(e,t){var n,r,i=[],o=0,a=e.start;e.scStart=e.start,e.scLengthOnRef=e.lengthOnRef;var s,u=hr(t);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=void 0;switch(c.ltr){case"H":case"P":break;case"S":l=a,e.scLengthOnRef+=c.len,0===i.length&&(e.scStart-=c.len,l-=c.len),i.push(new Rw({start:l,seqOffset:o,len:c.len,type:"S"})),o+=c.len;break;case"N":case"D":void 0===r&&(r=[]),r.push({start:a,len:c.len,type:c.ltr}),a+=c.len;break;case"I":void 0===n&&(n=[]),n.push(new Rw({start:a,len:c.len,seqOffset:o,type:"I"})),o+=c.len;break;case"M":case"EQ":case"=":case"X":i.push(new Rw({start:a,seqOffset:o,len:c.len,type:"M"})),o+=c.len,a+=c.len}}}catch(e){u.e(e)}finally{u.f()}e.blocks=i,e.insertions=n,e.gaps=r}function Fw(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function Dw(e){var t,n,r,i,o,a,s,u,c;for(t=[],n=[],o=null,i=e.length,r=0;r<i;r++)a=e.charAt(r),c=void 0,(c=a.charCodeAt(0))>=48&&c<=57?n.push(a):(s=a,u=Number.parseInt(n.join("")),n=[],null!==o&&o.ltr===s?o.len+=u:(o={len:u,ltr:s},t.push(o)));return t}function Bw(e){var t={};return e.forEach((function(e){var n=e.split(":");t[n[0]]=n[2]})),t}var jw=function(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.isDataUri=mg(e.url)&&e.url.startsWith("data:"),Pw.setReaderDefaults(this,e)};function zw(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}jw.prototype.readAlignments=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h,p,d,g,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=function(e,t,n){var r,i,o,a;i=(r=this.header).chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e,o=this.alignmentCache.queryFeatures(i,t,n),a=new vw(e,t,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported);var s,u=hr(o);try{for(u.s();!(s=u.n()).done;){var c=s.value;a.push(c)}}catch(e){u.e(e)}finally{u.f()}return a.finish(),a},v=function(e){var t=[];this.header=Pw.decodeBamHeader(e),Pw.decodeBamRecords(e,this.header.size,t,this.header.chrNames),this.alignmentCache=new $y(t,i)},i=this.genome,!this.alignmentCache){e.next=14;break}o=this.header,a=o.chrAliasTable.hasOwnProperty(t)?o.chrAliasTable[t]:t,s=this.alignmentCache.queryFeatures(a,n,r),u=new vw(t,n,r,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),c=hr(s);try{for(c.s();!(l=c.n()).done;)f=l.value,u.push(f)}catch(e){c.e(e)}finally{c.f()}return u.finish(),e.abrupt("return",u);case 14:if(!this.isDataUri){e.next=21;break}return h=zw(this.bamPath),p=tv(h.buffer),v.call(this,p),e.abrupt("return",m.call(this,t,n,r));case 21:return e.next=23,_v.loadArrayBuffer(this.bamPath,jg(this.config));case 23:return d=e.sent,g=tv(d),v.call(this,g),e.abrupt("return",m.call(this,t,n,r));case 27:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}();var Hw=function(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.baiPath=e.indexURL||function(e,t){var n;if(e instanceof File)throw new Error("Cannot infer an index path for a local File.  Please select explicitly");return e.includes("?")?(n=e.indexOf("?"),e.substring(0,n)+"."+t+e.substring(n)):e+"."+t}(this.bamPath,"bai"),Pw.setReaderDefaults(this,e)};function Uw(){return qw.apply(this,arguments)}function qw(){return(qw=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=15;break}return t=this.genome,e.next=4,Gw.call(this);case 4:return n=e.sent,r=jg(this.config,{range:{start:n.firstAlignmentBlock,size:26}}),e.next=8,_v.loadArrayBuffer(this.bamPath,r);case 8:return i=e.sent,o=nv(i),a=n.firstAlignmentBlock+o,s=jg(this.config,{range:{start:0,size:a}}),e.next=14,Pw.readHeader(this.bamPath,s,t);case 14:this.header=e.sent;case 15:return e.abrupt("return",this.header);case 16:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Gw(){return $w.apply(this,arguments)}function $w(){return($w=Wn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genome,this.index){e.next=6;break}return e.next=4,Ty(this.baiPath,this.config,!1,t);case 4:return this.index=e.sent,e.abrupt("return",this.index);case 6:return e.abrupt("return",this.index);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Vw(){return Ww.apply(this,arguments)}function Ww(){return(Ww=Wn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.chrToIndex){e.next=4;break}return e.abrupt("return",this.chrToIndex);case 4:return e.next=6,Uw.call(this);case 6:return t=e.sent,this.chrToIndex=t.chrToIndex,this.indexToChr=t.chrNames,this.chrAliasTable=t.chrAliasTable,e.abrupt("return",this.chrToIndex);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}Hw.prototype.readAlignments=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vw.call(this);case 2:if(i=e.sent,o=this.chrAliasTable.hasOwnProperty(t)?this.chrAliasTable[t]:t,a=i[o],s=new vw(t,n,r,this.config.samplingWindowSize,this.config.samplingDepth,this.config.pairsSupported,this.config.alleleFreqThreshold),void 0!==a){e.next=10;break}return e.abrupt("return",s);case 10:return e.next=12,Gw.call(this);case 12:if(u=e.sent,(c=u.blocksForRange(a,n,r))&&0!==c.length){e.next=16;break}return e.abrupt("return",s);case 16:l=hr(c),e.prev=18,l.s();case 20:if((f=l.n()).done){e.next=45;break}if(h=f.value,p=void 0,0!==h.maxv.offset){e.next=27;break}p=0,e.next=32;break;case 27:return d=jg(this.config,{range:{start:h.maxv.block,size:26}}),e.next=30,_v.loadArrayBuffer(this.bamPath,d);case 30:g=e.sent,p=nv(g);case 32:return v=h.minv.block,m=h.maxv.block+p,y={start:v,size:m-v+1},e.next=37,_v.loadArrayBuffer(this.bamPath,jg(this.config,{range:y}));case 37:if(b=e.sent,w=tv(b),!Pw.decodeBamRecords(w,h.minv.offset,s,this.indexToChr,a,n,r,this.filter)){e.next=42;break}return e.abrupt("break",45);case 42:case 43:e.next=20;break;case 45:e.next=50;break;case 47:e.prev=47,e.t0=e.catch(18),l.e(e.t0);case 50:return e.prev=50,l.f(),e.finish(50);case 53:return s.finish(),e.abrupt("return",s);case 55:case"end":return e.stop()}}),e,this,[[18,47,50,53]])})));return function(t,n,r){return e.apply(this,arguments)}}();var Zw=function(e,t){this.config=e,this.genome=t;var n={},r={};e.sources.sequences.forEach((function(e){if(n[e]=null,t){var i=t.getChromosomeName(e);r[i]=e}})),this.chrAliasTable=r,this.bamReaders=n,Pw.setReaderDefaults(this,e)};Zw.prototype.readAlignments=function(e,t,n){this.genome;var r=this,i=r.chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e;if(this.bamReaders.hasOwnProperty(i)&&"none"!==this.bamReaders[i]){var o,a=r.bamReaders[i];if(!a){o={url:r.config.sources.url.replace("$CHR",i)},r.config.sources.indexURL&&(o.indexURL=r.config.sources.indexURL.replace("$CHR",i));var s=Object.assign(r.config,o);a=new Hw(s),r.bamReaders[i]=a}return a.readAlignments(i,t,n).catch((function(a){return console.error(a),vv.presentAlert(o.url),r.bamReaders[i]="none",new vw(e,t,n)}))}return Promise.resolve(new vw(e,t,n))};var Xw=function(e,t){this.config=e,this.genome=t,Pw.setReaderDefaults(this,e)};function Yw(){var e=this,t=this.genome;if(this.header)return Promise.resolve(this.header);var n=this.config.url+"?file="+this.config.alignmentFile+"&options=-b,-H",r=jg(this.config);return Pw.readHeader(n,r,t).then((function(t){return e.header=t,t}))}Xw.prototype.readAlignments=function(e,t,n){var r=this;return Yw.call(r).then((function(i){var o,a;return o=i.chrAliasTable.hasOwnProperty(e)?i.chrAliasTable[e]:e,a=r.config.url+"?reference="+r.config.referenceFile+"&file="+r.config.alignmentFile+"&region="+o+":"+t+"-"+n,_v.loadString(a,jg(r.config)).then((function(a){var s;return i.chrToIndex[o],s=new vw(e,t,n,r.samplingWindowSize,r.samplingDepth,r.pairsSupported,r.alleleFreqThreshold),Pw.decodeSamRecords(a,s,o,t,n,r.filter),s}))}))};var Kw=function(e,t){this.config=e,this.genome=t,Pw.setReaderDefaults(this,e)};function Qw(e){var t=[];return e.forEach((function(e){if(e.url.startsWith("data:"))t.push(Promise.resolve(function(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var i=new Uint8Array(r.length),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(e.url)));else{var n={};e.headers&&(n.headers=e.headers,n.headers.hasOwnProperty("referer")&&delete n.headers.referer),t.push(new Promise((function(t,r){_v.loadArrayBuffer(e.url,n).then((function(e){t(new Uint8Array(e))}))})))}})),Promise.all(t)}function Jw(e){var t=0;e.forEach((function(e){t+=e.length}));var n=0,r=new Uint8Array(t);return e.forEach((function(e){r.set(e,n),n+=e.length})),r}Kw.prototype.readAlignments=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h,p,d,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.format||"BAM"===this.config.format.toUpperCase()){e.next=2;break}throw Error("htsget format ".concat(this.config.format," is not supported"));case 2:return o=this.genome,a=this.header&&this.header.chrAliasTable.hasOwnProperty(t)?this.header.chrAliasTable[t]:t,s=this.config.url?this.config.url+this.config.endpoint:this.config.endpoint+"/reads/",u=s+this.config.id+"?format=BAM&referenceName="+a+"&start="+n+"&end="+r,e.next=8,_v.loadJson(u,this.config);case 8:return c=e.sent,e.next=11,Qw(c.htsget.urls);case 11:if(l=e.sent,f=Jw(l),h=tv(f.buffer),p=h,this.header=Pw.decodeBamHeader(p,o),d=this.header.chrToIndex[t],g=new vw(t,n,r,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),Pw.decodeBamRecords(p,this.header.size,g,this.header.chrNames,d,n,r),g.finish(),0!==g.alignments.length){e.next=29;break}if(void 0!==d||!this.header.chrAliasTable.hasOwnProperty(t)||i){e.next=26;break}return a=this.header.chrAliasTable[t],e.abrupt("return",this.readAlignments(a,n,r,1));case 26:return e.abrupt("return",g);case 27:e.next=30;break;case 29:return e.abrupt("return",g);case 30:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Sh("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Rh),br("hasInstance"),br("species"),br("toStringTag");var ex=Xe.some,tx=lt("some"),nx=at("some");Pe({target:"Array",proto:!0,forced:!tx||!nx},{some:function(e){return ex(this,e,arguments.length>1?arguments[1]:void 0)}}),ho("Array");var rx=td.ArrayBuffer,ix=a.ArrayBuffer;Pe({global:!0,forced:ix!==rx},{ArrayBuffer:rx}),ho("ArrayBuffer");var ox=Ge("hasInstance"),ax=Function.prototype;ox in ax||I.f(ax,ox,{value:function(e){if("function"!=typeof this||!b(e))return!1;if(!b(this.prototype))return e instanceof this;for(;e=Si(e);)if(this.prototype===e)return!0;return!1}}),kr(a.JSON,"JSON",!0),kr(Math,"Math",!0),Pe({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var sx=_h.onFreeze,ux=Object.freeze,cx=s((function(){ux(1)}));Pe({target:"Object",stat:!0,forced:cx,sham:!kh},{freeze:function(e){return ux&&b(e)?ux(sx(e)):e}});var lx=A.f,fx=s((function(){lx(1)}));Pe({target:"Object",stat:!0,forced:!u||fx,sham:!u},{getOwnPropertyDescriptor:function(e,t){return lx(y(e),t)}});var hx=/"/g;Pe({target:"String",proto:!0,forced:function(e){return s((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}("sub")},{sub:function(){return e="sub",t="",n="",r=String(m(this)),i="<"+e,""!==t&&(i+=" "+t+'="'+String(n).replace(hx,"&quot;")+'"'),i+">"+r+"</"+e+">";var e,t,n,r,i}}),od("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),od("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),od("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var px=!a.setImmediate||!a.clearImmediate;Pe({global:!0,bind:!0,enumerable:!0,forced:px},{setImmediate:Qu.set,clearImmediate:Qu.clear});var dx=eval,gx=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==$n(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=35)}([function(e,t){var n=function(e){Kn(n,e);var t=ir(n);function n(){return Zn(this,n),t.apply(this,arguments)}return n}(nr(Error)),r=function(e){Kn(n,e);var t=ir(n);function n(){return Zn(this,n),t.apply(this,arguments)}return n}(n);e.exports={CramBufferOverrunError:function(e){Kn(n,e);var t=ir(n);function n(){return Zn(this,n),t.apply(this,arguments)}return n}(r),CramMalformedError:r,CramUnimplementedError:function(e){Kn(n,e);var t=ir(n);function n(){return Zn(this,n),t.apply(this,arguments)}return n}(nr(Error)),CramSizeLimitError:function(e){Kn(n,e);var t=ir(n);function n(){return Zn(this,n),t.apply(this,arguments)}return n}(n),CramArgumentError:function(e){Kn(n,e);var t=ir(n);function n(){return Zn(this,n),t.apply(this,arguments)}return n}(n)}},function(e,t,n){(function(e){
/*!
	     * The buffer module from node.js, for the browser.
	     *
	     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	     * @license  MIT
	     */
var r=n(37),i=n(38),o=n(19);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return U(z(t,e.length-n),e,n,r)}function w(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function k(e,t,n,r){return U(H(t),e,n,r)}function _(e,t,n,r){return U(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=j(e[o]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:z(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":$n(window))&&(n=window)}e.exports=n},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(9),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var o=n(7);o.inherits=n(4);var a=n(21),s=n(16);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){var r=n(0).CramBufferOverrunError,i={int:!0,byte:!0,long:!0,byteArray:!0,byteArrayBlock:!0};e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(Zn(this,e),this.parameters=t,this.dataType=n,!n)throw new TypeError("must provide a data type to codec constructor");if(!i[n])throw new TypeError("invalid data type ".concat(n))}return Yn(e,[{key:"_getBits",value:function(e,t,n){var i=0;if(t.bytePosition+(7-t.bitPosition+n)/8>e.length)throw new r("read error during decoding. the file seems to be truncated.");for(var o=n;o;o-=1)i<<=1,i|=e[t.bytePosition]>>t.bitPosition&1,t.bitPosition-=1,t.bitPosition<0&&(t.bytePosition+=1),t.bitPosition&=7;return i}}]),e}()},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==$n(e)},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==$n(e)&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==$n(e)||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(1).Buffer)},function(e,t,n){var r=n(72),i=n(0).CramBufferOverrunError;e.exports={itf8Size:function(e){return-128&e?-16384&e?-2097152&e?-268435456&e?5:4:3:2:1},parseItf8:function(e,t){var n,r=t,o=e[r];if(o<128?(n=o,r+=1):o<192?(n=16383&(o<<8|e[r+1]),r+=2):o<224?(n=2097151&(o<<16|e[r+1]<<8|e[r+2]),r+=3):o<240?(n=268435455&(o<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),r+=4):(n=(15&o)<<28|e[r+1]<<20|e[r+2]<<12|e[r+3]<<4|15&e[r+4],r+=5),r>e.length)throw new i("Attempted to read beyond end of buffer; this file seems truncated.");return[n,r-t]},parseItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.parse(e),o=i.offset,a=i.result;return a._endPosition=o+r,a._size=o-n,a},tinyMemoize:function(e,t){var n=e.prototype[t],r="_memo_".concat(t);e.prototype[t]=function(){return r in this||(this[r]=n.call(this)),this[r]}},sequenceMD5:function(e){return r(e.toUpperCase().replace(/[^\x21-\x7e]/g,""))}}},function(e,t,n){(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(3))},function(e,t,n){var r=n(1),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=$n(n))throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){var r=n(0).CramMalformedError,i=n(13),o=function e(){Zn(this,e),this.F=void 0,this.C=void 0};function a(e,t,n,r){return n*(e>>r)+(e&(1<<r)-1)-t}var s={FC:o,AriDecoder:function e(){Zn(this,e),this.fc=new Array(256);for(var t=0;t<this.fc.length;t+=1)this.fc[t]=new o;this.R=null},Symbol:function e(){Zn(this,e),this.start=void 0,this.freq=void 0},symbolInit:function(e,t,n){if(!(t<=65536))throw new r("assertion failed: start <= 1<<16");if(!(n<=65536-t))throw new r("assertion failed: freq <= 1<<16");e.start=t,e.freq=n},advanceStep:a,advanceSymbolStep:function(e,t,n){return a(e,t.start,t.freq,n)},get:function(e,t){return e&(1<<t)-1},advanceSymbol:function(e,t,n,r){return function(e,t,n,r,o){if((e=r*(e>>o)+(e&(1<<o)-1)-n)<i.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<i.RANS_BYTE_L);return e}(e,t,n.start,n.freq,r)},renormalize:function(e,t){if(e<i.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<i.RANS_BYTE_L);return e}};e.exports=s},function(e,t){e.exports={TF_SHIFT:12,TOTFREQ:4096,RANS_BYTE_L:1<<23}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==$n(e)&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,u=0;u<a;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(t=e.exports=n(21)).Stream=t,t.Readable=t,t.Writable=n(16),t.Duplex=n(5),t.Transform=n(25),t.PassThrough=n(46)},function(e,t,n){(function(t,r,i){var o=n(9);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=m;var c=n(7);c.inherits=n(4);var l,f={deprecate:n(45)},h=n(22),p=n(10).Buffer,d=i.Uint8Array||function(){},g=n(23);function v(){}function m(e,t){s=s||n(5),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),S(e,t))}(e,n,r,t,i);else{var a=k(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?u(w,e,n,a,i):w(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n(5),!(l.call(y,this)||this instanceof s))return new y(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=k(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(y,h),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===y&&e&&e._writableState instanceof m}})):l=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,p.isBuffer(r)||r instanceof d);return s&&!p.isBuffer(e)&&(e=function(e){return p.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=v),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,o);return u}(this,i,s,e,t,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(3),n(43).setImmediate,n(2))},function(e,t){e.exports={CRAM_FLAG_PRESERVE_QUAL_SCORES:1,CRAM_FLAG_DETACHED:2,CRAM_FLAG_MATE_DOWNSTREAM:4,CRAM_FLAG_NO_SEQ:8,CRAM_FLAG_MASK:15,CRAM_M_REVERSE:1,CRAM_M_UNMAP:2,BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048,BAM_CMATCH:0,BAM_CINS:1,BAM_CDEL:2,BAM_CREF_SKIP:3,BAM_CSOFT_CLIP:4,BAM_CHARD_CLIP:5,BAM_CPAD:6,BAM_CEQUAL:7,BAM_CDIFF:8,BAM_CBACK:9,BAM_CIGAR_STR:"MIDNSHP:XB",BAM_CIGAR_SHIFT:4,BAM_CIGAR_MASK:15,BAM_CIGAR_TYPE:246183}},function(e,t,n){var r=n(36);e.exports=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r=n(1).Buffer,i=n(39).Transform,o=n(51),a=n(27),s=n(26).ok,u=n(1).kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(o),f=0;f<l.length;f++){var h=l[f];h.match(/^Z/)&&Object.defineProperty(t,h,{enumerable:!0,value:o[h],writable:!1})}for(var p={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},d=Object.keys(p),g=0;g<d.length;g++){var v=d[g];p[p[v]]=v}function m(e,t,n){var i=[],o=0;function a(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",a)}function s(){var t,a=null;o>=u?a=new RangeError(c):t=r.concat(i,o),i=[],e.close(),n(a,t)}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",a),n(t)})),e.on("end",s),e.end(t),a()}function y(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function b(e){if(!(this instanceof b))return new b(e);T.call(this,e,o.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);T.call(this,e,o.INFLATE)}function x(e){if(!(this instanceof x))return new x(e);T.call(this,e,o.GZIP)}function k(e){if(!(this instanceof k))return new k(e);T.call(this,e,o.GUNZIP)}function _(e){if(!(this instanceof _))return new _(e);T.call(this,e,o.DEFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);T.call(this,e,o.INFLATERAW)}function E(e){if(!(this instanceof E))return new E(e);T.call(this,e,o.UNZIP)}function C(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function T(e,n){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!C(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!C(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(e,n){A(s),s._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],s.emit("error",r)};var u=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(u=e.level);var c=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,u,e.memLevel||t.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function A(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function R(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),t.Deflate=b,t.Inflate=w,t.Gzip=x,t.Gunzip=k,t.DeflateRaw=_,t.InflateRaw=S,t.Unzip=E,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new _(e)},t.createInflateRaw=function(e){return new S(e)},t.createGzip=function(e){return new x(e)},t.createGunzip=function(e){return new k(e)},t.createUnzip=function(e){return new E(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new b(t),e,n)},t.deflateSync=function(e,t){return y(new b(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new x(t),e,n)},t.gzipSync=function(e,t){return y(new x(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new _(t),e,n)},t.deflateRawSync=function(e,t){return y(new _(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new E(t),e,n)},t.unzipSync=function(e,t){return y(new E(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new w(t),e,n)},t.inflateSync=function(e,t){return y(new w(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new k(t),e,n)},t.gunzipSync=function(e,t){return y(new k(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),m(new S(t),e,n)},t.inflateRawSync=function(e,t){return y(new S(t),e)},a.inherits(T,i),T.prototype.params=function(n,r,i){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var a=this;this.flush(o.Z_SYNC_FLUSH,(function(){s(a._handle,"zlib binding closed"),a._handle.params(n,r),a._hadError||(a._level=n,a._strategy=r,i&&i())}))}else e.nextTick(i)},T.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},T.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},T.prototype.flush=function(t,n){var i=this,a=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=o.Z_FULL_FLUSH),a.ended?n&&e.nextTick(n):a.ending?n&&this.once("end",n):a.needDrain?n&&this.once("drain",(function(){return i.flush(t,n)})):(this._flushFlag=t,this.write(r.alloc(0),"",n))},T.prototype.close=function(t){A(this,t),e.nextTick(R,this)},T.prototype._transform=function(e,t,n){var i,a=this._writableState,s=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||r.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},T.prototype._processChunk=function(e,t,n){var i=e&&e.length,o=this._chunkSize-this._offset,a=0,l=this,f="function"==typeof n;if(!f){var h,p=[],d=0;this.on("error",(function(e){h=e})),s(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,o)}while(!this._hadError&&y(g[0],g[1]));if(this._hadError)throw h;if(d>=u)throw A(this),new RangeError(c);var v=r.concat(p,d);return A(this),v}s(this._handle,"zlib binding closed");var m=this._handle.write(t,e,a,i,this._buffer,this._offset,o);function y(u,c){if(this&&(this.buffer=null,this.callback=null),!l._hadError){var h=o-c;if(s(h>=0,"have should not go down"),h>0){var g=l._buffer.slice(l._offset,l._offset+h);l._offset+=h,f?l.push(g):(p.push(g),d+=g.length)}if((0===c||l._offset>=l._chunkSize)&&(o=l._chunkSize,l._offset=0,l._buffer=r.allocUnsafe(l._chunkSize)),0===c){if(a+=i-u,i=u,!f)return!0;var v=l._handle.write(t,e,a,i,l._buffer,l._offset,l._chunkSize);return v.callback=y,void(v.buffer=e)}if(!f)return!1;n()}}m.buffer=e,m.callback=y},a.inherits(b,T),a.inherits(w,T),a.inherits(x,T),a.inherits(k,T),a.inherits(_,T),a.inherits(S,T),a.inherits(E,T)}).call(this,n(3))},function(e,t,n){(function(t,r){var i=n(9);e.exports=b;var o,a=n(19);b.ReadableState=y,n(14).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=n(22),c=n(10).Buffer,l=t.Uint8Array||function(){},f=n(7);f.inherits=n(4);var h=n(40),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,g=n(41),v=n(23);f.inherits(b,u);var m=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(o=o||n(5));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(24).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(5),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,n,r,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}}(e,a)):(i||(o=function(e,t){var n,r;return r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?x(e,a,t,!1):C(e,a)):x(e,a,t,!1))):r||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),C(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return d||(d=n(24).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};var k=8388608;function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){p("emit readable"),e.emit("readable"),O(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){p("readable nexttick read 0"),e.read(0)}function R(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function L(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(M,t,e))}function M(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):S(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&L(this),null;var r,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&L(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===r.stdout||e===r.stderr?y:c;function c(){p("onend"),e.end()}o.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",(function t(r,i){p("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),e.removeListener("close",v),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",d),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,O(e))}}(n);e.on("drain",l);var f=!1,h=!1;function d(t){p("ondata"),h=!1,!1!==e.write(t)||h||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==P(o.pipes,e))&&!f&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function g(t){p("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",m),y()}function m(){p("onfinish"),e.removeListener("close",v),y()}function y(){p("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",m),e.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=P(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(A,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(R,e,t))}(this,e)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I}).call(this,n(2),n(3))},function(e,t,n){e.exports=n(14).EventEmitter},function(e,t,n){var r=n(9);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){var r=n(10).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){e.exports=a;var r=n(5),i=n(7);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(4),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){(function(t){
/*!
	     * The buffer module from node.js, for the browser.
	     *
	     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	     * @license  MIT
	     */
function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(27),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function l(e){return!i(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var f=e.exports=m,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(h);return t&&t[1]}}function d(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!o.isFunction(e))return o.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function m(e,t){e||v(e,!0,t,"==",f.ok)}function y(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==$n(e)||null!==t&&"object"==$n(t)){if(l(e)&&l(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=b(e),a=b(t);if(i&&!a||!i&&a)return!1;if(i)return y(e=s.call(e),t=s.call(t),n);var u,c,l=k(e),f=k(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(!y(e[u=l[c]],t[u],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&v(i,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&i&&!n;if((!e&&o.isError(i)&&a&&w(i,n)||s)&&v(i,n,"Got unwanted exception"+r),e&&i&&n&&!w(i,n)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=d(g(this.actual),128)+" "+this.operator+" "+d(g(this.expected),128),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=p(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},o.inherits(f.AssertionError,Error),f.fail=v,f.ok=m,f.equal=function(e,t,n){e!=t&&v(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){y(e,t,!1)||v(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){y(e,t,!0)||v(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){y(e,t,!1)&&v(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){x(!0,e,t,n)},f.doesNotThrow=function(e,t,n){x(!1,e,t,n)},f.ifError=function(e){if(e)throw e};var k=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(2))},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])g(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,i){if(y(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&_(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return m(i)||(i=l(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),k(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(_(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return f(n)}var c,w="",S=!1,C=["{","}"];return p(n)&&(S=!0,C=["[","]"]),_(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(w=" "+RegExp.prototype.toString.call(n)),x(n)&&(w=" "+Date.prototype.toUTCString.call(n)),k(n)&&(w=" "+f(n)),0!==a.length||S&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=S?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)E(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return h(e,n,r,s,t,S)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,C)):C[0]+w+C[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),E(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"==$n(e)&&null!==e}function x(e){return w(e)&&"[object Date]"===S(e)}function k(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function _(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.debuglog=function(e){if(y(o)&&(o=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=d,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==$n(e)},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=x,t.isError=k,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==$n(e)||void 0===e},t.isBuffer=n(52),t.log=function(){},t.inherits=n(4),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(2),n(3))},function(e,t,n){e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Zn(this,e),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return Yn(e,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=hr(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=or(n.value,1),i=r[0],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=hr(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=or(n.value,2),i=r[1],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=hr(this.cache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:i=hr(this.oldCache),e.prev=18,i.s();case 20:if((o=i.n()).done){e.next=29;break}if(a=o.value,s=or(a,1),u=s[0],e.t1=this.cache.has(u),e.t1){e.next=27;break}return e.next=27,a;case 27:e.next=20;break;case 29:e.next=34;break;case 31:e.prev=31,e.t2=e.catch(18),i.e(e.t2);case 34:return e.prev=34,i.f(),e.finish(34);case 37:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,31,34,37]])}))},{key:"size",get:function(){var e,t=0,n=hr(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cache.has(r)||t++}}catch(e){n.e(e)}finally{n.f()}return this._size+t}}]),e}()},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},a={};function s(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=c(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=c(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function u(e,t){if(isNaN(e))return t?y:m;if(t){if(e<0)return y;if(e>=d)return _}else{if(e<=-g)return S;if(e+1>=g)return k}return e<0?u(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=u,r.fromBits=c;var l=Math.pow;function f(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return f(e.substring(1),t,n).neg();for(var i=u(l(n,8)),o=m,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),c=parseInt(e.substring(a,a+s),n);if(s<8){var h=u(l(n,s));o=o.mul(h).add(u(c))}else o=(o=o.mul(i)).add(u(c))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?f(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=f,r.fromValue=h;var p=4294967296,d=p*p,g=d/2,v=s(1<<24),m=s(0);r.ZERO=m;var y=s(0,!0);r.UZERO=y;var b=s(1);r.ONE=b;var w=s(1,!0);r.UONE=w;var x=s(-1);r.NEG_ONE=x;var k=c(-1,2147483647,!1);r.MAX_VALUE=k;var _=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=_;var S=c(0,-2147483648,!1);r.MIN_VALUE=S;var E=r.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=u(l(e,6),this.unsigned),o=this,a="";;){var s=o.div(i),c=(o.sub(s.mul(i)).toInt()>>>0).toString(e);if((o=s).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(e){return i(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(i(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},E.neg=E.negate,E.add=function(e){i(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,l=0,f=0,p=0,d=0;return p+=(d+=o+(65535&e.low))>>>16,f+=(p+=r+u)>>>16,l+=(f+=n+s)>>>16,l+=t+a,c((p&=65535)<<16|(d&=65535),(l&=65535)<<16|(f&=65535),this.unsigned)},E.subtract=function(e){return i(e)||(e=h(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return m;if(i(e)||(e=h(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(S))return e.isOdd()?S:m;if(e.eq(S))return this.isOdd()?S:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,a=65535&this.low,s=e.high>>>16,l=65535&e.high,f=e.low>>>16,p=65535&e.low,d=0,g=0,y=0,b=0;return y+=(b+=a*p)>>>16,g+=(y+=o*p)>>>16,y&=65535,g+=(y+=a*f)>>>16,d+=(g+=r*p)>>>16,g&=65535,d+=(g+=o*f)>>>16,g&=65535,d+=(g+=a*l)>>>16,d+=t*p+r*f+o*l+a*s,c((y&=65535)<<16|(b&=65535),(d&=65535)<<16|(g&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(i(e)||(e=h(e)),e.isZero())throw Error("division by zero");var t,r,o;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return w;o=y}else{if(this.eq(S))return e.eq(b)||e.eq(x)?S:e.eq(S)?b:(t=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?b:x:(r=this.sub(e.mul(t)),o=t.add(r.div(e)));if(e.eq(S))return this.unsigned?y:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=m}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:l(2,a-48),f=u(t),p=f.mul(e);p.isNegative()||p.gt(r);)p=(f=u(t-=s,this.unsigned)).mul(e);f.isZero()&&(f=b),o=o.add(f),r=r.sub(p)}return o},E.div=E.divide,E.modulo=function(e){return i(e)||(e=h(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return c(~this.low,~this.high,this.unsigned)},E.and=function(e){return i(e)||(e=h(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return i(e)||(e=h(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return i(e)||(e=h(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){var r=n(87),i=n(94),o=n(97);function a(e){var t=r.parse(e),n=t.protocol,a=t.pathname;return"file:"===n?new o(unescape(a)):new i(e)}e.exports={LocalFile:o,RemoteFile:i,fromUrl:a,open:function(e,t,n){if(n)return n;if(e)return a(e);if(t)return new o(t);throw new Error("no url, path, or filehandle provided, cannot open")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function i(e){if("function"!=typeof e)throw new TypeError("Argument to promisify must be a function");var t=e[r],n=i.Promise||Promise;if("function"!=typeof n)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var r=this,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return new n((function(n,i){o.push((function(e){if(e)return i(e);for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(1===o.length||!t)return n(o[0]);var s={};o.forEach((function(e,n){var r=t[n];r&&(s[r]=e)})),n(s)})),e.call.apply(e,[r].concat(o))}))}}i.argumentNames=r,i.Promise=void 0,t.promisify=i},function(e,t,n){var r=n(18),i=n(99),o=n(100);e.exports={CramFile:r,IndexedCramFile:i,CraiIndex:o}},function(e,t,n){(function(t){var r=n(20),i=n(61),o=n(30),a=n(0),s=a.CramUnimplementedError,u=a.CramMalformedError,c=n(62),l=n(66),f=l.cramFileDefinition,h=l.getSectionParsers,p=n(71),d=n(33).open,g=n(8),v=g.parseItem,m=g.tinyMemoize,y=n(98).parseHeaderText,b=function(){function e(t){Zn(this,e),this.file=d(t.url,t.path,t.filehandle),this.validateChecksums=!0,this.fetchReferenceSequenceCallback=t.seqFetch,this.options={checkSequenceMD5:!1!==t.checkSequenceMD5,cacheSize:void 0!==t.cacheSize?t.cacheSize:2e4},this.featureCache=new o({maxSize:this.options.cacheSize})}var n,a,l,g,m,b,w,x,k;return Yn(e,[{key:"toString",value:function(){return this.file.filename?this.file.filename:this.file.url?this.file.url:"(cram file)"}},{key:"read",value:function(e,t,n,r){return this.file.read(e,t,n,r)}},{key:"stat",value:function(){return this.file.stat()}},{key:"getDefinition",value:(k=Wn(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.allocUnsafe(f.maxLength),e.next=3,this.file.read(n,0,f.maxLength,0);case 3:if(2===(r=f.parser.parse(n).result).majorVersion||3===r.majorVersion){e.next=6;break}throw new s("CRAM version ".concat(r.majorVersion," not supported"));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"getSamHeader",value:(x=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContainerById(0);case 2:if(t=e.sent){e.next=5;break}throw new u("file contains no containers");case 5:return e.next=7,t.getFirstBlock();case 7:return n=e.sent,r=n.content,i=r.readInt32LE(0),o=r.toString("utf8",4,4+i),e.abrupt("return",y(o));case 12:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"getSectionParsers",value:(w=Wn(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return t=e.sent,n=t.majorVersion,e.abrupt("return",h(n));case 5:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"getContainerById",value:(b=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return n=e.sent,r=n.cramFileDefinition.maxLength,e.next=6,this.file.stat();case 6:i=e.sent,o=i.size,a=n.cramContainerHeader1,c=0;case 10:if(!(c<=t)){e.next=35;break}if(!(r+a.maxLength+8>=o)){e.next=13;break}return e.abrupt("return");case 13:return s=this.getContainerAtPosition(r),e.next=16,s.getHeader();case 16:if(l=e.sent){e.next=19;break}throw new u("container ".concat(t," not found in file"));case 19:if(0!==c){e.next=31;break}r=l._endPosition,f=0;case 22:if(!(f<l.numBlocks)){e.next=29;break}return e.next=25,this.readBlock(r);case 25:r=e.sent._endPosition;case 26:f+=1,e.next=22;break;case 29:e.next=32;break;case 31:r+=l._size+l.length;case 32:c+=1,e.next=10;break;case 35:return e.abrupt("return",s);case 36:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"checkCrc32",value:(m=Wn(regeneratorRuntime.mark((function e(n,r,o,a){var s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.allocUnsafe(r),e.next=3,this.file.read(s,0,r,n);case 3:if((c=i.unsigned(s))===o){e.next=6;break}throw new u("crc mismatch in ".concat(a,": recorded CRC32 = ").concat(o,", but calculated CRC32 = ").concat(c));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return m.apply(this,arguments)})},{key:"containerCount",value:(g=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return t=e.sent,e.next=5,this.file.stat();case 5:n=e.sent,r=n.size,i=t.cramContainerHeader1,o=0,a=t.cramFileDefinition.maxLength;case 9:if(!(a+i.maxLength+8<r)){e.next=31;break}return e.next=12,this.getContainerAtPosition(a).getHeader();case 12:if(s=e.sent){e.next=15;break}return e.abrupt("break",31);case 15:if(0!==o){e.next=27;break}a=s._endPosition,u=0;case 18:if(!(u<s.numBlocks)){e.next=25;break}return e.next=21,this.readBlock(a);case 21:a=e.sent._endPosition;case 22:u+=1,e.next=18;break;case 25:e.next=28;break;case 27:a+=s._size+s.length;case 28:o+=1;case 29:e.next=9;break;case 31:return e.abrupt("return",o);case 32:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getContainerAtPosition",value:function(e){return new p(this,e)}},{key:"readBlockHeader",value:(l=Wn(regeneratorRuntime.mark((function e(n){var r,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return r=e.sent,i=r.cramBlockHeader,e.next=6,this.file.stat();case 6:if(o=e.sent,a=o.size,!(n+i.maxLength>=a)){e.next=10;break}return e.abrupt("return");case 10:return s=t.allocUnsafe(i.maxLength),e.next=13,this.file.read(s,0,i.maxLength,n);case 13:return e.abrupt("return",v(s,i.parser,0,n));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"_parseSection",value:(a=Wn(regeneratorRuntime.mark((function e(n,r){var i,o,a,s,c,l,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=f.length>2&&void 0!==f[2]?f[2]:n.maxLength,!(o=f.length>3?f[3]:void 0)){e.next=6;break}a=o,e.next=15;break;case 6:return e.next=8,this.file.stat();case 8:if(s=e.sent,c=s.size,!(r+i>=c)){e.next=12;break}return e.abrupt("return");case 12:return a=t.allocUnsafe(i),e.next=15,this.file.read(a,0,i,r);case 15:if((l=v(a,n.parser,0,r))._size===i){e.next=18;break}throw new u("section read error: requested size ".concat(i," does not equal parsed size ").concat(l._size));case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"_uncompress",value:function(e,t,n){if("gzip"===e)r.gunzipSync(t).copy(n);else{if("rans"!==e)throw new s("".concat(e," decompression not yet implemented"));c.uncompress(t,n)}}},{key:"readBlock",value:(n=Wn(regeneratorRuntime.mark((function e(n){var r,i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return r=e.sent,i=r.majorVersion,e.next=6,this.getSectionParsers();case 6:return o=e.sent,e.next=9,this.readBlockHeader(n);case 9:if(a=e.sent,s=a._endPosition,a.contentPosition=a._endPosition,u=t.allocUnsafe(a.uncompressedSize),"raw"===a.compressionMethod){e.next=20;break}return c=t.allocUnsafe(a.compressedSize),e.next=17,this.read(c,0,a.compressedSize,s);case 17:this._uncompress(a.compressionMethod,c,u),e.next=22;break;case 20:return e.next=22,this.read(u,0,a.uncompressedSize,s);case 22:if(a.content=u,!(i>=3)){e.next=35;break}return e.next=25,this._parseSection(o.cramBlockCrc32,s+a.compressedSize);case 25:if(l=e.sent,a.crc32=l.crc32,e.t0=this.validateChecksums,!e.t0){e.next=31;break}return e.next=31,this.checkCrc32(n,a._size+a.compressedSize,a.crc32,"block data");case 31:a._endPosition=l._endPosition,a._size=a.compressedSize+o.cramBlockCrc32.maxLength,e.next=36;break;case 35:a._endPosition=s+a.compressedSize,a._size=a.compressedSize;case 36:return e.abrupt("return",a);case 37:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}();"getDefinition getSectionParsers getSamHeader".split(" ").forEach((function(e){return m(b,e)})),e.exports=b}).call(this,n(1).Buffer)},function(e,t,n){t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),u=0,l=a>0?r-4:r,f=0;f<l;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,s[u++]=255&t),1===a&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=d,a/=256,c-=8);e[n+p-d]|=128*g}},function(e,t,n){e.exports=i;var r=n(14).EventEmitter;function i(){r.call(this)}n(4)(i,r),i.Readable=n(15),i.Writable=n(47),i.Duplex=n(48),i.Transform=n(49),i.PassThrough=n(50),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){var r=n(10).Buffer,i=n(42);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i=r.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,n=a,o.data.copy(t,n),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(44),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(d,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},h.clearImmediate=p}function p(e){delete c[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(3))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(2))},function(e,t,n){e.exports=o;var r=n(25),i=n(7);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(4),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(16)},function(e,t,n){e.exports=n(5)},function(e,t,n){e.exports=n(15).Transform},function(e,t,n){e.exports=n(15).PassThrough},function(e,t,n){(function(e,r){var i=n(26),o=n(53),a=n(54),s=n(57),u=n(60);for(var c in u)t[c]=u[c];function l(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},l.prototype.write=function(e,t,n,r,i,o,a){return this._write(!0,e,t,n,r,i,o,a)},l.prototype.writeSync=function(e,t,n,r,i,o,a){return this._write(!1,e,t,n,r,i,o,a)},l.prototype._write=function(n,o,a,s,u,c,l,f){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==t.Z_NO_FLUSH&&o!==t.Z_PARTIAL_FLUSH&&o!==t.Z_SYNC_FLUSH&&o!==t.Z_FULL_FLUSH&&o!==t.Z_FINISH&&o!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=c,this.strm.next_out=l,this.flush=o,!n)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return r.nextTick((function(){h._process(),h._after()})),this},l.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},l.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},l.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(e,n,r,o,a){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(n>=-1&&n<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(o===t.Z_FILTERED||o===t.Z_HUFFMAN_ONLY||o===t.Z_RLE||o===t.Z_FIXED||o===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,o,a),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(e,n,r,i,u){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=l}).call(this,n(1).Buffer,n(3))},function(e,t){e.exports=function(e){return e&&"object"==$n(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){var r,i=n(11),o=n(55),a=n(28),s=n(29),u=n(56),c=-2,l=258,f=262,h=103,p=113,d=666;function g(e,t){return e.msg=u[t],t}function v(e){return(e<<1)-(e>4?9:0)}function m(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function x(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function k(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-f?e.strstart-(e.w_size-f):0,c=e.window,h=e.w_mask,p=e.prev,d=e.strstart+l,g=c[o+a-1],v=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===v&&c[n+a-1]===g&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=l-(d-o),o=d-l,r>a){if(e.match_start=t,a=r,r>=s)break;g=c[o+a-1],v=c[o+a]}}}while((t=p[t&h])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead}function _(e){var t,n,r,o,u,c,l,h,p,d,g=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-f)){i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=g?r-g:0}while(--n);t=n=g;do{r=e.prev[--t],e.prev[t]=r>=g?r-g:0}while(--n);o+=g}if(0===e.strm.avail_in)break;if(c=e.strm,l=e.window,h=e.strstart+e.lookahead,p=o,d=void 0,(d=c.avail_in)>p&&(d=p),n=0===d?0:(c.avail_in-=d,i.arraySet(l,c.input,c.next_in,d,h),1===c.state.wrap?c.adler=a(c.adler,l,d,h):2===c.state.wrap&&(c.adler=s(c.adler,l,d,h)),c.next_in+=d,c.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=3)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+3-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<f&&0!==e.strm.avail_in)}function S(e,t){for(var n,r;;){if(e.lookahead<f){if(_(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-f&&(e.match_length=k(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t){for(var n,r,i;;){if(e.lookahead<f){if(_(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-f&&(e.match_length=k(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):g(e,c)}function R(e){var t,n=A(e);return 0===n&&((t=e.state).window_size=2*t.w_size,m(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function O(e,t,n,r,o,a){if(!e)return c;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return g(e,c);8===r&&(r=9);var u=new T;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,R(e)}r=[new C(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-f&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new C(4,4,8,4,S),new C(4,5,16,8,S),new C(4,6,32,32,S),new C(4,4,16,16,E),new C(8,16,32,32,E),new C(8,16,128,128,E),new C(8,32,128,256,E),new C(32,128,258,1024,E),new C(32,258,258,4096,E)],t.deflateInit=function(e,t){return O(e,t,8,15,8,0)},t.deflateInit2=O,t.deflateReset=R,t.deflateResetKeep=A,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},t.deflate=function(e,t){var n,i,a,u;if(!e||!e.state||t>5||t<0)return e?g(e,c):c;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===d&&4!==t)return g(e,0===e.avail_out?-5:c);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=p);else{var f=8+(i.w_bits-8<<4)<<8;f|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=p,x(i,f),0!==i.strstart&&(x(i,e.adler>>>16),x(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=h)}else i.status=h;if(i.status===h&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(e),i.pending+2<=i.pending_buf_size&&(w(i,255&e.adler),w(i,e.adler>>8&255),e.adler=0,i.status=p)):i.status=p),0!==i.pending){if(y(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&v(t)<=v(n)&&4!==t)return g(e,-5);if(i.status===d&&0!==e.avail_in)return g(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==d){var k=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=l){if(_(e),e.lookahead<=l&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+l;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=l-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==k&&4!==k||(i.status=d),1===k||3===k)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===k&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(m(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&e.adler),w(i,e.adler>>8&255),w(i,e.adler>>16&255),w(i,e.adler>>24&255),w(i,255&e.total_in),w(i,e.total_in>>8&255),w(i,e.total_in>>16&255),w(i,e.total_in>>24&255)):(x(i,e.adler>>>16),x(i,65535&e.adler)),y(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==h&&t!==p&&t!==d?g(e,c):(e.state=null,t===p?g(e,-3):0):c},t.deflateSetDictionary=function(e,t){var n,r,o,s,u,l,f,h,p=t.length;if(!e||!e.state)return c;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return c;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(m(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),u=e.avail_in,l=e.next_in,f=e.input,e.avail_in=p,e.next_in=0,e.input=t,_(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,_(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=f,e.avail_in=u,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){var r=n(11);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=256,a=286,s=30,u=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);i(p);var d=new Array(60);i(d);var g=new Array(512);i(g);var v=new Array(256);i(v);var m=new Array(29);i(m);var y,b,w,x=new Array(s);function k(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function _(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?g[e]:g[256+(e>>>7)]}function E(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,E(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function T(e,t,n){C(e,n[2*t],n[2*t+1])}function A(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function R(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=u;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=A(o[s]++,s))}}function O(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function I(e){e.bi_valid>8?E(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function L(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function M(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&L(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!L(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function P(e,t,n){var r,i,a,s,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?T(e,i,t):(T(e,(a=v[i])+o+1,t),0!==(s=c[a])&&C(e,i-=m[a],s),T(e,a=S(--r),n),0!==(s=l[a])&&C(e,r-=x[a],s))}while(u<e.last_lit);T(e,256,t)}function N(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)M(e,o,n);i=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],M(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,M(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,c=t.dyn_tree,l=t.max_code,f=t.stat_desc.static_tree,h=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(o=0;o<=u;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=c[2*c[2*(r=e.heap[n])+1]+1]+1)>g&&(o=g,v++),c[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=d&&(a=p[r-d]),s=c[2*r],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(f[2*r+1]+a)));if(0!==v){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,v-=2}while(v>0);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>l||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(e,t),R(o,l,e.bl_count)}function F(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function D(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<c)do{T(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(T(e,i,e.bl_tree),s--),T(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(T(e,17,e.bl_tree),C(e,s-3,3)):(T(e,18,e.bl_tree),C(e,s-11,7));s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}}i(x);var B=!1;function j(e,t,n,i){C(e,0+(i?1:0),3),function(e,t,n,i){I(e),E(e,n),E(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){B||(function(){var e,t,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(m[r]=n,e=0;e<1<<c[r];e++)v[n++]=r;for(v[n-1]=r,i=0,r=0;r<16;r++)for(x[r]=i,e=0;e<1<<l[r];e++)g[i++]=r;for(i>>=7;r<s;r++)for(x[r]=i<<7,e=0;e<1<<l[r]-7;e++)g[256+i++]=r;for(t=0;t<=u;t++)o[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,o[8]++;for(;e<=255;)p[2*e+1]=9,e++,o[9]++;for(;e<=279;)p[2*e+1]=7,e++,o[7]++;for(;e<=287;)p[2*e+1]=8,e++,o[8]++;for(R(p,287,o),e=0;e<s;e++)d[2*e+1]=5,d[2*e]=A(e,5);y=new k(p,c,257,a,u),b=new k(d,l,0,s,u),w=new k(new Array(0),f,0,19,7)}(),B=!0),e.l_desc=new _(e.dyn_ltree,y),e.d_desc=new _(e.dyn_dtree,b),e.bl_desc=new _(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,O(e)},t._tr_stored_block=j,t._tr_flush_block=function(e,t,n,r){var i,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),s=function(e){var t;for(F(e,e.dyn_ltree,e.l_desc.max_code),F(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?j(e,t,n,r):4===e.strategy||a===i?(C(e,2+(r?1:0),3),P(e,p,d)):(C(e,4+(r?1:0),3),function(e,t,n,r){var i;for(C(e,t-257,5),C(e,n-1,5),C(e,r-4,4),i=0;i<r;i++)C(e,e.bl_tree[2*h[i]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),P(e,e.dyn_ltree,e.dyn_dtree)),O(e),r&&I(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(v[n]+o+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){C(e,2,3),T(e,256,p),function(e){16===e.bi_valid?(E(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var r=n(11),i=n(28),o=n(29),a=n(58),s=n(59),u=-2,c=12,l=30;function f(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):u}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,p(e)):u}function g(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?u:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,d(e))):u}function v(e,t){var n,r;return e?(r=new h,e.state=r,r.window=null,0!==(n=g(e,t))&&(e.state=null),n):u}var m,y,b=!0;function w(e){if(b){var t;for(m=new r.Buf32(512),y=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=m,e.lenbits=9,e.distcode=y,e.distbits=5}function x(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=d,t.inflateReset2=g,t.inflateResetKeep=p,t.inflateInit=function(e){return v(e,15)},t.inflateInit2=v,t.inflate=function(e,t){var n,h,p,d,g,v,m,y,b,k,_,S,E,C,T,A,R,O,I,L,M,P,N,F,D=0,B=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;(n=e.state).mode===c&&(n.mode=13),g=e.next_out,p=e.output,m=e.avail_out,d=e.next_in,h=e.input,v=e.avail_in,y=n.hold,b=n.bits,k=v,_=m,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=l;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=l;break}if(b-=4,M=8+(15&(y>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=l;break}n.dmax=1<<M,e.adler=n.check=1,n.mode=512&y?10:c,y=0,b=0;break;case 2:for(;b<16;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=l;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=l;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,B[2]=y>>>16&255,B[3]=y>>>24&255,n.check=o(n.check,B,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((S=n.length)>v&&(S=v),S&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,d,S,M)),512&n.flags&&(n.check=o(n.check,h,S,d)),v-=S,d+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;S=0;do{M=h[d+S++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M))}while(M&&S<v);if(512&n.flags&&(n.check=o(n.check,h,S,d)),v-=S,d+=S,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;S=0;do{M=h[d+S++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M))}while(M&&S<v);if(512&n.flags&&(n.check=o(n.check,h,S,d)),v-=S,d+=S,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=l;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=c;break;case 10:for(;b<32;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}e.adler=n.check=f(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=m,e.next_in=d,e.avail_in=v,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=c;case c:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=l}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=l;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(S>v&&(S=v),S>m&&(S=m),0===S)break e;r.arraySet(p,h,d,S,g),v-=S,d+=S,m-=S,g+=S,n.length-=S;break}n.mode=c;break;case 17:for(;b<14;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=l;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}n.lens[j[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,P){e.msg="invalid code lengths set",n.mode=l;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(D=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,R=65535&D,!((T=D>>>24)<=b);){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}if(R<16)y>>>=T,b-=T,n.lens[n.have++]=R;else{if(16===R){for(F=T+2;b<F;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}if(y>>>=T,b-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=l;break}M=n.lens[n.have-1],S=3+(3&y),y>>>=2,b-=2}else if(17===R){for(F=T+3;b<F;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}b-=T,M=0,S=3+(7&(y>>>=T)),y>>>=3,b-=3}else{for(F=T+7;b<F;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}b-=T,M=0,S=11+(127&(y>>>=T)),y>>>=7,b-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=l;break}for(;S--;)n.lens[n.have++]=M}}if(n.mode===l)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=l;break}if(n.lenbits=9,N={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,P){e.msg="invalid literal/lengths set",n.mode=l;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,P){e.msg="invalid distances set",n.mode=l;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(v>=6&&m>=258){e.next_out=g,e.avail_out=m,e.next_in=d,e.avail_in=v,n.hold=y,n.bits=b,a(e,_),g=e.next_out,p=e.output,m=e.avail_out,d=e.next_in,h=e.input,v=e.avail_in,y=n.hold,b=n.bits,n.mode===c&&(n.back=-1);break}for(n.back=0;A=(D=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,R=65535&D,!((T=D>>>24)<=b);){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}if(A&&0==(240&A)){for(O=T,I=A,L=R;A=(D=n.lencode[L+((y&(1<<O+I)-1)>>O)])>>>16&255,R=65535&D,!(O+(T=D>>>24)<=b);){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}y>>>=O,b-=O,n.back+=O}if(y>>>=T,b-=T,n.back+=T,n.length=R,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=c;break}if(64&A){e.msg="invalid literal/length code",n.mode=l;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(F=n.extra;b<F;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(D=n.distcode[y&(1<<n.distbits)-1])>>>16&255,R=65535&D,!((T=D>>>24)<=b);){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}if(0==(240&A)){for(O=T,I=A,L=R;A=(D=n.distcode[L+((y&(1<<O+I)-1)>>O)])>>>16&255,R=65535&D,!(O+(T=D>>>24)<=b);){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}y>>>=O,b-=O,n.back+=O}if(y>>>=T,b-=T,n.back+=T,64&A){e.msg="invalid distance code",n.mode=l;break}n.offset=R,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(F=n.extra;b<F;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=l;break}n.mode=25;case 25:if(0===m)break e;if(S=_-m,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=l;break}S>n.wnext?(S-=n.wnext,E=n.wsize-S):E=n.wnext-S,S>n.length&&(S=n.length),C=n.window}else C=p,E=g-n.offset,S=n.length;S>m&&(S=m),m-=S,n.length-=S;do{p[g++]=C[E++]}while(--S);0===n.length&&(n.mode=21);break;case 26:if(0===m)break e;p[g++]=n.length,m--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===v)break e;v--,y|=h[d++]<<b,b+=8}if(_-=m,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?o(n.check,p,_,g-_):i(n.check,p,_,g-_)),_=m,(n.flags?y:f(y))!==n.check){e.msg="incorrect data check",n.mode=l;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===v)break e;v--,y+=h[d++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=l;break}y=0,b=0}n.mode=29;case 29:P=1;break e;case l:P=-3;break e;case 31:return-4;case 32:default:return u}return e.next_out=g,e.avail_out=m,e.next_in=d,e.avail_in=v,n.hold=y,n.bits=b,(n.wsize||_!==e.avail_out&&n.mode<l&&(n.mode<27||4!==t))&&x(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(k-=e.avail_in,_-=e.avail_out,e.total_in+=k,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?o(n.check,p,_,e.next_out-_):i(n.check,p,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(n.mode===c?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===_||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?u:(n.head=t,t.done=!1,0):u},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?u:11===n.mode&&i(1,t,r,0)!==n.check?-3:x(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):u},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){e.exports=function(e,t){var n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,b,w,x,k,_,S,E,C;n=e.state,r=e.next_in,E=e.input,i=r+(e.avail_in-5),o=e.next_out,C=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,f=n.wnext,h=n.window,p=n.hold,d=n.bits,g=n.lencode,v=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{d<15&&(p+=E[r++]<<d,d+=8,p+=E[r++]<<d,d+=8),b=g[p&m];t:for(;;){if(p>>>=w=b>>>24,d-=w,0==(w=b>>>16&255))C[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(d<w&&(p+=E[r++]<<d,d+=8),x+=p&(1<<w)-1,p>>>=w,d-=w),d<15&&(p+=E[r++]<<d,d+=8,p+=E[r++]<<d,d+=8),b=v[p&y];n:for(;;){if(p>>>=w=b>>>24,d-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(p&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&b,d<(w&=15)&&(p+=E[r++]<<d,(d+=8)<w&&(p+=E[r++]<<d,d+=8)),(k+=p&(1<<w)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=w,d-=w,k>(w=o-a)){if((w=k-w)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=0,S=h,0===f){if(_+=c-w,w<x){x-=w;do{C[o++]=h[_++]}while(--w);_=o-k,S=C}}else if(f<w){if(_+=c+f-w,(w-=f)<x){x-=w;do{C[o++]=h[_++]}while(--w);if(_=0,f<x){x-=w=f;do{C[o++]=h[_++]}while(--w);_=o-k,S=C}}}else if(_+=f-w,w<x){x-=w;do{C[o++]=h[_++]}while(--w);_=o-k,S=C}for(;x>2;)C[o++]=S[_++],C[o++]=S[_++],C[o++]=S[_++],x-=3;x&&(C[o++]=S[_++],x>1&&(C[o++]=S[_++]))}else{_=o-k;do{C[o++]=C[_++],C[o++]=C[_++],C[o++]=C[_++],x-=3}while(x>2);x&&(C[o++]=C[_++],x>1&&(C[o++]=C[_++]))}break}}break}}while(r<i&&o<s);r-=x=d>>3,p&=(1<<(d-=x<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=d}},function(e,t,n){var r=n(11),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,c,l,f,h){var p,d,g,v,m,y,b,w,x,k=h.bits,_=0,S=0,E=0,C=0,T=0,A=0,R=0,O=0,I=0,L=0,M=null,P=0,N=new r.Buf16(16),F=new r.Buf16(16),D=null,B=0;for(_=0;_<=15;_++)N[_]=0;for(S=0;S<u;S++)N[t[n+S]]++;for(T=k,C=15;C>=1&&0===N[C];C--);if(T>C&&(T=C),0===C)return c[l++]=20971520,c[l++]=20971520,h.bits=1,0;for(E=1;E<C&&0===N[E];E++);for(T<E&&(T=E),O=1,_=1;_<=15;_++)if(O<<=1,(O-=N[_])<0)return-1;if(O>0&&(0===e||1!==C))return-1;for(F[1]=0,_=1;_<15;_++)F[_+1]=F[_]+N[_];for(S=0;S<u;S++)0!==t[n+S]&&(f[F[t[n+S]]++]=S);if(0===e?(M=D=f,y=19):1===e?(M=i,P-=257,D=o,B-=257,y=256):(M=a,D=s,y=-1),L=0,S=0,_=E,m=l,A=T,R=0,g=-1,v=(I=1<<T)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){b=_-R,f[S]<y?(w=0,x=f[S]):f[S]>y?(w=D[B+f[S]],x=M[P+f[S]]):(w=96,x=0),p=1<<_-R,E=d=1<<A;do{c[m+(L>>R)+(d-=p)]=b<<24|w<<16|x|0}while(0!==d);for(p=1<<_-1;L&p;)p>>=1;if(0!==p?(L&=p-1,L+=p):L=0,S++,0==--N[_]){if(_===C)break;_=t[n+f[S]]}if(_>T&&(L&v)!==g){for(0===R&&(R=T),m+=E,O=1<<(A=_-R);A+R<C&&!((O-=N[A+R])<=0);)A++,O<<=1;if(I+=1<<A,1===e&&I>852||2===e&&I>592)return 1;c[g=L&v]=T<<24|A<<16|m-l|0}}return 0!==L&&(c[m+L]=_-R<<24|64<<16|0),h.bits=T,0}},function(e,t,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var r=n(1).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function o(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+$n(e))}function a(e,t){e=o(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,a=0;a<e.length;a++)n=i[255&(n^e[a])]^n>>>8;return-1^n}function s(){return e=a.apply(null,arguments),(t=o(4)).writeInt32BE(e,0),t;var e,t}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),s.signed=function(){return a.apply(null,arguments)},s.unsigned=function(){return a.apply(null,arguments)>>>0},e.exports=s},function(e,t,n){(function(t){var r=n(0).CramMalformedError,i=n(12),o=n(63),a=n(64),s=n(65),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Zn(this,e),this._buffer=t,this._position=n,this.length=t.length}return Yn(e,[{key:"get",value:function(){var e=this._buffer[this._position];return this._position+=1,e}},{key:"getByte",value:function(){return this.get()}},{key:"getByteAt",value:function(e){return this._buffer[e]}},{key:"position",value:function(){return this._position}},{key:"put",value:function(e){return this._buffer[this._position]=e,this._position+=1,e}},{key:"putAt",value:function(e,t){return this._buffer[e]=t,t}},{key:"setPosition",value:function(e){return this._position=e,e}},{key:"getInt",value:function(){var e=this._buffer.readInt32LE(this._position);return this._position+=4,e}},{key:"remaining",value:function(){return this._buffer.length-this._position}}]),e}();e.exports={uncompress:function(e,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return n.fill(0),n;var l=new u(e,c),f=l.get();if(0!==f&&1!==f)throw new r("Invalid rANS order ".concat(f));if(l.getInt()!==l.remaining()-4)throw new r("Incorrect input length.");var h=l.getInt(),p=new u(n||t.allocUnsafe(h));if(p.length<h)throw new r("Output buffer too small to fit ".concat(h," bytes."));switch(f){case 0:return function(e,t){for(var n=new i.AriDecoder,r=new Array(256),s=0;s<r.length;s+=1)r[s]=new i.Symbol;return o.readStatsO0(e,n,r),a.uncompress(e,n,r,t),t}(l,p);case 1:return function(e,t){for(var n=new Array(256),r=0;r<n.length;r+=1)n[r]=new i.AriDecoder;for(var a=new Array(256),u=0;u<a.length;u+=1){a[u]=new Array(256);for(var c=0;c<a[u].length;c+=1)a[u][c]=new i.Symbol}return o.readStatsO1(e,n,a),s.uncompress(e,t,n,a),t}(l,p);default:throw new r("Invalid rANS order: ".concat(f))}}}}).call(this,n(1).Buffer)},function(e,t,n){var r=n(0).CramMalformedError,i=n(13),o=n(12);function a(e){if(!e)throw new r("assertion failed")}e.exports={readStatsO0:function(e,t,n){var r=0,s=0,u=255&e.get();do{null==t.fc[u]&&(t.fc[u]=new o.FC),t.fc[u].F=255&e.get(),t.fc[u].F>=128&&(t.fc[u].F&=-129,t.fc[u].F=(127&t.fc[u].F)<<8|255&e.get()),t.fc[u].C=s,o.symbolInit(n[u],t.fc[u].C,t.fc[u].F),t.R||(t.R=new Array(i.TOTFREQ)),t.R.fill(u,s,s+t.fc[u].F),s+=t.fc[u].F,0===r&&u+1===(255&e.getByteAt(e.position()))?(u=255&e.get(),r=255&e.get()):0!==r?(r-=1,u+=1):u=255&e.get()}while(0!==u);a(s<i.TOTFREQ)},readStatsO1:function(e,t,n){var r=0,s=255&e.get();do{var u=0,c=0,l=255&e.get();null==t[s]&&(t[s]=new o.AriDecoder);do{null==t[s].fc[l]&&(t[s].fc[l]=new o.FC),t[s].fc[l].F=255&e.get(),t[s].fc[l].F>=128&&(t[s].fc[l].F&=-129,t[s].fc[l].F=(127&t[s].fc[l].F)<<8|255&e.get()),t[s].fc[l].C=c,0===t[s].fc[l].F&&(t[s].fc[l].F=i.TOTFREQ),null==n[s][l]&&(n[s][l]=new o.RansDecSymbol),o.symbolInit(n[s][l],t[s].fc[l].C,t[s].fc[l].F),null==t[s].R&&(t[s].R=new Array(i.TOTFREQ)),t[s].R.fill(l,c,c+t[s].fc[l].F),a((c+=t[s].fc[l].F)<=i.TOTFREQ),0===u&&l+1===(255&e.getByteAt(e.position()))?(l=255&e.get(),u=255&e.get()):0!==u?(u-=1,l+=1):l=255&e.get()}while(0!==l);0===r&&s+1===(255&e.getByteAt(e.position()))?(s=255&e.get(),r=255&e.get()):0!==r?(r-=1,s+=1):s=255&e.get()}while(0!==s)}}},function(e,t,n){var r=n(0).CramMalformedError,i=n(13),o=n(12);e.exports={uncompress:function(e,t,n,a){for(var s,u=e.getInt(),c=e.getInt(),l=e.getInt(),f=e.getInt(),h=a.remaining(),p=-4&h,d=0;d<p;d+=4){var g=t.R[o.get(u,i.TF_SHIFT)],v=t.R[o.get(c,i.TF_SHIFT)],m=t.R[o.get(l,i.TF_SHIFT)],y=t.R[o.get(f,i.TF_SHIFT)];a.putAt(d,g),a.putAt(d+1,v),a.putAt(d+2,m),a.putAt(d+3,y),u=o.advanceSymbolStep(u,n[255&g],i.TF_SHIFT),c=o.advanceSymbolStep(c,n[255&v],i.TF_SHIFT),l=o.advanceSymbolStep(l,n[255&m],i.TF_SHIFT),f=o.advanceSymbolStep(f,n[255&y],i.TF_SHIFT),u=o.renormalize(u,e),c=o.renormalize(c,e),l=o.renormalize(l,e),f=o.renormalize(f,e)}switch(a.setPosition(p),3&h){case 0:break;case 1:s=t.R[o.get(u,i.TF_SHIFT)],o.advanceSymbol(u,e,n[255&s],i.TF_SHIFT),a.put(s);break;case 2:s=t.R[o.get(u,i.TF_SHIFT)],o.advanceSymbol(u,e,n[255&s],i.TF_SHIFT),a.put(s),s=t.R[o.get(c,i.TF_SHIFT)],o.advanceSymbol(c,e,n[255&s],i.TF_SHIFT),a.put(s);break;case 3:s=t.R[o.get(u,i.TF_SHIFT)],o.advanceSymbol(u,e,n[255&s],i.TF_SHIFT),a.put(s),s=t.R[o.get(c,i.TF_SHIFT)],o.advanceSymbol(c,e,n[255&s],i.TF_SHIFT),a.put(s),s=t.R[o.get(l,i.TF_SHIFT)],o.advanceSymbol(l,e,n[255&s],i.TF_SHIFT),a.put(s);break;default:throw new r("invalid output size encountered during rANS decoding")}a.setPosition(0)}}},function(e,t,n){var r=n(13),i=n(12);e.exports={uncompress:function(e,t,n,o){for(var a=t.remaining(),s=e.getInt(),u=e.getInt(),c=e.getInt(),l=e.getInt(),f=a>>2,h=0,p=f,d=2*f,g=3*f,v=0,m=0,y=0,b=0;h<f;h+=1,p+=1,d+=1,g+=1){var w=255&n[v].R[i.get(s,r.TF_SHIFT)],x=255&n[m].R[i.get(u,r.TF_SHIFT)],k=255&n[y].R[i.get(c,r.TF_SHIFT)],_=255&n[b].R[i.get(l,r.TF_SHIFT)];t.putAt(h,w),t.putAt(p,x),t.putAt(d,k),t.putAt(g,_),s=i.advanceSymbolStep(s,o[v][w],r.TF_SHIFT),u=i.advanceSymbolStep(u,o[m][x],r.TF_SHIFT),c=i.advanceSymbolStep(c,o[y][k],r.TF_SHIFT),l=i.advanceSymbolStep(l,o[b][_],r.TF_SHIFT),s=i.renormalize(s,e),u=i.renormalize(u,e),c=i.renormalize(c,e),l=i.renormalize(l,e),v=w,m=x,y=k,b=_}for(;g<a;g+=1){var S=255&n[b].R[i.get(l,r.TF_SHIFT)];t.putAt(g,S),l=i.advanceSymbol(l,e,o[b][S],r.TF_SHIFT),b=S}}}},function(e,t,n){var r=n(67).Parser,i=(new r).itf8(),o={parser:(new r).string("magic",{length:4}).uint8("majorVersion").uint8("minorVersion").string("fileId",{length:20,stripNull:!0}),maxLength:26},a={parser:(new r).uint8("compressionMethod",{formatter:function(e){var t=["raw","gzip","bzip2","lzma","rans"][e];if(!t)throw new Error("compression method number ".concat(e," not implemented"));return t}}).uint8("contentType",{formatter:function(e){var t=["FILE_HEADER","COMPRESSION_HEADER","MAPPED_SLICE_HEADER","UNMAPPED_SLICE_HEADER","EXTERNAL_DATA","CORE_DATA"][e];if(!t)throw new Error("invalid block content type id ".concat(e));return t}}).itf8("contentId").itf8("compressedSize").itf8("uncompressedSize"),maxLength:17},s={parser:(new r).uint32("crc32"),maxLength:4},u=(new r).itf8("size").buffer("entries",{length:"size",formatter:function(e){function t(t,n){for(var r=e.toString("utf8",t,n),i=[],o=0;o<r.length;o+=3)i.push(r.substr(o,3));return i}var n,r=[],i=0;for(n=0;n<e.length;n+=1)e[n]||(r.push(t(i,n)),i=n+1);return n>i&&r.push(t(i,n)),r}}),c=(new r).uint8(null,{formatter:function(e){return!!e}}),l=(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).string("key",{length:2,stripNull:!1}).choice("value",{tag:"key",choices:{MI:c,UI:c,PI:c,RN:c,AP:c,RR:c,SM:(new r).array(null,{type:"uint8",length:5}),TD:(new r).nest(null,{type:u,formatter:function(e){return e.entries}})}})});function f(e){var t={};return e.entries.forEach((function(e){var n=e.key,r=e.value;t[n]&&console.warn("duplicate key ".concat(n," in map")),t[n]=r})),t}var h={cramFileDefinition:o,cramBlockHeader:a,cramBlockCrc32:s},p={cramUnmappedSliceHeader:function(e){var t=0,n=(new r).itf8("numRecords");return t+=5,e>=3?(n=n.ltf8("recordCounter"),t+=9):2===e&&(n=n.itf8("recordCounter"),t+=5),n=n.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:i,length:"numContentIds"}),t+=10,e>=2&&(n=n.array("md5",{type:"uint8",length:16}),t+=16),{parser:n,maxLength:function(e){return t+5*e}}},cramMappedSliceHeader:function(e){var t=(new r).itf8("refSeqId").itf8("refSeqStart").itf8("refSeqSpan").itf8("numRecords"),n=20;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),t=t.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:i,length:"numContentIds"}).itf8("refBaseBlockId"),n+=15,e>=2&&(t=t.array("md5",{type:"uint8",length:16}),n+=16),{parser:t,maxLength:function(e){return n+5*e}}},cramEncoding:function(e){return{parser:(new r).namely("cramEncoding").itf8("codecId").itf8("parametersBytes").choice("parameters",{tag:"codecId",choices:{0:new r,1:(new r).itf8("blockContentId"),2:(new r).itf8("offset").itf8("M"),3:r.start().itf8("numCodes").array("symbols",{length:"numCodes",type:i}).itf8("numLengths").array("bitLengths",{length:"numLengths",type:i}),4:r.start().nest("lengthsEncoding",{type:"cramEncoding"}).nest("valuesEncoding",{type:"cramEncoding"}),5:(new r).uint8("stopByte")[e>1?"itf8":"int"]("blockContentId"),6:(new r).itf8("offset").itf8("length"),7:(new r).itf8("offset").itf8("K"),8:(new r).itf8("offset").itf8("log2m"),9:(new r).itf8("offset")}})}},cramDataSeriesEncodingMap:function(e){return(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).string("key",{length:2,stripNull:!1}).nest("value",{type:this.cramEncoding(e).parser})})},cramTagEncodingMap:function(e){return(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).itf8("key",{formatter:function(e){return String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)}}).nest("value",{type:this.cramEncoding(e).parser})})},cramCompressionHeader:function(e){var t=new r;return{parser:t=t.nest("preservation",{type:l,formatter:f}).nest("dataSeriesEncoding",{type:this.cramDataSeriesEncodingMap(e),formatter:f}).nest("tagEncoding",{type:this.cramTagEncodingMap(e),formatter:f})}},cramContainerHeader1:function(e){var t=(new r).int32("length").itf8("refSeqId").itf8("refSeqStart").itf8("alignmentSpan").itf8("numRecords"),n=24;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),e>1&&(t=t.ltf8("numBases"),n+=9),{parser:t=t.itf8("numBlocks").itf8("numLandmarks"),maxLength:n+=10}},cramContainerHeader2:function(e){var t=(new r).itf8("numLandmarks").array("landmarks",{type:(new r).itf8(),length:"numLandmarks"}),n=0;return e>=3&&(t=t.uint32("crc32"),n=4),{parser:t,maxLength:function(e){return 5+5*e+n}}}};e.exports={cramFileDefinition:o,getSectionParsers:function(e){var t=Object.assign({},h);return Object.keys(p).forEach((function(n){t[n]=p[n](e)})),t}}},function(e,t,n){(function(e){var r=n(68),i=n(70).Context,o=n(31);"undefined"!=typeof window&&(window.Buffer=e);var a={UInt8:1,UInt16LE:2,UInt16BE:2,UInt32LE:4,UInt32BE:4,Int8:1,Int16LE:2,Int16BE:2,Int32LE:4,Int32BE:4,FloatLE:4,FloatBE:4,DoubleLE:8,DoubleBE:8},s={},u=[];!function(){var e;for(e=1;e<=32;e++)u.push(e)}();var c={};Object.keys(a).concat(Object.keys({String:null,Buffer:null,Array:null,Skip:null,Choice:null,Nest:null,Bit:null,Itf8:null,Ltf8:null})).forEach((function(e){c[e.toLowerCase()]=e}));var l=function(){this.varName="",this.type="",this.options={},this.next=null,this.head=null,this.compiled=null,this.endian="le",this.constructorFn=null,this.alias=null};l.start=function(){return new l},Object.keys(a).forEach((function(e){l.prototype[e.toLowerCase()]=function(t,n){return this.setNextParser(e.toLowerCase(),t,n)};var t=e.replace(/BE|LE/,"").toLowerCase();t in l.prototype||(l.prototype[t]=function(e,n){return this[t+this.endian](e,n)})})),u.forEach((function(e){l.prototype["bit"+e.toString()]=function(t,n){return n||(n={}),n.length=e,this.setNextParser("bit",t,n)}})),l.prototype.namely=function(e){return s[e]=this,this.alias=e,this},l.prototype.skip=function(e,t){if(t&&t.assert)throw new Error("assert option on skip is not allowed.");return this.setNextParser("skip","",{length:e})},l.prototype.string=function(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("Neither length, zeroTerminated, nor greedy is defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("Length or greedy must be defined if stripNull is defined.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)},l.prototype.buffer=function(e,t){if(!t.length&&!t.readUntil)throw new Error("Length nor readUntil is defined in buffer parser");return this.setNextParser("buffer",e,t)},l.prototype.array=function(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("Length option of array is not defined.");if(!t.type)throw new Error("Type option of array is not defined.");if("string"==typeof t.type&&!s[t.type]&&Object.keys(a).indexOf(c[t.type])<0)throw new Error('Specified primitive type "'+t.type+'" is not supported.');return this.setNextParser("array",e,t)},l.prototype.choice=function(e,t){if(1==arguments.length&&"object"==$n(e)&&(t=e,e=null),!t.tag)throw new Error("Tag option of array is not defined.");if(!t.choices)throw new Error("Choices option of array is not defined.");return Object.keys(t.choices).forEach((function(n){if(!t.choices[n])throw new Error("Choice Case "+n+" of "+e+" is not valid.");if("string"==typeof t.choices[n]&&!s[t.choices[n]]&&Object.keys(a).indexOf(c[t.choices[n]])<0)throw new Error('Specified primitive type "'+t.choices[n]+'" is not supported.')}),this),this.setNextParser("choice",e,t)},l.prototype.nest=function(e,t){if(1==arguments.length&&"object"==$n(e)&&(t=e,e=null),!t.type)throw new Error("Type option of nest is not defined.");if(!(t.type instanceof l||s[t.type]))throw new Error("Type option of nest must be a Parser object.");if(!(t.type instanceof l||e))throw new Error("options.type must be a object if variable name is omitted.");return this.setNextParser("nest",e,t)},l.prototype.endianess=function(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error("Invalid endianess: "+e)}return this},l.prototype.create=function(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this},l.prototype.getCode=function(){var e=new i;return e.pushCode("if (!Buffer.isBuffer(buffer)) {"),e.generateError('"argument buffer is not a Buffer object"'),e.pushCode("}"),this.alias?this.addAliasedCode(e):this.addRawCode(e),this.alias?e.pushCode("return {0}(0)","___parser_"+this.alias):e.pushCode("return { offset: offset, result: vars };"),e.code},l.prototype.addRawCode=function(e){e.pushCode("var offset = 0;"),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };")},l.prototype.addAliasedCode=function(e){return e.pushCode("function {0}(offset) {","___parser_"+this.alias),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e},l.prototype.resolveReferences=function(e){var t=e.getUnresolvedReferences();e.markRequested(t),t.forEach((function(t){s[t].addAliasedCode(e)}))},l.prototype.compile=function(){var e="(function(buffer, constructorFn, Long) { "+this.getCode()+" })";this.compiled=r.runInThisContext(e)},l.prototype.sizeOf=function(){var e=NaN;if(Object.keys(a).indexOf(this.type)>=0)e=a[this.type];else if("String"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Array"===this.type&&"number"==typeof this.options.length){var t=NaN;"string"==typeof this.options.type?t=a[c[this.options.type]]:this.options.type instanceof l&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"Skip"===this.type?e=this.options.length:"Nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e},l.prototype.parse=function(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn,o)},l.prototype.setNextParser=function(e,t,n){var r=new l;return r.type=c[e],r.varName=t,r.options=n||r.options,r.endian=this.endian,this.head?this.head.next=r:this.next=r,this.head=r,this},l.prototype.generate=function(e){this.type&&(this["generate"+this.type](e),this.generateAssert(e));var t=e.generateVariable(this.varName);return this.options.formatter&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)},l.prototype.generateAssert=function(e){if(this.options.assert){var t=e.generateVariable(this.varName);switch($n(this.options.assert)){case"function":e.pushCode("if (!({0}).call(vars, {1})) {",this.options.assert,t);break;case"number":e.pushCode("if ({0} !== {1}) {",this.options.assert,t);break;case"string":e.pushCode('if ("{0}" !== {1}) {',this.options.assert,t);break;default:throw new Error("Assert option supports only strings, numbers and assert functions.")}e.generateError('"Assert error: {0} is " + {0}',t),e.pushCode("}")}},l.prototype.generateNext=function(e){return this.next&&(e=this.next.generate(e)),e},Object.keys(a).forEach((function(e){l.prototype["generate"+e]=function(t){t.pushCode("{0} = buffer.read{1}(offset);",t.generateVariable(this.varName),e),t.pushCode("offset += {0};",a[e])}})),l.prototype.generateBit=function(e){var t=JSON.parse(JSON.stringify(this));if(t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["Bit","Nest"].indexOf(this.next.type)<0){var n=0;e.bitFields.forEach((function(e){n+=e.options.length}));var r=e.generateTmpVariable();if(n<=8)e.pushCode("var {0} = buffer.readUInt8(offset);",r),n=8;else if(n<=16)e.pushCode("var {0} = buffer.readUInt16BE(offset);",r),n=16;else if(n<=24){var i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode("var {0} = buffer.readUInt16BE(offset);",i),e.pushCode("var {0} = buffer.readUInt8(offset + 2);",o),e.pushCode("var {2} = ({0} << 8) | {1};",i,o,r),n=24}else{if(!(n<=32))throw new Error("Currently, bit field sequence longer than 4-bytes is not supported.");e.pushCode("var {0} = buffer.readUInt32BE(offset);",r),n=32}e.pushCode("offset += {0};",n/8);var a=0,s="be"===this.endian;e.bitFields.forEach((function(t){e.pushCode("{0} = {1} >> {2} & {3};",t.varName,r,s?n-a-t.options.length:a,(1<<t.options.length)-1),a+=t.options.length})),e.bitFields=[]}},l.prototype.generateSkip=function(e){var t=e.generateOption(this.options.length);e.pushCode("offset += {0};",t)},l.prototype.generateString=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();this.options.length&&this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});",n,this.options.length),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);",t,this.options.encoding,n,this.options.length)):this.options.length?(e.pushCode("{0} = buffer.toString('{1}', offset, offset + {2});",t,this.options.encoding,e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))):this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - 1);",t,this.options.encoding,n)):this.options.greedy&&(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.length > offset++);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset);",t,this.options.encoding,n)),this.options.stripNull&&e.pushCode("{0} = {0}.replace(/\\x00+$/g, '')",t)},l.prototype.generateBuffer=function(e){"eof"===this.options.readUntil?e.pushCode("{0} = buffer.slice(offset);",e.generateVariable(this.varName)):(e.pushCode("{0} = buffer.slice(offset, offset + {1});",e.generateVariable(this.varName),e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))),this.options.clone&&e.pushCode("{0} = Buffer.from({0});",e.generateVariable(this.varName))},l.prototype.generateArray=function(e){var t=e.generateOption(this.options.length),n=e.generateOption(this.options.lengthInBytes),r=this.options.type,i=e.generateTmpVariable(),o=e.generateVariable(this.varName),u=e.generateTmpVariable(),f=this.options.key,h="string"==typeof f;if(h?e.pushCode("{0} = {};",o):e.pushCode("{0} = [];",o),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode("for (var {0} = 0; offset < buffer.length; {0}++) {",i):void 0!==n?e.pushCode("for (var {0} = offset; offset - {0} < {1}; ) {",i,n):e.pushCode("for (var {0} = 0; {0} < {1}; {0}++) {",i,t),"string"==typeof r)if(s[r]){var p=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",p,"___parser_"+r),e.pushCode("var {0} = {1}.result; offset = {1}.offset;",u,p),r!==this.alias&&e.addReference(r)}else e.pushCode("var {0} = buffer.read{1}(offset);",u,c[r]),e.pushCode("offset += {0};",a[c[r]]);else r instanceof l&&(e.pushCode("var {0} = {};",u),e.pushScope(u),r.generate(e),e.popScope());h?e.pushCode("{0}[{2}.{1}] = {2};",o,f,u):e.pushCode("{0}.push({1});",o,u),e.pushCode("}"),"function"==typeof this.options.readUntil&&e.pushCode(" while (!({0}).call(this, {1}, buffer.slice(offset)));",this.options.readUntil,u)},l.prototype.generateChoiceCase=function(e,t,n){if("string"==typeof n)if(s[n]){var r=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",r,"___parser_"+n),e.pushCode("{0} = {1}.result; offset = {1}.offset;",e.generateVariable(this.varName),r),n!==this.alias&&e.addReference(n)}else e.pushCode("{0} = buffer.read{1}(offset);",e.generateVariable(this.varName),c[n]),e.pushCode("offset += {0};",a[c[n]]);else n instanceof l&&(e.pushPath(t),n.generate(e),e.popPath(t))},l.prototype.generateChoice=function(e){var t=e.generateOption(this.options.tag);this.varName&&e.pushCode("{0} = {};",e.generateVariable(this.varName)),e.pushCode("switch({0}) {",t),Object.keys(this.options.choices).forEach((function(t){var n=this.options.choices[t];isNaN(parseInt(t,10))?e.pushCode("case '{0}':",t):e.pushCode("case {0}:",t),this.generateChoiceCase(e,this.varName,n),e.pushCode("break;")}),this),e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError('"Met undefined tag value " + {0} + " at choice"',t),e.pushCode("}")},l.prototype.generateNest=function(e){var t=e.generateVariable(this.varName);if(this.options.type instanceof l)this.varName&&e.pushCode("{0} = {};",t),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(s[this.options.type]){var n=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",n,"___parser_"+this.options.type),e.pushCode("{0} = {1}.result; offset = {1}.offset;",t,n),this.options.type!==this.alias&&e.addReference(this.options.type)}},l.prototype.generateFormatter=function(e,t,n){"function"==typeof n&&e.pushCode("{0} = ({1}).call(this, {0});",t,n)},l.prototype.isInteger=function(){return!!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\d+/)},l.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},l.prototype.generateItf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n    var ".concat(n," = buffer[offset];\n    if (").concat(n," < 0x80) {\n      ").concat(t," = ").concat(n,";\n      offset += 1;\n    } else if (").concat(n," < 0xc0) {\n      ").concat(t," = ((").concat(n,"<<8) | buffer[offset+1]) & 0x3fff;\n      offset += 2;\n    } else if (").concat(n," < 0xe0) {\n      ").concat(t," = ((").concat(n,"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\n      offset += 3;\n    } else if (").concat(n," < 0xf0) {\n      ").concat(t," = ((").concat(n,"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n      offset += 4\n    } else {\n      ").concat(t," = ((").concat(n," & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n      offset += 5\n    }\n  "))},l.prototype.ltf8=function(e,t){return this.setNextParser("ltf8",e,t)},l.prototype.generateLtf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n  var ".concat(n," = buffer[offset];\n  if (").concat(n," < 0x80) {\n    ").concat(t," = ").concat(n,";\n    offset += 1;\n  } else if (").concat(n," < 0xc0) {\n    ").concat(t," = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\n    offset += 2;\n  } else if (").concat(n," < 0xe0) {\n    ").concat(t," = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\n    ").concat(t," = (((").concat(n," & 63) << 16) | buffer.readUInt16LE(offset + 1));\n    offset += 3;\n  } else if (").concat(n," < 0xf0) {\n    ").concat(t," = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n    offset += 4;\n  } else if (").concat(n," < 0xf8) {\n    ").concat(t," = (((buffer[offset] & 15) * Math.pow(2,32))) +\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n    offset += 5;\n  } else if (").concat(n," < 0xfc) {\n    ").concat(t," = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\n    offset += 6;\n  } else if (").concat(n," < 0xfe) {\n    ").concat(t," = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\n    offset += 7;\n  } else if (").concat(n," < 0xff) {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 8;\n  } else {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 9;\n  }\n  "))},t.Parser=l}).call(this,n(1).Buffer)},function(e,t,n){var r=n(69),i=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},o=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},a=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),s=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval2","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function u(){}u.prototype={};var c=t.Script=function(e){if(!(this instanceof c))return new c(e);this.code=e};c.prototype.runInContext=function(e){if(!(e instanceof u))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,c=n.eval2,l=n.execScript;!c&&l&&(l.call(n,"null"),c=n.eval2),o(i(e),(function(t){n[t]=e[t]})),o(s,(function(t){e[t]&&(n[t]=e[t])}));var f=i(n),h=c.call(n,this.code);return o(i(n),(function(t){(t in e||-1===r(f,t))&&(e[t]=n[t])})),o(s,(function(t){t in e||a(e,t,n[t])})),document.body.removeChild(t),h},c.prototype.runInThisContext=function(){return dx(this.code)},c.prototype.runInNewContext=function(e){var t=c.createContext(e),n=this.runInContext(t);return o(i(t),(function(n){e[n]=t[n]})),n},o(i(c.prototype),(function(e){t[e]=c[e]=function(t){var n=c(t);return n[e].apply(n,[].slice.call(arguments,1))}})),t.createScript=function(e){return t.Script(e)},t.createContext=c.createContext=function(e){var t=new u;return"object"==$n(e)&&o(i(e),(function(n){t[n]=e[n]})),t}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){var n=function(){this.code="",this.scopes=[["vars"]],this.isAsync=!1,this.bitFields=[],this.tmpVariableCount=0,this.references={}};n.prototype.generateVariable=function(e){var t=[];for(Array.prototype.push.apply(t,this.scopes[this.scopes.length-1]);/^\$parent\./.test(e);)t.pop(),e=e.replace(/^\$parent\./,"");return e&&t.push(e),t.join(".")},n.prototype.generateOption=function(e){switch($n(e)){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return"("+e+").call("+this.generateVariable()+", vars)"}},n.prototype.generateError=function(){var e=Array.prototype.slice.call(arguments),t=n.interpolate.apply(this,e);this.isAsync?this.pushCode("return process.nextTick(function() { callback(new Error("+t+"), vars); });"):this.pushCode("throw new Error("+t+");")},n.prototype.generateTmpVariable=function(){return"$tmp"+this.tmpVariableCount++},n.prototype.pushCode=function(){var e=Array.prototype.slice.call(arguments);this.code+=n.interpolate.apply(this,e)+"\n"},n.prototype.pushPath=function(e){e&&this.scopes[this.scopes.length-1].push(e)},n.prototype.popPath=function(e){e&&this.scopes[this.scopes.length-1].pop()},n.prototype.pushScope=function(e){this.scopes.push([e])},n.prototype.popScope=function(){this.scopes.pop()},n.prototype.addReference=function(e){this.references[e]||(this.references[e]={resolved:!1,requested:!1})},n.prototype.markResolved=function(e){this.references[e].resolved=!0},n.prototype.markRequested=function(e){e.forEach(function(e){this.references[e].requested=!0}.bind(this))},n.prototype.getUnresolvedReferences=function(){var e=this.references;return Object.keys(this.references).filter((function(t){return!e[t].resolved&&!e[t].requested}))},n.interpolate=function(e){var t=e.match(/{\d+}/g),n=Array.prototype.slice.call(arguments,1);return t&&t.forEach((function(t){var r=parseInt(t.substr(1,t.length-2),10);e=e.replace(t,n[r].toString())})),e},t.Context=n},function(e,t,n){(function(t){var r=n(0).CramMalformedError,i=n(8),o=i.itf8Size,a=i.parseItem,s=i.tinyMemoize,u=n(75),c=n(78),l=function(){function e(t,n){Zn(this,e),this.file=t,this.filePosition=n}var n,i,s,l;return Yn(e,[{key:"getHeader",value:function(){return this._readContainerHeader(this.filePosition)}},{key:"getCompressionHeaderBlock",value:(l=Wn(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(e.sent.numRecords){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,this.file.getSectionParsers();case 6:return t=e.sent,e.next=9,this.getFirstBlock();case 9:if("COMPRESSION_HEADER"===(n=e.sent).contentType){e.next=12;break}throw new r("invalid content type ".concat(n.contentType," in what is supposed to be the compression header block"));case 12:return i=a(n.content,t.cramCompressionHeader.parser,0,n.contentPosition),e.abrupt("return",(n.content=i,n));case 14:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getFirstBlock",value:(s=Wn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:return t=e.sent,e.abrupt("return",this.file.readBlock(t._endPosition));case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getCompressionScheme",value:(i=Wn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCompressionHeaderBlock();case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",new c(t.content));case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getSlice",value:function(e,t){return new u(this,e,t)}},{key:"_readContainerHeader",value:(n=Wn(regeneratorRuntime.mark((function e(n){var r,i,s,u,c,l,f,h,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return r=e.sent,i=r.cramContainerHeader1,s=r.cramContainerHeader2,e.next=7,this.file.stat();case 7:if(u=e.sent,c=u.size,!(n>=c)){e.next=11;break}return e.abrupt("return");case 11:return l=t.allocUnsafe(i.maxLength),e.next=14,this.file.read(l,0,i.maxLength,n);case 14:if(f=a(l,i.parser),h=o(f.numLandmarks),!(n+f.length>=c)){e.next=17;break}return e.abrupt("return",void console.warn("".concat(this.file,": container header at ").concat(n," indicates that the container has length ").concat(f.length,", which extends beyond the length of the file. Skipping this container.")));case 17:return p=t.allocUnsafe(s.maxLength(f.numLandmarks)),e.next=20,this.file.read(p,0,s.maxLength(f.numLandmarks),n+f._size-h);case 20:if(d=a(p,s.parser),e.t0=this.file.validateChecksums&&void 0!==d.crc32,!e.t0){e.next=25;break}return e.next=25,this.file.checkCrc32(n,f._size+d._size-h-4,d.crc32,"container header beginning at position ".concat(n));case 25:return e.abrupt("return",Object.assign(f,d,{_size:f._size+d._size-h,_endPosition:f._size+d._size-h+n}));case 26:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}();"getHeader getCompressionHeaderBlock getCompressionScheme".split(" ").forEach((function(e){return s(l,e)})),e.exports=l}).call(this,n(1).Buffer)},function(e,t,n){var r,i,o,a,s;r=n(73),i=n(32).utf8,o=n(74),a=n(32).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=r.bytesToWords(e),u=8*e.length,c=1732584193,l=-271733879,f=-1732584194,h=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[u>>>5]|=128<<u%32,n[14+(u+64>>>9<<4)]=u;var d=s._ff,g=s._gg,v=s._hh,m=s._ii;for(p=0;p<n.length;p+=16){var y=c,b=l,w=f,x=h;c=d(c,l,f,h,n[p+0],7,-680876936),h=d(h,c,l,f,n[p+1],12,-389564586),f=d(f,h,c,l,n[p+2],17,606105819),l=d(l,f,h,c,n[p+3],22,-1044525330),c=d(c,l,f,h,n[p+4],7,-176418897),h=d(h,c,l,f,n[p+5],12,1200080426),f=d(f,h,c,l,n[p+6],17,-1473231341),l=d(l,f,h,c,n[p+7],22,-45705983),c=d(c,l,f,h,n[p+8],7,1770035416),h=d(h,c,l,f,n[p+9],12,-1958414417),f=d(f,h,c,l,n[p+10],17,-42063),l=d(l,f,h,c,n[p+11],22,-1990404162),c=d(c,l,f,h,n[p+12],7,1804603682),h=d(h,c,l,f,n[p+13],12,-40341101),f=d(f,h,c,l,n[p+14],17,-1502002290),c=g(c,l=d(l,f,h,c,n[p+15],22,1236535329),f,h,n[p+1],5,-165796510),h=g(h,c,l,f,n[p+6],9,-1069501632),f=g(f,h,c,l,n[p+11],14,643717713),l=g(l,f,h,c,n[p+0],20,-373897302),c=g(c,l,f,h,n[p+5],5,-701558691),h=g(h,c,l,f,n[p+10],9,38016083),f=g(f,h,c,l,n[p+15],14,-660478335),l=g(l,f,h,c,n[p+4],20,-405537848),c=g(c,l,f,h,n[p+9],5,568446438),h=g(h,c,l,f,n[p+14],9,-1019803690),f=g(f,h,c,l,n[p+3],14,-187363961),l=g(l,f,h,c,n[p+8],20,1163531501),c=g(c,l,f,h,n[p+13],5,-1444681467),h=g(h,c,l,f,n[p+2],9,-51403784),f=g(f,h,c,l,n[p+7],14,1735328473),c=v(c,l=g(l,f,h,c,n[p+12],20,-1926607734),f,h,n[p+5],4,-378558),h=v(h,c,l,f,n[p+8],11,-2022574463),f=v(f,h,c,l,n[p+11],16,1839030562),l=v(l,f,h,c,n[p+14],23,-35309556),c=v(c,l,f,h,n[p+1],4,-1530992060),h=v(h,c,l,f,n[p+4],11,1272893353),f=v(f,h,c,l,n[p+7],16,-155497632),l=v(l,f,h,c,n[p+10],23,-1094730640),c=v(c,l,f,h,n[p+13],4,681279174),h=v(h,c,l,f,n[p+0],11,-358537222),f=v(f,h,c,l,n[p+3],16,-722521979),l=v(l,f,h,c,n[p+6],23,76029189),c=v(c,l,f,h,n[p+9],4,-640364487),h=v(h,c,l,f,n[p+12],11,-421815835),f=v(f,h,c,l,n[p+15],16,530742520),c=m(c,l=v(l,f,h,c,n[p+2],23,-995338651),f,h,n[p+0],6,-198630844),h=m(h,c,l,f,n[p+7],10,1126891415),f=m(f,h,c,l,n[p+14],15,-1416354905),l=m(l,f,h,c,n[p+5],21,-57434055),c=m(c,l,f,h,n[p+12],6,1700485571),h=m(h,c,l,f,n[p+3],10,-1894986606),f=m(f,h,c,l,n[p+10],15,-1051523),l=m(l,f,h,c,n[p+1],21,-2054922799),c=m(c,l,f,h,n[p+8],6,1873313359),h=m(h,c,l,f,n[p+15],10,-30611744),f=m(f,h,c,l,n[p+6],15,-1560198380),l=m(l,f,h,c,n[p+13],21,1309151649),c=m(c,l,f,h,n[p+4],6,-145523070),h=m(h,c,l,f,n[p+11],10,-1120210379),f=m(f,h,c,l,n[p+2],15,718787259),l=m(l,f,h,c,n[p+9],21,-343485551),c=c+y>>>0,l=l+b>>>0,f=f+w>>>0,h=h+x>>>0}return r.endian([c,l,f,h])})._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)}},function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?t.push(n.charAt(i>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(e.charAt(r))>>>6-2*i);return t}},e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
	   * Determine if an object is a Buffer
	   *
	   * @author   Feross Aboukhadijeh <https://feross.org>
	   * @license  MIT
	   */e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){var r=n(0),i=r.CramMalformedError,o=r.CramBufferOverrunError,a=r.CramArgumentError,s=n(8),u=s.parseItem,c=s.tinyMemoize,l=s.sequenceMD5,f=n(17),h=n(76);function p(e,t,n,r){if(!r)throw new i("could not resolve intra-slice mate pairs, file seems truncated or malformed");var o=!!(r.mate||void 0!==r.mateRecordNumber&&r.mateRecordNumber!==t);n.readName||(n.readName=String(n.uniqueId),r.readName=n.readName),n.mate={sequenceId:r.sequenceId,alignmentStart:r.alignmentStart,uniqueId:r.uniqueId},r.readName&&(n.mate.readName=r.readName),r.mate||void 0!==r.mateRecordNumber||(r.mate={sequenceId:n.sequenceId,alignmentStart:n.alignmentStart,uniqueId:n.uniqueId},n.readName&&(r.mate.readName=n.readName)),n.flags|=f.BAM_FPAIRED,r.flags&f.BAM_FUNMAP&&(n.flags|=f.BAM_FMUNMAP),n.flags&f.BAM_FUNMAP&&(r.flags|=f.BAM_FMUNMAP),r.flags&f.BAM_FREVERSE&&(n.flags|=f.BAM_FMREVERSE),n.flags&f.BAM_FREVERSE&&(r.flags|=f.BAM_FMREVERSE),void 0===n.templateLength&&(o?function(e,t,n){var r=function t(n){var r=[n];if(n.mateRecordNumber>=0){var o=e[n.mateRecordNumber];if(!o)throw new i("intra-slice mate record not found, this file seems malformed");r.push.apply(r,ar(t(o)))}return r}(n),o=r.map((function(e){return e.alignmentStart})),a=r.map((function(e){return e.alignmentStart+e.readLength-1})),s=Math.max.apply(Math,ar(a))-Math.min.apply(Math,ar(o))+1;s>=0&&r.forEach((function(e){if(void 0!==e.templateLength)throw new i("mate pair group has some members that have template lengths already, this file seems malformed");e.templateLength=s}))}(e,0,n):function(e,t){var n=Math.min(e.alignmentStart,t.alignmentStart),r=Math.max(e.alignmentStart+e.readLength-1,t.alignmentStart+t.readLength-1)-n+1;e.templateLength=r,t.templateLength=r}(n,r)),delete n.mateRecordNumber}var d=function(){function e(t,n){Zn(this,e),this.container=t,this.file=t.file,this.containerPosition=n}var t,n,r,s,c,f,d;return Yn(e,[{key:"getHeader",value:function(){var e=Wn(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return t=e.sent,e.next=5,this.container.getHeader();case 5:return n=e.sent,e.next=8,this.file.readBlock(n._endPosition+this.containerPosition);case 8:if("MAPPED_SLICE_HEADER"!==(r=e.sent).contentType){e.next=13;break}r.content=u(r.content,t.cramMappedSliceHeader.parser,0,n._endPosition),e.next=16;break;case 13:if("UNMAPPED_SLICE_HEADER"===r.contentType){e.next=15;break}throw new i("error reading slice header block, invalid content type ".concat(r._contentType));case 15:r.content=u(r.content,t.cramUnmappedSliceHeader.parser,0,n._endPosition);case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBlocks",value:(d=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:t=e.sent,n=t._endPosition,r=new Array(t.content.numBlocks),i=0;case 6:if(!(i<r.length)){e.next=14;break}return e.next=9,this.file.readBlock(n);case 9:r[i]=e.sent,n=r[i]._endPosition;case 11:i+=1,e.next=6;break;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getCoreDataBlock",value:(f=Wn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"_getBlocksContentIdIndex",value:(c=Wn(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return t=e.sent,n={},e.abrupt("return",(t.forEach((function(e){"EXTERNAL_DATA"===e.contentType&&(n[e.contentId]=e)})),n));case 5:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getBlockByContentId",value:(s=Wn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getBlocksContentIdIndex();case 2:return e.t0=t,e.abrupt("return",e.sent[e.t0]);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getReferenceRegion",value:(r=Wn(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(!((t=e.sent.content).refSeqId<0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.container.getCompressionScheme();case 7:if(n=e.sent,!(t.refBaseBlockId>=0)){e.next=15;break}if(r=this.getBlockByContentId(t.refBaseBlockId)){e.next=12;break}throw new i("embedded reference specified, but reference block does not exist");case 12:if(!(t.span>r.uncompressedSize)){e.next=14;break}throw new i("Embedded reference is too small");case 14:return e.abrupt("return",{seq:r.data.toString("utf8"),start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 15:if(!n.referenceRequired&&!this.file.fetchReferenceSequenceCallback){e.next=24;break}if(this.file.fetchReferenceSequenceCallback){e.next=18;break}throw new Error("reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence");case 18:return e.next=20,this.file.fetchReferenceSequenceCallback(t.refSeqId,t.refSeqStart,t.refSeqStart+t.refSeqSpan-1);case 20:if((o=e.sent).length===t.refSeqSpan){e.next=23;break}throw new a("seqFetch callback returned a reference sequence of the wrong length");case 23:return e.abrupt("return",{seq:o,start:t.refSeqStart,end:t.refSeqStart+t.refSeqSpan-1,span:t.refSeqSpan});case 24:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getAllRecords",value:function(){return this.getRecords((function(){return!0}))}},{key:"_fetchRecords",value:(n=Wn(regeneratorRuntime.mark((function e(){var t,n,r,a,s,u,c,f,d,g,v,m,y,b,w,x,k,_,S=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getDefinition();case 2:return t=e.sent,n=t.majorVersion,e.next=6,this.container.getCompressionScheme();case 6:return r=e.sent,e.next=9,this.getHeader();case 9:return a=e.sent,e.next=12,this._getBlocksContentIdIndex();case 12:if(s=e.sent,!(n>1&&this.file.options.checkSequenceMD5&&a.content.refSeqId>=0&&"0000000000000000"!==a.content.md5.join(""))){e.next=21;break}return e.next=16,this.getReferenceRegion();case 16:if(!(u=e.sent)){e.next=21;break}if(c=u.seq,f=u.start,d=u.end,g=l(c),v=a.content.md5.map((function(e){return(e<16?"0":"")+e.toString(16)})).join(""),g===v){e.next=21;break}throw new i("MD5 checksum reference mismatch for ref ".concat(a.content.refSeqId," pos ").concat(f,"..").concat(d,". recorded MD5: ").concat(v,", calculated MD5: ").concat(g));case 21:return e.next=23,this.getCoreDataBlock();case 23:m=e.sent,y={lastAlignmentStart:a.content.refSeqStart||0,coreBlock:{bitPosition:7,bytePosition:0},externalBlocks:{getCursor:function(e){return this[e]||(this[e]={bitPosition:7,bytePosition:0}),this[e]}}},b=function(e){var t=r.getCodecForDataSeries(e);if(!t)throw new i("no codec defined for ".concat(e," data series"));return t.decode(S,m,s,y)},w=new Array(a.content.numRecords),x=0;case 28:if(!(x<w.length)){e.next=42;break}e.prev=29,w[x]=h(this,b,r,a,m,s,y,n,x),w[x].uniqueId=a.contentPosition+a.content.recordCounter+x+1,e.next=39;break;case 33:if(e.prev=33,e.t0=e.catch(29),!(e.t0 instanceof o)){e.next=38;break}return console.warn("read attempted beyond end of buffer, file seems truncated."),w=w.filter((function(e){return!!e})),e.abrupt("break",42);case 38:throw e.t0;case 39:x+=1,e.next=28;break;case 42:for(k=0;k<w.length;k+=1)(_=w[k].mateRecordNumber)>=0&&p(w,k,w[k],w[_]);return e.abrupt("return",w);case 44:case"end":return e.stop()}}),e,this,[[29,33]])}))),function(){return n.apply(this,arguments)})},{key:"getRecords",value:(t=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u,c,l,f,h,p,d,g=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.container.filePosition+this.containerPosition,(r=this.file.featureCache.get(n))||(r=this._fetchRecords(),this.file.featureCache.set(n,r)),e.next=5,r;case 5:if(!(i=e.sent.filter(t)).length||!this.file.fetchReferenceSequenceCallback){e.next=20;break}return e.next=9,this.getHeader();case 9:if(!((o=e.sent).content.refSeqId>=0||-2===o.content.refSeqId)){e.next=20;break}return a=o.content.refSeqId>=0?o.content.refSeqId:void 0,e.next=14,this.container.getCompressionScheme();case 14:for(s=e.sent,u={},c=0;c<i.length;c+=1)l=void 0!==a?a:i[c].sequenceId,(f=u[l])||(f={id:l,start:i[c].alignmentStart,end:-1/0},u[l]=f),(h=i[c].alignmentStart+(i[c].lengthOnRef||i[c].readLength)-1)>f.end&&(f.end=h),i[c].alignmentStart<f.start&&(f.start=i[c].alignmentStart);return e.next=19,Promise.all(Object.values(u).map(function(){var e=Wn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=-1!==t.id&&t.start<=t.end,!e.t0){e.next=5;break}return e.next=4,g.file.fetchReferenceSequenceCallback(t.id,t.start,t.end);case 4:t.seq=e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 19:for(p=0;p<i.length;p+=1)(d=u[void 0!==a?a:i[p].sequenceId])&&d.seq&&i[p].addReferenceSequence(d,s);case 20:return e.abrupt("return",i);case 21:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();"getHeader getBlocks _getBlocksContentIdIndex".split(" ").forEach((function(e){return c(d,e)})),e.exports=d},function(e,t,n){(function(t){var r=n(0),i=r.CramMalformedError,o=r.CramUnimplementedError,a=n(31),s=n(77),u=n(17);function c(e){var t=e.indexOf(0);return-1===t?e.toString("utf8"):e.toString("utf8",0,t)}function l(e,n){if(n.readInt32LE||(n=t.from(n)),"Z"===e)return c(n);if("A"===e)return String.fromCharCode(n[0]);if("I"===e){var r=a.fromBytesLE(n);if(r.greaterThan(Number.MAX_SAFE_INTEGER)||r.lessThan(Number.MIN_SAFE_INTEGER))throw new o("integer overflow");return r.toNumber()}if("i"===e)return n.readInt32LE(0);if("s"===e)return n.readInt16LE(0);if("S"===e)return n.readUInt16LE(0);if("c"===e)return n.readInt8(0);if("C"===e)return n.readUInt8(0);if("f"===e)return n.readFloatLE(0);if("H"===e){var s=c(n);return Number.parseInt(s.replace(/^0x/,""),16)}if("B"===e)return function(e){var t=String.fromCharCode(e[0]),n=e.readInt32LE(1),r={c:["readInt8",1],C:["readUInt8",1],s:["readInt16LE",2],S:["readUInt16LE",2],i:["readInt32LE",4],I:["readUInt32LE",4],f:["readFloatLE",4]}[t];if(!r)throw new i("invalid tag value array type '".concat(t,"'"));for(var o=or(r,2),a=o[0],s=o[1],u=new Array(n),c=5,l=0;l<n;l+=1)u[l]=e[a](c),c+=s;return u}(n);throw new i("Unrecognized tag type ".concat(e))}function f(e){if(e instanceof t)return c(e);if(e.length&&e.indexOf){if(!e[e.length-1]){var n=e.indexOf(0);return String.fromCharCode.apply(String,ar(e.slice(0,n)))}return String.fromCharCode.apply(String,ar(e))}return String(e)}e.exports=function(e,t,n,r,o,a,c,h,p){var d=new s;if(d.flags=t("BF"),d.cramFlags=t("CF"),h>1&&-2===r.content.refSeqId?d.sequenceId=t("RI"):d.sequenceId=r.content.refSeqId,d.readLength=t("RL"),d.alignmentStart=t("AP"),n.APdelta&&(d.alignmentStart+=c.lastAlignmentStart),c.lastAlignmentStart=d.alignmentStart,d.readGroupId=t("RG"),n.readNamesIncluded&&(d.readName=f(t("RN"))),d.isDetached()){var g={};g.flags=t("MF"),n.readNamesIncluded||(g.readName=f(t("RN")),d.readName=g.readName),g.sequenceId=t("NS"),g.alignmentStart=t("NP"),(g.flags||g.sequenceId>-1)&&(d.mate=g),d.templateSize=t("TS"),g.flags&u.CRAM_M_UNMAP&&(d.flags|=u.BAM_FMUNMAP),g.flags&u.CRAM_M_REVERSE&&(d.flags|=u.BAM_FMREVERSE)}else d.hasMateDownStream()&&(d.mateRecordNumber=t("NF")+p+1);var v=t("TL");if(v<0)throw new i("invalid TL index");for(var m=n.getTagNames(v),y=m.length,b=0;b<y;b+=1){var w=m[b],x=w.substr(0,2),k=w.substr(2,1),_=n.getCodecForTag(w);if(!_)throw new i("no codec defined for auxiliary tag ".concat(w));var S=_.decode(e,o,a,c);d.tags[x]=l(k,S)}if(d.isSegmentUnmapped())if(d.isUnknownBases())d.readBases=null,d.qualityScores=null;else{for(var E=new Array(d.readLength),C=0;C<E.length;C+=1)E[C]=t("BA");if(d.readBases=String.fromCharCode.apply(String,E),d.isPreservingQualityScores()){for(var T=0;T<E.length;T+=1)E[T]=t("QS");d.qualityScores=E}}else{var A=t("FN");A&&(d.readFeatures=function(e,t,n,r,o){var a=0,s=e.alignmentStart-1,u=new Array(t);function c(e){var t=or(e,2),r=t[0],i=t[1],o=n(i);return"character"===r?String.fromCharCode(o):"string"===r?o.toString("utf8"):"numArray"===r?o.toArray():o}for(var l=0;l<t;l+=1){var f=String.fromCharCode(n("FC")),h=n("FP"),p={code:f},d={B:["character","BA"],S:["string",o>1?"SC":"IN"],X:["number","BS"],D:["number","DL"],I:["string","IN"],i:["character","BA"],b:["string","BB"],q:["numArray","QQ"],Q:["number","QS"],H:["number","HC"],P:["number","PD"],N:["number","RS"]}[f];if(!d)throw new i('invalid read feature code "'.concat(f,'"'));p.data=c(d);var g={B:["number","QS"]}[f];g&&(p.data=[p.data,c(g)]),a+=h,p.pos=a,s+=h,p.refPos=s,"D"===f||"N"===f?s+=p.data:"H"===f?s-=p.data:"I"===f||"S"===f?s-=p.data.length:"i"===f&&(s-=1),u[l]=p}return u}(d,A,t,0,h));var R=d.readLength;if(d.readFeatures&&d.readFeatures.forEach((function(e){var t=e.code,n=e.data;"D"===t||"N"===t?R+=n:"I"===t||"S"===t?R-=n.length:"i"===t&&(R-=1)})),Number.isNaN(R)&&(console.warn("".concat(d.readName||"".concat(d.sequenceId,":").concat(d.alignmentStart)," record has invalid read features")),R=d.readLength),d.lengthOnRef=R,d.mappingQuality=t("MQ"),d.isPreservingQualityScores()){for(var O=new Array(d.readLength),I=0;I<O.length;I+=1)O[I]=t("QS");d.qualityScores=O}}return d}}).call(this,n(1).Buffer)},function(e,t,n){var r=n(17),i={a:0,A:0,c:1,C:1,g:2,G:2,t:3,T:3,n:4,N:4};e.exports=function(){function e(){Zn(this,e),this.tags={}}return Yn(e,[{key:"isPaired",value:function(){return!!(this.flags&r.BAM_FPAIRED)}},{key:"isProperlyPaired",value:function(){return!!(this.flags&r.BAM_FPROPER_PAIR)}},{key:"isSegmentUnmapped",value:function(){return!!(this.flags&r.BAM_FUNMAP)}},{key:"isMateUnmapped",value:function(){return!!(this.flags&r.BAM_FMUNMAP)}},{key:"isReverseComplemented",value:function(){return!!(this.flags&r.BAM_FREVERSE)}},{key:"isMateReverseComplemented",value:function(){return!!(this.flags&r.BAM_FMREVERSE)}},{key:"isRead1",value:function(){return!!(this.flags&r.BAM_FREAD1)}},{key:"isRead2",value:function(){return!!(this.flags&r.BAM_FREAD2)}},{key:"isSecondary",value:function(){return!!(this.flags&r.BAM_FSECONDARY)}},{key:"isFailedQc",value:function(){return!!(this.flags&r.BAM_FQCFAIL)}},{key:"isDuplicate",value:function(){return!!(this.flags&r.BAM_FDUP)}},{key:"isSupplementary",value:function(){return!!(this.flags&r.BAM_FSUPPLEMENTARY)}},{key:"isDetached",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_DETACHED)}},{key:"hasMateDownStream",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_MATE_DOWNSTREAM)}},{key:"isPreservingQualityScores",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_PRESERVE_QUAL_SCORES)}},{key:"isUnknownBases",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_NO_SEQ)}},{key:"getReadBases",value:function(){return!this.readBases&&this._refRegion&&(this.readBases=function(e,t){if((e.lengthOnRef||e.readLength)&&!e.isUnknownBases()){var n=e.alignmentStart-t.start;if(!e.readFeatures)return t.seq.substr(n,e.lengthOnRef).toUpperCase();for(var r="",i=n,o=0;r.length<e.readLength;)if(o<e.readFeatures.length&&e.readFeatures[o].pos===r.length+1){var a=e.readFeatures[o];o+=1,"b"===a.code?(r+=a.data,i+=1):"B"===a.code?(r+=a.data[0],i+=1):"X"===a.code?(r+=a.sub,i+=1):"I"===a.code?r+=a.data:"D"===a.code?i+=a.data:"i"===a.code?r+=a.data:"N"===a.code?i+=a.data:"S"===a.code?r+=a.data:"P"===a.code||a.code}else if(o<e.readFeatures.length){var s=t.seq.substr(i,e.readFeatures[o].pos-r.length-1);r+=s,i+=s.length}else{var u=t.seq.substr(i,e.readLength-r.length);r+=u,i+=u.length}return r.toUpperCase()}}(this,this._refRegion)),this.readBases}},{key:"getPairOrientation",value:function(){if(!this.isSegmentUnmapped()&&this.isPaired()&&!this.isMateUnmapped()&&this.sequenceId===this.mate.sequenceId){var e=this.isReverseComplemented()?"R":"F",t=this.isMateReverseComplemented()?"R":"F",n=" ",r=" ";this.isRead1()?(n="1",r="2"):this.isRead2()&&(n="2",r="1");var i=[],o=this.templateLength||this.templateSize;return this.alignmentStart>this.mate.alignmentStart&&o>0&&(o=-o),o>0?(i[0]=e,i[1]=n,i[2]=t,i[3]=r):(i[2]=e,i[3]=n,i[0]=t,i[1]=r),i.join("")}return null}},{key:"addReferenceSequence",value:function(e,t){this.readFeatures&&this.readFeatures.forEach((function(n){"X"===n.code&&function(e,t,n,r){if(t){var o=r.refPos-t.start,a=t.seq.charAt(o);a&&(r.ref=a);var s=i[a];void 0===s&&(s=4);var u=n.substitutionMatrix[s][r.data];u&&(r.sub=u)}}(0,e,t,n)})),!this.readBases&&e.start<=this.alignmentStart&&e.end>=this.alignmentStart+(this.lengthOnRef||this.readLength)-1&&(this._refRegion=e)}},{key:"toJSON",value:function(){var e=this,t={};return Object.keys(this).forEach((function(n){"_"!==n.charAt(0)&&(t[n]=e[n])})),t.readBases=this.getReadBases(),t}}]),e}()},function(e,t,n){var r=n(0).CramMalformedError,i=n(79).instantiateCodec,o={BF:"int",CF:"int",RI:"int",RL:"int",AP:"int",RG:"int",MF:"int",NS:"int",NP:"int",TS:"int",NF:"int",TC:"byte",TN:"int",FN:"int",FC:"byte",FP:"int",BS:"byte",IN:"byteArray",SC:"byteArray",DL:"int",BA:"byte",BB:"byteArray",RS:"int",PD:"int",HC:"int",MQ:"int",RN:"byteArray",QS:"byte",QQ:"byteArray",TL:"int",TM:"ignore",TV:"ignore"};e.exports=function(){function e(t){Zn(this,e),Object.assign(this,t),this.readNamesIncluded=t.preservation.RN,this.APdelta=t.preservation.AP,this.referenceRequired=!!t.preservation.RR,this.tagIdsDictionary=t.preservation.TD,this.substitutionMatrix=function(e){for(var t=new Array(5),n=0;n<5;n+=1)t[n]=new Array(4);return t[0][e[0]>>6&3]="C",t[0][e[0]>>4&3]="G",t[0][e[0]>>2&3]="T",t[0][e[0]>>0&3]="N",t[1][e[1]>>6&3]="A",t[1][e[1]>>4&3]="G",t[1][e[1]>>2&3]="T",t[1][e[1]>>0&3]="N",t[2][e[2]>>6&3]="A",t[2][e[2]>>4&3]="C",t[2][e[2]>>2&3]="T",t[2][e[2]>>0&3]="N",t[3][e[3]>>6&3]="A",t[3][e[3]>>4&3]="C",t[3][e[3]>>2&3]="G",t[3][e[3]>>0&3]="N",t[4][e[4]>>6&3]="A",t[4][e[4]>>4&3]="C",t[4][e[4]>>2&3]="G",t[4][e[4]>>0&3]="T",t}(t.preservation.SM),this.dataSeriesCodecCache={},this.tagCodecCache={}}return Yn(e,[{key:"getCodecForTag",value:function(e){if(!this.tagCodecCache[e]){var t=this.tagEncoding[e];t&&(this.tagCodecCache[e]=i(t,"byteArray"))}return this.tagCodecCache[e]}},{key:"getTagNames",value:function(e){return this.tagIdsDictionary[e]}},{key:"getCodecForDataSeries",value:function(e){if(!this.dataSeriesCodecCache[e]){var t=this.dataSeriesEncoding[e];if(t){var n=o[e];if(!n)throw new r("data series name ".concat(e," not defined in file compression header"));this.dataSeriesCodecCache[e]=i(t,n)}}return this.dataSeriesCodecCache[e]}},{key:"toJSON",value:function(){var e=this,t={};return Object.keys(this).forEach((function(n){/Cache$/.test(n)||(t[n]=e[n])})),t}}]),e}()},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(80),o=n(81),a=n(82),s=n(83),u=n(84),c=n(85),l={1:o,3:i,4:s,5:a,6:u,7:n(86),9:c};function f(e){return l[e]}e.exports={getCodecClassWithId:f,instantiateCodec:function e(t,n){var i=f("ignore"===n?0:t.codecId);if(!i)throw new r("no codec implemented for codec ID ".concat(t.codecId));return new i(t.parameters,n,e)}}},function(e,t,n){var r=n(0).CramMalformedError,i=n(6);e.exports=function(e){Kn(n,e);var t=ir(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Zn(this,n),e=t.call(this,r,i),!["byte","int"].includes(e.dataType))throw new TypeError("".concat(e.dataType," decoding not yet implemented by HUFFMAN_INT codec"));return e.buildCodeBook(),e.buildCodes(),e.buildCaches(),0===e.sortedCodes[0].bitLength&&(e._decode=e._decodeZeroLengthCode),rr(e)}return Yn(n,[{key:"buildCodeBook",value:function(){for(var e=this,t=new Array(this.parameters.numCodes),n=0;n<this.parameters.numCodes;n+=1)t[n]={symbol:this.parameters.symbols[n],bitLength:this.parameters.bitLengths[n]};t=t.sort((function(e,t){return e.bitLength-t.bitLength||e.symbol-t.symbol})),this.codeBook={},t.forEach((function(t){e.codeBook[t.bitLength]||(e.codeBook[t.bitLength]=[]),e.codeBook[t.bitLength].push(t.symbol)}))}},{key:"buildCodes",value:function(){var e=this;this.codes={};var t=0,n=-1;Object.entries(this.codeBook).forEach((function(i){var o=or(i,2),a=o[0],s=o[1];a=parseInt(a,10),s.forEach((function(i){var o={bitLength:a,value:i};n+=1;var s=a-t;if(n<<=s,o.bitCode=n,t+=s,function(e){var t=e-(e>>1)&1431655765;return 16843009*((t=(858993459&t)+(t>>2&858993459))+(t>>4)&252645135)>>24}(n)>a)throw new r("Symbol out of range");e.codes[i]=o}))}))}},{key:"buildCaches",value:function(){this.sortedCodes=Object.values(this.codes).sort((function(e,t){return e.bitLength-t.bitLength||e.bitCode-t.bitCode})),this.sortedByValue=Object.values(this.codes).sort((function(e,t){return e.value-t.value})),this.sortedValuesByBitCode=this.sortedCodes.map((function(e){return e.value})),this.sortedBitCodes=this.sortedCodes.map((function(e){return e.bitCode})),this.sortedBitLengthsByBitCode=this.sortedCodes.map((function(e){return e.bitLength}));var e=Math.max.apply(Math,ar(this.sortedBitCodes));this.bitCodeToValue=new Array(e+1).fill(-1);for(var t=0;t<this.sortedBitCodes.length;t+=1)this.bitCodeToValue[this.sortedCodes[t].bitCode]=t}},{key:"decode",value:function(e,t,n,r){return this._decode(e,t,r.coreBlock)}},{key:"_decodeZeroLengthCode",value:function(){return this.sortedCodes[0].value}},{key:"_decode",value:function(e,t,n){for(var i=t.content,o=0,a=0,s=0;s<this.sortedCodes.length;s+=1){var u=this.sortedCodes[s].bitLength;a<<=u-o,a|=this._getBits(i,n,u-o),o=u;var c=this.bitCodeToValue[a];if(c>-1&&this.sortedBitLengthsByBitCode[c]===u)return this.sortedValuesByBitCode[c];for(var l=s;this.sortedCodes[l+1].bitLength===u&&l<this.sortedCodes.length;l+=1)s+=1}throw new r("Huffman symbol not found.")}}]),n}(i)},function(e,t,n){var r=n(0),i=r.CramUnimplementedError,o=r.CramMalformedError,a=r.CramBufferOverrunError,s=n(6),u=n(8).parseItf8;e.exports=function(e){Kn(n,e);var t=ir(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(Zn(this,n),"int"===(e=t.call(this,r,o)).dataType)e._decodeData=e._decodeInt;else{if("byte"!==e.dataType)throw new i("".concat(e.dataType," decoding not yet implemented by EXTERNAL codec"));e._decodeData=e._decodeByte}return rr(e)}return Yn(n,[{key:"decode",value:function(e,t,n,r){var i=this.parameters.blockContentId,a=n[i];if(!a)throw new o("no block found with content ID ".concat(i));var s=r.externalBlocks.getCursor(i);return this._decodeData(a,s)}},{key:"_decodeInt",value:function(e,t){var n=or(u(e.content,t.bytePosition),2),r=n[0],i=n[1];return t.bytePosition+=i,r}},{key:"_decodeByte",value:function(e,t){if(t.bytePosition>=e.content.length)throw new a("attempted to read beyond end of block. this file seems truncated.");var n=e.content[t.bytePosition];return t.bytePosition+=1,n}}]),n}(s)},function(e,t,n){var r=n(0),i=r.CramBufferOverrunError,o=r.CramMalformedError,a=n(6);e.exports=function(e){Kn(n,e);var t=ir(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Zn(this,n),e=t.call(this,r,i),"byteArray"!==i)throw new TypeError("byteArrayStop codec does not support data type ".concat(i));return e._decode=e._decodeByteArray,rr(e)}return Yn(n,[{key:"decode",value:function(e,t,n,r){var i=this.parameters.blockContentId,a=n[i];if(!a)throw new o("no block found with content ID ".concat(i));var s=r.externalBlocks.getCursor(i);return this._decode(a,s)}},{key:"_decodeByteArray",value:function(e,t){for(var n=e.content,r=this.parameters.stopByte,o=t.bytePosition,a=t.bytePosition;n[a]!==r&&a<n.length;){if(a===n.length)throw new i("byteArrayStop reading beyond length of data buffer?");a+=1}return t.bytePosition=a+1,n.slice(o,a)}}]),n}(a)},function(e,t,n){var r=n(8).tinyMemoize,i=function(e){Kn(n,e);var t=ir(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(Zn(this,n),(e=t.call(this,r,i)).instantiateCodec=o,"byteArray"!==i)throw new TypeError("byteArrayLength does not support data type ".concat(i));return rr(e)}return Yn(n,[{key:"decode",value:function(e,t,n,r){for(var i=this._getLengthCodec().decode(e,t,n,r),o=this._getDataCodec(),a=new Array(i),s=0;s<i;s+=1)a[s]=o.decode(e,t,n,r);return a}},{key:"_getLengthCodec",value:function(){var e=this.parameters.lengthsEncoding;return this.instantiateCodec(e,"int")}},{key:"_getDataCodec",value:function(){var e=this.parameters.valuesEncoding;return this.instantiateCodec(e,"byte")}}]),n}(n(6));"_getLengthCodec _getDataCodec".split(" ").forEach((function(e){return r(i,e)})),e.exports=i},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(6);e.exports=function(e){Kn(n,e);var t=ir(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(Zn(this,n),"int"!==(e=t.call(this,i,o)).dataType)throw new r("".concat(e.dataType," decoding not yet implemented by BETA codec"));return rr(e)}return Yn(n,[{key:"decode",value:function(e,t,n,r){return this._getBits(t.content,r.coreBlock,this.parameters.length)-this.parameters.offset}}]),n}(i)},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(6);e.exports=function(e){Kn(n,e);var t=ir(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(Zn(this,n),"int"!==(e=t.call(this,i,o)).dataType)throw new r("".concat(e.dataType," decoding not yet implemented by GAMMA codec"));return rr(e)}return Yn(n,[{key:"decode",value:function(e,t,n,r){for(var i=1;0===this._getBits(t.content,r.coreBlock,1);)i+=1;return(this._getBits(t.content,r.coreBlock,i-1)|1<<i-1)-this.parameters.offset}}]),n}(i)},function(e,t,n){var r=n(0).CramUnimplementedError,i=n(6);e.exports=function(e){Kn(n,e);var t=ir(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(Zn(this,n),"int"!==(e=t.call(this,i,o)).dataType)throw new r("".concat(e.dataType," decoding not yet implemented by SUBEXP codec"));return rr(e)}return Yn(n,[{key:"decode",value:function(e,t,n,r){for(var i,o,a=0;this._getBits(t.content,r.coreBlock,1);)a+=1;return 0===a?(i=this.parameters.K,o=this._getBits(t.content,r.coreBlock,i)):o=1<<(i=a+this.parameters.K-1)|this._getBits(t.content,r.coreBlock,i),o-this.parameters.offset}}]),n}(i)},function(e,t,n){var r=n(88),i=n(90);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=b(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(91);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+$n(e));var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===b.substr(0,2);!_||x&&v[x]||(b=b.substr(2),this.slashes=!0)}if(!v[x]&&(_||x&&!m[x])){for(var S,E,C=-1,T=0;T<h.length;T++)-1!==(A=b.indexOf(h[T]))&&(-1===C||A<C)&&(C=A);for(-1!==(E=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(S=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(S)),C=-1,T=0;T<f.length;T++){var A;-1!==(A=b.indexOf(f[T]))&&(-1===C||A<C)&&(C=A)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var O=this.hostname.split(/\./),I=(T=0,O.length);T<I;T++){var L=O[T];if(L&&!L.match(p)){for(var M="",P=0,N=L.length;P<N;P++)L.charCodeAt(P)>127?M+="x":M+=L[P];if(!M.match(p)){var F=O.slice(0,T),D=O.slice(T+1),B=L.match(d);B&&(F.push(B[1]),D.unshift(B[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+j,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[k])for(T=0,I=l.length;T<I;T++){var H=l[T];if(-1!==b.indexOf(H)){var U=encodeURIComponent(H);U===H&&(U=escape(H)),b=b.split(H).join(U)}}var q=b.indexOf("#");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var $=this.search||"";this.path=j+$}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var p=f[h];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,k=x,_=n.pathname&&n.pathname.split("/")||[],S=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),x=x&&(""===d[0]||""===_[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=d;else if(d.length)_||(_=[]),_.pop(),_=_.concat(d),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=_.shift(),(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=_.slice(-1)[0],C=(n.host||e.host||_.length>1)&&("."===E||".."===E)||""===E,T=0,A=_.length;A>=0;A--)"."===(E=_[A])?_.splice(A,1):".."===E?(_.splice(A,1),T++):T&&(_.splice(A,1),T--);if(!x&&!k)for(;T--;T)_.unshift("..");!x||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),C&&"/"!==_.join("/").substr(-1)&&_.push("");var R,O=""===_[0]||_[0]&&"/"===_[0].charAt(0);return S&&(n.hostname=n.host=O?"":_.length?_.shift():"",(R=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift())),(x=x||n.host&&_.length)&&!O&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var i;
/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==$n(r)&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=/^xn--/,f=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,g=String.fromCharCode;function v(e){throw new RangeError(p[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(h,".")).split("."),t).join(".")}function b(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return m(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+g(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=c)e=d(e/35);return d(r+36*e/(e+38))}function _(e){var t,n,r,i,o,a,s,l,f,h,p,g=[],m=e.length,y=0,b=128,x=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=y,a=1,s=c;i>=m&&v("invalid-input"),((l=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:c)>=c||l>d((u-y)/a))&&v("overflow"),y+=l*a,!(l<(f=s<=x?1:s>=x+26?26:s-x));s+=c)a>d(u/(h=c-f))&&v("overflow"),a*=h;x=k(y-o,t=g.length+1,0==o),d(y/t)>u-b&&v("overflow"),b+=d(y/t),y%=t,g.splice(y++,0,b)}return w(g)}function S(e){var t,n,r,i,o,a,s,l,f,h,p,m,y,w,_,S=[];for(m=(e=b(e)).length,t=128,n=0,o=72,a=0;a<m;++a)(p=e[a])<128&&S.push(g(p));for(r=i=S.length,i&&S.push("-");r<m;){for(s=u,a=0;a<m;++a)(p=e[a])>=t&&p<s&&(s=p);for(s-t>d((u-n)/(y=r+1))&&v("overflow"),n+=(s-t)*y,t=s,a=0;a<m;++a)if((p=e[a])<t&&++n>u&&v("overflow"),p==t){for(l=n,f=c;!(l<(h=f<=o?1:f>=o+26?26:f-o));f+=c)_=l-h,w=c-h,S.push(g(x(h+_%w,0))),l=d(_/w);S.push(g(x(l,0))),o=k(n,y,r==i),n=0,++r}++n,++t}return S.join("")}s={version:"1.4.1",ucs2:{decode:b,encode:w},decode:_,encode:S,toASCII:function(e){return y(e,(function(e){return f.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return y(e,(function(e){return l.test(e)?_(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(89)(e),n(2))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==$n(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){t.decode=t.parse=n(92),t.encode=t.stringify=n(93)},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,h,p,d,g=e[l].replace(s,"%20"),v=g.indexOf(n);v>=0?(f=g.substr(0,v),h=g.substr(v+1)):(f=g,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),r(a,p)?i(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=function(e){switch($n(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==$n(e)?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(t){var r=n(95),i=n(96);e.exports=function(){function e(t){var n=this;Zn(this,e),this.position=0,this.url=t,this.cache=new i({fetch:function(e,t){return n._fetch(e,t)}})}var n,o,a;return Yn(e,[{key:"_fetch",value:(a=Wn(regeneratorRuntime.mark((function e(n,i){var o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},i<1/0?o.range="bytes=".concat(n,"-").concat(n+i):i===1/0&&0!==n&&(o.range="bytes=".concat(n,"-")),e.next=4,r(this.url,{method:"GET",headers:o,redirect:"follow",mode:"cors"});case 4:if((200!==(a=e.sent).status||0!==n)&&206!==a.status){e.next=13;break}return e.t0=t,e.next=9,a.arrayBuffer();case 9:return e.t1=e.sent,s=e.t0.from.call(e.t0,e.t1),u=/\/(\d+)$/.exec(a.headers.get("content-range")),e.abrupt("return",(u&&u[1]?this._stat={size:parseInt(u[1],10)}:this._stat={size:void 0},s));case 13:throw new Error("HTTP ".concat(a.status," fetching ").concat(this.url));case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return null===r&&(this.position,this.position+=n),this.cache.get(e,t,n,r)}},{key:"readFile",value:(o=Wn(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(this.url,{method:"GET",redirect:"follow",mode:"cors"});case 2:return n=e.sent,e.t0=t,e.next=6,n.arrayBuffer();case 6:return e.t1=e.sent,e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"stat",value:(n=Wn(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return n=t.allocUnsafe(10),e.next=4,this.read(n,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]),e}()}).call(this,n(1).Buffer)},function(e,t){var n=function(e){function t(){this.fetch=!1}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=d(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];x.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,n){return new Promise((function(r,o){var a=new b(e,n);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new x(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}_.polyfill=!0,e.fetch||(e.fetch=_,e.Headers=h,e.Request=b,e.Response=x),t.Headers=h,t.Request=b,t.Response=x,t.fetch=_}({})}(n),delete n.fetch.polyfill,e.exports=t=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,t.default=n.fetch},function(e,t,n){var r=n(30);e.exports=function(){function e(t){var n=t.fetch,i=t.size,o=void 0===i?1e7:i,a=t.chunkSize,s=void 0===a?32768:a;if(Zn(this,e),!n)throw new Error("fetch function required");this.fetch=n,this.chunkSize=s,this.lruCache=new r({maxSize:Math.floor(o/s)})}var t;return Yn(e,[{key:"get",value:(t=Wn(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+r)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(o=Math.floor(i/this.chunkSize),a=Math.floor((i+r)/this.chunkSize),s=new Array(a-o+1),u=function(e){s[e-o]=h._getChunk(e).then((function(t){return{data:t,chunkNumber:e}}))},c=o;c<=a;c+=1)u(c);return e.next=7,Promise.all(s);case 7:l=e.sent,f=i-l[0].chunkNumber*this.chunkSize,l.forEach((function(e){var s=e.data,u=e.chunkNumber,c=u*h.chunkSize,l=0,p=h.chunkSize,d=n+(u-o)*h.chunkSize-f;u===o&&(d=n,l=f),u===a&&(p=i+r-c),s.copy(t,d,l,p)}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}()},function(e,t,n){n(34).promisify;var r=null,i=r;e.exports=function(){function e(t){Zn(this,e),this.position=0,this.filename=t,this.fd=i(this.filename,"r")}var t,n,r;return Yn(e,[{key:"read",value:(r=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,r=o.length>2?o[2]:void 0,null===(i=o.length>3?o[3]:void 0)&&(this.position,this.position+=r),e.t0=null,e.next=8,this.fd;case 8:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=r,e.t5=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"readFile",value:(n=Wn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=null,e.next=3,this.fd;case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=Wn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._stat,e.t0){e.next=9;break}return e.t1=null,e.next=5,this.fd;case 5:return e.t2=e.sent,e.next=8,(0,e.t1)(e.t2);case 8:this._stat=e.sent;case 9:return e.abrupt("return",this._stat);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},function(e,t){e.exports={parseHeaderText:function(e){var t=e.split(/\r?\n/),n=[];return t.forEach((function(e){var t=function(e){return sr(e)||ur(e)||cr(e)||fr()}(e.split(/\t/)),r=t[0],i=t.slice(1).map((function(e){var t=or(e.split(":",2),2);return{tag:t[0],value:t[1]}}));r&&n.push({tag:r.substr(1),data:i})})),n}}},function(e,t,n){var r=n(0),i=r.CramUnimplementedError,o=r.CramSizeLimitError,a=n(18);e.exports=function(){function e(t){if(Zn(this,e),t.cram?this.cram=t.cram:this.cram=new a({url:t.cramUrl,path:t.cramPath,filehandle:t.cramFilehandle,seqFetch:t.seqFetch,checkSequenceMD5:t.checkSequenceMD5,cacheSize:t.cacheSize}),!(this.cram instanceof a))throw new Error("invalid arguments: no cramfile");if(this.index=t.index,!this.index.getEntriesForRange)throw new Error("invalid arguments: not an index");this.fetchSizeLimit=t.fetchSizeLimit||3e6}var t;return Yn(e,[{key:"getRecordsForRange",value:(t=Wn(regeneratorRuntime.mark((function e(t,n,r){var a,s,u,c,l,f,h,p,d,g,v,m,y,b,w,x,k,_,S,E,C,T,A,R,O,I,L,M=this,P=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=P.length>3&&void 0!==P[3]?P[3]:{}).viewAsPairs=s.viewAsPairs||!1,s.pairAcrossChr=s.pairAcrossChr||!1,s.maxInsertSize=s.maxInsertSize||2e5,"string"!=typeof t){e.next=3;break}throw new i("string sequence names not yet supported");case 3:return u=t,e.next=6,this.index.getEntriesForRange(u,n,r);case 6:if(c=e.sent,!((l=c.map((function(e){return e.sliceBytes})).reduce((function(e,t){return e+t}),0))>this.fetchSizeLimit)){e.next=10;break}throw new o("data size of ".concat(l.toLocaleString()," bytes exceeded fetch size limit of ").concat(this.fetchSizeLimit.toLocaleString()," bytes"));case 10:return f=function(e){return e.sequenceId===t&&e.alignmentStart<=r&&e.alignmentStart+e.lengthOnRef>=n},e.next=13,Promise.all(c.map((function(e){return M.getRecordsInSlice(e,f)})));case 13:if(h=e.sent,p=(a=Array.prototype).concat.apply(a,ar(h)),!s.viewAsPairs){e.next=36;break}for(d={},g={},v=0;v<p.length;v+=1)m=p[v].readName,y=p[v].uniqueId,d[m]||(d[m]=0),d[m]+=1,g[y]=1;for(b={},Object.entries(d).forEach((function(e){var t=or(e,2),n=t[0];1===t[1]&&(b[n]=!0)})),w=[],x=0;x<p.length;x+=1)k=p[x].readName,b[k]&&p[x].mate&&(p[x].mate.sequenceId===u||s.pairAcrossChr)&&Math.abs(p[x].alignmentStart-p[x].mate.alignmentStart)<s.maxInsertSize&&(_=this.index.getEntriesForRange(p[x].mate.sequenceId,p[x].mate.alignmentStart,p[x].mate.alignmentStart+1),w.push(_));return e.next=24,Promise.all(w);case 24:for(S=e.sent,E=[],C=0;C<S.length;C+=1)(T=E).push.apply(T,ar(S[C]));if(E=E.sort((function(e,t){return e.toString().localeCompare(t.toString())})).filter((function(e,t,n){return!t||e.toString()!==n[t-1].toString()})),A=[],R=[],!((O=E.map((function(e){return e.sliceBytes})).reduce((function(e,t){return e+t}),0))>this.fetchSizeLimit)){e.next=31;break}throw new Error("mate data size of ".concat(O.toLocaleString()," bytes exceeded fetch size limit of ").concat(this.fetchSizeLimit.toLocaleString()," bytes"));case 31:return E.forEach((function(e){var t=M.cram.featureCache.get(e.toString());t||(t=M.getRecordsInSlice(e,(function(){return!0})),M.cram.featureCache.set(e.toString(),t)),A.push(t);var n=t.then((function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];b[r.readName]&&!g[r.uniqueId]&&t.push(r)}return t}));R.push(n)})),e.next=34,Promise.all(R);case 34:(I=e.sent).length&&(L=I.reduce((function(e,t){return e.concat(t)})),p=p.concat(L));case 36:return e.abrupt("return",p);case 37:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"getRecordsInSlice",value:function(e,t){var n=e.containerStart,r=e.sliceStart,i=e.sliceBytes;return this.cram.getContainerAtPosition(n).getSlice(r,i).getRecords(t)}},{key:"hasDataForReferenceSequence",value:function(e){return this.index.hasDataForReferenceSequence(e)}}]),e}()},function(e,t,n){var r=(0,n(34).promisify)(n(20).gunzip),i=n(33).open,o=n(0).CramMalformedError,a=function(){function e(t){Zn(this,e),Object.assign(this,t)}return Yn(e,[{key:"toString",value:function(){return"".concat(this.start,":").concat(this.span,":").concat(this.containerStart,":").concat(this.sliceStart,":").concat(this.sliceBytes)}}]),e}();function s(e,t){if(t.some((function(e){return void 0===e})))throw new o("invalid .crai index file");var n=or(t,6),r=n[0],i=n[1],s=n[2],u=n[3],c=n[4],l=n[5];e[r]||(e[r]=[]),e[r].push(new a({start:i,span:s,containerStart:u,sliceStart:c,sliceBytes:l}))}e.exports=function(){function e(t){Zn(this,e);var n=i(t.url,t.path,t.filehandle);this.readFile=n.readFile.bind(n),this.index=this.parseIndex()}var t,n;return Yn(e,[{key:"parseIndex",value:function(){var e={};return this.readFile().then((function(e){return 31===e[0]&&139===e[1]?r(e):e})).then((function(t){for(var n=[],r="",i=0;i<t.length;i+=1){var a=t[i];if(a>=48&&a<=57||!r&&45===a)r+=String.fromCharCode(a);else if(9===a)n.push(Number.parseInt(r,10)),r="";else if(10===a)n.push(Number.parseInt(r,10)),r="",s(e,n),n=[];else if(13!==a&&32!==a)throw new o("invalid .crai index file")}return r&&n.push(Number.parseInt(r,10)),6===n.length&&s(e,n),Object.entries(e).forEach((function(t){var n=or(t,2),r=n[0],i=n[1];e[r]=i.sort((function(e,t){return e.start-t.start||e.span-t.span}))})),e}))}},{key:"getIndex",value:function(){return this.index}},{key:"hasDataForReferenceSequence",value:(n=Wn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.index;case 2:return e.t0=t,e.abrupt("return",!!e.sent[e.t0]);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getEntriesForRange",value:(t=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.index;case 2:if(e.t0=t,i=e.sent[e.t0]){e.next=6;break}return e.abrupt("return",[]);case 6:o=i.length,a=function(e){var t=e.start,i=e.start+e.span;return t>=r?-1:i<=n?1:0},u=0,c=o-1;case 8:if(!(u<=c)){e.next=19;break}if(!((l=a(i[s=Math.round((c+u)/2)]))>0)){e.next=14;break}u=s+1,e.next=17;break;case 14:if(l<0){e.next=16;break}return e.abrupt("break",19);case 16:c=s-1;case 17:e.next=8;break;case 19:for(f=s;f&&!a(i[f-1]);)f-=1;for(h=s;h<o-1&&!a(i[h+1]);)h+=1;return p=i[f].start,e.abrupt("return",i[h].start+i[h].span>=n&&r>=p?i.slice(f,h+1):[]);case 25:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}()}]),vx=function(e,t,n){this.config=e,this.browser=n,this.genome=t,this.cramFile=new gx.CramFile({filehandle:new yx(e.url,e),seqFetch:e.seqFetch||mx.bind(this),checkSequenceMD5:void 0===e.checkSequenceMD5||e.checkSequenceMD5});var r=new yx(e.indexURL,e);this.indexedCramFile=new gx.IndexedCramFile({cram:this.cramFile,index:new gx.CraiIndex({filehandle:r}),fetchSizeLimit:3e7}),Pw.setReaderDefaults(this,e)};function mx(e,t,n){var r=this.genome.sequence,i=this.genome;return this.getHeader().then((function(o){var a=i.getChromosomeName(o.chrNames[e]);return r.getSequence(a,t-1,n)}))}vx.prototype.getHeader=function(){if(this.header)return Promise.resolve(this.header);var e=this,t=this.genome;return this.cramFile.getSamHeader().then((function(n){var r,i={},o=[],a={},s=[],u=hr(n);try{for(u.s();!(r=u.n()).done;){var c=r.value;if("SQ"===c.tag){var l,f=hr(c.data);try{for(f.s();!(l=f.n()).done;){var h=l.value;if("SN"===h.tag){var p=h.value;i[p]=o.length,o.push(p),t&&(a[t.getChromosomeName(p)]=p);break}}}catch(e){f.e(e)}finally{f.f()}}else"RG"===c.tag&&s.push(c.data)}}catch(e){u.e(e)}finally{u.f()}return e.header={chrNames:o,chrToIndex:i,chrAliasTable:a,readGroups:s},e.header}))},vx.prototype.readAlignments=function(e,t,n){var r=this,i=this.browser;return this.getHeader().then((function(o){var a=o.chrAliasTable.hasOwnProperty(e)?o.chrAliasTable[e]:e,s=o.chrToIndex[a],u=new vw(e,t,n,r.samplingWindowSize,r.samplingDepth,r.pairsSupported,r.alleleFreqThreshold);return void 0===s?Promise.resolve(u):r.indexedCramFile.getRecordsForRange(s,t,n).then((function(e){var r,i=hr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,l=a.sequenceId,f=a.alignmentStart,h=f+a.lengthOnRef;if(!(l<0)){if(l>s||f>n)return;if(!(l<s||h<t)){var p=c(a,o.chrNames);u.push(p)}}}}catch(e){i.e(e)}finally{i.f()}return u.finish(),u})).catch((function(e){var t=e.message;throw t&&t.indexOf("MD5")>=0&&(t="Sequence mismatch. Is this the correct genome for the loaded CRAM?"),i.presentAlert(t),e}));function c(e,t){var n=new Sw;if(n.chr=t[e.sequenceId],n.start=e.alignmentStart-1,n.lengthOnRef=e.lengthOnRef,n.flags=e.flags,n.strand=!(16&e.flags),n.fragmentLength=e.templateLength||e.templateSize,n.mq=e.mappingQuality,n.end=e.alignmentStart+e.lengthOnRef,n.readGroupId=e.readGroupId,e.mate&&void 0!==e.mate.sequenceId){var r=void 0!==e.mate.flags?!(1&e.mate.flags):!(32&e.flags);n.mate={chr:t[e.mate.sequenceId],position:e.mate.alignmentStart,strand:r}}return n.seq=e.getReadBases(),n.qual=e.qualityScores,n.tagDict=e.tags,n.readName=e.readName,function(e,t){var n,r,i=[],o=0,a="";if(t.scStart=t.start,t.scLengthOnRef=t.lengthOnRef,e.readFeatures){var s,u=hr(e.readFeatures);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=c.code,f=c.data,h=c.pos-1,p=c.refPos-1;switch(l){case"S":case"I":case"i":case"N":case"D":if(h>o){var d=h-o;i.push(new Rw({start:p-d,seqOffset:o,len:d,type:"M"})),o+=d,a+=d+"M"}if("S"===l){var g=p;t.scLengthOnRef+=f.length,0===h&&(t.scStart-=f.length,g-=f.length);var v=f.length;i.push(new Rw({start:g,seqOffset:o,len:v,type:"S"})),o+=v,a+=v+l}else if("I"===l||"i"===l){void 0===n&&(n=[]);var m="i"===l?1:f.length;n.push(new Rw({start:p-1,len:m,seqOffset:o,type:"I"})),o+=m,a+=m+l}else"D"!==l&&"N"!==l||(r||(r=[]),r.push({start:p,len:f,type:l}),a+=f+l);break;case"H":case"P":a+=f+l}}}catch(e){u.e(e)}finally{u.f()}}var y=e.readLength-o;y>0&&(i.push(new Rw({start:e.alignmentStart+e.lengthOnRef-y-1,seqOffset:o,len:y,type:"M"})),a+=y+"M"),t.blocks=i,t.insertions=n,t.gaps=r,t.cigar=a}(e,n),n.mate&&n.start>n.mate.position&&n.fragmentLength>0&&(n.fragmentLength=-n.fragmentLength),Pw.setPairOrientation(n),n}}))};var yx=function(){function e(t,n){var r=this;Zn(this,e),this.position=0,this.url=t,this.config=n,this.cache=new bx({fetch:function(e,t){return r._fetch(e,t)}})}var t,n,i,o;return Yn(e,[{key:"_fetch",value:(o=Wn(regeneratorRuntime.mark((function e(t,n){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={start:t,size:n},this._stat={size:void 0},e.next=4,_v.loadArrayBuffer(this.url,jg(this.config,{range:i}));case 4:return o=e.sent,e.abrupt("return",r.from(o));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"read",value:(i=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,r=o.length>2&&void 0!==o[2]?o[2]:1/0,null===(i=o.length>3&&void 0!==o[3]?o[3]:0)&&(this.position,this.position+=r),e.abrupt("return",this.cache.get(t,n,r,i));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"readFile",value:(n=Wn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_v.loadArrayBuffer(this.url,jg(this.config));case 2:return t=e.sent,e.abrupt("return",r.from(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"stat",value:(t=Wn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return t=r.allocUnsafe(10),e.next=4,this.read(t,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),bx=function(){function e(t){var n=t.fetch,r=t.size,i=void 0===r?1e7:r,o=t.chunkSize,a=void 0===o?32768:o;Zn(this,e),this.fetch=n,this.chunkSize=a,this.lruCache=new wx({maxSize:Math.floor(i/a)})}var t;return Yn(e,[{key:"get",value:(t=Wn(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<n+r)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(o=Math.floor(i/this.chunkSize),a=Math.floor((i+r)/this.chunkSize),s=new Array(a-o+1),u=function(e){s[e-o]=h._getChunk(e).then((function(t){return{data:t,chunkNumber:e}}))},c=o;c<=a;c+=1)u(c);return e.next=9,Promise.all(s);case 9:l=e.sent,f=i-l[0].chunkNumber*this.chunkSize,l.forEach((function(e){var s=e.data,u=e.chunkNumber,c=u*h.chunkSize,l=0,p=h.chunkSize,d=n+(u-o)*h.chunkSize-f;u===o&&(d=n,l=f),u===a&&(p=i+r-c),s.copy(t,d,l,p)}));case 12:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}(),wx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Zn(this,e),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return Yn(e,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=hr(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=or(n.value,1),i=r[0],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=hr(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=or(n.value,2),i=r[1],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=hr(this.cache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:i=hr(this.oldCache),e.prev=18,i.s();case 20:if((o=i.n()).done){e.next=28;break}if(a=o.value,s=or(a,1),u=s[0],this.cache.has(u)){e.next=26;break}return e.next=26,a;case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(18),i.e(e.t1);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,30,33,36]])}))},{key:"size",get:function(){var e,t=0,n=hr(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cache.has(r)||t++}}catch(e){n.e(e)}finally{n.f()}return this._size+t}}]),e}(),xx={ALIGNMENT_MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",CLIP_SOFT:"S",CLIP_HARD:"H",PAD:"P",SEQUENCE_MATCH:"=",SEQUENCE_MISMATCH:"X"},kx=function(e,t){this.config=e,this.genome=t,this.url=e.url,this.filter=new Ow(e.filter),this.readGroupSetIds=e.readGroupSetIds,this.authKey=e.authKey,this.samplingWindowSize=void 0===e.samplingWindowSize?100:e.samplingWindowSize,this.samplingDepth=void 0===e.samplingDepth?1e3:e.samplingDepth,e.viewAsPairs?this.pairsSupported=!0:this.pairsSupported=void 0===e.pairsSupported||e.pairsSupported};kx.prototype.readAlignments=function(e,t,n){var r=this.genome,i=this;return(i.chrAliasTable?Promise.resolve(i.chrAliasTable):i.readMetadata().then((function(e){if(i.chrAliasTable={},r&&e.readGroups&&e.readGroups.length>0){var t=e.readGroups[0].referenceSetId;return t?hb({url:i.url+"/references/search",body:{referenceSetId:t},decode:function(e){return e.references}}).then((function(e){return e.forEach((function(e){var t=e.name,n=r.getChromosomeName(t);i.chrAliasTable[n]=t})),i.chrAliasTable})):(function(e,t){var n;if("461916304629"===t||"337315832689"===t){for(n=1;n<23;n++)e["chr"+n]=n;e.chrX="X",e.chrY="Y",e.chrM="MT"}}(i.chrAliasTable,i.config.datasetId),i.chrAliasTable)}return i.chrAliasTable}))).then((function(r){var a=r.hasOwnProperty(e)?r[e]:e;return hb({url:i.url+"/reads/search",body:{readGroupSetIds:[i.readGroupSetIds],referenceName:a,start:t,end:n,pageSize:"10000"},decode:o,results:new vw(e,t,n,i.samplingWindowSize,i.samplingDepth,i.pairsSupported,i.alleleFreqThreshold)})}));function o(e){var t,n,o,a,s,u=e.alignments,c=u.length,l=[];for(t=0;t<c;t++){var f=u[t];(n=new Sw).readName=f.fragmentName,n.properPlacement=f.properPlacement,n.duplicateFragment=f.duplicateFragment,n.numberReads=f.numberReads,n.fragmentLength=f.fragmentLength,n.readNumber=f.readNumber,n.failedVendorQualityChecks=f.failedVendorQualityChecks,n.secondaryAlignment=f.secondaryAlignment,n.supplementaryAlignment=f.supplementaryAlignment,n.seq=f.alignedSequence,n.qual=f.alignedQuality,n.matePos=f.nextMatePosition,n.tagDict=f.info,n.flags=0,f.alignment?(n.mapped=!0,n.chr=f.alignment.position.referenceName,r&&(n.chr=r.getChromosomeName(n.chr)),n.start=parseInt(f.alignment.position.position),n.strand=!f.alignment.position.reverseStrand,n.mq=f.alignment.mappingQuality,n.cigar=h(f.alignment.cigar),o=p(f.alignment.cigar),n.lengthOnRef=o.lengthOnRef,s=d(n,o.array),n.blocks=s.blocks,n.insertions=s.insertions):n.mapped=!1,(a=f.nextMatePosition)&&(n.mate={chr:a.referenceFrame,position:parseInt(a.position),strand:!a.reverseStrand}),i.filter.pass(n)&&l.push(n)}return l;function h(e){var t="";return e.forEach((function(e){var n=xx[e.operation],r=e.operationLength;t+=r+n})),t}function p(e){var t,n,r,i,o=0,a=[];for(i=0;i<e.length;i++)t=e[i],r=xx[t.operation],n=parseInt(t.operationLength),"M"!==r&&"EQ"!==r&&"X"!==r&&"D"!==r&&"N"!==r&&"="!==r||(o+=n),a.push({len:n,ltr:r});return{lengthOnRef:o,array:a}}function d(e,t){for(var n,r,i,o=[],a=0,s=e.start,u=t.length,c=0;c<u;c++){var l=t[c];switch(l.ltr){case"H":case"P":break;case"S":a+=l.len,i="S";break;case"N":case"D":void 0===n&&(n=[]),n.push({start:s,len:l.len,type:l.ltr}),s+=l.len;break;case"I":void 0===r&&(r=[]),r.push(new Rw({start:s,len:l.len,seqOffset:a})),a+=l.len;break;case"M":case"EQ":case"=":case"X":o.push(new Rw({start:s,len:l.len,seqOffset:a,gapType:i})),a+=l.len,s+=l.len}}return{blocks:o,insertions:r,gaps:n}}}},kx.prototype.readMetadata=function(){return fb({url:this.url,entity:"readgroupsets",entityId:this.readGroupSetIds})};var _x=function(){this.alignments=[],this.score=void 0};_x.prototype.findAlignment=function(e){var t,n,r;for(r=0;r<this.alignments.length;r++)if(i(n=this.alignments[r],e)){n.paired?n.firstAlignment&&i(n.firstAlignment,e)?t=n.firstAlignment:n.secondAlignment&&i(n.secondAlignment,e)&&(t=n.secondAlignment):t=n;break}return t;function i(e,t){return t>=e.start&&t<e.start+e.lengthOnRef}},_x.prototype.updateScore=function(e,t){this.score=this.calculateScore(e,t)},_x.prototype.calculateScore=function(e,t){var n,r=Math.floor(e.position),i=e.sortOption,o=e.direction,a=this.findAlignment(r);if(void 0===a)return o?Number.MAX_VALUE:-Number.MAX_VALUE;switch(i){case"NUCLEOTIDE":var s=a.readBaseAt(r),u=a.readBaseQualityAt(r);return s?function(e,t,n,r){var i,o,a;if((i=Math.floor(r)-n.start)<n.sequence.length&&(o=n.sequence.charAt(i)),o)return void 0===e?Number.MAX_VALUE:"N"===e?2:o===e||"="===e?4-t/1e3:"X"===e||o!==e?(i=Math.floor(r)-n.coverageMap.bpStart)>0&&i<n.coverageMap.coverage.length?-((a=n.coverageMap.coverage[i])["pos"+e]+a["neg"+e]+t/1e3):-(1+t/1e3):0}(s,u,t,r):o?Number.MAX_VALUE:-Number.MAX_VALUE;case"STRAND":return a.strand?1:-1;case"START":return a.start;case"TAG":var c=e.tag,l=a.tags()[c];return void 0!==l?mg(l)?xg(l):l:Number.MAX_VALUE;case"INSERT_SIZE":return-Math.abs(a.fragmentLength);case"GAP_SIZE":return-a.gapSizeAt(r);case"MATE_CHR":return(n=a.mate)?n.chr===a.chr?Number.MAX_VALUE-1:xg(n.chr):Number.MAX_VALUE;case"MQ":return void 0===a.mq?Number.MAX_VALUE:-a.mq;default:return Number.MAX_VALUE}};var Sx=function(e,t){var n=t.genome;if(this.config=e,this.genome=n,this.alignmentContainer=void 0,mg(e.url)&&e.url.startsWith("data:")){if("cram"===e.format)throw"CRAM data uris are not supported";this.config.indexed=!1}"ga4gh"===e.sourceType?this.bamReader=new kx(e,n):"pysam"===e.sourceType?this.bamReader=new Xw(e,n):"htsget"===e.sourceType?this.bamReader=new Kw(e,n):"shardedBam"===e.sourceType?this.bamReader=new Zw(e,n):"cram"===e.format?this.bamReader=new vx(e,n,t):!1===this.config.indexed?this.bamReader=new jw(e,n):this.bamReader=new Hw(e,n),this.viewAsPairs=e.viewAsPairs,this.showSoftClips=e.showSoftClips};function Ex(e){var t,n=[],r=hr(e);try{for(r.s();!(t=r.n()).done;){var i,o=hr(t.value.alignments);try{for(o.s();!(i=o.n()).done;){var a=i.value;a instanceof dw?(a.firstAlignment&&n.push(a.firstAlignment),a.secondAlignment&&n.push(a.secondAlignment)):n.push(a)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}return n}function Cx(e){return e.isPaired()&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}function Tx(e,t,n,r){if(e){if(0===e.length)return[];e.sort((function(e,t){return r?e.scStart-t.scStart:e.start-t.start}));var i,o=e[0],a=Math.max(t,r?o.scStart:o.start),s=a,u=[],c=hr(e);try{for(c.s();!(i=c.n()).done;){var l=i.value,f=r?l.scStart:l.start,h=Math.max(0,f-a);void 0===u[h]&&(u[h]=[]),u[h].push(l)}}catch(e){c.e(e)}finally{c.f()}var p=0,d=0,g=[];try{for(;p<e.length;){for(var v=new _x;s<=n;){for(var m=void 0,y=void 0;!m&&s<=n;)void 0===u[y=s-a]?++s:m=u[y];if(!m)break;var b=m.pop();0===m.length&&(u[y]=void 0),v.alignments.push(b),s=r?b.scStart+b.scLengthOnRef+2:b.start+b.lengthOnRef+2,++p}if(v.alignments.length>0&&g.push(v),s=a,p===d)break;d=p}}catch(e){throw console.error(e),e}return g}}Sx.prototype.setViewAsPairs=function(e){if(this.viewAsPairs!==e&&(this.viewAsPairs=e,this.alignmentContainer)){var t,n=this.alignmentContainer;t=e?function(e){var t,n={},r=[],i=hr(e);try{for(i.s();!(t=i.n()).done;){var o,a=hr(t.value.alignments);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(Cx(s)){var u=n[s.readName];u?(u.setSecondAlignment(s),n[s.readName]=void 0):(u=new dw(s),n[s.readName]=u,r.push(u))}else r.push(s)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){i.e(e)}finally{i.f()}return r}(n.packedAlignmentRows):Ex(n.packedAlignmentRows),n.packedAlignmentRows=Tx(t,n.start,n.end)}},Sx.prototype.setShowSoftClips=function(e){if(this.showSoftClips!==e&&(this.showSoftClips=e,this.alignmentContainer)){var t=function(e){var t,n=[],r=hr(e);try{for(r.s();!(t=r.n()).done;){var i,o=hr(t.value.alignments);try{for(o.s();!(i=o.n()).done;){var a=i.value;n.push(a)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}return n}(this.alignmentContainer.packedAlignmentRows),n=this.alignmentContainer;n.packedAlignmentRows=Tx(t,n.start,n.end,e)}},Sx.prototype.getAlignments=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=this.genome,o=this.showSoftClips,!this.alignmentContainer||!this.alignmentContainer.contains(t,n,r)){e.next=7;break}return e.abrupt("return",this.alignmentContainer);case 7:return e.next=9,this.bamReader.readAlignments(t,n,r);case 9:if(a=e.sent,s=a.alignments,this.viewAsPairs||(s=Ex([{alignments:s}])),u=s.length>0,a.packedAlignmentRows=Tx(s,a.start,a.end,o),a.alignments=void 0,this.alignmentContainer=a,u){e.next=20;break}return e.abrupt("return",a);case 20:return e.next=22,i.sequence.getSequence(t,a.start,a.end);case 22:if(!(c=e.sent)){e.next=29;break}return a.coverageMap.refSeq=c,a.sequence=c,e.abrupt("return",a);case 29:console.error("No sequence for: "+t+":"+a.start+"-"+a.end);case 30:e.next=36;break;case 32:throw e.prev=32,e.t0=e.catch(0),console.error(e.t0),e.t0;case 36:case"end":return e.stop()}}),e,this,[[0,32]])})));return function(t,n,r){return e.apply(this,arguments)}}();var Ax=Dg(gy,(function(e,t){if(this.type="alignment",void 0===e.height&&(e.height=300),gy.call(this,e,t),void 0===e.coverageTrackHeight&&(e.coverageTrackHeight=50),void 0===e.alleleFreqThreshold&&(e.alleleFreqThreshold=.2),this.featureSource=new Sx(e,t),this.coverageTrack=new Ox(e,this),this.alignmentTrack=new Ix(e,this),this.visibilityWindow=e.visibilityWindow||3e4,this.viewAsPairs=e.viewAsPairs,this.pairsSupported=!1!==e.pairsSupported,this.showSoftClips=e.showSoftClips,this.showAllBases=e.showAllBases,this.showMismatches=!1!==e.showMismatches,this.color=e.color||"rgb(185, 185, 185)",this.coverageColor=e.coverageColor||"rgb(150, 150, 150)",this.minFragmentLength=e.minFragmentLength,this.maxFragmentLength=e.maxFragmentLength,this.sortObjects={},e.sort){if(Array.isArray(e.sort)){var n,r=hr(e.sort);try{for(r.s();!(n=r.n()).done;){var i=n.value;o(this.sortObjects,i)}}catch(e){r.e(e)}finally{r.f()}}else o(this.sortObjects,e.sort);e.sort=void 0}function o(e,n){var r=function(e){var t=e.split(":"),n=t[1].split("-"),r={chr:t[0],start:Number.parseInt(n[0].replace(/,/g,""))-1};return n.length>1?r.end=Number.parseInt(n[1].replace(/,/g,"")):r.end=r.start+1,r}(n.locus);t&&t.genome&&(r.chr=t.genome.getChromosomeName(r.chr));var i,o=hr(t.genomicStateList);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.chromosome.name===r.chr&&r.start>=a.start&&r.start<=a.end){e[a.id]={chr:r.chr,position:r.start,sortOption:n.option||"NUCLEOTIDE",direction:void 0===n.direction||"ASC"===n.direction,tag:n.tag?n.tag.toUpperCase():void 0};break}}}catch(e){o.e(e)}finally{o.f()}}}));function Rx(e,t){var n,r;if(n=e<5?.1:Math.max(.1,Math.min(1,.1+.9*(e-5)/15)),(n=Math.round(10*n)/10)>=1)r=Hh[t];else{var i=zh[t];if(!i)return;r="rgba("+i[0]+","+i[1]+","+i[2]+","+n+")"}return r}Ax.prototype.getFeatures=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r,i,o){var a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this,e.next=3,this.featureSource.getAlignments(t,n,r);case 3:return(s=e.sent).alignments&&s.alignments.length>99&&(void 0===a.minFragmentLength&&(a.minFragmentLength=s.pairedEndStats.lowerFragmentLength),void 0===a.maxFragmentLength&&(a.maxFragmentLength=s.pairedEndStats.upperFragmentLength)),(u=a.sortObjects[o.genomicState.id])&&(u.chr===t&&u.position>=n&&u.position<=r?(a.alignmentTrack.sortAlignmentRows(u,s),a.trackView.repaintViews()):delete a.sortObjects[o.genomicState.id]),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),Ax.filters={noop:function(){return function(e){return!1}},strand:function(e){return function(t){return t.strand===e}},mappingQuality:function(e,t){return function(n){return!!(e&&n.mq<e)||!!(t&&n.mq>t)}}},Ax.prototype.computePixelHeight=function(e){return this.coverageTrack.computePixelHeight(e)+this.alignmentTrack.computePixelHeight(e)+15},Ax.prototype.draw=function(e){gm.fillRect(e.context,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"}),this.coverageTrack.height>0&&this.coverageTrack.draw(e),this.alignmentTrack.draw(e)},Ax.prototype.paintAxis=function(e,t,n){this.browser.isMultiLocusMode()?e.clearRect(0,0,t,n):this.coverageTrack.paintAxis(e,t,this.coverageTrack.height)},Ax.prototype.contextMenuItemList=function(e){return this.alignmentTrack.contextMenuItemList(e)},Ax.prototype.popupData=function(e){return e.y>=this.coverageTrack.top&&e.y<this.coverageTrack.height?this.coverageTrack.popupData(e):this.alignmentTrack.popupData(e)},Ax.prototype.menuItemList=function(){var e=this,t=[],n=au('<div class="igv-track-menu-category igv-track-menu-border-top">');n.text("Color by"),t.push({name:void 0,object:n,click:void 0,init:void 0});var r=[{key:"strand",label:"read strand"}];e.alignmentTrack.hasPairs&&(r.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),r.push({key:"pairOrientation",label:"pair orientation"}),r.push({key:"fragmentLength",label:"insert size (TLEN)"}));var i="tag"+(e.alignmentTrack.colorByTag?" ("+e.alignmentTrack.colorByTag+")":"");return r.push({key:"tag",label:i}),r.forEach((function(n){var r=e.alignmentTrack.colorBy===n.key;t.push(function(t,n){var r=Nh(t.label,n);return{name:void 0,object:r,click:function(){if(t.key===e.alignmentTrack.colorBy)e.alignmentTrack.colorBy="none",e.config.colorBy="none",e.trackView.repaintViews();else if("tag"===t.key){var n={label:"Tag Name",input:e.alignmentTrack.colorByTag?e.alignmentTrack.colorByTag:"",click:function(){e.alignmentTrack.colorBy="tag",e.config.colorBy="tag";var t=e.browser.inputDialog.$input.val().trim();t!==e.alignmentTrack.colorByTag&&(e.alignmentTrack.colorByTag=t,e.config.colorByTag=t,e.alignmentTrack.tagColors=new qh("Set1"),au("#color-by-tag").text(e.alignmentTrack.colorByTag)),e.trackView.repaintViews()}};e.browser.inputDialog.configure(n),e.browser.inputDialog.present(au(e.trackView.trackDiv))}else e.alignmentTrack.colorBy=t.key,e.config.colorBy=t.key,e.trackView.repaintViews()},init:void 0}}(n,r))})),t.push({object:au('<div class="igv-track-menu-border-top">')}),t.push({object:Nh("Show all bases",e.showAllBases),click:function(){e.showAllBases=!e.showAllBases,e.config.showAllBases=e.showAllBases,e.trackView.updateViews(!0)}}),t.push({object:au('<div class="igv-track-menu-border-top">')}),e.pairsSupported&&e.alignmentTrack.hasPairs&&t.push({object:Nh("View as pairs",e.viewAsPairs),click:function(){e.viewAsPairs=!e.viewAsPairs,e.config.viewAsPairs=e.viewAsPairs,e.featureSource.setViewAsPairs(e.viewAsPairs),e.trackView.updateViews(!0)}}),t.push({object:Nh("Show soft clips",e.showSoftClips),click:function(){e.showSoftClips=!e.showSoftClips,e.config.showSoftClips=e.showSoftClips,e.featureSource.setShowSoftClips(e.showSoftClips),e.trackView.updateViews(!0)}}),t},Ax.prototype.dispose=function(){this.trackView=void 0},Ax.prototype.getState=function(){var e=Object.assign({},this.config);e.sort=void 0;var t,n=hr(this.browser.genomicStateList);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.sortObjects[r.id];i&&(e.sort=e.sort||[],e.sort.push({locus:i.chr+":"+(i.position+1),option:i.sortOption,direction:i.direction?"ASC":"DESC",tag:i.tag}))}}catch(e){n.e(e)}finally{n.f()}return e};var Ox=function(e,t){this.parent=t,this.featureSource=t.featureSource,this.height=e.coverageTrackHeight,this.dataRange={min:0},this.paintAxis=aw,this.top=0};Ox.prototype.computePixelHeight=function(e){return this.height},Ox.prototype.draw=function(e){var t=e.pixelTop;if(e.pixelHeight,!(t>this.height)){var n,r=e.context,i=e.features.coverageMap;this.dataRange.max=i.maximum,i.refSeq&&(n=i.refSeq.toUpperCase());var o=e.bpPerPixel,a=e.bpStart,s=a+e.pixelWidth*o+1,u=this.parent.coverageColor;"rgb(185, 185, 185)"!==this.parent.color&&(u=kg.darkenLighten(this.parent.color,-35)),gm.setProperties(r,{fillStyle:u,strokeStyle:u});for(var c=Math.max(1,Math.ceil(1/o)),l=0,f=i.coverage.length;l<f;l++){var h=i.bpStart+l;if(!(h<a)){if(h>s)break;var p=i.coverage[l];if(p){var d=Math.round(p.total/this.dataRange.max*this.height),g=this.height-d,v=Math.floor((h-a)/o);gm.fillRect(r,v,g,c,d)}}}if(n)for(var m=0,y=i.coverage.length;m<y;m++){var b=i.bpStart+m;if(!(b<a)){if(b>s)break;var w=i.coverage[m];if(w){var x=w.total/this.dataRange.max*this.height,k=this.height-x,_=Math.floor((b-a)/o),S=n[m];if(w.isMismatch(S)){gm.setProperties(r,{fillStyle:Hh[S]}),gm.fillRect(r,_,k,c,x);for(var E=0,C=0,T=["A","C","T","G"];C<T.length;C++){var A=T[C],R=(w["pos"+A]+w["neg"+A])/this.dataRange.max*this.height;k=this.height-R-E,E+=R,gm.setProperties(r,{fillStyle:Hh[A]}),gm.fillRect(r,_,k,c,R)}}}}}}},Ox.prototype.popupData=function(e){var t=e.viewport.getCachedFeatures();if(t&&0!==t.length){var n=Math.floor(e.genomicLocation),r=e.viewport.genomicState.referenceFrame,i=t.coverageMap,o=[],a=Math.floor(n-i.bpStart),s=i.coverage[a];if(s){o.push(r.chrName+":"+yg(1+n)),o.push({name:"Total Count",value:s.total});var u=s.posA+s.negA;u>0&&(u=u.toString()+" ("+Math.round(u/s.total*100)+"%, "+s.posA+"+, "+s.negA+"- )"),o.push({name:"A",value:u}),(u=s.posC+s.negC)>0&&(u=u.toString()+" ("+Math.round(u/s.total*100)+"%, "+s.posC+"+, "+s.negC+"- )"),o.push({name:"C",value:u}),(u=s.posG+s.negG)>0&&(u=u.toString()+" ("+Math.round(u/s.total*100)+"%, "+s.posG+"+, "+s.negG+"- )"),o.push({name:"G",value:u}),(u=s.posT+s.negT)>0&&(u=u.toString()+" ("+Math.round(u/s.total*100)+"%, "+s.posT+"+, "+s.negT+"- )"),o.push({name:"T",value:u}),(u=s.posN+s.negN)>0&&(u=u.toString()+" ("+Math.round(u/s.total*100)+"%, "+s.posN+"+, "+s.negN+"- )"),o.push({name:"N",value:u}),o.push("<HR/>"),o.push({name:"DEL",value:s.del.toString()}),o.push({name:"INS",value:s.ins.toString()})}return o}};var Ix=function(e,t){this.parent=t,this.browser=t.browser,this.featureSource=t.featureSource,this.top=0===e.coverageTrackHeight?0:e.coverageTrackHeight+5,this.alignmentRowHeight=e.alignmentRowHeight||14,this.negStrandColor=e.negStrandColor||"rgba(150, 150, 230, 0.75)",this.posStrandColor=e.posStrandColor||"rgba(230, 150, 150, 0.75)",this.insertionColor=e.insertionColor||"rgb(138, 94, 161)",this.deletionColor=e.deletionColor||"black",this.skippedColor=e.skippedColor||"rgb(150, 170, 170)",this.pairConnectorColor=e.pairConnectorColor,this.smallFragmentLengthColor=e.smallFragmentLengthColor||"rgb(0, 0, 150)",this.largeFragmentLengthColor=e.largeFragmentLengthColor||"rgb(200, 0, 0)",this.pairOrientation=e.pairOrienation||"fr",this.pairColors={},this.pairColors.RL=e.rlColor||"rgb(0, 150, 0)",this.pairColors.RR=e.rrColor||"rgb(20, 50, 200)",this.pairColors.LL=e.llColor||"rgb(0, 150, 150)",this.colorBy=e.colorBy||"pairOrientation",this.colorByTag=e.colorByTag?e.colorByTag.toUpperCase():void 0,this.bamColorTag=void 0===e.bamColorTag?"YC":e.bamColorTag,this.hideSmallIndels=e.hideSmallIndels,this.indelSizeThreshold=e.indelSizeThreshold||1,this.hasPairs=!1};Ix.prototype.computePixelHeight=function(e){if(e.packedAlignmentRows){var t=0;return e.hasDownsampledIntervals()&&(t+=10),t+this.alignmentRowHeight*e.packedAlignmentRows.length+5}return this.height},Ix.prototype.draw=function(e){var t=e.features,n=e.context,r=e.bpPerPixel,i=e.bpStart,o=e.pixelWidth,a=i+o*r+1,s=t.packedAlignmentRows,u=this.parent.showSoftClips,c=this.parent.showAllBases,l=t.sequence;l&&(l=l.toUpperCase());var f=0,h=e.pixelTop;n.save(),this.top&&n.translate(0,this.top);var p=h+e.pixelHeight;if(t.hasDownsampledIntervals()?(f=10,t.downsampledIntervals.forEach((function(e){var t=(e.start-i)/r,o=(e.end-i)/r;o-t>5&&(t+=1,o-=1),gm.fillRect(n,t,2,o-t,3,{fillStyle:"black"})}))):f=0,this.alignmentsYOffset=f,s)for(var d=s.length,g=0;g<d;g++){var v=s[g],m=f+this.alignmentRowHeight*g,y=this.alignmentRowHeight<=4?this.alignmentRowHeight:this.alignmentRowHeight-2;if(m>p)break;if(!(m+y<h)){var b,w=hr(v.alignments);try{for(w.s();!(b=w.n()).done;){var x=b.value;if(this.hasPairs=this.hasPairs||x.isPaired(),!(x.start+x.lengthOnRef<i)){if(x.start>a)break;!0!==x.hidden&&(x instanceof dw?(k.call(this,x,m,y),_.call(this,x.firstAlignment,m,y),x.secondAlignment&&_.call(this,x.secondAlignment,m,y)):_.call(this,x,m,y))}}}catch(e){w.e(e)}finally{w.f()}}}function k(e,t,o){var s=this.getConnectorColor(e.firstAlignment),u=(e.connectingStart-i)/r,c=(e.connectingEnd-i)/r,l=t+o/2;e.connectingEnd<i||e.connectingStart>a||(e.mq<=0&&(s=kg.addAlpha(s,.15)),gm.setProperties(n,{fillStyle:s,strokeStyle:s}),gm.strokeLine(n,u,l,c,l))}function _(e,o,s){if(!(e.start+e.lengthOnRef<i||e.start>a)){var f=u?e.blocks:e.blocks.filter((function(e){return"S"!==e.type})),h=this.getAlignmentColor(e),p=h;e.mq<=0&&(h=kg.addAlpha(h,.15)),gm.setProperties(n,{fillStyle:h,strokeStyle:p});for(var d=0;d<f.length;d++){var g=f[d];if(!(d!==f.length-1&&f[d+1].start<i)&&(A.call(this,g,d),g.start+g.len>a))break}if(e.insertions){var v,m=-1,y=hr(e.insertions);try{for(y.s();!(v=y.n()).done;){var b=v.value;if(!(this.hideSmallIndels&&b.len<=this.indelSizeThreshold||b.start<i)){if(b.start>a)break;var w=(b.start-i)/r-1;w-m>2&&(gm.fillRect(n,w,o-1,3,s+2,{fillStyle:this.insertionColor}),m=w)}}}catch(e){y.e(e)}finally{y.f()}}if(e.gaps){var x,k=o+s/2,_=hr(e.gaps);try{for(_.s();!(x=_.n()).done;){var S=x.value,E=(S.start-i)/r,C=(S.start+S.len-i)/r,T="D"===S.type?this.deletionColor:this.skippedColor;gm.strokeLine(n,E,k,C,k,{strokeStyle:T})}}catch(e){_.e(e)}finally{_.f()}}}function A(a,u){var d=a.start-t.start,g=(a.start-i)/r,v=(a.start+a.len-i)/r,m=Math.max(1,v-g),y=this.alignmentRowHeight/2,b="S"===a.type,w=e.mq<=0||this.highlightedAlignmentReadNamed===e.readName||b,x=p;this.highlightedAlignmentReadNamed===e.readName?x="red":b&&(x="rgb(50,50,50)");var k,_,S=!0===e.strand&&u===f.length-1,E=!1===e.strand&&0===u;if(S|E?(S?(k=[g,v,v+y,v,g,g],_=[o,o,o+s/2,o+s,o+s,o]):E&&(k=[v,g,g-y,g,v,v],_=[o,o,o+s/2,o+s,o+s,o]),gm.fillPolygon(n,k,_,{fillStyle:h}),w&&gm.strokePolygon(n,k,_,{strokeStyle:x})):(gm.fillRect(n,g,o,m,s,{fillStyle:h}),w&&(n.save(),n.strokeStyle=x,n.strokeRect(g,o,m,s),n.restore())),this.parent.showMismatches&&(b||c||l&&e.seq&&"*"!==e.seq))for(var C=e.seq?e.seq.toUpperCase():void 0,T=e.qual,A=a.seqOffset,O=0,I=a.len;O<I;O++)if(!(d+O<0)){var L=C?C.charAt(A+O):"",M=l.charAt(d+O);if("="===L&&(L=M),"X"===L||M!==L||b||c){var P=void 0;if(P=!b&&void 0!==T&&T.length>A+O?Rx(T[A+O],L,a.start):Hh[L]){var N=(a.start+O-i)/r,F=Math.max(1,1/r);R(n,r,{x:N,y:o,width:F,height:s},P,L)}}}}function R(e,t,n,r,i){var o;if(t<=.1&&n.height>=8){var a=Math.min(10,n.height);e.font=a+"px sans-serif",o=n.x+n.width/2,gm.strokeText(e,i,o-e.measureText(i).width/2,a-1+n.y,{strokeStyle:r})}else gm.fillRect(e,n.x,n.y,n.width,n.height,{fillStyle:r})}}n.restore()},Ix.prototype.sortAlignmentRows=function(e,t){var n=e.direction;null===t&&(t=this.featureSource.alignmentContainer);var r,i=hr(t.packedAlignmentRows);try{for(i.s();!(r=i.n()).done;)r.value.updateScore(e,t)}catch(e){i.e(e)}finally{i.f()}t.packedAlignmentRows.sort((function(e,t){var r=e.score>t.score?1:e.score<t.score?-1:0;return!0===n?r:-r}))},Ix.prototype.popupData=function(e){var t=this.getClickedObject(e.viewport,e.y,e.genomicLocation);return t?t.popupData(e.genomicLocation):void 0},Ix.prototype.contextMenuItemList=function(e){var t=this,n=e.viewport,r=e.viewport.genomicState,i=this.getClickedObject(e.viewport,e.y,e.genomicLocation),o=i&&!i.paired&&"function"==typeof i.isPaired,a=[];return a.push("<b>Sort by...</b>"),a.push({label:"&nbsp; base",click:function(){return s("NUCLEOTIDE")}}),a.push({label:"&nbsp; read strand",click:function(){return s("STRAND")}}),a.push({label:"&nbsp; insert size",click:function(){return s("INSERT_SIZE")}}),a.push({label:"&nbsp; gap size",click:function(){return s("GAP_SIZE")}}),a.push({label:"&nbsp; chromosome of mate",click:function(){return s("MATE_CHR")}}),a.push({label:"&nbsp; mapping quality",click:function(){return s("MQ")}}),a.push({label:"&nbsp; tag",click:function(){var n={label:"Tag Name",input:t.sortByTag?t.sortByTag:"",click:function(){var n=t.browser.inputDialog.$input.val().trim();t.sortByTag=n,u({chr:r.referenceFrame.chrName,position:Math.floor(e.genomicLocation),sortOption:"TAG",tag:n})}};t.browser.inputDialog.configure(n),t.browser.inputDialog.present(au(t.parent.trackView.trackDiv))}}),a.push("<hr/>"),o&&i.isMateMapped()&&a.push({label:"View mate in split screen",click:function(){i.mate&&(t.highlightedAlignmentReadNamed=i.readName,t.browser.presentSplitScreenMultiLocusPanel(i,e.viewport.genomicState))},init:void 0}),a.push({label:"View read sequence",click:function(){var e=i;if(e){var n=e.seq;n&&"*"!==n?t.browser.presentAlert(n):t.browser.presentAlert("Read sequence: *")}}}),a.push("<hr/>"),a;function s(t){u({chr:r.referenceFrame.chrName,position:Math.floor(e.genomicLocation),sortOption:t})}function u(r){if(e.viewport.tile){var i=t.parent.sortObjects,o=i[n.genomicState.id];r.direction=!o||!o.direction,t.sortAlignmentRows(r,e.viewport.getCachedFeatures()),t.parent.trackView.repaintViews(),i[n.genomicState.id]=r}}},Ix.prototype.getClickedObject=function(e,t,n){var r=this.parent.showSoftClips,i=e.getCachedFeatures();if(i&&0!==i.length){var o=i.packedAlignmentRows,a=i.downsampledIntervals,s=Math.floor((t-this.top-this.alignmentsYOffset)/this.alignmentRowHeight);if(s<0){for(var u=0;u<a.length;u++)if(a[u].start<=n&&a[u].end>=n)return a[u]}else if(s<o.length){var c=o[s].alignments.filter((function(e){var t=r?e.scStart:e.start,i=r?e.scLengthOnRef:e.lengthOnRef;return n>=t&&n<=t+i}));if(c.length>0)return c[0]}}},Ix.prototype.getConnectorColor=function(e){if(this.pairConnectorColor)return this.pairConnectorColor;switch(this.colorBy){case"strand":case"firstOfPairStrand":case"pairOrientation":case"tag":return this.parent.color||"rgb(200, 200, 200)";default:return this.getAlignmentColor(e)}},Ix.prototype.getAlignmentColor=function(e){var t,n=this.parent.color;switch(this.colorBy){case"strand":n=e.strand?this.posStrandColor:this.negStrandColor;break;case"firstOfPairStrand":e instanceof dw?n=e.firstOfPairStrand()?this.posStrandColor:this.negStrandColor:e.isPaired()&&(e.isFirstOfPair()?n=e.strand?this.posStrandColor:this.negStrandColor:e.isSecondOfPair()?n=e.strand?this.negStrandColor:this.posStrandColor:console.error("ERROR. Paired alignments are either first or second."));break;case"pairOrientation":if(e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr)n=Mx(e.mate.chr);else if(this.pairOrientation&&e.pairOrientation){var r=Lx[this.pairOrientation];if(r){var i=this.pairColors[r[e.pairOrientation]];i&&(n=i)}}break;case"fragmentLength":e.mate&&e.isMateMapped()&&e.mate.chr!==e.chr?n=Mx(e.mate.chr):this.parent.minFragmentLength&&Math.abs(e.fragmentLength)<this.parent.minFragmentLength?n=this.smallFragmentLengthColor:this.parent.maxFragmentLength&&Math.abs(e.fragmentLength)>this.parent.maxFragmentLength&&(n=this.largeFragmentLengthColor);break;case"tag":void 0!==(t=e.tags()[this.colorByTag])&&(this.bamColorTag===this.colorByTag?n="rgb("+t+")":(this.tagColors||(this.tagColors=new qh("Set1")),n=this.tagColors.getColor(t)));break;default:n=this.parent.color}return n};var Lx={fr:{F1R2:"LR",F2R1:"LR",F1F2:"LL",F2F1:"LL",R1R2:"RR",R2R1:"RR",R1F2:"RL",R2F1:"RL"},rf:{R1F2:"LR",R2F1:"LR",R1R2:"LL",R2R1:"LL",F1F2:"RR",F2F1:"RR",F1R2:"RL",F2R1:"RL"},ff:{F2F1:"LR",R1R2:"LR",F2R1:"LL",R1F2:"LL",R2F1:"RR",F1R2:"RR",R2R1:"RL",F1F2:"RL"}};function Mx(e){if(Px[e])return Px[e];if(Px["chr"+e]){var t=Px["chr"+e];return Px[e]=t,t}var n=kg.randomRGB();return Px[e]=n,n}var Px={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"},Nx=Dg(gy,(function(e,t){gy.call(this,e,t),this.theta=e.theta||Math.PI/4,this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta),this.height=e.height||250,this.arcOrientation=void 0===e.arcOrientation||e.arcOrientation,this.thickness=e.thickness||2,this.color=e.color||"rgb(180,25,137)",this.visibilityWindow=-1,this.colorAlphaCache={}}));function Fx(e,t){var n=this.colorAlphaCache[e];return n||(n=kg.addAlpha(e,t),this.colorAlphaCache[e]=n),n}Nx.prototype.supportsWholeGenome=function(){return!0},Nx.prototype.getState=function(){var e=this.config||{};return e.arcOrientation=this.arcOrientation,e.thickness=this.thickness,e.color=this.color,e},Nx.prototype.getFeatures=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.browser.genome,this.featureCache){e.next=11;break}return o=jg(this.config),e.next=5,_v.loadString(this.config.url,o);case 5:a=e.sent,(s=new $m("bedpe")).parseHeader(a),u=s.parseFeatures(a),this.wgFeatures=this.getWGFeatures(u),this.featureCache=new $y(u,i);case 11:return e.abrupt("return","all"===t.toLowerCase()?this.wgFeatures:this.featureCache.queryFeatures(t,n,r));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),Nx.prototype.draw=function(e){var t=this,n=e.context,r=e.pixelWidth,i=e.pixelHeight,o=e.viewportWidth,a=e.bpPerPixel,s=e.bpStart,u=a;gm.fillRect(n,0,e.pixelTop,r,i,{fillStyle:"rgb(255, 255, 255)"});var c=e.features;c&&(function(){var e=0;c.forEach((function(t){var n=(t.start-s)/u,i=(t.end-s)/u;i>=0&&n<=r&&(e=Math.max(e,i-n))}));var n=Math.min(o,e)/2;if(e>0){var a=i/n;t.theta=function(e){var t,n=[.01570925532366355,.15838444032453644,.3249196962329063,.5095254494944288,.7265425280053609,.9999999999999999],r=[.031415926535897934,.3141592653589793,.6283185307179586,.9424777960769379,1.2566370614359172,1.5707963267948966];for(t=0;t<n.length&&!(n[t]>e);t++);var i=0===t?0:n[t-1],o=(e-i)/((t<n.length?n[t]:1)-i),a=0===t?0:r[t-1],s=t<r.length?r[t]:Math.PI/2;return a+o*(s-a)}(a),t.sinTheta=Math.sin(t.theta),t.cosTheta=Math.cos(t.theta)}}(),c.forEach((function(e){var r=Math.round((e.m1-s)/u),i=Math.round((e.m2-s)/u),a=t.arcOrientation,c=i-r;c<3&&(c=3,r--);var l,f,h,p=c/2,d=p/t.sinTheta,g=t.cosTheta*d,v=r+p;a?(l=t.height+g,f=Math.PI+Math.PI/2-t.theta,h=Math.PI+Math.PI/2+t.theta):(l=-g,f=Math.PI/2-t.theta,h=Math.PI/2+t.theta);var m=e.color||t.color;m&&c>o&&(m=Fx.call(t,m,"0.1")),n.strokeStyle=m,n.lineWidth=e.thickness||t.thicknewss||1,n.beginPath(),n.arc(v,l,d,f,h,!1),n.stroke()})))},Nx.prototype.menuItemList=function(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}},{name:"Set track color",click:function(){e.trackView.presentColorPicker()}}]},Nx.prototype.getWGFeatures=function(e){var t,n=this.browser.genome,r=new Set(n.wgChromosomeNames),i=[],o=n.getGenomeLength()/1e3,a=hr(n.wgChromosomeNames);try{for(a.s();!(t=a.n()).done;){t.value;var s,u=hr(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=n.getChromosomeName(c.chr);if(r.has(l)){var f=n.getGenomeCoordinate(c.chr1,c.m1),h=n.getGenomeCoordinate(c.chr2,c.m2);if(Math.abs(h-f)<o)continue;var p=Object.create(Object.getPrototypeOf(c));Object.assign(p,c),p.chr="all",p.m1=f,p.m2=h,i.push(p)}}}catch(e){u.e(e)}finally{u.f()}}}catch(e){a.e(e)}finally{a.f()}return i.sort((function(e,t){return e.m1-t.m2})),i};var Dx=Dg(gy,(function(e,t){this.type="variant",this.visibilityWindow=e.visibilityWindow,gy.call(this,e,t),this.displayMode=e.displayMode||"EXPANDED",this.labelDisplayMode=e.labelDisplayMode,this.variantHeight=e.variantHeight||10,this.squishedCallHeight=e.squishedCallHeight||1,this.expandedCallHeight=e.expandedCallHeight||10,this.expandedVGap=void 0!==e.expandedVGap?e.expandedVGap:2,this.squishedVGap=void 0!==e.squishedVGap?e.squishedVGap:1,this.expandedGroupGap=e.expandedGroupGap||10,this.squishedGroupGap=e.squishedGroupGap||5,this.featureHeight=e.featureHeight||14,this.visibilityWindow=e.visibilityWindow,this.featureSource=new yb(e,t.genome),this.noCallColor=e.noCallColor||"rgb(245, 245, 245)",this.nonRefColor=e.nonRefColor||"rgb(200, 200, 215)",this.mixedColor=e.mixedColor||"rgb(200, 220, 200)",this.homrefColor=e.homrefColor||"rgb(200, 200, 200)",this.homvarColor=e.homvarColor||"rgb(17,248,254)",this.hetvarColor=e.hetvarColor||"rgb(34,12,253)",this.sortDirection="ASC",this.nRows=1}));function Bx(e,t,n,r){var i,o="",a=t.alternateBases.split(","),s=hr(e.genotype);try{for(s.s();!(i=s.n()).done;){var u=i.value;if("."===u){o+="No Call";break}o+=0===u?t.referenceBases:a[u-1].replace("<","&lt;")}}catch(e){s.e(e)}finally{s.f()}var c=[];if(void 0!==e.callSetName&&c.push({name:"Name",value:e.callSetName}),c.push({name:"Genotype",value:o}),void 0!==e.phaseset&&c.push({name:"Phase set",value:e.phaseset}),void 0!==e.genotypeLikelihood&&c.push({name:"genotypeLikelihood",value:e.genotypeLikelihood.toString()}),r){var l=r.getAttributes(e.callSetName);l&&Object.keys(l).forEach((function(e){var t=e.replace(/([A-Z])/g," $1");t=t.charAt(0).toUpperCase()+t.slice(1),c.push({name:t,value:l[e]})}))}var f=Object.keys(e.info);f.length&&c.push("<hr>"),f.forEach((function(t){c.push({name:t,value:e.info[t]})}));var h=[];return h.length>0&&(c.push("<HR/>"),c=c.concat(h)),c}Dx.prototype.postInit=Wn(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHeader();case 2:return e.sent,void 0===this.visibilityWindow&&(mg(t=this.config.url instanceof File?this.config.url.name:this.config.url)&&t.toLowerCase().includes("gnomad")?this.visibilityWindow=1e3:this.callSets?(n=this.callSets.length,this.visibilityWindow=Math.max(1e3,1e6-1e4*n)):this.visibilityWindow=1e6),e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)}))),Dx.prototype.getFileHeader=Wn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.header){e.next=4;break}return e.abrupt("return",this.header);case 4:if("function"!=typeof this.featureSource.getFileHeader){e.next=13;break}return e.next=7,this.featureSource.getFileHeader();case 7:return(t=e.sent)&&(t.name&&!this.config.name&&(this.name=t.name),t.color&&!this.config.color&&(this.color="rgb("+t.color+")"),this.callSets=t.callSets||[]),this.header=t,e.abrupt("return",t);case 13:return this.callSets=[],e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e,this)}))),Dx.prototype.getCallsetsLength=function(){return this.callSets.length},Dx.prototype.getFeatures=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.header){e.next=4;break}return e.next=3,this.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.featureSource.getFeatures(t,n,r,i,this.visibilityWindow));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Dx.prototype.computePixelHeight=function(e){if("COLLAPSED"===this.displayMode)return this.nRows=1,10+this.variantHeight;var t=0;if(e){var n,r=hr(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.row&&i.row>t&&(t=i.row)}}catch(e){r.e(e)}finally{r.f()}}var o="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;this.nRows=t+1;var a=10+this.nRows*(this.variantHeight+o);this.variantBandHeight=a;var s="EXPANDED"===this.displayMode?this.expandedCallHeight:this.squishedCallHeight;return a+o+(this.getCallsetsLength()*this.nRows+1)*(s+o)},Dx.prototype.draw=function(e){var t=e.context,n=this.callSets,r=this.getCallsetsLength(),i=e.pixelWidth,o=e.pixelHeight,a="EXPANDED"===this.displayMode?this.expandedCallHeight:this.squishedCallHeight,s=e.bpPerPixel,u=e.bpStart,c=u+i*s+1;gm.fillRect(t,0,e.pixelTop,i,o,{fillStyle:"rgb(255, 255, 255)"});var l="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;n&&r>0&&"COLLAPSED"!==this.displayMode&&gm.strokeLine(t,0,this.variantBandHeight,i,this.variantBandHeight,{strokeStyle:"rgb(224,224,224) "});var f=e.features;if(f){var h,p=hr(f);try{for(p.s();!(h=p.n()).done;){var d=h.value;if(!(d.end<u)){if(d.start>c)break;var g=10+("COLLAPSED"===this.displayMode?0:d.row*(this.variantHeight+l)),v=this.variantHeight,m=Math.round((d.start-u)/s),y=Math.round((d.end-u)/s),b=Math.max(1,y-m);if(b<3?(b=3,m-=1):b>5&&(m+=1,b-=2),"NONVARIANT"===d.type?t.fillStyle=this.nonRefColor:"MIXED"===d.type?t.fillStyle=this.mixedColor:t.fillStyle=this.color,t.fillRect(m,g,b,v),r>0&&d.calls&&"COLLAPSED"!==this.displayMode){var w,x=0,k=hr(n);try{for(k.s();!(w=k.n()).done;){var _=w.value,S=d.calls[_.id];if(S){var E,C=this.variantBandHeight+l+(x+d.row)*(a+l),T=!0,A=!0,R=!1,O=hr(S.genotype);try{for(O.s();!(E=O.n()).done;){var I=E.value;if("."===I){R=!0;break}0!==I&&(A=!1),0===I&&(T=!1)}}catch(e){O.e(e)}finally{O.f()}t.fillStyle=R?this.noCallColor:A?this.homrefColor:T?this.homvarColor:this.hetvarColor,t.fillRect(m,C,b,a)}x++}}catch(e){k.e(e)}finally{k.f()}}}}}catch(e){p.e(e)}finally{p.f()}}},Dx.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n,r=e.genomicLocation,i=this.browser.genome.id,o=[],a=this.browser.sampleInformation,s=hr(t);try{for(s.s();!(n=s.n()).done;){var u=n.value;if(o.length>0&&o.push("<HR>"),"COLLAPSED"===this.displayMode)Array.prototype.push.apply(o,u.popupData(r,this.type));else{var c=e.y,l="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;if(c<=this.variantBandHeight){var f=Math.floor((c-10)/(this.variantHeight+l));u.row===f&&Array.prototype.push.apply(o,u.popupData(r,i),this.type)}else{var h=this.callSets;if(h&&u.calls){var p=this.nRows*("SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight),d=Math.floor((c-this.variantBandHeight)/(p+l));if(d>=0&&d<h.length){var g=h[d],v=u.calls[g.id];Array.prototype.push.apply(o,Bx(v,u,0,a))}}}}}}catch(e){s.e(e)}finally{s.f()}return o},Dx.prototype.menuItemList=function(){var e=this,t=[];return t.push({object:au('<div class="igv-track-menu-border-top">')}),["COLLAPSED","SQUISHED","EXPANDED"].forEach((function(n){t.push({object:Nh({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[n],n===e.displayMode),click:function(){e.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})})),t};var jx=Oh.dataRangeMenuItem,zx=Dg(gy,(function(e,t){var n=e.url,r=e.name;this.config=e,this.url=n,this.name=r,this.pValueField=e.pValueField||"pValue",this.geneField=e.geneField||"geneSymbol",this.snpField=e.snpField||"snp";var i=e.minLogP||e.min,o=e.maxLogP||e.max;this.dataRange={min:i||3.5,max:o||25},this.autoscale=!o||e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||2,this.height=e.height||100,this.autoHeight=!1,this.disableButtons=e.disableButtons,this.visibilityWindow=void 0===e.visibilityWindow?2e6:e.visibilityWindow>=0?Math.min(2e6,e.visibilityWindow):2e6,this.featureSource=new yb(e,t.genome),Nb.gtexLoaded=!0}));zx.prototype.paintAxis=function(e,t,n){var r=(this.dataRange.max-this.dataRange.min)/n,i={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};gm.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});for(var o=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),a=4;a<=this.dataRange.max;a+=o){var s,u,c,l,f;s=(f=.85*t)-5,u=f,c=l=n-Math.round((a-this.dataRange.min)/r),gm.strokeLine(e,s,c,u,l,i),c>8&&gm.fillText(e,a,s-1,c+2,i)}i.textAlign="center",gm.fillText(e,"-log10(pvalue)",t/4,n/2,i,{rotate:{angle:-90}})},zx.prototype.getFeatures=function(e,t,n){var r=this.pValueField;return this.featureSource.getFeatures(e,t,n).then((function(e){return e.forEach((function(e){e.value=e[r]})),e}))},zx.prototype.draw=function(e){var t=this,n=e.features,r=e.context,i=e.bpPerPixel,o=e.bpStart,a=e.pixelWidth,s=e.pixelHeight,u=(t.dataRange.max-t.dataRange.min)/s,c=e.genomicState.selection;if(this.background&&gm.fillRect(r,0,0,a,s,{fillStyle:this.background}),gm.strokeLine(r,0,s-1,a,s-1,{strokeStyle:this.divider}),r){var l=n.length;r.save(),f(!1),f(!0),r.restore()}function f(e){var f,h,p,d,g,v,m,y,b,w=e?2*t.dotSize:t.dotSize;for(h=0;h<l;h++)if(f=n[h],!((p=Math.round(f.position-o+.5)/i)<0)){if(p>a)break;if(m=f.snp.toUpperCase(),y=f[t.geneField].toUpperCase(),v=c&&(c.snp===m||c.gene===y),!e||v){c&&c.snp===m&&c.addGene(y);var x=-Math.log(f[t.pValueField])/Math.LN10;x>=t.dataRange.min&&(x>t.dataRange.max?(x=t.dataRange.max,b=!0):b=!1,d=Math.max(0+w,s-Math.round((x-t.dataRange.min)/u)),f.px=p,f.py=d,e&&c?(g=c.colorForGene(y),gm.setProperties(r,{fillStyle:g,strokeStyle:"black"})):(g=b?"rgb(150, 150, 150)":"rgb(180, 180, 180)",gm.setProperties(r,{fillStyle:g,strokeStyle:g})),gm.fillCircle(r,p,d,w),gm.strokeCircle(r,p,d,w))}}}},zx.prototype.popupData=function(e){var t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];var n=e.genomicLocation,r=(e.x,e.y),i=e.viewport.genomicState.referenceFrame,o=2*this.dotSize*i.bpPerPixel,a=this.dotSize,s=this.name,u=[];return t.forEach((function(e){e.end>=n-o&&e.start<=n+o&&e.py-r<2*a&&(u.length>0&&u.push("<hr>"),u.push({name:"snp id",value:e.snp},{name:"gene id",value:e.geneId},{name:"gene name",value:e.geneName},{name:"p value",value:e.pValue},{name:"tissue",value:s}))})),u},zx.prototype.menuItemList=function(){var e=this,t=[];return t.push(jx(this.trackView)),t.push({object:Nh("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},zx.prototype.doAutoscale=function(e){if(e.length>0){var t=e.map((function(e){return-Math.log(e.value)/Math.LN10}));this.dataRange.max=Zh(t,this.autoscalePercentile)}else{var n=this.config.maxLogP||this.config.max;this.dataRange.max=n||25}return this.dataRange};for(var Hx={X:"rgb(204, 153, 0)",Y:"rgb(153, 204, 0)",Un:"darkGray)",1:"rgb(80, 80, 255)",I:"rgb(139, 155, 187)",2:"rgb(206, 61, 50)",II:"rgb(206, 61, 50)","2a":"rgb(210, 65, 55)","2b":"rgb(215, 70, 60)",3:"rgb(116, 155, 88)",III:"rgb(116, 155, 88)",4:"rgb(240, 230, 133)",IV:"rgb(240, 230, 133)",5:"rgb(70, 105, 131)",6:"rgb(186, 99, 56)",7:"rgb(93, 177, 221)",8:"rgb(128, 34, 104)",9:"rgb(107, 215, 107)",10:"rgb(213, 149, 167)",11:"rgb(146, 72, 34)",12:"rgb(131, 123, 141)",13:"rgb(199, 81, 39)",14:"rgb(213, 143, 92)",15:"rgb(122, 101, 165)",16:"rgb(228, 175, 105)",17:"rgb(59, 27, 83)",18:"rgb(205, 222, 183)",19:"rgb(97, 42, 121)",20:"rgb(174, 31, 99)",21:"rgb(231, 199, 111)",22:"rgb(90, 101, 94)",23:"rgb(204, 153, 0)",24:"rgb(153, 204, 0)",25:"rgb(51, 204, 0)",26:"rgb(0, 204, 51)",27:"rgb(0, 204, 153)",28:"rgb(0, 153, 204)",29:"rgb(10, 71, 255)",30:"rgb(71, 117, 255)",31:"rgb(255, 194, 10)",32:"rgb(255, 209, 71)",33:"rgb(153, 0, 51)",34:"rgb(153, 26, 0)",35:"rgb(153, 102, 0)",36:"rgb(128, 153, 0)",37:"rgb(51, 153, 0)",38:"rgb(0, 153, 26)",39:"rgb(0, 153, 102)",40:"rgb(0, 128, 153)",41:"rgb(0, 51, 153)",42:"rgb(26, 0, 153)",43:"rgb(102, 0, 153)",44:"rgb(153, 0, 128)",45:"rgb(214, 0, 71)",46:"rgb(255, 20, 99)",47:"rgb(0, 214, 143)",48:"rgb(20, 255, 177)"},Ux=0,qx=Object.keys(Hx);Ux<qx.length;Ux++){var Gx=qx[Ux];Hx["chr"+Gx]=Hx[Gx]}var $x=Dg(gy,(function(e,t){gy.call(this,e,t),this.useChrColors=void 0===e.useChrColors||e.useChrColors,this.trait=e.trait,this.posteriorProbability=e.posteriorProbability,this.height=e.height||100,e.autoscale||(e.posteriorProbability?this.dataRange={min:void 0===e.min?0:e.min,max:void 0===e.max?1:e.max}:this.dataRange={min:void 0===e.min?0:e.min,max:void 0===e.max?25:e.max}),this.autoscale=e.autoscale,this.autoscalePercentile=void 0===e.autoscalePercentile?98:e.autoscalePercentile,this.background=e.background,this.divider=e.divider||"rgb(225,225,225)",this.dotSize=e.dotSize||3,this.popoverWindow=void 0===e.popoverWindow?1e8:e.popoverWindow,this.description=e.description,this.colorScales=e.color?new fw(e.color):{"*":new cw(e.colorScale||{thresholds:[5e-8,5e-4,.5],colors:["rgb(255,50,50)","rgb(251,100,100)","rgb(251,170,170)","rgb(227,238,249)"]})},this.featureSource=new yb(e,t.genome)}));$x.prototype.supportsWholeGenome=function(){return!0},$x.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},$x.prototype.draw=function(e){var t=e.features,n=e.context,r=e.pixelWidth,i=e.pixelHeight;if(this.background&&gm.fillRect(n,0,0,r,i,{fillStyle:this.background}),gm.strokeLine(n,0,i-1,r,i-1,{strokeStyle:this.divider}),t){var o,a=e.bpPerPixel,s=e.bpStart,u=s+r*a+1,c=hr(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=l.start;if(!(f<s)){if(f>u)break;var h=this.getColorScale(l.realChr||l.chr),p=void 0,d=void 0;if(this.posteriorProbability)d=l.value,p=h.getColor(d);else{var g=l.value||l.score;if(!g)continue;d=-Math.log10(g),p=h.getColor(d)}var v=(this.dataRange.max-this.dataRange.min)/i,m=Math.round((f-s)/a),y=Math.max(this.dotSize,i-Math.round((d-this.dataRange.min)/v));p&&gm.setProperties(n,{fillStyle:p,strokeStyle:"black"}),gm.fillCircle(n,m,y,this.dotSize),l.px=m,l.py=y}}}catch(e){c.e(e)}finally{c.f()}}},$x.prototype.getColorScale=function(e){if(this.useChrColors){var t=this.colorScales[e];if(!t){var n=Hx[e]||$h.get();t=new fw(n),this.colorScales[e]=t}return t}return this.colorScales("*")},$x.prototype.paintAxis=function(e,t,n){gm.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});var r={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"},i=(this.dataRange.max-this.dataRange.min)/n;if(this.posteriorProbability)for(var o=this.dataRange.min;o<this.dataRange.max;o+=.1){var a=n-Math.round((o-this.dataRange.min)/i);gm.strokeLine(e,45,a-2,50,a-2,r),gm.fillText(e,o.toFixed(1),44,a+2,r)}else for(var s=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),u=this.dataRange.min;u<this.dataRange.max;u+=s){var c=n-Math.round((u-this.dataRange.min)/i);gm.strokeLine(e,45,c-2,50,c-2,r),gm.fillText(e,Math.floor(u),44,c+2,r)}r.textAlign="center",this.posteriorProbability?gm.fillText(e,"PPA",t/2,n/2,r,{rotate:{angle:-90}}):gm.fillText(e,"-log10(pvalue)",t/2,n/2,r,{rotate:{angle:-90}})},$x.prototype.popupData=function(e){var t=[],n=e.viewport.trackView.track,r=e.viewport.getCachedFeatures();if(r){var i,o=0,a=hr(r);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=Math.abs(e.canvasX-s.px),c=Math.abs(e.canvasY-s.py),l=s.value||s.score;if(u<this.dotSize&&c<this.dotSize){if(o>0&&t.push("<HR/>"),5==o){t.push("...");break}if("function"==typeof s.popupData)t=t.concat(s.popupData());else{var f=s.realChr||s.chr,h=(s.realStart||s.start)+1;t.push({name:"chromosome",value:f}),t.push({name:"position",value:h}),t.push({name:"name",value:s.name}),n.posteriorProbability?t.push({name:"posterior probability",value:l}):t.push({name:"pValue",value:l})}o++}}}catch(e){a.e(e)}finally{a.f()}}return t},$x.prototype.menuItemList=function(){var e=Oh.dataRangeMenuItem,t=this,n=[];return n.push(e(this.trackView)),n.push({object:Nh("Autoscale",t.autoscale),click:function(){t.autoscale=!t.autoscale,t.config.autoscale=t.autoscale,t.trackView.setDataRange(void 0,void 0,t.autoscale)}}),n},$x.prototype.doAutoscale=function(e){if(e.length>0){var t=this.posteriorProbability?e:e.map((function(e){var t=void 0!==e.value?e.value:e.score;return{value:-Math.log(t)/Math.LN10}})),n=Hg(t);this.dataRange.max=n.max,this.dataRange.min=n.min!==n.max?n.min:0}else this.posteriorProbability?(this.dataRange.min=this.config.min||0,this.dataRange.max=this.config.max||1):(this.dataRange.max=this.config.max||25,this.dataRange.min=this.config.min||0);return this.dataRange};var Vx=Oh.dataRangeMenuItem,Wx=Dg(gy,(function(e,t){gy.call(this,e,t),this.autoscale=e.autoscale||void 0===e.max,this.dataRange={min:e.min||0,max:e.max},this.windowFunction=e.windowFunction||"mean",this.paintAxis=aw,this.graphType=e.graphType||"bar",this.featureSource=new yb(this.config,t.genome)}));Wx.prototype.postInit=Wn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFileHeader();case 2:this.header=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),Wx.prototype.menuItemList=function(){var e=this,t=[];return t.push(Vx(this.trackView)),t.push({object:Nh("Autoscale",e.autoscale),click:function(){e.autoscale=!e.autoscale,e.config.autoscale=e.autoscale,e.trackView.setDataRange(void 0,void 0,e.autoscale)}}),t},Wx.prototype.getFeatures=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.featureSource.getFeatures(t,0,Number.MAX_VALUE);case 2:i=e.sent,o=void 0,a=void 0,s=1;case 6:if(!(s<i.length-1)){e.next=14;break}if(void 0===o&&i[s].end>n&&(o=s-1),!(void 0===a&&i[s].start>r)){e.next=11;break}return a=s+1,e.abrupt("break",14);case 11:s++,e.next=6;break;case 14:return void 0===o&&(o=0),void 0===a&&(a=i.length),e.abrupt("return",i.slice(o,a));case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),Wx.prototype.draw=function(e){var t=this,n=e.features,r=e.context,i=e.bpPerPixel,o=e.bpStart,a=(e.pixelWidth,e.pixelHeight),s=function(e){return(t.dataRange.max-e)/(t.dataRange.max-t.dataRange.min)*a},u=function(e){var t=Math.floor((e-o)/i);return isNaN(t)&&console.warn("isNaN(x). feature start "+yg(e)+" bp start "+yg(o)),t};if(n&&n.length>0&&(void 0===t.dataRange.min&&(t.dataRange.min=0),t.dataRange.max>t.dataRange.min)){var c=this.config.highlightSamples,l=this.config.onlyHandleClicksForHighlightedSamples,f=-1,h={},p=[],d=[];this.clickDetectorCache={};var g,v=hr(n);try{for(v.s();!(g=v.n()).done;){var m=g.value,y=u(m.start),b=u(m.end),w=f>=0?u(f):y;if(!(isNaN(y)||isNaN(b)||y-w<1&&b-y<1)){this.clickDetectorCache[y]=[],this.clickDetectorCache[b]=[];for(var x=0;x<m.values.length;x++){var k=t.header[x],_=m.values[x],S=s(_);if(y-w>=1){var E=h[k],C=s(E),T=c&&c[k];T?p.push([w,C,y,S,T]):gm.strokeLine(r,w,C,y,S,{strokeStyle:"#D9D9D9"}),(!l||k in c)&&this.clickDetectorCache[y].push([w,C,y,S,k,T||"gray"])}if(b-y>=1){var A=c&&c[k];A?d.push([y,S,b,S,A]):gm.strokeLine(r,y,S,b,S,{strokeStyle:"gray"}),(!l||k in c)&&this.clickDetectorCache[b].push([y,S,b,S,k,A||"gray"])}h[k]=_}f=m.end}}}catch(e){v.e(e)}finally{v.f()}for(var R=0,O=p;R<O.length;R++){var I=O[R];gm.strokeLine(r,I[0],I[1],I[2],I[3],{strokeStyle:I[4],lineWidth:1.3})}for(var L=0,M=d;L<M.length;L++){var P=M[L];gm.strokeLine(r,P[0],P[1],P[2],P[3],{strokeStyle:P[4],lineWidth:2})}}!function(e){if(t.config.hasOwnProperty("guideLines")){var n,r=hr(t.config.guideLines);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.hasOwnProperty("color")&&i.hasOwnProperty("y")&&i.hasOwnProperty("dotted")){var o=s(i.y),a={strokeStyle:i.color,strokeWidth:2};i.dotted?gm.dashedLine(e.context,0,o,e.pixelWidth,o,5,a):gm.strokeLine(e.context,0,o,e.pixelWidth,o,a)}}}catch(e){r.e(e)}finally{r.f()}}}(e)},Wx.prototype.doAutoscale=function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach((function(e){t=Math.min.apply(Math,[t].concat(ar(e.values))),n=Math.max.apply(Math,[n].concat(ar(e.values)))})),t-=.01,n+=.01):(t=0,n=100),{min:t,max:n}},Wx.prototype.clickedFeatures=function(e){for(var t,n,r,i,o,a,s,u,c=e.canvasX,l=e.canvasY,f=null,h=0,p=Object.keys(this.clickDetectorCache);h<p.length&&(f=p[h],!((f=parseInt(f))>=c));h++);if(f){var d,g=Number.MAX_VALUE,v=[],m=hr(this.clickDetectorCache[f]);try{for(m.s();!(d=m.n()).done;){var y=d.value,b=y[0],w=y[2];if(c<b||c>w)return[];var x=y[1],k=y[3];if(!(l<Math.min(x,k)-10||l>Math.max(x,k)+10)){var _=(t=c,n=l,o=void 0,a=void 0,s=void 0,u=void 0,o=w-(r=b),a=k-(i=x),s=Math.abs(o*(i-n)-(r-t)*a),(u=Math.sqrt(o*o+a*a))>0?s/u:0);_<g&&(v=[{name:y[4],color:y[5]}],g=_)}}}catch(e){m.e(e)}finally{m.f()}if(g<5)return v}return[]},Wx.prototype.popupData=function(e,t){t||(t=this.clickedFeatures(e));var n=[];return t.forEach((function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Bg(e[i])&&n.push({name:i,value:e[i]})}})),n},Wx.prototype.contextMenuItemList=function(e){return e.viewport.genomicState.referenceFrame,e.genomicLocation,[]},Wx.prototype.getState=function(){var e=this.config;return e.autoscale=this.autoscale,!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max),e},Wx.prototype.supportsWholeGenome=function(){return!1};var Zx=Dg(gy,(function(e,t){gy.call(this,e,t),e.height||(this.height=300),this.arcOrientation=!1,this.theta=Math.PI/2,e.format,this.featureSource=new Yx(e,t.genome)}));function Xx(e,t){e.sort((function(e,n){var r=void 0===e.score?-Number.MAX_VALUE:e.score,i=void 0===n.score?-Number.MAX_VALUE:n.score;return(void 0===t?1:t)*(r-i)}))}function Yx(e,t){this.config=e,this.genome=t}Zx.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},Zx.prototype.draw=function(e){var t=this,n=Math.PI/2,r=e.context,i=e.pixelWidth,o=e.pixelHeight,a=(e.viewportWidth,e.bpPerPixel),s=e.bpStart,u=a,c=t.arcOrientation;gm.fillRect(r,0,e.pixelTop,i,o,{fillStyle:"rgb(255, 255, 255)"});var l=e.features;l&&(Xx(l,1),l.forEach((function(e){if(e.startLeft){var i=Math.round((e.startLeft-s)/u),o=Math.round((e.startRight-s)/u),a=Math.round((e.endLeft-s)/u),l=Math.round((e.endRight-s)/u);r.fillStyle=e.color,r.strokeStyle=e.color,r.beginPath();var f=(i+l)/2,h=(l-i)/2,p=t.height,d=Math.PI+(Math.PI/2-n),g=2*Math.PI-(Math.PI/2-n);c?(p=0,r.arc(f,p,h,g,d),r.lineTo(l,p)):(r.arc(f,p,h,d,g),r.lineTo(a,p));var v=(o+a)/2,m=(a-o)/2,y=p;c?(r.arc(v,y,m,d,g,!0),r.lineTo(a,y)):(r.arc(v,y,m,g,d,!0),r.lineTo(i,y)),r.stroke(),r.fill(),e.drawState={x1:f,y1:p,r1:h,x2:v,y2:y,r2:m,sa:d,ea:g}}else{var b=Math.round((e.start-s)/u),w=Math.round((e.end-s)/u);r.strokeStyle=e.color,r.beginPath();var x=(b+w)/2,k=(w-b)/2,_=t.height,S=Math.PI+(Math.PI/2-n),E=2*Math.PI-(Math.PI/2-n);c?(_=0,r.arc(x,_,k,E,S)):r.arc(x,_,k,S,E),r.stroke(),e.drawState={x1:x,y1:_,r1:k,sa:S,ea:E}}})))},Zx.prototype.clickedFeatures=function(e){var t=gy.prototype.clickedFeatures.call(this,e),n=[];Xx(t,-1);var r,i=hr(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.drawState,s=e.canvasX-a.x1,u=e.canvasY-a.y1,c=Math.sqrt(s*s+u*u),l=a.r1+3,f=void 0,h=void 0;if(void 0===a.x2)f=c,h=a.r1-3;else{var p=e.canvasX-a.x2,d=e.canvasY-a.y2;f=Math.sqrt(p*p+d*d),h=a.r2-3}if(c<l&&f>h){n.push(o);break}}}catch(e){i.e(e)}finally{i.f()}return n},Zx.prototype.popupData=function(e,t){if(t||(t=this.clickedFeatures(e)),t&&t.length>0)return gy.extractPopupData(t[0],this.getGenomeId())},Zx.prototype.menuItemList=function(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}}]},Zx.prototype.getState=function(){var e=this._super.getState.call(this);return e.arcOrientation=this.arcOrientation,e.thickness=this.thickness,e.color=this.color,e},Yx.prototype.getFeatures=function(e,t,n){var r=this,i=this.genome;if(this.featureCache)return Promise.resolve(r.featureCache.queryFeatures(e,t,n));var o=jg(this.config);return _v.loadString(r.config.url,o).then((function(o){return r.featureCache=new $y(function(e){if(!e)return null;for(var t,n=Fm(e),r=!0,i=[],o=[],a=[];t=n.nextLine();){var s=t.split("\t");if(r&&t.startsWith("color:")){var u="rgb("+s[1]+","+s[2]+","+s[3]+")";i.push(u),s.length>4&&o.push(s[4])}else{r=!1;var c=s[0],l=Number.parseInt(s[1])-1,f=Number.parseInt(s[2])-1,h=Number.parseInt(s[3]),p=Number.parseInt(s[4]),d=Number.parseInt(s[5]),g=i[d],v=void 0;(v=l<=p?{chr:c,startLeft:Math.min(l,f),startRight:Math.max(l,f),endLeft:Math.min(h,p),endRight:Math.max(h,p),color:g,score:d}:{chr:c,startLeft:Math.min(h,p),startRight:Math.max(h,p),endLeft:Math.min(l,f),endRight:Math.max(l,f),color:g,score:d}).start=v.startLeft,v.end=v.endRight,o.length>d&&(v.description=o[d]),a.push(v)}}return a}(o),i),r.featureCache.queryFeatures(e,t,n)}))};var Kx={sequence:function(e,t){return new Zb(e,t)},feature:function(e,t){return new Db(e,t)},seg:function(e,t){return new hw(e,t)},wig:function(e,t){return new uw(e,t)},merged:function(e,t){return new pw(e,t)},alignment:function(e,t){return new Ax(e,t)},interaction:function(e,t){return new Nx(e,t)},variant:function(e,t){return new Dx(e,t)},eqtl:function(e,t){return new zx(e,t)},gwas:function(e,t){return new $x(e,t)},arc:function(e,t){return new Zx(e,t)},gcnv:function(e,t){return new Wx(e,t)}},Qx=function(e,t){this.config=e,this.name=e.name,this.roiSource=new yb(e,t),this.color=e.color||"rgba(68, 134, 247, 0.25)"};function Jx(e,t,n){var r,i;return r=Math.round((e.start-t)/n),(i=Math.round((e.end-t)/n)-r)<3&&(i=3,r-=1),{x:r,width:i}}Qx.prototype.getFeatures=function(e,t,n){return this.roiSource.getFeatures(e,t,n)},Qx.prototype.draw=function(e){var t,n,r,i;if(i=e.features){t=e.bpStart+(e.pixelWidth*e.bpPerPixel+1);for(var o=0,a=i.length;o<a;o++)if(!((n=i[o]).end<e.bpStart)){if(n.start>t)break;r=Jx(n,e.bpStart,e.bpPerPixel),gm.fillRect(e.context,r.x,e.pixelTop,r.width,e.pixelHeight,{fillStyle:this.color})}}};var ek=function(e,t){this.geneColors={},this.gene=null,this.snp=null,this.genesCount=0,e&&(this.gene=e.toUpperCase(),this.geneColors[this.gene]=tk[this.genesCount++]),t&&(this.snp=t.toUpperCase())};ek.prototype.addGene=function(e){this.geneColors[e.toUpperCase()]||(this.geneColors[e.toUpperCase()]=tk[this.genesCount++])},ek.prototype.colorForGene=function(e){return this.geneColors[e.toUpperCase()]};var tk=new Array;tk.push("rgb(228,26,28)"),tk.push("rgb(55,126,184)"),tk.push("rgb(77,175,74)"),tk.push("rgb(166,86,40)"),tk.push("rgb(152,78,163)"),tk.push("rgb(255,127,0)"),tk.push("rgb(247,129,191)"),tk.push("rgb(153,153,153)"),tk.push("rgb(255,255,51)"),tk.push("rgb(102, 194, 165"),tk.push("rgb(252, 141, 98"),tk.push("rgb(141, 160, 203"),tk.push("rgb(231, 138, 195"),tk.push("rgb(166, 216, 84"),tk.push("rgb(255, 217, 47"),tk.push("rgb(229, 196, 148"),tk.push("rgb(179, 179, 179"),tk.push("rgb( 141, 211, 199"),tk.push("rgb(255, 255, 179"),tk.push("rgb(190, 186, 218"),tk.push("rgb(251, 128, 114"),tk.push("rgb(128, 177, 211"),tk.push("rgb(253, 180, 98"),tk.push("rgb(179, 222, 105"),tk.push("rgb(252, 205, 229"),tk.push("rgb(217, 217, 217"),tk.push("rgb(188, 128, 189"),tk.push("rgb(204, 235, 197"),tk.push("rgb(255, 237, 111");var nk=!Ou((function(e){Array.from(e)}));Pe({target:"Array",stat:!0,forced:nk},{from:Yc});var rk=function(e,t){var n,r,i,o=this;n=new DOMParser,r=n.parseFromString(e,"text/xml"),function(){var e,n,i,a,s;!(e=r.getElementsByTagName("Session"))||e.length,n=e.item(0),i=n.getAttribute("genome"),a=n.getAttribute("locus"),s=n.getAttribute("ucscID"),t&&t.hasOwnProperty(i)?o.genome=i:(o.reference={fastaURL:i},s&&(o.reference.id=s)),a&&(o.locus=a)}(),i=r.getElementsByTagName("Resource"),o.tracks=[];var a={};function s(e,t){var n,r,i,o,a,s,u,c,l,f;t.name=e.getAttribute("name"),(n=e.getAttribute("color"))&&(t.color="rgb("+n+")"),o=e.getAttribute("altColor"),n&&(t.altColor="rgb("+o+")"),(r=e.getAttribute("height"))&&(t.height=parseInt(r)),(i=e.getAttribute("autoScale"))&&(t.autoScale="true"===i),(f=e.getAttribute("autoscaleGroup"))&&(t.autoscaleGroup=f),(u=e.getAttribute("windowFunction"))&&(t.windowFunction=u),(c=e.getAttribute("visibilityWindow")||e.getAttribute("featureVisibilityWindow"))&&(t.visibilityWindow=c),(l=e.getAttribute("indexed"))&&(t.indexed="true"===l),(s=e.getElementsByTagName("DataRange")).length>0&&(a=s.item(0),i||(t.min=parseInt(a.getAttribute("minimum")),t.max=parseInt(a.getAttribute("maximum"))),t.logScale="LOG"===a.getAttribute("type"))}Array.from(i).forEach((function(e,t){var n={url:e.getAttribute("path"),indexURL:e.getAttribute("index"),order:t};o.tracks.push(n),a[n.url]=n})),(i=r.getElementsByTagName("Track"))&&i.length>0&&(o.tracks=[],Array.from(i).forEach((function(e){var t,n,r,i;(r=e.getElementsByTagName("Track"))&&r.length>0?(s(e,i={type:"merged",tracks:[]}),o.tracks.push(i),Array.from(r).forEach((function(e){var t,n;e.processed=!0,t=e.getAttribute("id"),(n=a[t])&&(i.tracks.push(n),s(e,n),n.autoscale=!1,i.height=n.height)}))):e.processed||(t=e.getAttribute("id"),(n=a[t])&&(o.tracks.push(n),s(e,n)))})))},ik=function(){this.attributes={},this.plinkLoaded=!1};function ok(e,t){return(new ik).loadPlinkFile(e,t)}ik.prototype.loadPlinkFile=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n={}),r=jg(n),e.next=4,_v.loadString(t,r);case 4:i=e.sent,o=bg(i),a=hr(o);try{for(a.s();!(s=a.n()).done;)u=s.value,c=u.split(" "),this.attributes[c[1]]={familyId:c[0],fatherId:c[2],motherId:c[3],sex:c[4],phenotype:c[5]}}catch(e){a.e(e)}finally{a.f()}return this.plinkLoaded=!0,e.abrupt("return",this);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),ik.prototype.getAttributes=function(e){return this.attributes[e]},ik.prototype.getAttributeNames=function(){return this.hasAttributes()?Object.keys(this.attributes[Object.keys(this.attributes)[0]]):[]},ik.prototype.hasAttributes=function(){return Object.keys(this.attributes).length>0};var ak=function(e,t,n){this.browser=n,this.$parent=e,this.buildPanels(e,t)};function sk(e,t,n){var r,i=this.browser;return(r={}).genomicState=t,r.$ideogram=au('<div class="igv-ideogram-content"></div>'),e.append(r.$ideogram),function(e,t,n){t<n&&1+t!==n?e.addClass("igv-ideogram-content-border-right"):e.removeClass("igv-ideogram-content-border-right")}(r.$ideogram,i.genomicStateList.indexOf(t),i.genomicStateList.length),r.$ideogram.outerWidth(n),r.$canvas=au('<canvas class ="igv-canvas">'),r.$ideogram.append(r.$canvas),fk(r),r.ideograms={},r.$ideogram.on("click",(function(e){!function(e,t,n){var r=Cg(n,t.$ideogram.get(0)),i=t.genomicState.referenceFrame,o=i.bpPerPixel*t.$ideogram.width(),a=e.genome.getChromosome(i.chrName),s=o/a.bpLength,u=r.x/t.$ideogram.width();u-s/2<0&&(u=s/2),u+s/2>1&&(u=1-s/2);var c=Math.round((u-s/2)*a.bpLength),l=Math.round((u+s/2)*a.bpLength);i.start=Math.round((u-s/2)*a.bpLength),i.bpPerPixel=(l-c)/t.$ideogram.width(),e.updateLocusSearchWidget(t.genomicState),e.updateViews()}(i,r,e)})),r}function uk(e){e.forEach((function(t,n){1===e.length||1+n===e.length?t.$ideogram.removeClass("igv-ideogram-content-border-right"):t.$ideogram.addClass("igv-ideogram-content-border-right")}))}function ck(e){var t=e.ctx,n=e.width,r=e.height,i=e.genome,o=e.referenceFrame,a=e.ideogramWidth;if(n>0&&r>0&&i&&o&&i.getChromosome(o.chrName)&&r>0&&(gm.fillRect(t,0,0,n,r,{fillStyle:kg.greyScale(255)}),"all"!==o.chrName.toLowerCase())){!function(e){var t,n,r,i,o,a,s,u,c,l,f=e.ctx,h=e.referenceFrame,p=e.genome,d=e.width,g=e.height,v=e.stainColors;if(void 0!==p){if(gm.fillRect(f,0,0,d,g,{fillStyle:kg.greyScale(255)}),t=p.getCytobands(h.chrName)){if(r=0+g/2,i=[],o=[],0===t.length)return;for(a=t[t.length-1].end,s=d/a,f.beginPath(),gm.roundRect(f,.5,.5,d-1,g-1,(g-1)/2,0,1),f.clip(),l=0;l<t.length;l++)n=t[l],u=s*n.start,c=s*n.end,"c"===n.type?("p"===n.name.charAt(0)?(i[0]=u,o[0]=g+0,i[1]=u,o[1]=0,i[2]=c,o[2]=r):(i[0]=c,o[0]=g+0,i[1]=c,o[1]=0,i[2]=u,o[2]=r),f.fillStyle="rgb(150, 0, 0)",f.strokeStyle="rgb(150, 0, 0)",gm.polygon(f,i,o,1,0)):(f.fillStyle=lk(v,n),gm.fillRect(f,u,1,c-u,g-2))}f.strokeStyle=kg.greyScale(41),gm.roundRect(f,.5,.5,d-1,g-1,(g-1)/2,0,1)}}({ctx:t,referenceFrame:o,genome:i,width:n,height:r,stainColors:[]});var s=i.getChromosome(o.chrName),u=Math.round(o.bpPerPixel*a),c=o.start,l=s.bpLength,f=i.getCytobands(o.chrName);if(f&&f.length>0&&(l=Math.max(l,f[f.length-1].end)),u<l){var h=u/l,p=c/l,d=Math.floor(p*n),g=Math.floor(h*n);d=Math.max(0,d),d=Math.min(n-g,d),t.save(),t.strokeStyle="red",t.lineWidth=g<2?1:2;var v=d+t.lineWidth/2;g=g<2?1:g-t.lineWidth;var m=t.lineWidth/2,y=r-t.lineWidth;t.strokeRect(v,m,g,y),t.restore()}}}function lk(e,t){if("c"===t.type)return"rgb(150, 10, 10)";var n=t.stain,r=230;"p"===t.type&&(r=Math.floor(230-n/100*230));var i=e[r];return i||(i="rgb("+r+","+r+","+r+")",e[r]=i),i}function fk(e){var t=e.$canvas.get(0),n=+e.$ideogram.width(),r=+e.$ideogram.height();t.style.width=n+"px",t.style.height=r+"px",t.width=window.devicePixelRatio*n,t.height=window.devicePixelRatio*r,e.ctx=t.getContext("2d"),e.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}ak.prototype.renderSVGContext=function(e,t){var n=this;this.panels.forEach((function(r,i){var o=r.$ideogram.get(0).getBoundingClientRect(),a=t.deltaX+i*(r.$canvas.width()+e.multiLocusGap),s=t.deltaY;e.addTrackGroupWithTranslationAndClipRect("ideogram",a,s,o.width,o.height,0),e.save(),ck({ctx:e,width:r.$canvas.width(),height:r.$canvas.height(),genome:n.browser.genome,referenceFrame:r.genomicState.referenceFrame,ideogramWidth:r.$ideogram.width()}),e.restore()}))},ak.prototype.buildPanels=function(e,t){var n=this;e.append(au('<div class="igv-ideogram-shim"></div>')),this.panels=this.browser.genomicStateList.map((function(r){return sk.call(n,e,r,t)}))},ak.prototype.setWidth=function(e,t){this.panels.forEach((function(t){t.$ideogram.outerWidth(e),fk(t),t.ideograms={}})),!0===t&&this.repaint()},ak.prototype.resize=function(){this.setWidth(this.browser.viewportContainerWidth()/this.browser.genomicStateList.length,!0)},ak.prototype.repaint=function(){var e=this;this.panels.forEach((function(t){ck({ctx:t.ctx,width:t.$canvas.width(),height:t.$canvas.height(),genome:e.browser.genome,referenceFrame:t.genomicState.referenceFrame,ideogramWidth:t.$ideogram.width()})}))},ak.prototype.discardPanels=function(){this.panels.forEach((function(e){e.$ideogram.remove()})),this.panels=void 0},ak.prototype.addPanelWithGenomicStateAtIndex=function(e,t,n){var r;r=sk.call(this,this.$parent,e,n),t===this.panels.length?this.panels.push(r):(this.panels.splice(t,0,r),r.$ideogram.detach().insertAfter(this.panels[t-1].$ideogram)),uk(this.panels)},ak.prototype.removePanelWithLocusIndex=function(e){this.panels[e].$ideogram.remove(),this.panels.splice(e,1),uk(this.panels)},ak.prototype.repaintPanelWithGenomicState=function(e){var t=this.panels[this.browser.genomicStateList.indexOf(e)];ck({ctx:t.ctx,width:t.$canvas.width(),height:t.$canvas.height(),genome:this.browser.genome,referenceFrame:t.genomicState.referenceFrame,ideogramWidth:t.$ideogram.width()})};var hk=function(e,t,n,r,i){this.genome=e,this.chrName=t,this.start=n,this.initialEnd=r,this.bpPerPixel=i};hk.prototype.calculateEnd=function(e){return this.start+this.bpPerPixel*e},hk.prototype.calculateBPP=function(e,t){return(e-this.start)/t},hk.prototype.set=function(e){this.chrName=e.chrName,this.start=e.start,this.bpPerPixel=e.bpPerPixel},hk.prototype.toPixels=function(e){return e/this.bpPerPixel},hk.prototype.toBP=function(e){return this.bpPerPixel*e},hk.prototype.shiftPixels=function(e,t){var n=this.start;return this.start+=e*this.bpPerPixel,this.clamp(t),n!==this.start},hk.prototype.clamp=function(e){var t=this.genome.getChromosome(this.chrName).bpStart||0;if(this.start=Math.max(t,this.start),e){var n=this.genome.getChromosome(this.chrName).bpLength-e*this.bpPerPixel;this.start>n&&(this.start=n)}},hk.prototype.getChromosome=function(){return this.genome.getChromosome(this.chrName)},hk.prototype.showLocus=function(e){if("all"===this.chrName.toLowerCase())return this.chrName.toLowerCase();var t=yg(Math.floor(this.start)+1),n=yg(Math.round(this.start+this.bpPerPixel*e));return this.chrName+":"+t+"-"+n},hk.prototype.description=function(){return"ReferenceFrame "+this.chrName+" "+yg(Math.floor(this.start))+" bpp "+this.bpPerPixel};var pk=function(e,t){this.guid=Tg(),this.namespace=".browser_"+this.guid,this.config=e,this.parent=t,this.$root=au('<div class="igv-root-div">'),au(t).append(this.$root),this.$content=au('<div class="igv-content-div">'),this.$root.append(this.$content),this.$contentHeader=au("<div>",{class:"igv-content-header"}),this.$content.append(this.$contentHeader);var n=au('<div class="igv-track-container-div">');this.$content.append(n),this.trackContainerDiv=n.get(0),dk.call(this,e),this.trackViews=[],this.trackLabelsVisible=!0,this.isCenterGuideVisible=!1,this.cursorGuideVisible=!1,this.featureDB={},this.constants={dragThreshold:3,scrollThreshold:5,defaultColor:"rgb(0,0,150)",doubleClickDelay:e.doubleClickDelay||500},this.eventHandlers={},this.$spinner=au('<div class="igv-track-container-spinner">'),n.append(this.$spinner),this.$spinner.append(Fh("spinner")),this.stopSpinner(),vk.call(this)};function dk(e){e.gtex&&(Nb.gtexLoaded=!0),this.flanking=e.flanking,this.crossDomainProxy=e.crossDomainProxy,this.formats=e.formats,this.trackDefaults=e.trackDefaults,e.search?this.searchConfig={type:"json",url:e.search.url,coords:void 0===e.search.coords?1:e.search.coords,chromosomeField:e.search.chromosomeField||"chromosome",startField:e.search.startField||"start",endField:e.search.endField||"end",geneField:e.search.geneField||"gene",snpField:e.search.snpField||"snp",resultsField:e.search.resultsField}:(e.reference&&e.reference.id?e.reference.id:e.genome&&e.genome,this.searchConfig={type:"plain",url:"https://igv.org/genomes/locus.php?genome=$GENOME$&name=$FEATURE$",coords:0,chromosomeField:"chromosome",startField:"start",endField:"end",geneField:"gene",snpField:"snp"})}function gk(e,t){var n,r=hr(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=hr(o.viewports);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.$trackLabel&&(0===o.viewports.indexOf(s)&&!0===t?s.$trackLabel.show():s.$trackLabel.hide())}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}}function vk(){var e=this;function t(t){var n,r,i,o;if(t.preventDefault(),!e.loadInProgress()&&(n=Eg(t),e.vpMouseDown)){var a=Math.abs(n.x-e.vpMouseDown.mouseDownX)>Math.abs(n.y-e.vpMouseDown.mouseDownY);if(i=(r=e.vpMouseDown.viewport).$viewport.width(),o=r.genomicState.referenceFrame,!e.dragObject&&!e.isScrolling)if(a)e.vpMouseDown.mouseDownX&&Math.abs(n.x-e.vpMouseDown.mouseDownX)>e.constants.dragThreshold&&(e.dragObject={viewport:r,start:o.start});else if(e.vpMouseDown.mouseDownY&&Math.abs(n.y-e.vpMouseDown.mouseDownY)>e.constants.scrollThreshold){e.isScrolling=!0;var s=r.trackView,u=s.$viewportContainer.height(),c=s.maxContentHeight();e.vpMouseDown.r=u/c}if(e.dragObject&&(o.shiftPixels(e.vpMouseDown.lastMouseX-n.x,i)&&(e.updateLocusSearchWidget(e.vpMouseDown.genomicState),e.updateViews()),e.fireEvent("trackdrag")),e.isScrolling){var l=e.vpMouseDown.r*(e.vpMouseDown.lastMouseY-n.y);e.vpMouseDown.viewport.trackView.scrollBy(l)}e.vpMouseDown.lastMouseX=n.x,e.vpMouseDown.lastMouseY=n.y}}function n(t){e.cancelTrackPan(),e.endTrackDrag()}au(window).on("resize"+this.namespace,(function(){e.resize()})),au(this.root).on("mouseup",n),au(this.root).on("mouseleave",n),au(this.trackContainerDiv).on("mousemove",t),au(this.trackContainerDiv).on("touchmove",t),au(this.trackContainerDiv).on("mouseleave",n),au(this.trackContainerDiv).on("mouseup",n),au(this.trackContainerDiv).on("touchend",n)}pk.prototype.startSpinner=function(){var e=this.$spinner;e&&(e.addClass("igv-fa5-spin"),e.show())},pk.prototype.stopSpinner=function(){var e=this.$spinner;e&&(e.hide(),e.removeClass("igv-fa5-spin"))},pk.prototype.isMultiLocusMode=function(){return this.genomicStateList&&this.genomicStateList.length>1},pk.prototype.isMultiLocusWholeGenomeView=function(){if(void 0===this.genomicStateList||1===this.genomicStateList.length)return!1;var e,t=hr(this.genomicStateList);try{for(t.s();!(e=t.n()).done;)if("all"===e.value.referenceFrame.chrName.toLowerCase())return!0}catch(e){t.e(e)}finally{t.f()}return!1},pk.prototype.toSVG=function(){var e=this.trackContainerDiv.getBoundingClientRect(),t=this.trackViews[0].$viewportContainer.get(0).getBoundingClientRect(),n=this.ideoPanel?this.ideoPanel.panels[0].$ideogram.get(0).getBoundingClientRect():{height:0,width:0},r=e.width+8*(this.genomicStateList.length-1),i=e.height+n.height,o=new ph({width:r,height:8e3,backdropColor:"white",multiLocusGap:8,viewbox:{x:0,y:0,width:r,height:8e3}}),a=t.x-e.x;this.ideoPanel&&this.ideoPanel.renderSVGContext(o,{deltaX:a,deltaY:0});var s,u=hr(this.trackViews);try{for(u.s();!(s=u.n()).done;)s.value.renderSVGContext(o,{deltaX:a,deltaY:n.height-e.y})}catch(e){u.e(e)}finally{u.f()}return o.setHeight(i),o.getSerializedSvg(!0)},pk.prototype.saveSVGtoFile=function(e){var t=this.toSVG();if(e.$container){var n=this.trackContainerDiv.getBoundingClientRect();e.$container.empty(),e.$container.width(n.width),e.$container.append(t)}zg(e.filename||"igv.svg",URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})))},pk.prototype.loadSession=function(){var e=Wn(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return(i=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url||t.file,!t.url||!t.url.startsWith("blob:")&&!t.url.startsWith("data:")){e.next=6;break}return r=pk.uncompressSession(t.url),e.abrupt("return",JSON.parse(r));case 6:if((i=t.filename)||(i=t.url?av(t.url):t.file.name),!i.endsWith(".xml")){e.next=18;break}return e.next=11,Gv.getKnownGenomes();case 11:return o=e.sent,e.next=14,_v.loadString(n);case 14:return a=e.sent,e.abrupt("return",new rk(a,o));case 18:if(!i.endsWith(".json")){e.next=22;break}return e.abrupt("return",_v.loadJson(n));case 22:return e.abrupt("return",void 0);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(e){return i.apply(this,arguments)},this.roi=[],!t.url&&!t.file){e.next=9;break}return e.next=6,r(t);case 6:n=e.sent,e.next=10;break;case 9:n=t;case 10:return e.abrupt("return",this.loadSessionObject(n));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),pk.prototype.loadSessionObject=function(){var e=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u,c,l,f,h,p,d,g,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.removeAllTracks(!0),e.next=3,this.loadGenome(t.reference||t.genome,t.locus);case 3:if(n=e.sent,t.gtexSelections){r={},i=hr(this.genomicStateList);try{for(i.s();!(o=i.n()).done;)a=o.value,r[a.locusSearchString]=a}catch(e){i.e(e)}finally{i.f()}s=hr(Object.getOwnPropertyNames(t.gtexSelections));try{for(s.s();!(u=s.n()).done;)c=u.value,(l=r[c])&&(f=t.gtexSelections[c].gene,h=t.gtexSelections[c].snp,l.selection=new ek(f,h))}catch(e){s.e(e)}finally{s.f()}}if(t.roi){this.roi=[],p=hr(t.roi);try{for(p.s();!(d=p.n()).done;)g=d.value,this.roi.push(new Qx(g,n))}catch(e){p.e(e)}finally{p.f()}}return t.tracks||(t.tracks=[]),0===t.tracks.filter((function(e){return"sequence"===e.type})).length&&t.tracks.push({type:"sequence",order:-Number.MAX_SAFE_INTEGER}),e.next=10,this.loadTrackList(t.tracks);case 10:!1===t.showIdeogram||this.ideoPanel||(v=this.viewportContainerWidth()/this.genomicStateList.length,this.ideoPanel=new ak(this.$contentHeader,v,this),this.ideoPanel.repaint()),this.updateLocusSearchWidget(this.genomicStateList[0]),this.windowSizePanel.updateWithGenomicState(this.genomicStateList[0]),this.resize();case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),pk.prototype.loadGenome=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e,t){return e?Array.isArray(e)?e.join(" "):e:t.getHomeChromosomeName()},c=function(){return(c=Wn(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mg(t)?n=t:t.genome?n=t.genome:void 0!==t.id&&void 0===t.fastaURL&&(n=t.id),!n){e.next=10;break}return e.next=4,Gv.getKnownGenomes();case 4:return r=e.sent,(i=r[n])||this.presentAlert("Unknown genome id: "+n,void 0),e.abrupt("return",i);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)},u=function(e){return c.apply(this,arguments)},mg(t)&&t.startsWith("{"))try{t=JSON.parse(t)}catch(e){}return e.next=6,u.call(this,t);case 6:return r=e.sent,e.next=9,Gv.loadGenome(r);case 9:return i=e.sent,o=this.genome&&this.genome.id!==i.id,this.genome=i,this.$current_genome.text(i.id||""),this.$current_genome.attr("title",i.id||""),this.chromosomeSelectWidget.update(i),o&&this.removeAllTracks(),this.genome=i,e.prev=17,e.next=20,this.search(l(n,i),!0);case 20:a=e.sent,e.next=29;break;case 23:return e.prev=23,e.t0=e.catch(17),console.error(e.t0),e.next=28,this.search(this.genome.getHomeChromosomeName());case 28:a=e.sent;case 29:if(this.genomicStateList=a,this.genomicStateList.length>0?this.rulerTrack||!1===this.config.showRuler||(this.rulerTrack=new mm(this),this.addTrack(this.rulerTrack)):(s="Unrecognized locus "+this.config.locus,this.presentAlert(s,void 0)),!r.tracks){e.next=34;break}return e.next=34,this.loadTrackList(r.tracks);case 34:return this.resize(),e.abrupt("return",this.genome);case 36:case"end":return e.stop()}}),e,this,[[17,23]])})));return function(t,n){return e.apply(this,arguments)}}(),pk.prototype.updateUIWithGenomicStateListChange=function(e){var t=this.isMultiLocusWholeGenomeView()||Gv.isWholeGenomeView(e[0].referenceFrame);t||this.isMultiLocusMode()?this.centerGuide.forcedHide():this.centerGuide.forcedShow(),this.navbarManager.navbarDidResize(this.$navigation.width(),t),gk(this.trackViews,this.trackLabelsVisible)},pk.prototype.setTrackLabelName=function(e,t){e.viewports.forEach((function(e){e.setTrackLabel(t)}))},pk.prototype.hideTrackLabels=function(){this.trackLabelsVisible=!1,gk(this.trackViews,this.trackLabelsVisible)},pk.prototype.showTrackLabels=function(){this.trackLabelsVisible=!0,gk(this.trackViews,this.trackLabelsVisible)},pk.prototype.hideCursorGuide=function(){this.cursorGuide.$guide.hide(),this.cursorGuideVisible=!1},pk.prototype.showCursorGuide=function(){this.cursorGuide.$guide.show(),this.cursorGuideVisible=!0},pk.prototype.setCustomCursorGuideMouseHandler=function(e){this.cursorGuide.customMouseHandler=e},pk.prototype.hideCenterGuide=function(){this.centerGuide.$container.hide(),this.isCenterGuideVisible=!1},pk.prototype.showCenterGuide=function(){this.centerGuide.$container.show(),this.centerGuide.resize(),this.isCenterGuideVisible=!0},pk.prototype.loadTrackList=function(){var e=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.prev=1,this.startSpinner(),r=[],t.forEach((function(e){e.noSpinner=!0,r.push(n.loadTrack(e))})),e.next=7,Promise.all(r);case 7:return i=e.sent,(o=n.trackViews.filter((function(e){return e.track.autoscaleGroup}))).length>0&&n.updateViews(n.genomicStateList[0],o),e.abrupt("return",i);case 11:return e.prev=11,this.stopSpinner(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,,11,14]])})));return function(t){return e.apply(this,arguments)}}(),pk.prototype.loadROI=function(){var e=Wn(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.roi||(this.roi=[]),Array.isArray(t)){n=hr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.roi.push(new Qx(i,this.genome))}catch(e){n.e(e)}finally{n.f()}}else this.roi.push(new Qx(t,this.genome));return e.next=4,this.updateViews(void 0,void 0,!0);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),pk.prototype.removeROI=function(e){for(var t=0;t<this.roi.length;t++)if(this.roi[t].name===e.name){this.roi.splice(t,1);break}var n,r=hr(this.trackViews);try{for(r.s();!(n=r.n()).done;)n.value.updateViews(!0)}catch(e){r.e(e)}finally{r.f()}},pk.prototype.clearROIs=function(){this.roi=[];var e,t=hr(this.trackViews);try{for(t.s();!(e=t.n()).done;)e.value.updateViews(!0)}catch(e){t.e(e)}finally{t.f()}},pk.prototype.loadTrack=function(){var e=Wn(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mg(t)&&(t=JSON.parse(t)),e.next=3,fv(t.url);case 3:if(mg(n=e.sent)&&(n=n.trim()),!mg(n)||!n.startsWith("https://drive.google.com")){e.next=14;break}return e.next=8,Kg.getDriveFileInfo(n);case 8:r=e.sent,n="https://www.googleapis.com/drive/v3/files/"+r.id+"?alt=media",t.filename||(t.filename=r.originalFileName||r.name),t.format||(t.format=Um(t.filename)),e.next=15;break;case 14:n&&!t.filename&&(t.filename=av(n));case 15:if(Hm(t),this.trackDefaults&&t.type&&(i=this.trackDefaults[t.type]))for(o in i)i.hasOwnProperty(o)&&void 0===t[o]&&(t[o]=i[o]);if(e.prev=17,t.noSpinner||this.startSpinner(),void 0!==(a=this.createTrack(t))){e.next=23;break}return this.presentAlert("Unknown file type: "+n,void 0),e.abrupt("return",a);case 23:if(void 0===a.order&&(a.order=this.trackViews.length),"function"!=typeof a.postInit){e.next=27;break}return e.next=27,a.postInit();case 27:if(!t.sync){e.next=32;break}return e.next=30,this.addTrack(a);case 30:e.next=33;break;case 32:this.addTrack(a);case 33:return e.abrupt("return",a);case 36:e.prev=36,e.t0=e.catch(17),s={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},console.error(e.t0),u=e.t0.message||e.t0.toString(),s.hasOwnProperty(u)&&(u=s[u]+": "+t.url),this.presentAlert(u,void 0);case 43:return e.prev=43,t.noSpinner||this.stopSpinner(),e.finish(43);case 46:case"end":return e.stop()}}),e,this,[[17,36,43,46]])})));return function(t){return e.apply(this,arguments)}}(),pk.prototype.createTrack=function(e){e.format&&(e.format=e.format.toLowerCase());var t=void 0===e.type?"unknown_type":e.type.toLowerCase();"data"===t&&(t="wig");var n,r=Object.assign({},e);switch(r.browser=this,t){case"annotation":case"genes":case"fusionjuncspan":case"junctions":case"splicejunctions":case"snp":n=Kx.feature(r,this);break;default:n=Kx.hasOwnProperty(t)?Kx[t](r,this):void 0}if(e.roi&&n){n.roi=[];var i,o=hr(e.roi);try{for(o.s();!(i=o.n()).done;){var a=i.value;n.roi.push(new Qx(a,this.genome))}}catch(e){o.e(e)}finally{o.f()}}return n},pk.prototype.addTrack=function(){var e=Wn(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Sm(this,au(this.trackContainerDiv),t),this.trackViews.push(n),gk(this.trackViews,this.trackLabelsVisible),this.reorderTracks(),t.autoscaleGroup){e.next=6;break}return e.abrupt("return",n.updateViews());case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),pk.prototype.reorderTracks=function(){var e=this;this.trackViews.sort((function(e,t){return(e.track.order||0)-(t.track.order||0)})),au(this.trackContainerDiv).children("igv-track-div").detach(),this.trackViews.forEach((function(t){e.trackContainerDiv.appendChild(t.trackDiv)}))},pk.prototype.removeTrackByName=function(e){var t,n=hr(this.trackViews.slice());try{for(n.s();!(t=n.n()).done;){var r=t.value;e===r.track.name&&this.removeTrack(r.track)}}catch(e){n.e(e)}finally{n.f()}},pk.prototype.removeTrack=function(e){for(var t,n=0;n<this.trackViews.length;n++)if(e===this.trackViews[n].track){t=this.trackViews[n];break}t&&(this.trackViews.splice(n,1),au(t.trackDiv).remove(),this.fireEvent("trackremoved",[t.track]),t.dispose())},pk.prototype.removeAllTracks=function(e){var t,n=[],r=hr(this.trackViews);try{for(r.s();!(t=r.n()).done;){var i=t.value;!e&&"sequence"===i.track.id||"ruler"===i.track.id?n.push(i):(this.trackContainerDiv.removeChild(i.trackDiv),this.fireEvent("trackremoved",[i.track]),i.dispose())}}catch(e){r.e(e)}finally{r.f()}this.trackViews=n},pk.prototype.findTracks=function(e,t){var n=[];return this.trackViews.forEach((function(r){t===r.track[e]&&n.push(r.track)})),n},pk.prototype.setTrackHeight=function(e){this.trackHeight=e,this.trackViews.forEach((function(t){t.setTrackHeight(e)}))},pk.prototype.visibilityChange=function(){this.resize()},pk.prototype.resize=Wn(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(e){return t.viewportContainerWidth()*e.referenceFrame.bpPerPixel>e.chromosome.bpLength},t=this,0!==(n=this.viewportWidth())){e.next=5;break}return e.abrupt("return");case 5:return this.genomicStateList&&n>0&&((r=this.isMultiLocusWholeGenomeView()||Gv.isWholeGenomeView(this.genomicStateList[0].referenceFrame))||this.isMultiLocusMode()?this.centerGuide.forcedHide():this.centerGuide.forcedShow(),this.navbarManager.navbarDidResize(this.$navigation.width(),r),this.genomicStateList.forEach((function(e){var t=e.referenceFrame;isFinite(t.bpPerPixel)||void 0===t.initialEnd||(t.bpPerPixel=(t.initialEnd-t.start)/n)}))),this.genomicStateList&&1===this.genomicStateList.length&&i(this.genomicStateList[0])?this.search(this.genomicStateList[0].chromosome.name):(this.ideoPanel&&this.ideoPanel.resize(),this.centerGuide&&this.centerGuide.resize(),this.trackViews.forEach((function(e){e.resize()}))),this.genomicStateList&&this.genomicStateList.length>0&&(this.updateLocusSearchWidget(this.genomicStateList[0]),this.windowSizePanel.updateWithGenomicState(this.genomicStateList[0])),e.next=10,this.updateViews();case 10:case"end":return e.stop()}}),e,this)}))),pk.prototype.updateViews=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,b,w,x,k,_,S,E,C,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this,n||(n=this.trackViews),!t&&this.genomicStateList&&1==this.genomicStateList.length&&(t=this.genomicStateList[0]),t&&(this.updateLocusSearchWidget(t),this.windowSizePanel.updateWithGenomicState(t)),this.ideoPanel&&this.ideoPanel.repaint(),this.centerGuide&&this.centerGuide.repaint(),!i.dragObject){e.next=26;break}s=hr(n),e.prev=8,s.s();case 10:if((u=s.n()).done){e.next=16;break}return c=u.value,e.next=14,c.updateViews();case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),s.e(e.t0);case 21:return e.prev=21,s.f(),e.finish(21);case 24:e.next=82;break;case 26:o={},a=[],n.forEach((function(e){var t=e.track.autoscaleGroup;if(t){var n=o[t];n||(n=[],o[t]=n),n.push(e)}else a.push(e)})),l=Object.keys(o),f=0,h=l;case 31:if(!(f<h.length)){e.next=65;break}return p=h[f],d=o[p],g=[],d.forEach((function(e){g.push(e.getInViewFeatures())})),e.next=38,Promise.all(g);case 38:v=e.sent,m=[],b=hr(v);try{for(b.s();!(w=b.n()).done;)x=w.value,m=m.concat(x)}catch(e){b.e(e)}finally{b.f()}y=Hg(m),k=hr(d),e.prev=44,k.s();case 46:if((_=k.n()).done){e.next=54;break}return(S=_.value).track.dataRange=y,S.track.autoscale=!1,e.next=52,S.updateViews();case 52:e.next=46;break;case 54:e.next=59;break;case 56:e.prev=56,e.t1=e.catch(44),k.e(e.t1);case 59:return e.prev=59,k.f(),e.finish(59);case 62:f++,e.next=31;break;case 65:E=hr(a),e.prev=66,E.s();case 68:if((C=E.n()).done){e.next=74;break}return T=C.value,e.next=72,T.updateViews(r);case 72:e.next=68;break;case 74:e.next=79;break;case 76:e.prev=76,e.t2=e.catch(66),E.e(e.t2);case 79:return e.prev=79,E.f(),e.finish(79);case 82:case"end":return e.stop()}}),e,this,[[8,18,21,24],[44,56,59,62],[66,76,79,82]])})));return function(t,n,r){return e.apply(this,arguments)}}(),pk.prototype.loadInProgress=function(){var e;for(e=0;e<this.trackViews.length;e++)if(this.trackViews[e].isLoading())return!0;return!1},pk.prototype.updateLocusSearchWidget=function(e){var t,n,r,i,o,a;this.rulerTrack&&this.rulerTrack.updateLocusLabel(),0===this.genomicStateList.indexOf(e)&&1===this.genomicStateList.length?e.locusSearchString&&"all"===e.locusSearchString.toLowerCase()?(this.$searchInput.val(e.locusSearchString),this.chromosomeSelectWidget.$select.val("all")):(t=e.referenceFrame,this.chromosomeSelectWidget.$select.val(t.chrName),this.$searchInput&&(o=t.start+t.bpPerPixel*(this.viewportContainerWidth()/this.genomicStateList.length),this.genome&&(a=this.genome.getChromosome(t.chrName))&&(o=Math.min(o,a.bpLength)),n=yg(Math.floor(t.start+1)),r=yg(Math.floor(o)),i=t.chrName+":"+n+"-"+r,this.$searchInput.val(i)),this.fireEvent("locuschange",[{chr:t.chrName,start:n,end:r,label:i}])):(this.$searchInput.val(""),this.chromosomeSelectWidget.$select.val(""))},pk.prototype.viewportContainerWidth=function(){return this.trackViews&&this.trackViews.length>0?this.trackViews[0].$viewportContainer.width():function(){var e,t,n;return e=au('<div class="igv-track-div">'),au(this.trackContainerDiv).append(e),t=au('<div class="igv-viewport-container">'),e.append(t),n=t.width(),e.remove(),n}.call(this)},pk.prototype.viewportWidth=function(){var e;return e=this.viewportContainerWidth(),void 0===this.genomicStateList||1===this.genomicStateList.length?e:Math.round(e/this.genomicStateList.length)},pk.prototype.minimumBases=function(){return this.config.minimumBases},pk.prototype.updateZoomSlider=function(e){var t=this.trackViews[0].viewports[0],n=t.genomicState.referenceFrame,r=t.$viewport.width()*n.bpPerPixel,i=n.getChromosome().bpLength,o=(i-r)/(i-this.minimumBases()),a=Math.round(100*o);e.val(a)},pk.prototype.zoom=function(e){this.zoomWithScaleFactor(e)},pk.prototype.zoomIn=function(){this.zoomWithScaleFactor(.5)},pk.prototype.zoomOut=function(){this.zoomWithScaleFactor(2)},pk.prototype.zoomWithRangePercentage=function(e){if(!this.loadInProgress()){var t,n=hr(this.trackViews[0].viewports);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.genomicState.referenceFrame,o=i.start+i.toBP(r.$viewport.width()/2),a=i.getChromosome(),s=c((a.bpLength-a.bpStart)/r.$viewport.width(),this.minimumBases()/r.$viewport.width(),e),u=s*r.$viewport.width();function c(e,t,n){return(1-n)*e+n*t}i.start=o-u/2,i.bpPerPixel=s,i.clamp(r.$viewport.width()),this.updateViews(r.genomicState)}}catch(e){n.e(e)}finally{n.f()}}},pk.prototype.zoomWithScaleFactor=function(e,t,n){var r,i=hr(n?[n]:this.trackViews[0].viewports);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.genomicState.referenceFrame,s=a.getChromosome(),u=a.start,c=a.bpPerPixel,l=s.bpLength-s.bpStart,f=e<1?this.minimumBases()/o.$viewport.width():l/o.$viewport.width(),h=void 0===t?a.start+a.toBP(o.$viewport.width()/2):t,p=void 0,d=(p=e<1?Math.max(a.bpPerPixel*e,f):Math.min(a.bpPerPixel*e,f))*o.$viewport.width();a.start=h-d/2,a.bpPerPixel=p,a.clamp(o.$viewport.width()),(u!==a.start||c!==a.bpPerPixel)&&this.updateViews(o.genomicState)}}catch(e){i.e(e)}finally{i.f()}},pk.prototype.presentSplitScreenMultiLocusPanel=function(e,t){var n,r,i,o,a=this.genome;r=this.viewportContainerWidth()/(1+this.genomicStateList.length),n=(i=t).referenceFrame;var s=a.getChromosomeName(e.chr);i.referenceFrame=c(s,n.bpPerPixel,r,e.start,e.lengthOnRef);var u=a.getChromosomeName(e.mate.chr);function c(e,t,n,r,i){var o;return new hk(a,e,o=(r+(r+i))/2-t*(n/2),o+t*n,t)}(o={}).chromosome=i.chromosome,o.referenceFrame=c(u,n.bpPerPixel,r,e.mate.position,e.lengthOnRef),this.addMultiLocusPanelWithGenomicStateAtIndex(o,1+this.genomicStateList.indexOf(i),r)},pk.prototype.selectMultiLocusPanelWithGenomicState=function(e){var t=this;this.genomicStateList.filter((function(t){return e!==t})).forEach((function(e){t.removeMultiLocusPanelWithGenomicState(e,!1)})),this.resize()},pk.prototype.removeMultiLocusPanelWithGenomicState=function(e,t){var n,r,i,o=this.genome,a=this;n=this.genomicStateList.indexOf(e),this.ideoPanel&&this.ideoPanel.removePanelWithLocusIndex(n),this.trackViews.forEach((function(e){e.removeViewportWithLocusIndex(n)})),r=this.viewportContainerWidth(),i=this.genomicStateList.length,this.genomicStateList.splice(n,1),this.genomicStateList.forEach((function(e,t){var n=e.referenceFrame.calculateEnd(r/i),s=e.referenceFrame.calculateBPP(n,r/a.genomicStateList.length);a.genomicStateList[t].referenceFrame=new hk(o,e.chromosome.name,e.referenceFrame.start,n,s)})),this.updateUIWithGenomicStateListChange(this.genomicStateList),!0===t&&this.resize()},pk.prototype.addMultiLocusPanelWithGenomicStateAtIndex=function(e,t,n){t===this.genomicStateList.length?(this.genomicStateList.push(e),this.ideoPanel&&this.ideoPanel.addPanelWithGenomicStateAtIndex(e,t,n),this.trackViews.forEach((function(t){var r;r=new Xv(t,t.$viewportContainer,e,n),t.viewports.push(r),t.decorateViewports(),t.configureViewportContainer(t.$viewportContainer,t.viewports)}))):(this.genomicStateList.splice(t,0,e),this.ideoPanel&&this.ideoPanel.addPanelWithGenomicStateAtIndex(e,t,n),this.trackViews.forEach((function(r){var i;i=new Xv(r,r.$viewportContainer,e,n),r.viewports.splice(t,0,i),i.$viewport.detach().insertAfter(r.viewports[t-1].$viewport),r.decorateViewports(),r.configureViewportContainer(r.$viewportContainer,r.viewports)}))),this.rulerTrack&&this.rulerTrack.updateLocusLabel(),this.updateUIWithGenomicStateListChange(this.genomicStateList),this.resize()},pk.prototype.emptyViewportContainers=function(){var e,t=hr(this.trackViews);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.scrollbar&&(n.scrollbar.$outerScroll.remove(),n.scrollbar=null,n.scrollbar=void 0);var r,i=hr(n.viewports);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.rulerSweeper&&o.rulerSweeper.$rulerSweeper.remove(),o.popover&&(o.popover.$popover.off(),o.popover.$popover.empty(),o.popover.$popover.remove()),o.$viewport.remove()}}catch(e){i.e(e)}finally{i.f()}delete n.viewports,n.viewports=[],delete n.scrollbar}}catch(e){t.e(e)}finally{t.f()}this.$contentHeader.empty()},pk.prototype.buildViewportsWithGenomicStateList=function(e){var t;t=this.viewportContainerWidth()/this.genomicStateList.length,this.trackViews.forEach((function(n){e.forEach((function(e){var r;r=new Xv(n,n.$viewportContainer,e,t),n.viewports.push(r)})),n.decorateViewports(),n.configureViewportContainer(n.$viewportContainer,n.viewports)}))},pk.prototype.getViewportWithGUID=function(e){var t,n=void 0,r=hr(this.trackViews);try{for(r.s();!(t=r.n()).done;){var i,o=hr(t.value.viewports);try{for(o.s();!(i=o.n()).done;){var a=i.value;e===a.guid&&(n=a)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}return n},pk.prototype.goto=function(e,t,n){return this.search(e+":"+t+"-"+n)},pk.prototype.search=function(){var e=Wn(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(){return(f=Wn(regeneratorRuntime.mark((function e(t){var n,o,a,s,u,c,l,f,h,p,d,g,v,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y=function(e,t){var n,i,o,a,s,u;if(u={},a=(n=e.split(":"))[0],s=t.getChromosome(a)){if(u.chromosome=s,u.start=0,u.end=s.bpLength,1===n.length)return u;if(!((i=n[1].split("-")).length>2||(u.start=u.end=void 0,o=i[0].replace(/,/g,""),isNaN(o)||(u.start=parseInt(o,10)-1,isNaN(u.start))))){if(2===i.length){if(o=i[1].replace(/,/g,""),isNaN(o))return!1;u.end=parseInt(o,10)}return Ug(u.chromosome.bpLength,u,r.minimumBases()),u}}},m=function(e,t){var i;if(i="plain"===n.type?function(e){var t=[],n=[];return bg(e).forEach((function(e){""===e||t.push(e)})),t.forEach((function(e){var t,i,o,a,s=e.split("\t");s.length>=3&&(o=(i=s[1].split(":"))[1].split("-"),t=s[2].trim(),a={gene:s[0],chromosome:r.genome.getChromosomeName(i[0].trim()),start:parseInt(o[0].replace(/,/g,"")),end:parseInt(o[1].replace(/,/g,"")),type:"gtex"===t?"snp":"gene"},n.push(a))})),n}(e):JSON.parse(e),n.resultsField&&(i=i[n.resultsField]),i&&0!==i.length){var o=i[0];if(!o.hasOwnProperty(n.chromosomeField)||!o.hasOwnProperty(n.startField))return;var a=o[n.chromosomeField],s=o[n.startField]-n.coords,u=o[n.endField];void 0===u&&(u=s+1),r.flanking&&(s=Math.max(0,s-r.flanking),u+=r.flanking);var c=Object.assign({},o);return c.chromosome=r.genome.getChromosome(a),c.start=s,c.end=u,c.locusSearchString=t,c.selection=new ek(o[n.geneField],o[n.snpField]),c}},v=function(){return(v=Wn(regeneratorRuntime.mark((function e(t){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=n.url.replace("$FEATURE$",t.toUpperCase())).indexOf("$GENOME$")>-1&&(i=i.replace("$GENOME$",r.genome.id?r.genome.id:"hg19")),e.next=4,_v.loadString(i);case 4:return o=e.sent,e.abrupt("return",{result:o,locusSearchString:t});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},g=function(e){return v.apply(this,arguments)},d=function(e){var t=r.viewportContainerWidth()/e.length;return e.forEach((function(e){e.referenceFrame=new hk(i,e.chromosome.name,e.start,e.end,(e.end-e.start)/t)})),e},n=r.searchConfig,o=[],a=hr(t),e.prev=8,a.s();case 10:if((s=a.n()).done){e.next=32;break}if(u=s.value,!(c=y(u,r.genome))){e.next=18;break}c.locusSearchString=u,o.push(c),e.next=29;break;case 18:if(!(l=r.featureDB[u.toUpperCase()])){e.next=24;break}(f=r.genome.getChromosome(l.chr))&&(c={chromosome:f,start:l.start,end:l.end,locusSearchString:u},Ug(c.chromosome.bpLength,c,r.minimumBases()),o.push(c)),e.next=29;break;case 24:return e.next=26,g(u);case 26:h=e.sent,(p=m(h.result,h.locusSearchString))&&o.push(p);case 29:d(o);case 30:e.next=10;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(8),a.e(e.t0);case 37:return e.prev=37,a.f(),e.finish(37);case 40:return e.abrupt("return",o);case 41:case"end":return e.stop()}}),e,null,[[8,34,37,40]])})))).apply(this,arguments)},l=function(e){return f.apply(this,arguments)},r=this,i=this.genome,(t&&"all"===t.trim().toLowerCase()||"*"===t)&&(t="all"),o=t.split(" "),e.next=8,l(o);case 8:if((a=e.sent)&&0!==a.length){e.next=13;break}return e.next=12,l([t]);case 12:a=e.sent;case 13:if(!(a.length>0)){e.next=21;break}this.emptyViewportContainers(),this.genomicStateList=a,this.buildViewportsWithGenomicStateList(a),s=hr(a);try{for(s.s();!(u=s.n()).done;)u.value.id=Tg()}catch(e){s.e(e)}finally{s.f()}e.next=22;break;case 21:throw new Error("Unrecognized locus "+t);case 22:return this.ideoPanel&&(this.ideoPanel.discardPanels(),c=r.viewportContainerWidth()/a.length,this.ideoPanel.buildPanels(this.$contentHeader,c)),this.updateUIWithGenomicStateListChange(a),n||this.updateViews(),e.abrupt("return",a);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),pk.prototype.loadSampleInformation=function(){var e=Wn(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,t instanceof File&&(n=t.name),"fam"!==n.substr(n.lastIndexOf(".")+1)){e.next=7;break}return e.next=6,ok(t);case 6:this.sampleInformation=e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),pk.prototype.on=function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)},pk.prototype.un=function(e,t){if(this.eventHandlers[e]){var n=this.eventHandlers[e].indexOf(t);-1!==n&&this.eventHandlers[e].splice(n,1)}},pk.prototype.off=function(e,t){if(e)if(t){var n=this.eventHandlers[e].indexOf(t);-1!==n&&this.eventHandlers[e].splice(n,1)}else this.eventHandlers[e]=[];else this.eventHandlers={}},pk.prototype.fireEvent=function(e,t,n){var r,i=this.eventHandlers[e];if(void 0!==i&&0!==i.length)return r=n||window,i.map((function(e){return e.apply(r,t)}))[0]},pk.prototype.dispose=function(){au(window).off(this.namespace),au(document).off(this.namespace),this.eventHandlers=void 0,this.trackViews.forEach((function(e){e.dispose()}))},pk.prototype.toJSON=function(){var e,t;e={reference:this.genome.toJSON()};var n=[],r={};return this.trackViews[0].viewports.forEach((function(e){var t=e.genomicState,i=e.$viewport[0].clientWidth,o=t.referenceFrame.showLocus(i);if(n.push(o),t.selection){var a={gene:t.selection.gene,snp:t.selection.snp};r[o]=a}})),e.locus=n,Object.getOwnPropertyNames(r).length>0&&(e.gtexSelections=r),t=[],this.trackViews.forEach((function(e){var n,r;(r="function"==typeof(n=e.track).getState?n.getState():n.config)&&(r.browser&&delete r.browser,r.order=n.order,t.push(r))})),e.tracks=t,e},pk.prototype.compressedSession=function(){return function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));var r=new gg.RawDeflate(t).compress(),i=String.fromCharCode.apply(null,r);return btoa(i).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}(JSON.stringify(this.toJSON()))},pk.uncompressSession=function(e){if(e.indexOf("/gzip;base64")>0){var t,n="",r=hr(uv(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=String.fromCharCode(i)}}catch(e){r.e(e)}finally{r.f()}return n}return function(e){e=e.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");for(var t=atob(e),n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r));var i,o="",a=hr(new gg.RawInflate(n).decompress());try{for(a.s();!(i=a.n()).done;){var s=i.value;o+=String.fromCharCode(s)}}catch(e){a.e(e)}finally{a.f()}return o}(e.substring(5))},pk.prototype.sessionURL=function(){var e,t;return((t=(e=window.location.href.slice()).indexOf("?"))>0?e.substring(0,t):e)+"?sessionURL=data:"+this.compressedSession()},pk.prototype.currentLoci=function(){var e,t=[],n=hr(this.trackViews[0].viewports);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.genomicState,o=r.$viewport[0].clientWidth,a=i.referenceFrame.showLocus(o);t.push(a)}}catch(e){n.e(e)}finally{n.f()}return t},pk.prototype.presentAlert=function(e){this.alertDialog.present(e)},pk.prototype.mouseDownOnViewport=function(e,t){var n;n=Eg(e),this.vpMouseDown={viewport:t,lastMouseX:n.x,mouseDownX:n.x,lastMouseY:n.y,mouseDownY:n.y,genomicState:t.genomicState,referenceFrame:t.genomicState.referenceFrame}},pk.prototype.cancelTrackPan=function(){var e=this.dragObject;this.dragObject=void 0,this.isScrolling=!1,this.vpMouseDown=void 0,e&&e.viewport.genomicState.referenceFrame.start!==e.start&&(this.updateViews(),this.fireEvent("trackdragend"))},pk.prototype.startTrackDrag=function(e){this.dragTrack=e},pk.prototype.updateTrackDrag=function(e){if(e&&this.dragTrack){var t=this.dragTrack,n=this.trackViews.indexOf(e),r=this.trackViews.indexOf(t),i=this.trackViews;i[n]=t,i[r]=e;var o=this.trackViews[n].track.order;this.trackViews[r].track.order=o;var a=i.length,s=o;if(n<r)for(var u=n+1;u<a;u++){var c=i[u].track;if(!(c.order<=s))break;c.order=Math.min(Number.MAX_SAFE_INTEGER,s+1),s=c.order}else for(var l=n-1;l>0;l--){var f=i[l].track;if(!(f.order>=s))break;f.order=Math.max(-Number.MAX_SAFE_INTEGER,s-1),s=f.order}this.reorderTracks()}},pk.prototype.endTrackDrag=function(){this.dragTrack&&this.dragTrack.$trackDragScrim.hide(),this.dragTrack=void 0};var mk=function(e,t){this.$content=au('<div class="igv-windowsizepanel-content-div">'),e.append(this.$content),this.browser=t};mk.prototype.show=function(){this.$content.show()},mk.prototype.hide=function(){this.$content.hide()},mk.prototype.updateWithGenomicState=function(e){var t,n,r;this.$content.text((t=Math.round(this.browser.viewportWidth()*e.referenceFrame.bpPerPixel))>1e7?(n=" mb",r=t/1e6,Math.floor(r).toString()+n):t>1e4?(n=" kb",r=t/1e3,yg(Math.floor(r))+n):yg(t)+" bp")};var yk=function(e){var t,n,r=this;this.$container=au("<div>",{class:"igv-generic-dialog-container"}),e.append(this.$container),this.$container.offset({left:0,top:0}),t=au("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(t),_g(t,(function(){r.$input.val(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()})),this.$label=au("<div>",{class:"igv-generic-dialog-one-liner"}),this.$container.append(this.$label),this.$label.text("Unlabeled"),this.$input_container=au("<div>",{class:"igv-generic-dialog-input"}),this.$container.append(this.$input_container),this.$input=au("<input>"),this.$input_container.append(this.$input),n=au("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(n),this.$ok=au("<div>"),n.append(this.$ok),this.$ok.text("OK"),this.$cancel=au("<div>"),n.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(function(){r.$input.val(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()})),dh(this.$container.get(0),t.get(0)),this.$container.hide()};yk.prototype.configure=function(e){var t=this;this.$label.text(e.label),this.$input.val(e.input),this.$input.unbind(),this.$input.on("keyup",(function(n){13===n.keyCode&&(e.click(),t.$input.val(void 0),t.$container.offset({left:0,top:0}),t.$container.hide())})),this.$ok.unbind(),this.$ok.on("click",(function(){e.click(),t.$input.val(void 0),t.$container.offset({left:0,top:0}),t.$container.hide()}))},yk.prototype.present=function(e){var t,n;t=e.offset().top,n=au("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var bk=function(e,t){var n,r,i,o=this;this.browser=t,this.$container=au("<div>",{class:"igv-generic-dialog-container"}),e.append(this.$container),this.$container.offset({left:0,top:0}),n=au("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(n),_g(n,(function(){o.$minimum_input.val(void 0),o.$maximum_input.val(void 0),o.$container.offset({left:0,top:0}),o.$container.hide()})),this.$minimum=au("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$minimum),(i=au("<div>")).text("Minimum"),this.$minimum.append(i),this.$minimum_input=au("<input>"),this.$minimum.append(this.$minimum_input),this.$maximum=au("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$maximum),(i=au("<div>")).text("Maximum"),this.$maximum.append(i),this.$maximum_input=au("<input>"),this.$maximum.append(this.$maximum_input),r=au("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(r),this.$ok=au("<div>"),r.append(this.$ok),this.$ok.text("OK"),this.$cancel=au("<div>"),r.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(function(){o.$minimum_input.val(void 0),o.$maximum_input.val(void 0),o.$container.offset({left:0,top:0}),o.$container.hide()})),dh(this.$container.get(0),n.get(0)),this.$container.hide()};function wk(e){var t,n;t=parseFloat(this.$minimum_input.val()),n=parseFloat(this.$maximum_input.val()),isNaN(t)||isNaN(n)?this.browser.presentAlert("Must input numeric values",void 0):(!0===e.trackView.track.autoscale&&au("#datarange-autoscale").trigger("click"),e.trackView.setDataRange(t,n,!1)),this.$minimum_input.val(void 0),this.$maximum_input.val(void 0),this.$container.offset({left:0,top:0}),this.$container.hide()}bk.prototype.configure=function(e){var t,n,r,i=this;(t=e.trackView.dataRange())?(n=t.min,r=t.max):(n=0,r=100),this.$minimum_input.val(n),this.$maximum_input.val(r),this.$minimum_input.unbind(),this.$minimum_input.on("keyup",(function(t){13===t.keyCode&&wk.call(i,e)})),this.$maximum_input.unbind(),this.$maximum_input.on("keyup",(function(t){13===t.keyCode&&wk.call(i,e)})),this.$ok.unbind(),this.$ok.on("click",(function(){wk.call(i,e)}))},bk.prototype.present=function(e){var t,n;t=e.offset().top,n=au("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var xk=function(e){var t,n,r=this;this.$container=au("<div>",{class:"igv-generic-dialog-container"}),e.append(this.$container),this.$container.offset({left:0,top:0}),t=au("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(t),_g(t,(function(){r.$track_name.text(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()})),this.$label=au("<div>",{class:"igv-generic-dialog-one-liner"}),this.$container.append(this.$label),this.$label.text("Remove track:"),this.$track_name=au("<div>",{class:"igv-generic-dialog-one-liner igv-ellipsis"}),this.$container.append(this.$track_name),n=au("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(n),this.$ok=au("<div>"),n.append(this.$ok),this.$ok.text("OK"),this.$cancel=au("<div>"),n.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",(function(){r.$track_name.text(void 0),r.$container.offset({left:0,top:0}),r.$container.hide()})),dh(this.$container.get(0),t.get(0)),this.$container.hide()};xk.prototype.configure=function(e){var t=this;this.$track_name.text(e.name||"unnamed"),this.$ok.unbind(),this.$ok.on("click",(function(){e.click(),t.$track_name.text(void 0),t.$container.offset({left:0,top:0}),t.$container.hide()}))},xk.prototype.present=function(e){var t,n;t=e.offset().top,n=au("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var kk=function(e){this.$container=au('<div class="igv-user-feedback">'),e.append(this.$container);var t=au("<div>");this.$container.append(t);var n=au("<div>");t.append(n);var r=Fh("exclamation-triangle","red");n.append(r);var i=au("<div>");t.append(i);var o=Fh("times-circle","grey");i.append(o);var a=au("<div>");this.$container.append(a);var s=au("<div>");a.append(s),s.text("i am user feedback"),i.click((function(){s.html(""),(void 0).$container.hide()}))};kk.prototype.show=function(){this.$container.show()},kk.prototype.hide=function(){this.$container.hide()};var _k=function(e,t){var n=au('<div class="igv-nav-bar-button">');e.append(n),n.text("Save SVG"),n.on("click.svg-save-control",(function(){t.saveSVGtoFile({})}))},Sk=function(e,t){var n;this.$zoomContainer=au('<div class="igv-zoom-widget">'),t.append(this.$zoomContainer),n=au("<div>"),this.$zoomContainer.append(n),n.append(Fh("minus-circle")),n.on("click",(function(){e.zoomOut()})),n=au("<div>"),this.$zoomContainer.append(n),this.$slider=au('<input type="range"/>'),n.append(this.$slider),this.$slider.on("change",(function(t){e.zoomWithRangePercentage(t.target.value/100)})),n=au("<div>"),this.$zoomContainer.append(n),n.append(Fh("plus-circle")),n.on("click",(function(){e.zoomIn()})),this.currentChr=void 0;var r=this;e.on("locuschange",(function(){e.updateZoomSlider(r.$slider)}))};Sk.prototype.hide=function(){this.$zoomContainer.hide()},Sk.prototype.show=function(){this.$zoomContainer.show()},Sk.prototype.hideSlider=function(){this.$slider.hide()},Sk.prototype.showSlider=function(){this.$slider.show()};var Ek=function(e,t){this.showAllChromosomes=!1!==e.config.showAllChromosomes,this.$container=au("<div>",{class:"igv-chromosome-select-widget-container"}),t.append(this.$container),this.$select=au("<select>",{name:"chromosome-select-widget"}),this.$container.append(this.$select),this.$select.on("change",(function(){""!==au(this).val()&&(e.search(au(this).val()),au(this).blur())}))};Ek.prototype.update=function(e){this.$select.empty();var t=this.showAllChromosomes?e.chromosomeNames.slice():e.wgChromosomeNames.slice();e.showWholeGenomeView()&&(t.unshift("all"),t.unshift(""));var n,r=hr(t);try{for(r.s();!(n=r.n()).done;){var i,o=n.value;i=au("<option>",{value:o}),this.$select.append(i),i.text(o)}}catch(e){r.e(e)}finally{r.f()}};var Ck=function(e,t){var n=this;this.browser=t,this.$button=au('<div class="igv-nav-bar-button">'),e.append(this.$button),this.$button.text("track labels"),this.$button.on("click",(function(){!0===t.trackLabelsVisible?n.doHide():n.doShow()}))};Ck.prototype.doHide=function(){this.$button.removeClass("igv-nav-bar-button-clicked"),this.browser.hideTrackLabels()},Ck.prototype.doShow=function(){this.$button.addClass("igv-nav-bar-button-clicked"),this.browser.showTrackLabels()},Ck.prototype.setState=function(e){!0===e?this.$button.addClass("igv-nav-bar-button-clicked"):this.$button.removeClass("igv-nav-bar-button-clicked")},Ck.prototype.disable=function(){this.doHide(),this.$button.hide()},Ck.prototype.enable=function(){this.$button.show()};var Tk=function(e,t,n,r){var i=this;this.browser=r,this.$container=au('<div class="igv-center-guide igv-center-guide-thin">'),e.append(this.$container),!0===n.showCenterGuideButton&&(this.$centerGuideToggle=au('<div class="igv-nav-bar-button">'),t.append(this.$centerGuideToggle),this.$centerGuideToggle.text("center line"),this.$centerGuideToggle.on("click",(function(){!0===r.isCenterGuideVisible?i.doHide():i.doShow()})))};Tk.prototype.doHide=function(){this.$centerGuideToggle&&this.$centerGuideToggle.removeClass("igv-nav-bar-button-clicked"),this.browser.hideCenterGuide()},Tk.prototype.doShow=function(){this.$centerGuideToggle&&this.$centerGuideToggle.addClass("igv-nav-bar-button-clicked"),this.browser.showCenterGuide()},Tk.prototype.setState=function(e){this.$centerGuideToggle&&(!0===e?this.$centerGuideToggle.addClass("igv-nav-bar-button-clicked"):this.$centerGuideToggle.removeClass("igv-nav-bar-button-clicked"))},Tk.prototype.forcedHide=function(){this.$centerGuideToggle&&this.$centerGuideToggle.hide(),!0===this.browser.isCenterGuideVisible&&this.$container.hide()},Tk.prototype.forcedShow=function(){this.$centerGuideToggle&&this.$centerGuideToggle.show(),!0===this.browser.isCenterGuideVisible&&this.$container.show()},Tk.prototype.repaint=function(){var e,t,n,r,i,o,a;this.browser.genomicStateList&&(1/(a=this.browser.genomicStateList[0].referenceFrame).bpPerPixel>1?(e=this.browser.trackViews[0].$viewportContainer.position(),t=Math.round(this.browser.trackViews[0].$viewportContainer.width()/2),r=e.left+t-.5*(n=a.toPixels(1)),i=Math.round(r).toString()+"px",o=Math.round(n).toString()+"px",this.$container.css({left:i,width:o}),this.$container.removeClass("igv-center-guide-thin"),this.$container.addClass("igv-center-guide-wide")):(this.$container.css({left:"50%",width:"1px"}),this.$container.removeClass("igv-center-guide-wide"),this.$container.addClass("igv-center-guide-thin")))},Tk.prototype.resize=function(){this.repaint()};var Ak=function(e,t,n,r){var i=this,o=this;this.browser=r,this.$guide=au('<div class="igv-cursor-tracking-guide">'),e.append(this.$guide),e.on("mousemove.cursor-guide",(function(t){t.preventDefault();var n=au(document.elementFromPoint(t.clientX,t.clientY)),o=n.parent(),a=void 0;if(o.hasClass("igv-viewport-content-div")?a=o.parent():o.hasClass("igv-viewport-div")&&n.hasClass("igv-viewport-content-div")?a=o:o.hasClass("igv-viewport-container")&&n.hasClass("igv-viewport-div")&&(a=n),n.attr("class"),o.attr("class"),a){var s=Rk(t,a,i.$guide,e,r);if(s){var u=s.bp,c=s.start,l=s.end,f=s.interpolant;i.customMouseHandler&&i.customMouseHandler({bp:u,start:c,end:l,interpolant:f})}}})),!0===n.showCursorTrackingGuideButton&&(this.$button=au('<div class="igv-nav-bar-button">'),t.append(this.$button),this.$button.text("cursor guide"),this.$button.on("click",(function(){!0===r.cursorGuideVisible?o.doHide():o.doShow()})))},Rk=function(e,t,n,r,i){var o=Ok(r.get(0),e).x,a="".concat(o,"px");n.css({left:a});var s=Ok(t.get(0),e),u=t.data("viewportGUID"),c=i.getViewportWithGUID(u);if(void 0!==c){var l=c.genomicState.referenceFrame,f=l.start,h=1+l.start+s.width*l.bpPerPixel,p=Math.round(f+s.x*l.bpPerPixel),d=t.closest(".igv-track-container-div");return Ok(d.get(0),e),{$host:d,host_css_left:a,bp:p,start:f,end:h,interpolant:s.xNormalized}}};function Ok(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top,xNormalized:(t.clientX-n.left)/n.width,yNormalized:(t.clientY-n.top)/n.height,width:n.width,height:n.height}}Ak.prototype.doHide=function(){this.$button&&this.$button.removeClass("igv-nav-bar-button-clicked"),this.browser.hideCursorGuide()},Ak.prototype.doShow=function(){this.$button.addClass("igv-nav-bar-button-clicked"),this.browser.showCursorGuide()},Ak.prototype.setState=function(e){this.$button&&(!0===e?this.$button.addClass("igv-nav-bar-button-clicked"):this.$button.removeClass("igv-nav-bar-button-clicked"))},Ak.prototype.disable=function(){this.doHide(),this.$guide.hide()},Ak.prototype.enable=function(){this.$button&&this.$button.show()};var Ik=function(e){this.browser=e};function Lk(e){this.browser.$toggle_button_container.removeClass(),this.browser.$toggle_button_container.addClass(e.$toggle_button_container),this.browser.zoomWidget.$zoomContainer.removeClass(),this.browser.zoomWidget.$zoomContainer.addClass(e.$zoomContainer)}function Mk(e,t){var n={};return t?this.browser.windowSizePanel.hide():this.browser.windowSizePanel.show(),e>990?(n.$toggle_button_container="igv-nav-bar-toggle-button-container",n.$zoomContainer="igv-zoom-widget"):e>860?(n.$toggle_button_container="igv-nav-bar-toggle-button-container",n.$zoomContainer="igv-zoom-widget-900"):e>540?(n.$toggle_button_container="igv-nav-bar-toggle-button-container-750",n.$zoomContainer="igv-zoom-widget-900"):(n.$toggle_button_container="igv-nav-bar-toggle-button-container-750",n.$zoomContainer="igv-zoom-widget-900",this.browser.windowSizePanel.hide()),t&&(n.$zoomContainer="igv-zoom-widget-hidden"),n}Ik.prototype.navbarDidResize=function(e,t){Lk.call(this,Mk.call(this,e,t))};var Pk=[];function Nk(){return(Nk=Wn(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){return e.sessionURL?r.loadSession({url:e.sessionURL}):r.loadSessionObject(e)},vv.init(au(t)),void 0===n&&(n={}),Gv.genomeList=n.genomeList||"https://s3.amazonaws.com/igv.org.genomes/genomes.json",Bk(n),!1!==n.queryParametersSupported&&jk(n),Fk(n),Dk(r=new pk(n,t),n),r.userFeedback=new kk(r.$content),r.userFeedback.hide(),r.alertDialog=new gv(r.$content),r.inputDialog=new yk(r.$root),r.trackRemovalDialog=new xk(r.$root),r.dataRangeDialog=new bk(r.$root,r),n.apiKey&&Kg.setApiKey(n.apiKey),n.oauthToken&&Jg.setToken(n.oauthToken),e.abrupt("return",i(n).then((function(e){!1===n.showTrackLabels?r.hideTrackLabels():(r.showTrackLabels(),r.trackLabelControl&&r.trackLabelControl.setState(r.trackLabelsVisible)),!1===n.showCursorTrackingGuide?r.cursorGuide.doHide():r.cursorGuide.doShow(),!1===n.showCenterGuide?r.centerGuide.doHide():r.centerGuide.doShow();var t=r.isMultiLocusWholeGenomeView()||Gv.isWholeGenomeView(r.genomicStateList[0].referenceFrame);return r.isMultiLocusMode()||t?r.centerGuide.forcedHide():r.centerGuide.forcedShow(),_v.startup(),r.navbarManager.navbarDidResize(r.$navigation.width(),t),r})).then((function(e){return Pk.push(e),e})));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fk(e){var t=1;e.tracks&&e.tracks.forEach((function(e){void 0===e.order&&(e.order=t++)}))}function Dk(e,t){var n;n=t.createControls?t.createControls(e,t):function(e,t){var n,r,i,o,a,s,u,c,l,f,h;return l=au("<div>",{class:"igvControlDiv"}),f=au("<div>",{class:"igv-navbar"}),l.append(f),e.$navigation=f,e.navbarManager=new Ik(e),r=au("<div>",{class:"igv-nav-bar-left-container"}),f.append(r),u=au("<div>",{class:"igv-logo"}),(c=au('<svg width="690px" height="324px" viewBox="0 0 690 324" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>IGV</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="IGV" fill="#666666"><polygon id="Path" points="379.54574 8.00169252 455.581247 8.00169252 515.564813 188.87244 532.884012 253.529506 537.108207 253.529506 554.849825 188.87244 614.833392 8.00169252 689.60164 8.00169252 582.729511 320.722144 486.840288 320.722144"></polygon><path d="M261.482414,323.793286 C207.975678,323.793286 168.339046,310.552102 142.571329,284.069337 C116.803612,257.586572 103.919946,217.158702 103.919946,162.784513 C103.919946,108.410325 117.437235,67.8415913 144.472217,41.0770945 C171.507199,14.3125977 212.903894,0.930550071 268.663545,0.930550071 C283.025879,0.930550071 298.232828,1.84616386 314.284849,3.6774189 C330.33687,5.50867394 344.839793,7.97378798 357.794056,11.072835 L357.794056,68.968378 C339.48912,65.869331 323.578145,63.5450806 310.060654,61.9955571 C296.543163,60.4460336 284.574731,59.6712835 274.154998,59.6712835 C255.850062,59.6712835 240.502308,61.4320792 228.111274,64.9537236 C215.720241,68.4753679 205.793482,74.2507779 198.330701,82.2801269 C190.867919,90.309476 185.587729,100.87425 182.48997,113.974767 C179.392212,127.075284 177.843356,143.345037 177.843356,162.784513 C177.843356,181.942258 179.251407,198.000716 182.067551,210.960367 C184.883695,223.920018 189.671068,234.41436 196.429813,242.443709 C203.188559,250.473058 212.059279,256.178037 223.042241,259.558815 C234.025202,262.939594 247.683295,264.629958 264.01693,264.629958 C268.241146,264.629958 273.098922,264.489094 278.590403,264.207362 C284.081883,263.925631 289.643684,263.50304 295.275972,262.939577 L295.275972,159.826347 L361.595831,159.826347 L361.595831,308.579859 C344.698967,313.087564 327.239137,316.750019 309.215815,319.567334 C291.192494,322.38465 275.281519,323.793286 261.482414,323.793286 L261.482414,323.793286 L261.482414,323.793286 Z" id="Path"></path>;<polygon id="Path" points="0.81355666 5.00169252 73.0472883 5.00169252 73.0472883 317.722144 0.81355666 317.722144"></polygon></g> </g> </svg>')).css("width","34px"),c.css("height","32px"),u.append(c),r.append(u),e.$current_genome=au("<div>",{class:"igv-current-genome"}),r.append(e.$current_genome),e.$current_genome.text(""),o=au("<div>",{class:"igv-nav-bar-genomic-location"}),r.append(o),e.chromosomeSelectWidget=new Ek(e,o),void 0===t.showChromosomeWidget&&(t.showChromosomeWidget=!0),!0===t.showChromosomeWidget?e.chromosomeSelectWidget.$container.show():e.chromosomeSelectWidget.$container.hide(),a=au("<div>",{class:"igv-locus-size-group"}),o.append(a),h=au("<div>",{class:"igv-search-container"}),a.append(h),e.$searchInput=au('<input type="text" placeholder="Locus Search">'),h.append(e.$searchInput),e.$searchInput.change((function(t){e.search(au(this).val()).catch((function(t){e.presentAlert(t)}))})),n=au("<div>"),h.append(n),n.append(Fh("search")),n.click((function(){e.search(e.$searchInput.val())})),e.windowSizePanel=new mk(a,e),i=au('<div class="igv-nav-bar-right-container">'),f.append(i),s=au('<div class="igv-nav-bar-toggle-button-container">'),i.append(s),e.$toggle_button_container=s,e.cursorGuide=new Ak(e.$content,s,t,e),e.centerGuide=new Tk(au(e.trackContainerDiv),s,t,e),!0===t.showTrackLabelButton&&(e.trackLabelControl=new Ck(s,e)),t.showSVGButton&&(e.svgSaveControl=new _k(s,e)),e.zoomWidget=new Sk(e,i),!1===t.showNavigation&&e.$navigation.hide(),l.get(0)}(e,t),au(n).insertBefore(e.$content),!1===t.showControls&&au(n).hide()}function Bk(e){void 0===e.promisified&&(e.promisified=!1),void 0===e.minimumBases&&(e.minimumBases=40),void 0===e.showIdeogram&&(e.showIdeogram=!0),void 0===e.showCursorTrackingGuideButton&&(e.showCursorTrackingGuideButton=!0),void 0===e.showCenterGuideButton&&(e.showCenterGuideButton=!0),void 0===e.showSVGButton&&(e.showSVGButton=!0),void 0===e.showTrackLabelButton&&(e.showTrackLabelButton=!0),void 0===e.showCursorTrackingGuide&&(e.showCursorTrackingGuide=!1),void 0===e.showCenterGuide&&(e.showCenterGuide=!1),void 0===e.showTrackLabels&&(e.showTrackLabels=!0),void 0===e.showControls&&(e.showControls=!0),void 0===e.showNavigation&&(e.showNavigation=!0),void 0===e.showRuler&&(e.showRuler=!0),void 0===e.showSequence&&(e.showSequence=!0),void 0===e.flanking&&(e.flanking=1e3),void 0===e.pairsSupported&&(e.pairsSupported=!0),e.tracks||(e.tracks=[]),e.showSequence&&e.tracks.push({type:"sequence",order:-Number.MAX_SAFE_INTEGER})}function jk(e){var t,n,r,i,o,a,s,u,c,l,f;if(o={},t=(s=window.location.href).indexOf("?"),n=s.lastIndexOf("#"),t>=0)for(n<0&&(n=s.length),r=t+1;r<n;)(i=s.indexOf("&",r))<0&&(i=n),2===(a=s.substring(r,i).split("=",2)).length&&(u=a[0],c=decodeURIComponent(a[1]),"file"===u?l=c.split(","):"index"===u?f=c.split(","):e[u]=c,r=i+1);if(l){e.tracks||(e.tracks=[]);for(var h=0;h<l.length;h++){if(l[h].endsWith(".xml")||l[h].endsWith(".json")){e.sessionURL=l[h];break}var p={url:l[h]};f&&f.length>h&&(p.indexURL=f[h]),e.tracks.push(p)}}return o}var zk,Hk=_v,Uk=kg,qk=gm;return(zk=document.createElement("style")).setAttribute("type","text/css"),zk.innerHTML='.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-color-swatch {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: white;\n  border-radius: 4px; }\n\n.igv-colorpicker-menu-close-button {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 32px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  padding-right: 8px; }\n  .igv-colorpicker-menu-close-button i.fa {\n    display: block;\n    margin-left: 4px;\n    margin-right: 4px;\n    color: #5f5f5f; }\n  .igv-colorpicker-menu-close-button i.fa:hover,\n  .igv-colorpicker-menu-close-button i.fa:focus,\n  .igv-colorpicker-menu-close-button i.fa:active {\n    cursor: pointer;\n    color: #0f0f0f; }\n\n.igv-alert-dialog-container {\n  position: absolute;\n  z-index: 2048;\n  top: 30%;\n  left: 50%;\n  margin: -150px 0 0 -150px;\n  width: 300px;\n  height: 256px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-alert-dialog-container div:first-child {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-alert-dialog-container div:first-child div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-alert-dialog-container div:first-child div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-alert-dialog-container #igv-alert-dialog-body {\n    color: #373737;\n    width: 100%;\n    height: calc(100% - 24px - 64px);\n    overflow-y: scroll; }\n    .igv-alert-dialog-container #igv-alert-dialog-body #igv-alert-dialog-body-copy {\n      cursor: pointer;\n      margin: 16px;\n      width: auto;\n      height: auto;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      background-color: white;\n      border: unset; }\n  .igv-alert-dialog-container div:last-child {\n    width: 100%;\n    height: 64px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center; }\n    .igv-alert-dialog-container div:last-child div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: #2B81AF;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-alert-dialog-container div:last-child div:hover {\n      cursor: pointer;\n      border-color: #25597f;\n      background-color: #25597f; }\n\n.igv-generic-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-generic-container div:first-child i {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-generic-dialog-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-dialog-container .igv-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-generic-dialog-container .igv-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-generic-dialog-container .igv-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 128px;\n  z-index: 4096;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background-color: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: none; }\n\n.igv-popover-header {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee; }\n  .igv-popover-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-popover-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-popover-track-popup-content {\n  position: relative;\n  top: 0;\n  left: 0;\n  max-height: 384px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background-color: white; }\n  .igv-popover-track-popup-content div {\n    margin-left: 4px;\n    background-color: white; }\n  .igv-popover-track-popup-content div:hover {\n    cursor: pointer;\n    background-color: #efefef; }\n\n.igv-popover-name-value {\n  cursor: default;\n  text-wrap: none;\n  white-space: nowrap;\n  max-width: 384px; }\n\n.igv-popover-name {\n  font-weight: bold;\n  padding-right: 4px;\n  float: left; }\n\n.igv-popover-value {\n  padding-left: 4px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  max-width: 256px;\n  display: inline-block; }\n\n.igv-trackgear-container {\n  position: relative;\n  width: 20px;\n  height: 20px;\n  margin-left: 4px;\n  color: #7F7F7F; }\n\n.igv-trackgear-container:hover {\n  cursor: pointer;\n  color: #444; }\n\n.igv-trackgear-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 132px;\n  z-index: 4096;\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  text-align: left; }\n  .igv-trackgear-popover > div:not(:first-child) {\n    width: 100%; }\n    .igv-trackgear-popover > div:not(:first-child) > div {\n      background: white; }\n    .igv-trackgear-popover > div:not(:first-child) > div:last-child {\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      border-bottom-color: transparent;\n      border-bottom-style: solid;\n      border-bottom-width: thin; }\n    .igv-trackgear-popover > div:not(:first-child) > div:hover {\n      background: #efefef; }\n\n.igv-trackgear-popover-shim {\n  padding-left: 8px;\n  padding-right: 8px; }\n\n.igv-trackgear-popover-header {\n  position: relative;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center; }\n  .igv-trackgear-popover-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-trackgear-popover-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-trackgear-popover-check-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 20px;\n  background-color: transparent; }\n  .igv-trackgear-popover-check-container div {\n    padding-top: 2px;\n    padding-left: 8px; }\n  .igv-trackgear-popover-check-container div:first-child {\n    position: relative;\n    width: 12px;\n    height: 12px; }\n    .igv-trackgear-popover-check-container div:first-child svg {\n      position: absolute;\n      width: 12px;\n      height: 12px; }\n\n.igvControlDiv {\n  position: relative; }\n\n.igv-content-header {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 10px;\n  height: 16px;\n  width: 100%; }\n  .igv-content-header .igv-ideogram-shim {\n    height: 100%;\n    width: 50px;\n    background-color: white; }\n  .igv-content-header .igv-ideogram-content {\n    height: 100%;\n    background-color: white; }\n  .igv-content-header .igv-ideogram-content-border-right {\n    border-right-color: #292929;\n    border-right-style: solid;\n    border-right-width: 1px; }\n\n.igv-multi-locus-panel-border {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 1px;\n  background-color: green;\n  border-right-color: #ff0000;\n  border-right-style: solid;\n  border-right-width: 1px; }\n\n.igv-navbar {\n  position: relative;\n  padding-left: 8px;\n  padding-right: 8px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  color: #444;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  line-height: 32px;\n  margin-top: 2px;\n  margin-bottom: 4px;\n  height: 32px;\n  border-style: solid;\n  border-radius: 3px;\n  border-width: thin;\n  border-color: #bfbfbf;\n  background-color: #f3f3f3; }\n\n.igv-nav-bar-left-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px; }\n  .igv-nav-bar-left-container .igv-logo {\n    all: initial;\n    width: 34px;\n    height: 32px;\n    margin-right: 8px; }\n  .igv-nav-bar-left-container .igv-current-genome {\n    height: 32px;\n    margin-left: 4px;\n    margin-right: 4px;\n    user-select: none;\n    line-height: 32px;\n    vertical-align: middle;\n    text-align: center; }\n\n.igv-nav-bar-genomic-location {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%; }\n\n.igv-chromosome-select-widget-container {\n  height: 100%;\n  width: 125px;\n  margin-right: 4px;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center; }\n  .igv-chromosome-select-widget-container select {\n    display: block;\n    cursor: pointer;\n    width: 100px;\n    height: 75%;\n    outline: none;\n    font-size: 12px;\n    font-family: "Open Sans", sans-serif;\n    font-weight: 400; }\n\n.igv-locus-size-group {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  margin-left: 8px;\n  height: calc(32px - 10px); }\n  .igv-locus-size-group .igv-search-container {\n    width: 200px;\n    height: calc(32px - 10px);\n    line-height: calc(32px - 10px);\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-locus-size-group .igv-search-container input {\n      cursor: text;\n      width: 85%;\n      height: calc(32px - 10px);\n      line-height: calc(32px - 10px);\n      font-size: 12px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      text-align: left;\n      padding-left: 8px;\n      margin-right: 8px;\n      outline: none;\n      border-style: solid;\n      border-radius: 3px;\n      border-width: thin;\n      border-color: #bfbfbf;\n      background-color: white; }\n    .igv-locus-size-group .igv-search-container div {\n      cursor: pointer;\n      height: 16px;\n      width: 16px; }\n  .igv-locus-size-group .igv-windowsizepanel-content-div {\n    margin-left: 4px;\n    user-select: none; }\n\n.igv-nav-bar-right-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px; }\n  .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 100%; }\n    .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container div {\n      margin-left: 0;\n      margin-right: 4px; }\n    .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container div:last-child {\n      margin-left: 0;\n      margin-right: 0; }\n  .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container-750 {\n    display: none; }\n  .igv-nav-bar-right-container .igv-zoom-widget {\n    color: #737373;\n    font-size: 18px;\n    height: 32px;\n    line-height: 32px;\n    margin-left: 8px;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-nav-bar-right-container .igv-zoom-widget div {\n      cursor: pointer;\n      margin-left: unset;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:first-child {\n      height: 24px;\n      width: 24px;\n      margin-left: unset;\n      margin-right: 8px; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:last-child {\n      height: 24px;\n      width: 24px;\n      margin-left: 8px;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:nth-child(even) {\n      display: block;\n      height: fit-content; }\n    .igv-nav-bar-right-container .igv-zoom-widget input {\n      display: block;\n      width: 125px; }\n    .igv-nav-bar-right-container .igv-zoom-widget svg {\n      display: block; }\n  .igv-nav-bar-right-container .igv-zoom-widget-900 {\n    color: #737373;\n    font-size: 18px;\n    height: 32px;\n    line-height: 32px;\n    margin-left: 8px;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div {\n      cursor: pointer;\n      margin-left: unset;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:first-child {\n      height: 24px;\n      width: 24px;\n      margin-left: unset;\n      margin-right: 8px; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:last-child {\n      height: 24px;\n      width: 24px;\n      margin-left: 8px;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:nth-child(even) {\n      width: 0;\n      height: 0;\n      display: none; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 input {\n      width: 0;\n      height: 0;\n      display: none; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 svg {\n      display: block; }\n  .igv-nav-bar-right-container .igv-zoom-widget-hidden {\n    display: none; }\n\n.igv-nav-bar-button {\n  box-sizing: unset;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 18px;\n  text-transform: capitalize;\n  user-select: none;\n  line-height: 18px;\n  text-align: center;\n  vertical-align: middle;\n  font-family: "Open Sans", sans-serif;\n  font-size: 11px;\n  font-weight: 200;\n  color: #737373;\n  background-color: #f3f3f3;\n  border-color: #737373;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 6px; }\n\n.igv-nav-bar-button-clicked {\n  color: white;\n  background-color: #737373; }\n\n.igv-nav-bar-button:hover {\n  cursor: pointer; }\n\n.igv-logo-nonav {\n  margin-left: 4px;\n  margin-top: 12px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 34px;\n  height: 16px; }\n\n.igv-search-results {\n  position: absolute;\n  top: 32px;\n  left: 2px;\n  height: 320px;\n  width: 213px;\n  background-color: white;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  overflow-x: hidden;\n  overflow-y: auto;\n  z-index: 9999; }\n  .igv-search-results tr {\n    font-family: "Open Sans", sans-serif;\n    font-size: small;\n    font-weight: 400;\n    color: #444; }\n  .igv-search-results tr:hover,\n  .igv-search-results tr:focus,\n  .igv-search-results tr:active {\n    cursor: pointer;\n    font-weight: 700;\n    color: #141414; }\n\n.igv-canvas {\n  all: initial; }\n\n.igv-root-div {\n  position: relative;\n  left: 0;\n  right: 0;\n  height: auto;\n  margin-left: 10px;\n  margin-right: 10px;\n  padding-top: 4px; }\n\n.igv-content-div {\n  position: relative;\n  width: 100%;\n  height: 100%; }\n\n.igv-track-container-div {\n  user-select: none;\n  position: relative;\n  clear: both; }\n\n.igv-track-div {\n  position: relative;\n  width: 100%;\n  margin-top: 5px;\n  margin-bottom: 5px; }\n\n.igv-viewport-container {\n  position: absolute;\n  left: 50px;\n  right: 50px;\n  height: 100%;\n  white-space: nowrap;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-div {\n  position: relative;\n  display: inline-block;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-content-div {\n  position: absolute;\n  width: 100%; }\n\n.igv-viewport-message {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: rgba(0, 0, 0, 0.15);\n  font-family: "Open Sans", sans-serif;\n  font-size: 25px;\n  font-weight: bold;\n  user-select: none; }\n\n.igv-whole-genome-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n  background-color: white; }\n  .igv-whole-genome-container div {\n    font-family: "Open Sans", sans-serif;\n    font-size: 10px;\n    font-weight: 400;\n    color: #444;\n    height: 100%;\n    text-align: center;\n    border-right-color: #bfbfbf;\n    border-right-style: solid;\n    border-right-width: thin; }\n    .igv-whole-genome-container div span {\n      display: block;\n      padding-top: 6px;\n      text-overflow: ellipsis; }\n  .igv-whole-genome-container div:last-child {\n    border-right-color: transparent; }\n  .igv-whole-genome-container div:hover,\n  .igv-whole-genome-container div:focus,\n  .igv-whole-genome-container div:active {\n    cursor: pointer;\n    background-color: #efefef; }\n\n.igv-viewport-div-border-right {\n  border-right-color: #292929;\n  border-right-style: solid;\n  border-right-width: 1px; }\n\n.igv-multi-locus-panel-close-container {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  width: 16px;\n  height: 16px;\n  color: #666666;\n  z-index: 1000; }\n\n.igv-multi-locus-panel-close-container:hover {\n  cursor: pointer;\n  color: #434343; }\n\n.igv-multi-locus-panel-label-div {\n  position: absolute;\n  left: 50%;\n  top: 25%;\n  transform: translate(-50%, -25%);\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  min-width: 16px;\n  z-index: 64;\n  color: #373737;\n  background-color: white;\n  padding: 1px; }\n\n.igv-multi-locus-panel-label-div:hover {\n  cursor: pointer; }\n\n.igv-viewport-ruler {\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: 10px;\n  font-weight: 200;\n  text-align: center; }\n  .igv-viewport-ruler > div {\n    height: 100%; }\n\n.igv-viewport-sequence {\n  font-family: "Open Sans", sans-serif;\n  font-size: 8px;\n  font-weight: 200;\n  text-align: center; }\n\n.igv-viewport-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-track-container-spinner {\n  position: absolute;\n  top: 90%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-ruler-sweeper-div {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  z-index: 99999;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-right-hand-gutter {\n  position: absolute;\n  right: 0;\n  width: 36px;\n  height: 100%;\n  background: white;\n  margin-top: 0px;\n  margin-bottom: 0px; }\n\n.igv-left-hand-gutter {\n  position: absolute;\n  left: 0;\n  width: 50px;\n  height: 100%; }\n  .igv-left-hand-gutter canvas {\n    position: absolute; }\n\n.igv-track-menu-border-top {\n  border-top-color: #a2a2a2;\n  border-top-style: solid;\n  border-top-width: thin; }\n\n.igv-track-menu-category {\n  padding-left: 4px;\n  font-weight: 400; }\n\n.igv-track-drag-scrim {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  z-index: 256;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-track-manipulation-handle {\n  cursor: pointer;\n  position: absolute;\n  right: 36px;\n  width: 12px;\n  margin-left: 2px;\n  height: 100%;\n  box-sizing: border-box;\n  font-size: medium;\n  border-color: #c4c4c4;\n  border-style: solid;\n  border-width: thin;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n  z-index: 512;\n  background-color: #c4c4c4; }\n\n.igv-track-manipulation-handle:hover,\n.igv-track-manipulation-handle:focus,\n.igv-track-manipulation-handle:active {\n  border-color: #7e7e7e;\n  background-color: #7e7e7e; }\n\n.igv-track-label {\n  position: absolute;\n  left: 8px;\n  top: 8px;\n  width: auto;\n  height: auto;\n  max-width: 200px;\n  padding-left: 4px;\n  padding-right: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  text-align: center;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: white;\n  z-index: 128;\n  cursor: pointer; }\n\n.igv-track-label:hover,\n.igv-track-label:focus,\n.igv-track-label:active {\n  background-color: rgba(0, 0, 0, 0.05); }\n\n.igv-scrollbar-outer-div {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 14px;\n  height: 100%;\n  background-color: white; }\n  .igv-scrollbar-outer-div div {\n    position: absolute;\n    top: 0;\n    left: 3px;\n    width: 8px;\n    border-style: solid;\n    border-width: thin;\n    border-color: #c4c4c4;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n    background-color: white; }\n  .igv-scrollbar-outer-div div:hover,\n  .igv-scrollbar-outer-div div:focus,\n  .igv-scrollbar-outer-div div:active {\n    cursor: pointer;\n    background-color: #c4c4c4; }\n\n.zoom-in-notice-container {\n  position: absolute;\n  top: 10px;\n  left: 50%; }\n  .zoom-in-notice-container div {\n    position: relative;\n    left: -50%;\n    font-family: "Open Sans", sans-serif;\n    font-size: medium;\n    font-weight: 400;\n    color: #3f3f3f;\n    background-color: rgba(255, 255, 255, 0.51);\n    z-index: 64; }\n\n.igv-center-guide {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 8px;\n  z-index: 8;\n  display: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-left-style: dashed;\n  border-left-width: thin;\n  border-right-style: dashed;\n  border-right-width: thin; }\n\n.igv-center-guide-wide {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(127, 127, 127, 0.51); }\n\n.igv-center-guide-thin {\n  left: 50%;\n  width: 1px;\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(0, 0, 0, 0);\n  /*background-color: rgba(127, 127, 127, 0.51);*/\n  /*border-left-color: rgba(0,0,0,0);*/\n  /*border-right-color: rgba(0,0,0,0);*/ }\n\n.igv-cursor-tracking-guide {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 1px;\n  z-index: 1;\n  border-left-style: dotted;\n  border-left-width: thin;\n  border-left-color: rgba(127, 127, 127, 0.76);\n  display: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none; }\n\n.igv-clickable {\n  cursor: pointer;\n  background-color: white; }\n\n#color-by-tag {\n  color: #444; }\n\n#color-by-tag:hover,\n#color-by-tag:focus,\n#color-by-tag:active {\n  cursor: pointer;\n  padding-left: 2px;\n  padding-right: 2px;\n  color: white;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: #7f7f7f; }\n\n.igv-ellipsis {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n\n.igv-spinner-container {\n  color: #3f3f3f;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  padding-top: 8px;\n  font-size: 24px;\n  z-index: 512; }\n\n.igv-fa-check-visible {\n  color: inherit;\n  padding-right: 2px; }\n\n.igv-fa-check-hidden {\n  color: transparent;\n  padding-right: 2px; }\n\n.validateTips {\n  border: 1px solid transparent;\n  padding: 0.3em; }\n  .validateTips fieldset {\n    border: 0; }\n\n.igv-spacer-10 {\n  height: 10px;\n  width: 100%;\n  font-size: 0;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  display: block; }\n\n.igv-fa5-spin {\n  -webkit-animation: igv-fa5-spin 2s infinite linear;\n  animation: igv-fa5-spin 2s infinite linear; }\n\n@-webkit-keyframes igv-fa5-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes igv-fa5-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n/*# sourceMappingURL=igv.css.map */\n',document.head.insertBefore(zk,document.head.childNodes[document.head.childNodes.length-1]),{createBrowser:function(e,t){return Nk.apply(this,arguments)},removeBrowser:function(e){e.dispose(),e.$root.remove(),Pk=Pk.filter((function(t){return t!==e}))},removeAllBrowsers:function(){var e,t=hr(Pk);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.dispose(),n.$root.remove()}}catch(e){t.e(e)}finally{t.f()}Pk=[]},visibilityChange:function(){Pk.forEach((function(e){e.visibilityChange()}))},setGoogleOauthToken:function(e){return Jg.setToken(e)},oauth:Jg,version:function(){return"2.6.8"},download:zg,getBrowser:function(){return Pk[0]},doAutoscale:Hg,graphics:qk,createTrack:function(e,t){return pk.prototype.createTrack.call(t,e)},getFilename:av,getExtension:function(e){if(void 0!==e.url){var t=(sv(e.url)?e.url.name:e.url).toLowerCase(),n=t.indexOf("?");return n>0&&(t=t.substr(0,n)),t.endsWith(".gz")?t=t.substr(0,t.length-3):(t.endsWith(".txt")||t.endsWith(".tab")||t.endsWith(".bgz"))&&(t=t.substr(0,t.length-4)),(n=t.lastIndexOf("."))<0?t:t.substr(1+n)}},isFilePath:sv,inferFileFormat:Um,inferTrackTypes:Hm,knownFileExtensions:zm,appendRightHandGutter:function(e){Sm.prototype.appendRightHandGutter.call(this,e)},attachDialogCloseHandlerWithParent:_g,guid:Tg,pageCoordinates:Eg,translateMouseCoordinates:Cg,createIcon:Fh,GtexUtils:Nb,xhr:Hk,Color:Uk,splitLines:bg,isString:mg,numberFormatter:yg,getDataWrapper:Fm,setApiKey:function(e){return Kg.setApiKey(e)},createColorSwatchSelector:Sg,makeDraggable:dh,GenericContainer:_m,Popover:Rg,AlertDialog:gv,InputDialog:yk,TrackRemovalDialog:xk,DataRangeDialog:bk,MenuUtils:Oh,Alert:vv,google:Kg}},e.exports=i()}).call(this,n(54),n(84),n(138).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=d,a/=256,c-=8);e[n+p-d]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(139),o=r(n(51)),a=r(n(1)),s=r(n(35)),u=r(n(253)),c=(r(n(260)),r(n(261))),l=r(n(276)),f=r(n(278)),h=r(n(281)),p=r(n(284)),d=r(n(107)),g=r(n(55)),v=r(n(58)),m=r(n(287)),y=r(n(288)),b=r(n(289)),w=r(n(290)),x=r(n(291)),k=r(n(292)),_=r(n(293)),S=r(n(294)),E=r(n(295)),C=r(n(298)),T=r(n(299)),A=r(n(301)),R=r(n(304)),O=r(n(305)),I=r(n(306)),L=r(n(308)),M=r(n(309)),P=r(n(310)),N=r(n(311));function F(e){return function(t){return t=o.default.extend({},e.defaultOptions,t),{component:e,options:t}}}var D={create:function(e,t){var n="string"==typeof e?document.getElementById(e):e;if(!n)throw new Error("Attempted to create pileup with non-existent element "+e.toString());var r,i=t.tracks.map((function(e){var t=e.data?e.data:e.viz.component.defaultSource;if(!t){var n=null!=e.viz.component.displayName?e.viz.component.displayName:"track";throw new Error("Track '"+n+"' doesn't have a default data source; you must specify one when initializing it.")}return{visualization:e.viz,source:t,track:e}})),c=(r=i,o.default.find(r,(function(e){return!!e.track.isReference})));if(!c)throw new Error("You must include at least one track with type=reference");var l=s.default.render(a.default.createElement(N.default,{referenceSource:c.source,tracks:i,initialRange:t.range}),n),f=null,h=document.body;if(!h)throw new Error("Failed to match: document.body");if(!h.contains(n)){(f=new MutationObserver((function(e){e.forEach((function(e){if("childList"===e.type){for(var t=!1,r=0;r<e.addedNodes.length;r++)(e.addedNodes[r]===n||e.addedNodes[r].contains(n))&&(t=!0);if(t){if(!l)throw"ReactElement was not initialized properly";l.setState({updateSize:!0})}}}))}))).observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}return{setRange:function(e){if(null===l)throw"Cannot call setRange on a destroyed pileup";l.handleRangeChange(e)},getRange:function(){if(null===l)throw"Cannot call getRange on a destroyed pileup";if(null!=l.state.range)return o.default.clone(l.state.range);throw"Cannot call getRange on non-existent range"},zoomIn:function(){if(null===l)throw"Cannot call zoomIn on a destroyed pileup";var e=this.getRange(),t=g.default.scaleRange(new v.default(e.start,e.stop),g.default.ZOOM_FACTOR.IN),n={contig:e.contig,start:t.start,stop:t.stop};return this.setRange(n),n},zoomOut:function(){if(null===l)throw"Cannot call zoomOut on a destroyed pileup";var e=this.getRange(),t=g.default.scaleRange(new v.default(e.start,e.stop),g.default.ZOOM_FACTOR.OUT),n={contig:e.contig,start:t.start,stop:t.stop};return this.setRange(n),n},toSVG:function(e){if(null===l)throw"Cannot call toSVG on a destroyed pileup";return u.default.toSvgDataURL(n).then((function(t){return null!=e&&window.saveAs(t,e),t}))},destroy:function(){if(!i)throw"Cannot call destroy() twice on the same pileup";i.forEach((function(e){e.source.off()})),s.default.unmountComponentAtNode(n),l=null,c=null,i=null,null!=f&&f.disconnect()}}},formats:{bam:p.default.create,alignmentJson:m.default.create,variantJson:y.default.create,featureJson:b.default.create,idiogramJson:w.default.create,cytoBand:l.default.create,vcf:h.default.create,twoBit:c.default.create,bigBed:f.default.create,GAReadAlignment:x.default.create,GAVariant:k.default.create,GAFeature:_.default.create,GAGene:S.default.create,empty:d.default.create},viz:{coverage:F(E.default),genome:F(C.default),genes:F(T.default),features:F(A.default),idiogram:F(R.default),location:F(O.default),scale:F(L.default),variants:F(M.default),genotypes:F(P.default),pileup:F(I.default)},enum:{variants:{allelFrequencyStrategy:i.AllelFrequencyStrategy}},version:"0.6.13"};e.exports=D,"undefined"!=typeof window&&(window.pileup=D)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(254)),o=r(n(256)),a=r(n(257)),s=r(n(258)),u=r(n(259)),c=n(67);function l(e,t){return void 0===t&&(t={}),{width:t.width||c.getNodeWidth(e),height:t.height||c.getNodeHeight(e)}}function f(e,t){void 0===t&&(t={});var n=l(e,t),r=n.width,c=n.height;return i.default(e,t.filter,!0).then((function(e){return o.default(e,t)})).then((function(e){return a.default(e,t)})).then((function(e){return u.default(e,t)})).then((function(e){return s.default(e,r,c)}))}function h(e,t){return void 0===t&&(t={}),f(e,t).then(c.createImage).then(c.delay(100)).then((function(n){var r=document.createElement("canvas"),i=r.getContext("2d"),o=c.getPixelRatio(),a=l(e,t),s=a.width,u=a.height;return r.width=s*o,r.height=u*o,r.style.width=""+s,r.style.height=""+u,i.scale(o,o),t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,r.width,r.height)),i.drawImage(n,0,0),r}))}function p(e,t){void 0===t&&(t={});var n=l(e,t),r=n.width,i=n.height;return h(e,t).then((function(e){return e.getContext("2d").getImageData(0,0,r,i).data}))}function d(e,t){return void 0===t&&(t={}),h(e,t).then((function(e){return e.toDataURL()}))}function g(e,t){return void 0===t&&(t={}),h(e,t).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))}function v(e,t){return void 0===t&&(t={}),h(e,t).then(c.canvasToBlob)}t.toSvgDataURL=f,t.toCanvas=h,t.toPixelData=p,t.toPng=d,t.toJpeg=g,t.toBlob=v,t.default={toSvgDataURL:f,toCanvas:h,toPixelData:p,toPng:d,toJpeg:g,toBlob:v}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(67),o=r(n(255));function a(e){return e instanceof HTMLCanvasElement?i.createImage(e.toDataURL()):e.tagName&&"svg"===e.tagName.toLowerCase()?Promise.resolve(e).then((function(e){return i.svgToDataURL(e)})).then(i.createImage):Promise.resolve(e.cloneNode(!1))}function s(e,t){return t instanceof Element?Promise.resolve().then((function(){return function(e,t){var n=window.getComputedStyle(e),r=t.style;n.cssText?r.cssText=n.cssText:i.toArray(n).forEach((function(e){r.setProperty(e,n.getPropertyValue(e),n.getPropertyPriority(e))}))}(e,t)})).then((function(){return o.default(e,t)})).then((function(){return function(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}(e,t)})).then((function(){return t})):t}function u(e,t,n){return n||!t||t(e)?Promise.resolve(e).then(a).then((function(n){return function(e,t,n){var r=i.toArray(e.childNodes);return 0===r.length?Promise.resolve(t):r.reduce((function(e,r){return e.then((function(){return u(r,n)})).then((function(e){e&&t.appendChild(e)}))}),Promise.resolve()).then((function(){return t}))}(e,n,t)})).then((function(t){return s(e,t)})):Promise.resolve(null)}t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67);function i(e,t,n){var i="."+e+":"+t,o=n.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(n):function(e){return r.toArray(e).map((function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")+";"})).join(" ")}(n);return document.createTextNode(i+"{"+o+"}")}t.default=function(e,t){[":before",":after"].forEach((function(n){return function(e,t,n){var o=window.getComputedStyle(e,n),a=o.getPropertyValue("content");if(""!==a&&"none"!==a){var s=r.uuid(),u=document.createElement("style");u.appendChild(i(s,n,o)),t.className=t.className+" "+s,t.appendChild(u)}}(e,t,n)}))}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(67),o=r(n(140));function a(e){if(void 0===e)return[];var t=e,n=[],r=new RegExp("(\\/\\*[\\s\\S]*?\\*\\/)","gi");t=t.replace(r,"");for(var i,o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");null!==(i=o.exec(t));)n.push(i[0]);t=t.replace(o,"");for(var a=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");null!==(i=a.exec(t));)n.push(i[0]);return n}function s(e,t){return fetch(e).then((function(t){return{url:e,cssText:t.text()}}),(function(e){console.log("ERROR FETCHING CSS: ",e.toString())}))}function u(e){return e.cssText.then((function(t){var n=t,r=(n.match(/url\([^)]+\)/g)||[]).map((function(t){var r=t.replace(/url\(([^]+)\)/g,"$1");if(!r.startsWith("https://")){var i=e.url;r=new URL(r,i).href}return new Promise((function(e,i){fetch(r).then((function(e){return e.blob()})).then((function(r){var i=new FileReader;i.addEventListener("load",(function(r){n=n.replace(t,"url("+i.result+")"),e([t,i.result])})),i.readAsDataURL(r)})).catch(i)}))}));return Promise.all(r).then((function(){return n}))}))}function c(e){var t=[],n=[];return e.forEach((function(t){if("cssRules"in t)try{i.toArray(t.cssRules).forEach((function(e){e.type===CSSRule.IMPORT_RULE&&n.push(s(e.href).then(u).then((function(e){a(e).forEach((function(e){t.insertRule(e,t.cssRules.length)}))})).catch((function(e){console.log("Error loading remote css",e.toString())})))}))}catch(i){var r=e.find((function(e){return null===e.href}))||document.styleSheets[0];null!=t.href&&n.push(s(t.href).then(u).then((function(e){a(e).forEach((function(e){r.insertRule(e,t.cssRules.length)}))})).catch((function(e){console.log("Error loading remote stylesheet",e.toString())}))),console.log("Error inlining remote css file",i.toString())}})),Promise.all(n).then((function(){return e.forEach((function(e){if("cssRules"in e)try{i.toArray(e.cssRules).forEach((function(e){t.push(e)}))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}})),t}))}function l(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return o.shouldEmbed(e.style.getPropertyValue("src"))}))}function f(e){return new Promise((function(t,n){e.ownerDocument||n(new Error("Provided element is not within a Document")),t(i.toArray(e.ownerDocument.styleSheets))})).then(c).then(l)}t.parseWebFontRules=f,t.default=function(e,t){return f(e).then((function(e){return Promise.all(e.map((function(e){var n=e.parentStyleSheet?e.parentStyleSheet.href:null;return o.default(e.cssText,n,t)})))})).then((function(e){return e.join("\n")})).then((function(t){var n=document.createElement("style"),r=document.createTextNode(t);return n.appendChild(r),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),e}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(67),o=r(n(141)),a=r(n(140));function s(e,t){return e instanceof Element?Promise.resolve(e).then((function(e){return function(e,t){var n=e.style.getPropertyValue("background");return n?Promise.resolve(n).then((function(e){return a.default(e,null,t)})).then((function(t){return e.style.setProperty("background",t,e.style.getPropertyPriority("background")),e})):Promise.resolve(e)}(e,t)})).then((function(e){return function(e,t){return e instanceof HTMLImageElement&&!i.isDataUrl(e.src)?Promise.resolve(e.src).then((function(e){return o.default(e,t)})).then((function(t){return i.toDataURL(t,i.getMimeType(e.src))})).then((function(t){return new Promise((function(n,r){e.onload=n,e.onerror=r,e.src=t}))})).then((function(){return e}),(function(){return e})):Promise.resolve(e)}(e,t)})).then((function(e){return function(e,t){var n=i.toArray(e.childNodes).map((function(e){return s(e,t)}));return Promise.all(n).then((function(){return e}))}(e,t)})):Promise.resolve(e)}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67);t.default=function(e,t,n){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return o.setAttributeNS("","width",""+t),o.setAttributeNS("","height",""+n),a.setAttributeNS("","width","100%"),a.setAttributeNS("","height","100%"),a.setAttributeNS("","x","0"),a.setAttributeNS("","y","0"),a.setAttributeNS("","externalResourcesRequired","true"),o.appendChild(a),a.appendChild(e),r.svgToDataURL(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.style;return t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=t.width+"px"),t.height&&(n.height=t.height+"px"),t.style&&Object.assign(n,t.style),e}},function(e,t,n){(function(n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(e,n,a){var s=o.URL||o.webkitURL,u=document.createElement("a");n=n||e.name||"download",u.download=n,u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?i(u):r(u.href)?t(e,n,a):i(u,u.target="_blank")):(u.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){i(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),n);else if(r(e))t(e,n,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){i(a)}))}}:function(e,n,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var a="application/octet-stream"===e.type,s=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var l=o.URL||o.webkitURL,f=l.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout((function(){l.revokeObjectURL(f)}),4e4)}});o.saveAs=a.saveAs=a,e.exports=a})?r.apply(t,i):r)||(e.exports=o)}).call(this,n(54))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(56)),o=r(n(51)),a=n(57),s=r(n(52)),u=r(n(273)),c=r(n(77)),l=r(n(275)),f=r(n(55)),h=1e4,p=function(e){var t=[],n=new l.default,r=[];function u(t){if(t.length()>1e5)return d.trigger("newdatarefused",t),i.default.when();r.push(t),r=s.default.coalesce(r),e.getFeaturesInRange(t.contig,t.start(),t.stop()).then((function(e){e&&(e.length<t.length()&&(t=new s.default(t.contig,t.start(),t.start()+e.length-1)),n.setRange(t,e))})).then((function(){d.trigger("newdata",t)})).done()}function c(e){return p.then((function(){return function(e){if(t.indexOf(e.contig)>=0)return e;var n=f.default.altContigName(e.contig);return t.indexOf(n)>=0?{contig:n,start:e.start,stop:e.stop}:e}(e)}))}var p=e.getContigList().then((function(e){return t=e,d.trigger("contigs",t),e}));p.done();var d={rangeChanged:function(e){c(e).then((function(e){var t=new s.default(e.contig,e.start,e.stop);if(!t.isCoveredBy(r)){var n=(t=t.round(h,!0)).complementIntervals(r),i=!0,o=!1,a=void 0;try{for(var c,l=n[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){u(c.value)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}})).done()},getRange:function(e){return n.getAsObjects(s.default.fromGenomeRange(e))},getRangeAsString:function(e){return e?n.getAsString(s.default.fromGenomeRange(e)):""},contigList:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return t})),normalizeRange:c,on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return o.default.extend(d,a.Events),d};e.exports={create:function(e){var t=e.url;if(!t)throw new Error("Missing URL from track: "+JSON.stringify(e));return p(new u.default(new c.default(t)))},createFromTwoBitFile:p,testBasePairsToFetch:function(e){if(!e)return h;h=e}}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(d,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},h.clearImmediate=p}function p(e){delete c[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(54),n(84))},function(e,t,n){"use strict";var r=n(85),i=n(264),o=n(265),a=n(266),s=n(267);function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,l(e)):-2}function h(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):-2}function p(e,t){var n,r;return e?(r=new c,e.state=r,r.window=null,0!==(n=h(e,t))&&(e.state=null),n):-2}var d,g,v=!0;function m(e){if(v){var t;for(d=new r.Buf32(512),g=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,d,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,g,0,e.work,{bits:5}),v=!1}e.lencode=d,e.lenbits=9,e.distcode=g,e.distbits=5}function y(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=f,t.inflateReset2=h,t.inflateResetKeep=l,t.inflateInit=function(e){return p(e,15)},t.inflateInit2=p,t.inflate=function(e,t){var n,c,l,f,h,p,d,g,v,b,w,x,k,_,S,E,C,T,A,R,O,I,L,M,P=0,N=new r.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),h=e.next_out,l=e.output,d=e.avail_out,f=e.next_in,c=e.input,p=e.avail_in,g=n.hold,v=n.bits,b=p,w=d,I=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(2&n.wrap&&35615===g){n.check=0,N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0),g=0,v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&g)){e.msg="unknown compression method",n.mode=30;break}if(v-=4,O=8+(15&(g>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&g?10:12,g=0,v=0;break;case 2:for(;v<16;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(n.flags=g,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0)),g=0,v=0,n.mode=3;case 3:for(;v<32;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.head&&(n.head.time=g),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,N[2]=g>>>16&255,N[3]=g>>>24&255,n.check=o(n.check,N,4,0)),g=0,v=0,n.mode=4;case 4:for(;v<16;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0)),g=0,v=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0)),g=0,v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((x=n.length)>p&&(x=p),x&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,f,x,O)),512&n.flags&&(n.check=o(n.check,c,x,f)),p-=x,f+=x,n.length-=x),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;x=0;do{O=c[f+x++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&x<p);if(512&n.flags&&(n.check=o(n.check,c,x,f)),p-=x,f+=x,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;x=0;do{O=c[f+x++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&x<p);if(512&n.flags&&(n.check=o(n.check,c,x,f)),p-=x,f+=x,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(g!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}g=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}e.adler=n.check=u(g),g=0,v=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=d,e.next_in=f,e.avail_in=p,n.hold=g,n.bits=v,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){g>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}switch(n.last=1&g,v-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(m(n),n.mode=20,6===t){g>>>=2,v-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}g>>>=2,v-=2;break;case 14:for(g>>>=7&v,v-=7&v;v<32;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&g,g=0,v=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(x=n.length){if(x>p&&(x=p),x>d&&(x=d),0===x)break e;r.arraySet(l,c,f,x,h),p-=x,f+=x,d-=x,h+=x,n.length-=x;break}n.mode=12;break;case 17:for(;v<14;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(n.nlen=257+(31&g),g>>>=5,v-=5,n.ndist=1+(31&g),g>>>=5,v-=5,n.ncode=4+(15&g),g>>>=4,v-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.lens[F[n.have++]]=7&g,g>>>=3,v-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},I=s(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,I){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(P=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,C=65535&P,!((S=P>>>24)<=v);){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(C<16)g>>>=S,v-=S,n.lens[n.have++]=C;else{if(16===C){for(M=S+2;v<M;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(g>>>=S,v-=S,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],x=3+(3&g),g>>>=2,v-=2}else if(17===C){for(M=S+3;v<M;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}v-=S,O=0,x=3+(7&(g>>>=S)),g>>>=3,v-=3}else{for(M=S+7;v<M;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}v-=S,O=0,x=11+(127&(g>>>=S)),g>>>=7,v-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},I=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,I){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},I=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,I){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(p>=6&&d>=258){e.next_out=h,e.avail_out=d,e.next_in=f,e.avail_in=p,n.hold=g,n.bits=v,a(e,w),h=e.next_out,l=e.output,d=e.avail_out,f=e.next_in,c=e.input,p=e.avail_in,g=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;E=(P=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,C=65535&P,!((S=P>>>24)<=v);){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(E&&0==(240&E)){for(T=S,A=E,R=C;E=(P=n.lencode[R+((g&(1<<T+A)-1)>>T)])>>>16&255,C=65535&P,!(T+(S=P>>>24)<=v);){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}g>>>=T,v-=T,n.back+=T}if(g>>>=S,v-=S,n.back+=S,n.length=C,0===E){n.mode=26;break}if(32&E){n.back=-1,n.mode=12;break}if(64&E){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&E,n.mode=22;case 22:if(n.extra){for(M=n.extra;v<M;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(P=n.distcode[g&(1<<n.distbits)-1])>>>16&255,C=65535&P,!((S=P>>>24)<=v);){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(0==(240&E)){for(T=S,A=E,R=C;E=(P=n.distcode[R+((g&(1<<T+A)-1)>>T)])>>>16&255,C=65535&P,!(T+(S=P>>>24)<=v);){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}g>>>=T,v-=T,n.back+=T}if(g>>>=S,v-=S,n.back+=S,64&E){e.msg="invalid distance code",n.mode=30;break}n.offset=C,n.extra=15&E,n.mode=24;case 24:if(n.extra){for(M=n.extra;v<M;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===d)break e;if(x=w-d,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}x>n.wnext?(x-=n.wnext,k=n.wsize-x):k=n.wnext-x,x>n.length&&(x=n.length),_=n.window}else _=l,k=h-n.offset,x=n.length;x>d&&(x=d),d-=x,n.length-=x;do{l[h++]=_[k++]}while(--x);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;l[h++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===p)break e;p--,g|=c[f++]<<v,v+=8}if(w-=d,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?o(n.check,l,w,h-w):i(n.check,l,w,h-w)),w=d,(n.flags?g:u(g))!==n.check){e.msg="incorrect data check",n.mode=30;break}g=0,v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===p)break e;p--,g+=c[f++]<<v,v+=8}if(g!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}g=0,v=0}n.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=h,e.avail_out=d,e.next_in=f,e.avail_in=p,n.hold=g,n.bits=v,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?o(n.check,l,w,e.next_out-w):i(n.check,l,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===w||4===t)&&0===I&&(I=-5),I)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:y(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,m,y,b,w,x,k,_,S,E,C;n=e.state,r=e.next_in,E=e.input,i=r+(e.avail_in-5),o=e.next_out,C=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,f=n.wnext,h=n.window,p=n.hold,d=n.bits,g=n.lencode,v=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{d<15&&(p+=E[r++]<<d,d+=8,p+=E[r++]<<d,d+=8),b=g[p&m];t:for(;;){if(p>>>=w=b>>>24,d-=w,0===(w=b>>>16&255))C[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(d<w&&(p+=E[r++]<<d,d+=8),x+=p&(1<<w)-1,p>>>=w,d-=w),d<15&&(p+=E[r++]<<d,d+=8,p+=E[r++]<<d,d+=8),b=v[p&y];n:for(;;){if(p>>>=w=b>>>24,d-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(p&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&b,d<(w&=15)&&(p+=E[r++]<<d,(d+=8)<w&&(p+=E[r++]<<d,d+=8)),(k+=p&(1<<w)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=w,d-=w,k>(w=o-a)){if((w=k-w)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=0,S=h,0===f){if(_+=c-w,w<x){x-=w;do{C[o++]=h[_++]}while(--w);_=o-k,S=C}}else if(f<w){if(_+=c+f-w,(w-=f)<x){x-=w;do{C[o++]=h[_++]}while(--w);if(_=0,f<x){x-=w=f;do{C[o++]=h[_++]}while(--w);_=o-k,S=C}}}else if(_+=f-w,w<x){x-=w;do{C[o++]=h[_++]}while(--w);_=o-k,S=C}for(;x>2;)C[o++]=S[_++],C[o++]=S[_++],C[o++]=S[_++],x-=3;x&&(C[o++]=S[_++],x>1&&(C[o++]=S[_++]))}else{_=o-k;do{C[o++]=C[_++],C[o++]=C[_++],C[o++]=C[_++],x-=3}while(x>2);x&&(C[o++]=C[_++],x>1&&(C[o++]=C[_++]))}break}}break}}while(r<i&&o<s);r-=x=d>>3,p&=(1<<(d-=x<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=d}},function(e,t,n){"use strict";var r=n(85),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,c,l,f,h){var p,d,g,v,m,y,b,w,x,k=h.bits,_=0,S=0,E=0,C=0,T=0,A=0,R=0,O=0,I=0,L=0,M=null,P=0,N=new r.Buf16(16),F=new r.Buf16(16),D=null,B=0;for(_=0;_<=15;_++)N[_]=0;for(S=0;S<u;S++)N[t[n+S]]++;for(T=k,C=15;C>=1&&0===N[C];C--);if(T>C&&(T=C),0===C)return c[l++]=20971520,c[l++]=20971520,h.bits=1,0;for(E=1;E<C&&0===N[E];E++);for(T<E&&(T=E),O=1,_=1;_<=15;_++)if(O<<=1,(O-=N[_])<0)return-1;if(O>0&&(0===e||1!==C))return-1;for(F[1]=0,_=1;_<15;_++)F[_+1]=F[_]+N[_];for(S=0;S<u;S++)0!==t[n+S]&&(f[F[t[n+S]]++]=S);if(0===e?(M=D=f,y=19):1===e?(M=i,P-=257,D=o,B-=257,y=256):(M=a,D=s,y=-1),L=0,S=0,_=E,m=l,A=T,R=0,g=-1,v=(I=1<<T)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){b=_-R,f[S]<y?(w=0,x=f[S]):f[S]>y?(w=D[B+f[S]],x=M[P+f[S]]):(w=96,x=0),p=1<<_-R,E=d=1<<A;do{c[m+(L>>R)+(d-=p)]=b<<24|w<<16|x|0}while(0!==d);for(p=1<<_-1;L&p;)p>>=1;if(0!==p?(L&=p-1,L+=p):L=0,S++,0==--N[_]){if(_===C)break;_=t[n+f[S]]}if(_>T&&(L&v)!==g){for(0===R&&(R=T),m+=E,O=1<<(A=_-R);A+R<C&&!((O-=N[A+R])<=0);)A++,O<<=1;if(I+=1<<A,1===e&&I>852||2===e&&I>592)return 1;c[g=L&v]=T<<24|A<<16|m-l|0}}return 0!==L&&(c[m+L]=_-R<<24|64<<16|0),h.bits=T,0}},function(e,t,n){"use strict";var r=n(85),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,c=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)c[r++]=i;else if((o=a[i])>4)c[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return u(c,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(56)),a=i(n(51)),s=i(n(70)),u=i(n(274)),c=["T","C","A","G"];function l(e){this.name="IncompleteChunkError",this.message=e||""}function f(e){try{return e()}catch(e){throw"RangeError"==e.name||"INDEX_SIZE_ERR"==e.name?(console.log("Error name: "+e.name),new l(e)):e}}function h(e,t,n,r,i){return e.getBytes(t,n).then(i).catch((function(o){if("IncompleteChunkError"==o.name){if(n>r)throw"Couldn't parse the header from the first "+n+" bytes of the file. Corrupted 2bit file?";return h(e,t,2*n,r,i)}throw o}))}l.prototype=Object.create(Error.prototype,{constructor:{value:l,writable:!0,configurable:!0}});var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.remoteFile=t;var n=o.default.defer();this.header=n.promise,h(this.remoteFile,0,16384,1048576,(function(e){var t=f((function(){return function(e){var t=new s.default(e,u.default.TYPE_SET).read("Header");return{sequenceCount:t.sequenceCount,sequences:t.sequences}}(e)}));n.resolve(t)})).done()}return r(e,[{key:"getFeaturesInRange",value:function(e,t,n){var r=this;if(t>n)throw"Requested a 2bit range with start > stop ("+t+", "+n+")";return this._getSequenceHeader(e).then((function(e){var i=e.offset+e.dnaOffsetFromHeader,o=Math.floor(i+t/4),a=Math.ceil((n-t+1)/4)+1;return r.remoteFile.getBytes(o,a).then((function(r){return function(e,t,n){for(var r=t+e.length-1,i=0;i<n.unknownBlockStarts.length;i++){var o=n.unknownBlockStarts[i],a=o+n.unknownBlockLengths[i]-1,s=Math.max(o,t),u=Math.min(a,r);if(!(u<s))for(var c=s;c<=u;c++)e[c-t]="N"}return e}(function(e,t,n){var r=[];r.length=4*e.byteLength;for(var i=-t,o=0;o<e.byteLength;o++)for(var a=e.getUint8(o),s=6;s>=0;s-=2){var u=c[a>>s&3];t>=0&&(r[i]=u),i++}return r.length=n,r}(new DataView(r),t%4,n-t+1),t,e).join("")}))})).then((function(e){return e}))}},{key:"getContigList",value:function(){return this.header.then((function(e){return e.sequences.map((function(e){return e.name}))}))}},{key:"_getSequenceHeader",value:function(e){var t=this;return this.header.then((function(n){var r=a.default.findWhere(n.sequences,{name:e})||a.default.findWhere(n.sequences,{name:"chr"+e});if(null==r)throw"Invalid contig: "+e;var i=r;return h(t.remoteFile,i.offset,4095,1048576,(function(e){return f((function(){return function(e,t){var n=new s.default(e,u.default.TYPE_SET),r=n.read("SequenceRecord"),i=n.tell()+8*r.maskBlockCount+4;return{numBases:r.dnaSize,unknownBlockStarts:r.nBlockStarts,unknownBlockLengths:r.nBlockSizes,numMaskBlocks:r.maskBlockCount,maskBlockStarts:[],maskBlockLengths:[],dnaOffsetFromHeader:i,offset:t}}(e,i.offset)}))}))})).then((function(e){return e}))}}]),e}();e.exports=p},function(e,t,n){"use strict";e.exports={TYPE_SET:{"jBinary.littleEndian":!0,Header:{magic:["const","uint32",440477507,!0],version:["const","uint32",0,!0],sequenceCount:"uint32",reserved:"uint32",sequences:["array","SequenceHeader","sequenceCount"]},SequenceHeader:{nameSize:"uint8",name:["string","nameSize"],offset:"uint32"},SequenceRecord:{dnaSize:"uint32",nBlockCount:"uint32",nBlockStarts:["array","uint32","nBlockCount"],nBlockSizes:["array","uint32","nBlockCount"],maskBlockCount:"uint32"}}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i,o=n(51),a=(i=o)&&i.__esModule?i:{default:i},s=n(55),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contigMap={}}return r(e,[{key:"setRange",value:function(e,t){if(0!==e.length()){if(e.length()!=t.length)throw"setRange length mismatch";var n=this._getSequences(e.contig);n||(n=this.contigMap[e.contig]={});var r=!0,i=!1,o=void 0;try{for(var a,s=this._chunkForInterval(e.interval)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=u.chunkStart+u.offset-e.start();this._setChunk(n,u,t.slice(c,c+u.length))}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}}},{key:"getAsString",value:function(e){var t=this._getSequences(e.contig);if(!t)return".".repeat(e.length());var n=this._chunkForInterval(e.interval),r="",i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=t[c.chunkStart];l?0===c.offset&&c.length==l.length?r+=l:r+=l.slice(c.offset,c.offset+c.length):r+=".".repeat(c.length)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return r}},{key:"getAsObjects",value:function(e){return a.default.object(a.default.map(this.getAsString(e),(function(t,n){return[e.contig+":"+(e.start()+n),"."==t?null:t]})))}},{key:"_getChunk",value:function(e,t){return e[t]||".".repeat(1e3)}},{key:"_chunkForInterval",value:function(e){var t=e.start%1e3,n=e.start-t,r=[{chunkStart:n,offset:t,length:Math.min(1e3-t,e.length())}];for(n+=1e3;n<=e.stop;n+=1e3)r.push({chunkStart:n,offset:0,length:Math.min(1e3,e.stop-n+1)});return r}},{key:"_setChunk",value:function(e,t,n){if(0!==t.offset||1e3!=n.length){var r=this._getChunk(e,t.chunkStart);e[t.chunkStart]=r.slice(0,t.offset)+n+r.slice(t.offset+n.length)}else e[t.chunkStart]=n}},{key:"_getSequences",value:function(e){return this.contigMap[e]||this.contigMap[(0,s.altContigName)(e)]||null}}]),e}();e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(51)),o=n(57),a=r(n(52)),s=(r(n(87)),n(277)),u=r(n(77)),c=r(n(55)),l=function(e){var t={};function n(e){if(void 0!==t[e.contig])return e;var n=c.default.altContigName(e.contig);return void 0!==t[n]?new a.default(n,e.start(),e.stop()):e}var r={rangeChanged:function(n){var i;void 0===t[n.contig]&&(i=new a.default(n.contig,n.start,n.stop),e.getFeaturesInRange(i).then((function(e){t[e.name]=e})).then((function(){r.trigger("newdata",i)})).done())},getFeaturesInRange:function(e){return[t[n(e).contig]]},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return i.default.extend(r,o.Events),r};e.exports={create:function(e){if(!e)throw new Error("Missing URL from track: "+e);return l(new s.CytoBandFile(new u.default(e)))},createFromCytoBandFile:l}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(51)),s=i(n(52)),u=i(n(87)),c=i(n(102));function l(e){var t=e.split("\t");return{contig:t[0],band:{start:Number(t[1]),end:Number(t[2]),name:t[3],value:t[4]}}}var f=function(){function e(t){o(this,e),this.chrs=t}return r(e,[{key:"getFeaturesInRange",value:function(e){return this.chrs[e.contig]}}]),e}(),h=function(){function e(t){o(this,e),this.remoteFile=t,this.immediate=this.remoteFile.getAll().then((function(e){var t=c.default.inflate(e,{to:"string"});return a.default.filter(t.split("\n"),(function(e){return e})).map(l)})).then((function(e){var t=a.default.groupBy(e,(function(e){return e.contig})),n=a.default.mapObject(t,(function(e){return function(e){var t=a.default.map(e,(function(e){return e.band}));return new u.default({name:e[0].contig,bands:t,position:new s.default(e[0].contig,t[0].start,t.slice(-1)[0].end)})}(e)}));return new f(n)})),this.immediate.done()}return r(e,[{key:"getFeaturesInRange",value:function(e){return this.immediate.then((function(t){return t.getFeaturesInRange(e)}))}}]),e}();e.exports={CytoBandFile:h}},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function i(e){return e&&e.__esModule?e:{default:e}}var o=n(88),a=i(n(51)),s=i(n(56)),u=n(57),c=i(n(52)),l=i(n(58)),f=i(n(279)),h=i(n(103));function p(e){var t=new c.default(e.contig,e.start,e.stop),n=e.rest.split("\t"),i=n[0]?n[0]:t.toString(),s=n[1]?parseInt(n[1]):1e3,u=(0,o.strToStrand)(n[2]),f=n[3]&&n[4]?new l.default(Number(n[3]),Number(n[4])):new l.default(e.start,e.stop),p=n[9]?n[9]:i,d=n[10]?n[10]:"",g=[];if(n[7]&&n[8]){var v=n[7].replace(/,*$/,"").split(",").map(Number),m=n[8].replace(/,*$/,"").split(",").map(Number);g=a.default.zip(m,v).map((function(t){var n=r(t,2),i=n[0],o=n[1];return new l.default(e.start+i,e.start+i+o)}))}return new h.default({position:t,id:i,score:s,strand:u,codingRegion:f,geneId:p,name:d,exons:g})}function d(e){var t={},n=[];function r(e){t[e.id]||(t[e.id]=e)}var i={rangeChanged:function(t){var o,a;(o=t,a=new c.default(o.contig,o.start,o.stop),a.isCoveredBy(n)?s.default.when():(n.push(a),n=c.default.coalesce(n),e.getFeatureBlocksOverlapping(a).then((function(e){e.forEach((function(e){n.push(e.range),n=c.default.coalesce(n),e.rows.map(p).forEach((function(e){return r(e)}))})),i.trigger("newdata",a),i.trigger("networkdone")})))).done()},getFeaturesInRange:function(e){if(!e)return[];var n=[];return a.default.each(t,(function(t){e.intersects(t.position)&&n.push(t)})),n},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return a.default.extend(i,u.Events),i}e.exports={create:function(e){var t=e.url;if(!t)throw new Error("Missing URL from track: "+JSON.stringify(e));return d(new f.default(t))},createFromBigBedFile:d}},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(56)),u=o(n(51)),c=o(n(70)),l=o(n(102)),f=o(n(77)),h=o(n(58)),p=o(n(52)),d=o(n(55)),g=o(n(280));function v(e){return new c.default(e,g.default.TYPE_SET).read("Header")}function m(e){return new c.default(e,g.default.TYPE_SET).read("CirTree")}function y(e,t,n){return e.isLeaf?function(e){if(!e)throw"Invalid chromosome tree";return s.default.resolve(u.default.object(e.map((function(e){var t=e.id;return[e.key.replace(/\0.*/,""),t]}))))}(e.contents):function(e,t,n){return s.default.all(e.map((function(e){e.key;var r=e.offset;return n.getBytes(r,65536).then((function(e){return function(e,t){var n=u.default.extend({},g.default.TYPE_SET);return n.BPlusTreeNode.contents[1][2].key[1]=t,n.BPlusTreeNode.contents[1][3].key[1]=t,new c.default(e,n).read("BPlusTreeNode")}(e,t)})).then((function(e){return y(e,t,n)}))}))).then((function(e){return u.default.reduce(e,(function(e,t){return u.default.extend(e,t)}),{})}))}(e.contents,t,n)}var b=function(){function e(t,n,r,i){a(this,e),this.remoteFile=t,this.header=n,this.cirTree=r,this.contigMap=i,this.chrIdToContig=function(e){var t=[];return u.default.each(e,(function(e,n){t[e]=n})),t}(i)}return i(e,[{key:"getContigId",value:function(e){if(e in this.contigMap)return this.contigMap[e];var t="chr"+e;if(t in this.contigMap)return this.contigMap[t];throw"Invalid contig "+e}},{key:"getChrIdInterval",value:function(e){return new p.default(this.getContigId(e.contig),e.start(),e.stop())}},{key:"getContigInterval",value:function(e){return new p.default(this.chrIdToContig[e.contig],e.start(),e.stop())}},{key:"attachContigToBedRows",value:function(e){var t=this;return e.map((function(e){return{contig:t.chrIdToContig[e.chrId],start:e.start,stop:e.stop,rest:e.rest}}))}},{key:"findOverlappingBlocks",value:function(e){var t=[],n=[[e.contig,e.start()],[e.contig,e.stop()]];return function e(r){if(r.contents)r.contents.forEach(e);else{var i=[[r.startChromIx,r.startBase],[r.endChromIx,r.endBase]];d.default.tupleRangeOverlaps(i,n)&&t.push(r)}}(this.cirTree.blocks),t}},{key:"fetchFeaturesByBlock",value:function(e){var t=this.findOverlappingBlocks(e);if(0===t.length)return s.default.when([]);var n=h.default.boundingInterval(t.map((function(e){return new h.default(+e.offset,e.offset+e.size)}))),r=this.header.uncompressBufSize>0;return this.remoteFile.getBytes(n.start,n.length()).then((function(e){return t.map((function(t){var i=function(e,t,n,r){var i=n.offset-t.start,o=i+n.size,a=e.slice(i+(r?2:0),o),s=r?l.default.inflateRaw(new Uint8Array(a)):a;return new c.default(s,g.default.TYPE_SET).read("BedBlock")}(e,n,t,r);if(t.startChromIx!=t.endChromIx)throw"Can't handle blocks which span chromosomes!";return{range:new p.default(t.startChromIx,t.startBase,t.endBase),rows:i}}))}))}},{key:"fetchFeatures",value:function(e){var t=this;return this.fetchFeaturesByBlock(e).then((function(n){var r=u.default.flatten(n.map((function(e){return e.rows})));return r=r.filter((function(t){var n=new p.default(t.chrId,t.start,t.stop-1);return e.intersects(n)})),t.attachContigToBedRows(r)}))}},{key:"getFeaturesInRange",value:function(e){return this.fetchFeatures(this.getChrIdInterval(e))}},{key:"getFeatureBlocksOverlapping",value:function(e){var t=this,n=this.getChrIdInterval(e);return this.fetchFeaturesByBlock(n).then((function(e){return e.map((function(e){return{range:t.getContigInterval(e.range),rows:t.attachContigToBedRows(e.rows)}}))}))}}]),e}(),w=function(){function e(t){var n=this;a(this,e),this.remoteFile=new f.default(t),this.header=this.remoteFile.getBytes(0,65536).then(v),this.contigMap=this.header.then((function(e){return function(e,t){return y(e.chromosomeTree.nodes,e.chromosomeTree.keySize,t)}(e,n.remoteFile)})),this.cirTree=this.header.then((function(e){var t=e.unzoomedIndexOffset,r=e.zoomHeaders[0],i=r?r.dataOffset-t:4096;return n.remoteFile.getBytes(t,i).then(m)})),this.immediate=s.default.all([this.header,this.cirTree,this.contigMap]).then((function(e){var t=r(e,3),i=t[0],o=t[1],a=t[2];return new b(n.remoteFile,i,o,a)})),this.immediate.done()}return i(e,[{key:"getFeaturesInRange",value:function(e,t,n){var r=new p.default(e,t,n);return this.immediate.then((function(e){return e.getFeaturesInRange(r)}))}},{key:"getFeatureBlocksOverlapping",value:function(e){return this.immediate.then((function(t){return t.getFeatureBlocksOverlapping(e)}))}}]),e}();e.exports=w},function(e,t,n){"use strict";var r=n(145),i={"jBinary.littleEndian":!0,Header:{_magic:["const","uint32",2273964779,!0],version:"uint16",zoomLevels:"uint16",chromosomeTreeOffset:"uint64",unzoomedDataOffset:"uint64",unzoomedIndexOffset:"uint64",fieldCount:"uint16",definedFieldCount:"uint16",autoSqlOffset:"uint64",totalSummaryOffset:"uint64",uncompressBufSize:"uint32",extensionOffset:"uint64",zoomHeaders:["array","ZoomHeader","zoomLevels"],totalSummary:(0,r.typeAtOffset)("TotalSummary","totalSummaryOffset"),chromosomeTree:(0,r.typeAtOffset)("BPlusTree","chromosomeTreeOffset")},TotalSummary:{basesCovered:"uint64",minVal:"float64",maxVal:"float64",sumData:"float64",sumSquared:"float64"},ZoomHeader:{reductionLevel:"uint32",_reserved:"uint32",dataOffset:"uint64",indexOffset:"uint64"},BPlusTree:{magic:["const","uint32",2026540177,!0],blockSize:"uint32",keySize:"uint32",valSize:"uint32",itemCount:"uint64",_reserved2:["skip",4],_reserved3:["skip",4],nodes:"BPlusTreeNode"},BPlusTreeNode:{isLeaf:"uint8",_reserved:"uint8",count:"uint16",contents:["array",["if","isLeaf",{key:["string","keySize"],id:"uint32",size:"uint32"},{key:["string","keySize"],offset:"uint64"}],"count"]},CirTree:{_magic:["const","uint32",610839776,!0],blockSize:"uint32",itemCount:"uint64",startChromIx:"uint32",startBase:"uint32",endChromIx:"uint32",endBase:"uint32",fileSize:"uint64",itemsPerSlot:"uint32",_reserved:["skip",4],blocks:"CirNode"},CirNode:{isLeaf:"uint8",_reserved:"uint8",count:"uint16",contents:["array",["if","isLeaf","LeafData","NonLeafData"],"count"]},LeafData:{startChromIx:"uint32",startBase:"uint32",endChromIx:"uint32",endBase:"uint32",offset:"uint64",size:"uint64"},NonLeafData:{startChromIx:"uint32",startBase:"uint32",endChromIx:"uint32",endBase:"uint32",offset:"uint64"},BedEntry:{chrId:"uint32",start:"uint32",stop:"uint32",rest:"string0"},BedBlock:["array","BedEntry"]};e.exports={TYPE_SET:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(57)),o=r(n(51)),a=r(n(56)),s=r(n(52)),u=r(n(77)),c=r(n(282)),l=(n(89),n(283));function f(e){var t={},n=[];function r(e){var n=function(e){return e.variant.contig+":"+e.variant.position}(e);t[n]||(t[n]=e)}var u={rangeChanged:function(t){var i,o;(i=t,o=new s.default(i.contig,i.start,i.stop),o.isCoveredBy(n)?a.default.when():(o=o.round(100,!1),n.push(o),n=s.default.coalesce(n),e.getFeaturesInRange(o).then((function(e){e.forEach((function(e){return r(e)})),u.trigger("newdata",o)})))).done()},getVariantsInRange:function(e){if(!e)return[];var n=o.default.filter(t,(function(t){return e.containsLocus(t.variant.contig,t.variant.position)}));return o.default.map(n,(function(e){return e.variant}))},getGenotypesInRange:function(e){return o.default.filter(t,(function(t){return e.containsLocus(t.variant.contig,t.variant.position)}))},getCallNames:function(){return e.getCallNames().then((function(e){return e}))},on:function(){},off:function(){},trigger:function(e,t){}};return o.default.extend(u,i.default),u}e.exports={create:function(e){var t=e.url,n=e.content;if(t)return f(new l.VcfFile(new u.default(t)));if(n)return f(new l.VcfFile(new c.default(n)));throw new Error("Missing URL or content from track: "+JSON.stringify(e))},createFromVcfFile:f}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(56)),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.fileLength=e.length,this.buffer=new ArrayBuffer(e.length),this.content=e;for(var n=new Uint8Array(this.buffer),r=0;r<this.fileLength;r++)n[r]=e.charCodeAt(r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getBytes",value:function(e,t){if(t<0)return o.default.reject("Requested <0 bytes ("+t+")");var n=e+t-1;-1!=this.fileLength&&(n=Math.min(this.fileLength-1,n));var r=this.getFromCache(e,n);return o.default.when(r)}},{key:"getAll",value:function(){var e=this.getFromCache(0,this.fileLength-1);return o.default.when(e)}},{key:"getAllString",value:function(){return o.default.when(this.content)}},{key:"getSize",value:function(){return o.default.when(this.fileLength)}},{key:"getFromCache",value:function(e,t){return this.buffer.slice(e,t+1)}}]),t}(i(n(144)).default);e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(n(51)),s=(i(n(52)),n(89));function u(e){var t=e.indexOf("\t"),n=e.indexOf("\t",t+1);return{contig:e.slice(0,t),position:Number(e.slice(t+1,n)),line:e}}function c(e,t){return e.contig<t.contig?-1:e.contig>t.contig?1:e.position-t.position}var l=function(){function e(t,n){o(this,e),this.samples=t,this.lines=n,this.contigMap=this.extractContigs()}return r(e,[{key:"extractContigs",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var n=this.lines[t];""!=n.contig&&e.push(n.contig)}var r={};return e.forEach((function(e){"chr"==e.slice(0,3)?r[e.slice(4)]=e:r["chr"+e]=e,r[e]=e})),r}},{key:"getFeaturesInRange",value:function(e){var t=this,n=this.lines,r=this.contigMap[e.contig];if(!r)return[];for(var i={contig:r,position:e.start(),line:""},o={contig:r,position:e.stop(),line:""},a=[],u=function(e,t,n){for(var r=0,i=e.length;r<i;){var o=Math.floor((r+i)/2);n(e[o],t)<0?r=o+1:i=o}return r}(n,i,c);u<n.length&&!(c(n[u],o)>0);u++)a.push(n[u]);return a.map((function(e){return function(e,t){var n=t.split("\t"),r=null,i=null,o=[];if(n.length>=7){for(var a=n[7].split(";"),u=0;u<a.length;u++){var c=a[u];if(c.startsWith("AF=")){r=0,i=1;for(var l=c.substr(3).split(","),f=0;f<l.length;f++){var h=parseFloat(l[f]);r=Math.max(r,h),i=Math.min(i,h)}}}if(n.length>9){var p=0;for(u=9;u<n.length;u++){var d=n[u].split(":")[0].split("/").map((function(e){return parseInt(e)}));if(2==d.length&&(1==parseInt(d[0])||1==parseInt(d[1]))){var g=new s.Call(e[p],d,e[p],"True");o=o.concat(g)}p++}}}var v=n[0],m=Number(n[1]);return new s.VariantContext(new s.Variant({contig:v,position:m,id:n[2],ref:n[3],alt:n[4],majorFrequency:r,minorFrequency:i,vcfLine:t}),o)}(t.samples,e.line)}))}}]),e}(),f=function(){function e(t){o(this,e),this.remoteFile=t,this.immediate=this.remoteFile.getAllString().then((function(e){var t=e.split("\n"),n=t.filter((function(e){return e.length&&"#"!=e[0]})).map(u);return[function(e){return a.default.filter(e,(function(e){return e.startsWith("#CHROM")}))[0].split("\t").splice(9)}(t.filter((function(e){return e.length&&"#"==e[0]}))),n]})).then((function(e){var t=e[0],n=e[1];return n.sort(c),new l(t,n)})),this.immediate.done()}return r(e,[{key:"getCallNames",value:function(){return this.immediate.then((function(e){return e.samples}))}},{key:"getFeaturesInRange",value:function(e){return this.immediate.then((function(t){return t.getFeaturesInRange(e)}))}}]),e}();e.exports={VcfFile:f}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(51)),o=r(n(56)),a=n(57),s=r(n(52)),u=r(n(285)),c=r(n(77));function l(e){var t={},n={},r=[];function u(e){var n=e.getKey();t[n]||(t[n]=e)}function c(e){e.references.forEach((function(e){var t=e.name;n[t]=t,n["chr"+t]=t,"chr"==t.slice(0,3)&&(n[t.slice(3)]=t)}))}var l={rangeChanged:function(t){var a,f;(a=t,f=i.default.isEmpty(n)?e.header.then(c):o.default.when(),o.default.when().then((function(){f.isPending()&&!e.hasIndexChunks&&l.trigger("networkprogress",{status:"Fetching BAM index -- use index chunks to speed this up"})})).done(),f.then((function(){var t=n[a.contig],i=new s.default(t,a.start,a.stop);if(i.isCoveredBy(r))return o.default.when();var c=(i=i.round(100,!1)).complementIntervals(r);return r.push(i),r=s.default.coalesce(r),o.default.all(c.map((function(t){return e.getFeaturesInRange(t).progress((function(e){l.trigger("networkprogress",e)})).then((function(e){e.forEach((function(e){return u(e)})),l.trigger("networkdone"),l.trigger("newdata",t)}))})))}))).done()},getFeaturesInRange:function(e){if(!e)return[];if(i.default.isEmpty(n))return[];var r=new s.default(n[e.contig],e.start(),e.stop());return i.default.filter(t,(function(e){return e.intersects(r)}))},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return i.default.extend(l,a.Events),l}e.exports={create:function(e){var t=e.url;if(!t)throw new Error("Missing URL from track data: "+JSON.stringify(e));var n=e.indexUrl;if(!n)throw new Error("Missing indexURL from track data: "+JSON.stringify(e));return l(e.indexChunks?new u.default(new c.default(t),new c.default(n),e.indexChunks):new u.default(new c.default(t),new c.default(n)))},createFromBamFile:l}},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(70)),s=o(n(86)),u=o(n(51)),c=o(n(56)),l=o(n(104)),f=o(n(55)),h=o(n(286)),p=o(n(52)),d=o(n(105)),g=o(n(146));function v(e,t,n){var r=new p.default(e.refID,e.pos,e.pos+e.l_seq-1);return n?t.containsInterval(r):r.intersects(t)}function m(e,t,n,r){var i=e.getInt32(t);if((t+=4)+i>e.byteLength)return null;var o=e.buffer.slice(t,t+i);return{read:new g.default(o,n.clone(),r),readLength:4+i}}function y(e,t,n,r,i){var o=0,a=[],l=c.default.defer();return function i(c){if(0!==c.length){var h=c[0],g=h.chunk_beg.coffset,y=h.chunk_end.coffset,b=Math.min(131072,y+65536-g);e.getBytes(g,b).then((function(b){o++,l.notify({numRequests:o});var w={filename:e.url,initialOffset:g},x=f.default.inflateConcatenatedGzip(b,y-g,w),k=x[x.length-1],_=g+k.offset-1,S=null;x.length>1&&_<y&&(S={chunk_beg:new d.default(_+1,0),chunk_end:h.chunk_end});var E=x.map((function(e){return e.buffer}));E[0]=E[0].slice(h.chunk_beg.uoffset);var C=f.default.concatArrayBuffers(E);if(C.byteLength>0){var T=function(e,t,n,r,i,o,a){var u=new s.default(e,0,e.byteLength,!0),c=!1,l=0;i=i.clone();var f=0;try{for(;l<e.byteLength;){var h=m(u,l,i,t);if(!h)break;var d=h.read,g=h.readLength;l+=g,v(d,n,r)&&a.push(d),i.uoffset+=g;var y=o[f].buffer.byteLength;i.uoffset>=y&&(i.uoffset-=y,i.coffset+=o[f].compressedLength,f++);var b=new p.default(d.refID,d.pos,d.pos+1);if(b.contig>n.contig||b.contig==n.contig&&b.start()>n.stop()){c=!0;break}}}catch(e){if(!(e instanceof RangeError))throw e}return{shouldAbort:c,nextOffset:i}}(C,t,n,r,h.chunk_beg,x,a),A=T.shouldAbort,R=T.nextOffset;if(A)return void l.resolve(a);S&&(S.chunk_beg=R)}else S=null;i((null!==S?[S]:[]).concat(u.default.rest(c)))}))}else l.resolve(a)}(i),l.promise}var b=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.remoteFile=t,this.index=n?new h.default(n,r):null,this.hasIndexChunks=!!r;var o=this.index?this.index.getHeaderSize():c.default.when(131070);this.header=o.then((function(e){var t=c.default.defer();return c.default.when().then((function(){t.notify({status:"Fetching BAM header"})})),f.default.pipePromise(t,i.remoteFile.getBytes(0,e).then((function(e){var t=f.default.inflateGzip(e);return new a.default(t,l.default.TYPE_SET).read("BamHeader")}))),t.promise})),this.header.done()}return i(e,[{key:"readAll",value:function(){return this.remoteFile.getAll().then((function(e){var t=f.default.inflateGzip(e),n=new a.default(t,l.default.TYPE_SET).read("BamFile"),r=new d.default(0,0);return n.alignments=n.alignments.map((function(e){var t,i=new g.default((t=e.contents).buffer.slice(t.byteOffset,t.byteOffset+t.byteLength-1),r,"");return-1!=i.refID&&(i.ref=n.header.references[i.refID].name),i})),n}))}},{key:"readAtOffset",value:function(e){var t=this.remoteFile.getBytes(e.coffset,131072).then((function(t){var n=f.default.inflateGzip(t);return m(new s.default(n,0,n.byteLength,!0),e.uoffset,e,"").read}));return c.default.all([t,this.header]).then((function(e){var t=r(e,2),n=t[0],i=t[1];return n.ref=i.references[n.refID].name,n}))}},{key:"getContigIndex",value:function(e){return this.header.then((function(t){for(var n=0;n<t.references.length;n++){var r=t.references[n].name;if(r==e||r=="chr"+e||"chr"+r==e)return{idx:n,name:r}}throw"Invalid contig name: "+e}))}},{key:"getFeaturesInRange",value:function(e,t){var n=this,r=t||!1;if(!this.index)throw"Range searches are only supported on BAMs with BAI indices.";var i=this.index;return this.getContigIndex(e.contig).then((function(t){var o=t.idx,a=t.name,s=c.default.defer();c.default.when().then((function(){s.notify({status:"Fetching BAM index"})}));var u=new p.default(o,e.start(),e.stop()),l=i.getChunksForInterval(u).then((function(e){return y(n.remoteFile,a,u,r,e)})).then((function(e){return e}));return f.default.pipePromise(s,l),s.promise}))}}]),e}();e.exports=b},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=o(n(70)),u=o(n(86)),c=o(n(51)),l=o(n(56)),f=o(n(104)),h=o(n(105));var p=function(){function e(t,n,r){if(a(this,e),this.buffer=t,this.remoteFile=n,t)this.indexChunks=function(e){var t=new u.default(e,0,e.byteLength,!0),n=1/0,r=[];t.getInt32();for(var i=t.getInt32(),o=0;o<i;o++){r.push(t.tell());for(var a=t.getInt32(),s=0;s<a;s++){t.getUint32();var l=t.getInt32();t.skip(16*l)}var f=t.getInt32();if(f){var p=h.default.fromBlob(t.getBytes(8),0),d=p.coffset+(p.uoffset?65536:0);n=d?Math.min(d,n):65536,t.skip(8*(f-1))}}return r.push(t.tell()),{chunks:c.default.zip(c.default.initial(r),c.default.rest(r)),minBlockIndex:n}}(t);else{if(!r)throw"Without index chunks, the entire BAI buffer must be loaded";this.indexChunks=r}this.indexCache=new Array(this.indexChunks.chunks.length),this.intervalsCache=new Array(this.indexChunks.chunks.length)}return i(e,[{key:"getChunksForInterval",value:function(e){var t=this;if(e.contig<0||e.contig>this.indexChunks.chunks.length)return l.default.reject("Invalid contig "+e.contig);var n=function(e,t){var n,r=[];for(--t,r.push(0),n=1+(e>>26);n<=1+(t>>26);++n)r.push(n);for(n=9+(e>>23);n<=9+(t>>23);++n)r.push(n);for(n=73+(e>>20);n<=73+(t>>20);++n)r.push(n);for(n=585+(e>>17);n<=585+(t>>17);++n)r.push(n);for(n=4681+(e>>14);n<=4681+(t>>14);++n)r.push(n);return r}(e.start(),e.stop()+1);return this.indexForContig(e.contig).then((function(r){var i=c.default.chain(r.bins).filter((function(e){return n.indexOf(e.bin)>=0})).map((function(e){return t=e.chunks,new s.default(t,f.default.TYPE_SET).read("ChunksArray");var t})).flatten().value();return i=function(e,t){e.sort((function(e,t){var n=e.chunk_beg.compareTo(t.chunk_beg);return 0===n&&(n=e.chunk_end.compareTo(t.chunk_end)),n}));var n=[];return e.forEach((function(e){if(!e.chunk_end.isLessThan(t))if(0!==n.length){var r,i,o=n[n.length-1];i=e,(r=o).chunk_beg.isLessThanOrEqual(i.chunk_end)&&i.chunk_beg.isLessThanOrEqual(r.chunk_end)||function(e,t){return e.chunk_beg.isEqual(t.chunk_end)||e.chunk_end.isEqual(t.chunk_beg)}(o,e)?o.chunk_end.isLessThan(e.chunk_end)&&(o.chunk_end=e.chunk_end):n.push(e)}else n.push(e)})),n}(i,t.getIntervals(r.intervals,e.contig)[Math.max(0,Math.floor(e.start()/16384))])}))}},{key:"indexForContig",value:function(e){var t=this.indexCache[e];if(t)return t;var n=r(this.indexChunks.chunks[e],2),i=n[0],o=n[1];return this.indexCache[e]=this.getSlice(i,o).then((function(e){return new s.default(e,f.default.TYPE_SET).read("BaiIndex")})),this.indexCache[e]}},{key:"getSlice",value:function(e,t){return this.buffer?l.default.when(this.buffer.slice(e,t)):this.remoteFile.getBytes(e,t-e+1)}},{key:"getIntervals",value:function(e,t){var n=this.intervalsCache[t];return n||(n=function(e){for(var t=new Array(Math.floor(e.length/8)),n=0;n<e.length-7;n+=8)t[n>>3]=h.default.fromBlob(e,n);return t}(e),this.intervalsCache[t]=n,n)}}]),e}(),d=function(){function e(t,n){a(this,e),this.remoteFile=t,this.immediate=n?l.default.when(new p(null,t,n)):t.getAll().then((function(e){return new p(e,t,n)})),this.immediate.done()}return i(e,[{key:"getChunksForInterval",value:function(e){return this.immediate.then((function(t){return t.getChunksForInterval(e)}))}},{key:"getHeaderSize",value:function(){return this.immediate.then((function(e){return e.indexChunks.minBlockIndex}))}}]),e}();e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(51)),o=n(57),a=r(n(52)),s=r(n(147));e.exports={create:function(e){var t=JSON.parse(e),n=[];i.default.isEmpty(t)||(n=i.default.values(t.alignments).map((function(e){return new s.default(e)})));var r={rangeChanged:function(e){var t=new a.default(e.contig,e.start,e.stop);r.trigger("newdata",t),r.trigger("networkdone")},getFeaturesInRange:function(e){return e?i.default.filter(n,(function(t){return t.intersects(e)})):[]},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return i.default.extend(r,o.Events),r}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(89),o=r(n(51)),a=n(57),s=r(n(56)),u=r(n(52));e.exports={create:function(e){var t=JSON.parse(e),n=[],r=[];o.default.isEmpty(t)||(n=o.default.values(t.variants).map((function(e){return new i.VariantContext(i.Variant.fromGA4GH(e),e.calls)}))).length>0&&(r=o.default.map(n[0].calls,(function(e){return e.callSetName})));var c={rangeChanged:function(e){var t=new u.default(e.contig,e.start,e.stop);c.trigger("newdata",t),c.trigger("networkdone")},getVariantsInRange:function(e){if(!e)return[];var t=o.default.filter(n,(function(t){return t.intersects(e)}));return o.default.map(t,(function(e){return e.variant}))},getGenotypesInRange:function(e){return e?o.default.filter(n,(function(t){return t.intersects(e)})):[]},getCallNames:function(){return s.default.resolve(r)},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return o.default.extend(c,a.Events),c}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(78)),o=r(n(51)),a=n(57),s=r(n(52));e.exports={create:function(e){var t=JSON.parse(e),n=[];o.default.isEmpty(t)||(n=o.default.values(t.features).map((function(e){return i.default.fromGA4GH(e)})));var r={rangeChanged:function(e){var t=new s.default(e.contig,e.start,e.stop);r.trigger("newdata",t),r.trigger("networkdone")},getFeaturesInRange:function(e){return e?o.default.filter(n,(function(t){return t.intersects(e)})):[]},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return o.default.extend(r,a.Events),r}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(87)),o=r(n(51)),a=n(57),s=r(n(52));e.exports={create:function(e){var t=JSON.parse(e),n=[];o.default.isEmpty(t)||(n=o.default.values(t).map((function(e){return new i.default(e)})));var r={rangeChanged:function(e){var t=new s.default(e.contig,e.start,e.stop);r.trigger("newdata",t),r.trigger("networkdone")},getFeaturesInRange:function(e){return o.default.filter(n,(function(t){return e.chrOnContig(t.name)}))},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return o.default.extend(r,a.Events),r}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(51)),o=n(57),a=r(n(52)),s=r(n(147));e.exports={create:function(e){var t=e.endpoint+"/reads/search",n={},r=[];function u(e){c.trigger("networkfailure",e),c.trigger("networkdone"),console.warn(e)}var c={rangeChanged:function(i){var o=new a.default(i.contig,i.start,i.stop);if(!o.isCoveredBy(r)){var l=(o=o.round(100,!1)).complementIntervals(r);r.push(o),r=a.default.coalesce(r),l.forEach((function(r){!function r(i,o,a){var l=new XMLHttpRequest;l.open("POST",t),l.responseType="json",l.setRequestHeader("Content-Type","application/json"),l.addEventListener("load",(function(e){var t=this.response;this.status>=400?u(this.status+" "+this.statusText+" "+JSON.stringify(t)):t.errorCode?u("Error from GA4GH endpoint: "+JSON.stringify(t)):(!function(e){void 0!==e.alignments&&e.alignments.forEach((function(e){var t=s.default.keyFromGA4GHResponse(e);if(!(t in n))try{var r=new s.default(e);n[t]=r}catch(e){}}))}(t),c.trigger("newdata",i),t.nextPageToken?r(i,t.nextPageToken,a+1):c.trigger("networkdone"))})),l.addEventListener("error",(function(e){u("Request failed with status: "+this.status)})),c.trigger("networkprogress",{numRequests:a});var f=i.contig;void 0!==e.forcedReferenceId&&(f=e.forcedReferenceId);l.send(JSON.stringify({pageToken:o,pageSize:200,readGroupIds:[e.readGroupId],referenceId:f,start:i.start(),end:i.stop()}))}(r,null,1)}))}},getFeaturesInRange:function(e){return e?(e=new a.default(e.contig,e.start(),e.stop()),i.default.filter(n,(function(t){return t.intersects(e)}))):[]},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return i.default.extend(c,o.Events),c}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(51)),o=r(n(56)),a=n(57),s=r(n(52)),u=n(89);e.exports={create:function(e){var t=e.endpoint+"/variants/search",n={},r=[];function c(e){l.trigger("networkfailure",e),l.trigger("networkdone"),console.warn(e)}var l={rangeChanged:function(i){var o=new s.default(i.contig,i.start,i.stop);if(!o.isCoveredBy(r)){var a=(o=o.round(100,!1)).complementIntervals(r);r.push(o),r=s.default.coalesce(r),a.forEach((function(r){!function r(i,o,a){var s=new XMLHttpRequest;s.open("POST",t),s.responseType="json",s.setRequestHeader("Content-Type","application/json"),s.addEventListener("load",(function(e){var t=this.response;this.status>=400?c(this.status+" "+this.statusText+" "+JSON.stringify(t)):t.errorCode?c("Error from GA4GH Variant endpoint: "+JSON.stringify(t)):(!function(e){void 0!==e.variants&&e.variants.forEach((function(e){var t=e.id;if(!(t in n)){var r=new u.VariantContext(u.Variant.fromGA4GH(e),e.calls);n[t]=r}}))}(t),l.trigger("newdata",i),t.nextPageToken?r(i,t.nextPageToken,a+1):l.trigger("networkdone"))})),s.addEventListener("error",(function(e){c("Request failed with status: "+this.status)})),l.trigger("networkprogress",{numRequests:a}),s.send(JSON.stringify({variantSetId:e.variantSetId,pageToken:o,pageSize:400,referenceName:i.contig,callSetIds:e.callSetIds,start:i.start(),end:i.stop()}))}(r,null,1)}))}},getVariantsInRange:function(e){if(!e)return[];var t=i.default.filter(n,(function(t){return t.intersects(e)}));return i.default.map(t,(function(e){return e.variant}))},getGenotypesInRange:function(e){return e?i.default.filter(n,(function(t){return t.intersects(e)})):[]},getCallNames:function(){return e.callSetNames?o.default.resolve(e.callSetNames):o.default.resolve(e.callSetIds)},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return i.default.extend(l,a.Events),l}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(51)),o=n(57),a=r(n(52)),s=r(n(78));e.exports={create:function(e){var t=e.endpoint+"/features/search",n={},r=[];function u(e){c.trigger("networkfailure",e),c.trigger("networkdone"),console.warn(e)}var c={rangeChanged:function(i){var o=new a.default(i.contig,i.start,i.stop);if(!o.isCoveredBy(r)){var l=(o=o.round(100,!1)).complementIntervals(r);r.push(o),r=a.default.coalesce(r),l.forEach((function(r){!function r(i,o,l){var f=new XMLHttpRequest;f.open("POST",t),f.responseType="json",f.setRequestHeader("Content-Type","application/json"),f.addEventListener("load",(function(e){var t=this.response;this.status>=400?u(this.status+" "+this.statusText+" "+JSON.stringify(t)):t.errorCode?u("Error from GA4GH Feature endpoint: "+JSON.stringify(t)):(!function(e){void 0!==e.features&&e.features.forEach((function(e){var t=new a.default(e.referenceName,e.start,e.end),r=e.id+t.toString();if(!(r in n)){var i=s.default.fromGA4GH(e);n[r]=i}}))}(t),c.trigger("newdata",i),t.nextPageToken?r(i,t.nextPageToken,l+1):c.trigger("networkdone"))})),f.addEventListener("error",(function(e){u("Request failed with status: "+this.status)})),c.trigger("networkprogress",{numRequests:l}),f.send(JSON.stringify({featureSetId:e.featureSetId,pageToken:o,pageSize:400,referenceName:i.contig,start:i.start(),end:i.stop()}))}(r,null,1)}))}},getFeaturesInRange:function(e){return e?i.default.filter(n,(function(t){return t.intersects(e)})):[]},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return i.default.extend(c,o.Events),c}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(51)),o=n(57),a=r(n(52)),s=r(n(103));e.exports={create:function(e){var t=e.endpoint+"/features/search",n={},r=[];function u(e){c.trigger("networkfailure",e),c.trigger("networkdone"),console.warn(e)}var c={rangeChanged:function(i){var o=new a.default(i.contig,i.start,i.stop);if(!o.isCoveredBy(r)){var l=(o=o.round(100,!1)).complementIntervals(r);r.push(o),r=a.default.coalesce(r),l.forEach((function(r){!function r(i,o,l){var f=new XMLHttpRequest;f.open("POST",t),f.responseType="json",f.setRequestHeader("Content-Type","application/json"),f.addEventListener("load",(function(e){var t=this.response;this.status>=400?u(this.status+" "+this.statusText+" "+JSON.stringify(t)):t.errorCode?u("Error from GA4GH Feature endpoint: "+JSON.stringify(t)):(!function(e){void 0!==e.features&&e.features.forEach((function(e){var t=new a.default(e.referenceName,e.start,e.end),r=e.id+t.toString();if(!(r in n)){var i=s.default.fromGA4GH(e);n[r]=i}}))}(t),c.trigger("newdata",i),t.nextPageToken?r(i,t.nextPageToken,l+1):c.trigger("networkdone"))})),f.addEventListener("error",(function(e){u("Request failed with status: "+this.status)})),c.trigger("networkprogress",{numRequests:l}),f.send(JSON.stringify({featureSetId:e.featureSetId,pageToken:o,pageSize:400,referenceName:i.contig,start:i.start(),end:i.stop()}))}(r,null,1)}))}},getFeaturesInRange:function(e){return e?i.default.filter(n,(function(t){return t.intersects(e)})):[]},on:function(){},once:function(){},off:function(){},trigger:function(e,t){}};return i.default.extend(c,o.Events),c}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o(n(78));var u=o(n(1)),c=o(n(79)),l=o(n(68)),f=o(n(59)),h=o(n(51)),p=o(n(61)),d=o(n(62)),g=o(n(297)),v=o(n(80)),m=o(n(60)),y=o(n(52)),b=function(e){function t(e,n,r){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.cache=e,this.height=Math.max(1,n),this.options=r}return s(t,e),r(t,[{key:"heightForRef",value:function(e){return this.height}},{key:"update",value:function(e,t){this.height=Math.max(1,e),this.options=t}},{key:"yScaleForRef",value:function(e,t,n){var r=this.cache.maxCoverageForRef(e);return c.default.linear().domain([r,0]).range([t,this.height-n]).nice()}},{key:"render",value:function(e,t,n){var r=this.cache.binsForRef(n.contig);!function(e,t,n,r,i,o){if(h.default.isEmpty(i))return;for(var a=t(1)-t(0)>m.default.COVERAGE_MIN_BAR_WIDTH_FOR_GAP,s=a?1:0,u=function(e,r){return{barX1:Math.round(t(1+e)),barX2:Math.round(t(2+e))-s,barY:Math.round(n(r))}},c={},l=n(0),f=r.start(),p=r.stop(),d=null,g=f;g<p;g++){var v=i[g];if(v){if(!d){var y=u(g,v.count).barX1;e.fillStyle="rgba("+o.color.rgb.r+", "+o.color.rgb.g+", "+o.color.rgb.b+", "+o.color.rgb.a+")",e.beginPath(),e.moveTo(y,l)}e.pushObject(v);var b=u(g,v.count),w=b.barX1,x=b.barX2,k=b.barY;e.lineTo(w,k),e.lineTo(x,k),a&&(e.lineTo(x,l),e.lineTo(x+1,l)),h.default.isEmpty(v.mismatches)||(c[g]=v),d=g,e.popObject()}}if(d){x=u(d,0).barX2;e.lineTo(x,l),e.closePath(),e.fill()}h.default.each(c,(function(t,r){if(t.mismatches){var i=h.default.clone(t.mismatches);r=Number(r);var a=h.default.reduce(i,(function(e,t){return e+t}));h.default.max(i)>1&&a>o.vafColorThreshold*t.count&&a<t.count&&t.ref&&(i[t.ref]=t.count-a);var s=u(r,t.count),c=s.barX1,l=s.barX2;e.pushObject(t);var f=0;h.default.chain(i).map((function(e,t){return{count:e,base:t}})).filter((function(e){return e.count>1})).sortBy((function(e){return-e.count})).each((function(t){var i=t.count,o=t.base,a={position:1+r,count:i,base:o};e.pushObject(a),e.fillStyle=m.default.BASE_COLORS[o];var s=n(f);e.fillRect(c,s,Math.max(1,l-c),n(f+i)-s),f+=i,e.popObject()})),e.popObject()}}))}(e,t,this.yScaleForRef(n.contig,10,10),new y.default(n.contig,n.start()-1,n.stop()+1),r,this.options)}}]),t}(v.default);var w=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return s(t,e),r(t,[{key:"render",value:function(){return u.default.createElement("canvas",{ref:"canvas",onClick:this.handleClick.bind(this)})}},{key:"getScale",value:function(){return f.default.getTrackScale(this.props.range,this.props.width)}},{key:"componentDidMount",value:function(){var e=this;this.cache=new g.default(this.props.referenceSource),this.tiles=new b(this.cache,this.props.height,this.props.options),this.props.source.on("newdata",(function(t){var n=e.cache.maxCoverageForRef(t.contig);e.props.source.getFeaturesInRange(t).forEach((function(t){return e.cache.addItem(t)})),n!=e.cache.maxCoverageForRef(t.contig)?e.tiles.invalidateAll():e.tiles.invalidateRange(t),e.visualizeCoverage()})),this.props.referenceSource.on("newdata",(function(t){e.cache.updateMismatches(t),e.tiles.invalidateRange(t),e.visualizeCoverage()}))}},{key:"componentDidUpdate",value:function(e,t){(0,l.default)(this.props,e)&&(0,l.default)(this.state,t)||(this.props.height==e.height&&this.props.options==e.options||(this.tiles.update(this.props.height,this.props.options),this.tiles.invalidateAll()),this.visualizeCoverage())}},{key:"getContext",value:function(){return this.refs.canvas.getContext("2d")}},{key:"renderTicks",value:function(e,t){var n=t.domain()[0];[0,Math.round(n/2),n].forEach((function(n){e.pushObject({value:n,type:"tick"});var r=Math.round(t(n));e.strokeStyle=m.default.COVERAGE_FONT_COLOR,d.default.drawLine(e,0,r,m.default.COVERAGE_TICK_LENGTH,r),e.popObject();var i=n+"X";e.pushObject({value:n,label:i,type:"label"}),e.font=m.default.COVERAGE_FONT_STYLE;var o=m.default.COVERAGE_TICK_LENGTH+m.default.COVERAGE_TEXT_PADDING,a=r+m.default.COVERAGE_TEXT_Y_OFFSET;e.strokeStyle="white",e.lineWidth=2,e.strokeText(i,o,a),e.lineWidth=1,e.fillStyle=m.default.COVERAGE_FONT_COLOR,e.fillText(i,o,a),e.popObject()}))}},{key:"visualizeCoverage",value:function(){var e=this.refs.canvas,t=this.props.width,n=this.props.height,r=y.default.fromGenomeRange(this.props.range);if(0!==t){f.default.sizeCanvas(e,t,n);var i=p.default.getDataContext(this.getContext());i.save(),i.reset(),i.clearRect(0,0,i.canvas.width,i.canvas.height);var o=this.tiles.yScaleForRef(r.contig,10,10);this.tiles.renderToScreen(i,r,this.getScale()),this.renderTicks(i,o),i.restore()}}},{key:"handleClick",value:function(e){var t=e.nativeEvent.offsetX,n=y.default.fromGenomeRange(this.props.range),r=this.getScale(),i=this.cache.binsForRef(n.contig),o=Math.floor(r.invert(t))-1,a=i[o],s=window.alert||console.log;if(a){var u=a.mismatches?h.default.reduce(a.mismatches,(function(e,t){return e+t})):0,c=a.ref||this.props.referenceSource.getRangeAsString({contig:n.contig,start:o,stop:o}),l=h.default.extend({position:n.contig+":"+(1+o),"read depth":a.count},a.mismatches);l[c]=a.count-u,s(JSON.stringify(l,null,"  "))}}}]),t}(u.default.Component);w.displayName="coverage",w.defaultOptions={vafColorThreshold:.2,color:m.default.DEFAULT_COLORPICKER},w.getOptionsMenu=function(e){return[{key:"pick-color",label:"Change track color",color:e.color}]},w.handleSelectOption=function(e,t){var n=h.default.clone(t);return"pick-color"==e.key?(n.color=e.color,n):t},e.exports=w},function(e,t,n){!function(){"use strict";function t(e,t,n){for(var r in n=n||!1,t)!function(r){"function"==typeof t[r]?n||(e[r]=t[r].bind(t)):Object.defineProperty(e,r,{get:function(){return t[r]},set:function(e){t[r]=e}})}(r)}function n(e){t(this,e),this.pushObject=this.popObject=this.reset=function(){}}var r=null;function i(e){if(e instanceof HTMLCanvasElement)return i(e.getContext("2d"));var t=e;if(r)return r(t);for(var o=0;o<i.cache.length;o++){var a=i.cache[o];if(a[0]==t)return a[1]}var s=new n(t);return i.cache.push([t,s]),s}function o(e){t(this,e,!0);var n=[];for(var r in this.calls=n,e)(function(t){"function"==typeof e[t]&&(this[t]=function(){var r=Array.prototype.slice.call(arguments);return n.push([t].concat(r)),e[t].apply(e,arguments)})}).bind(this)(r);this.pushObject=function(e){n.push(["pushObject",e])},this.popObject=function(){n.push(["popObject"])},this.reset=function(){this.calls=n=[]};var i=this.drawImage;this.drawImage=function(t){var r=o.recorderForCanvas(t);r?(e.drawImage.apply(e,arguments),n=n.concat(a(r.calls,arguments)),this.calls=n):i.apply(e,arguments)}}function a(e,t){var n,r,i=t[0],o=0,a=0,f=i.width,h=i.height,p=i.width,d=i.height;3==t.length?(n=t[1],r=t[2]):5==t.length?(n=t[1],r=t[2],p=t[3],d=t[4]):9==t.length&&(o=t[1],a=t[2],f=t[3],h=t[4],n=t[5],r=t[6],p=t[7],d=t[8]);var g=s(o,o+f,n,n+p),v=u(o,o+f,n,n+p),m=s(a,a+h,r,r+d),y=u(a,a+h,r,r+d);return e.map((function(e){var t=e.slice(),n=t[0];if(n in c){var r=c[n];"number"==typeof r&&(r=[r]),r.forEach((function(e){t[1+e]=v(t[1+e]),t[2+e]=y(t[2+e])}))}if(n in l){var i=l[n];"number"==typeof i&&(i=[i]),i.forEach((function(e){t[1+e]*=g,t[2+e]*=m}))}return t}))}function s(e,t,n,r){return(r-n)/(t-e)}function u(e,t,n,r){var i=s(e,t,n,r);return function(t){return n+i*(t-e)}}i.cache=[];var c={clearRect:0,fillRect:0,strokeRect:0,fillText:1,strokeText:1,moveTo:0,lineTo:0,bezierCurveTo:[0,2,4],quadraticCurveTo:[0,2],rect:0},l={clearRect:2,fillRect:2,strokeRect:2,rect:2};function f(e,t){if(e)return o.recorderForSelector(e,t);if(o.recorders){if(0==o.recorders.length)throw"Called a RecordingContext method, but no canvases are being recorded.";if(o.recorders.length>1)throw"Called a RecordingContext method while multiple canvases were being recorded. Specify one using a div and selector.";return o.recorders[0][1]}throw"You must call RecordingContext.recordAll() before using other RecordingContext static methods"}o.prototype.drawnObjectsWith=function(e){return e||(e=function(){return!0}),this.callsOf("pushObject").filter((function(t){return e(t[1])})).map((function(e){return e[1]}))},o.prototype.drawnObjects=o.prototype.drawnObjectsWith,o.prototype.callsOf=function(e){return this.calls.filter((function(t){return t[0]==e}))},o.recordAll=function(){if(null!=r)throw"You forgot to call RecordingContext.reset()";o.recorders=[],r=function(e){var t=o.recorderForCanvas(e.canvas);return t||(t=new o(e),o.recorders.push([e.canvas,t]),t)}},o.reset=function(){if(!r)throw"Called RecordingContext.reset() before RecordingContext.recordAll()";r=null,o.recorders=null},o.recorderForCanvas=function(e){var t=o.recorders;if(null==t)throw"You must call RecordingContext.recordAll() before using other RecordingContext static methods";for(var n=0;n<t.length;n++){var r=t[n];if(r[0]==e)return r[1]}return null},o.recorderForSelector=function(e,t){var n=e.querySelector(t+" canvas")||e.querySelector(t);if(!n)throw"Unable to find a canvas matching "+t;if(!(n instanceof HTMLCanvasElement))throw"Selector "+t+" neither matches nor contains a canvas";return o.recorderForCanvas(n)},o.drawnObjectsWith=function(e,t,n){"function"!=typeof e&&0!=arguments.length||(n=e,e=null);var r=f(e,t);return n=n||function(){return!0},r?r.drawnObjectsWith(n):[]},o.drawnObjects=o.drawnObjectsWith,o.callsOf=function(e,t,n){"string"==typeof e&&(n=e,e=null);var r=f(e,t);return r?r.callsOf(n):[]};var h={DataContext:n,RecordingContext:o,ClickTrackingContext:function(e,n,r){t(this,e);var i=[];this.hits=[],this.hit=null;var o=this;function a(){o.hits.unshift(Array.prototype.slice.call(i)),o.hit=o.hits[0]}this.pushObject=function(e){i.unshift(e)},this.popObject=function(){i.shift()},this.reset=function(){this.hits=[],this.hit=null},this.clearRect=function(e,t,n,r){},this.fillRect=function(e,t,i,o){n>=e&&n<=e+i&&r>=t&&r<=t+o&&a()},this.strokeRect=function(e,t,n,r){},this.fill=function(t){e.isPointInPath(n,r)&&a()},this.stroke=function(){e.isPointInStroke(n,r)&&a()},this.fillText=function(e,t,n,r){},this.strokeText=function(e,t,n,r){}},getDataContext:i};e.exports=h}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}i(n(78));var o=i(n(55)),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items={},this.refToCounts={},this.refToMaxCoverage={},this.referenceSource=t}return r(e,[{key:"addItem",value:function(e){var t=e.getKey();if(!(t in this.items)){this.items[t]=e;var n=e.getCoverage(this.referenceSource);this.addToCoverage(n)}}},{key:"updateMismatches",value:function(e){var t=this._canonicalRef(e.contig);for(var n in this.refToCounts[t]={},this.refToMaxCoverage[t]=0,this.items){var r=this.items[n];if(r.getInterval().chrOnContig(e.contig)){var i=r.getCoverage(this.referenceSource);this.addToCoverage(i)}}}},{key:"addToCoverage",value:function(e){var t=this._canonicalRef(e.range.contig);t in this.refToCounts||(this.refToCounts[t]={},this.refToMaxCoverage[t]=0);for(var n=this.refToCounts[t],r=this.refToMaxCoverage[t],i=e.range,o=i.start(),a=i.stop(),s=o;s<=a;s++){(v=n[s])||(n[s]=v={count:0}),v.count+=1,v.count>r&&(r=v.count)}if(e.opInfo){var u=!0,c=!1,l=void 0;try{for(var f,h=e.opInfo.mismatches[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var p,d=f.value,g=n[d.pos];g.mismatches?p=g.mismatches:(p=g.mismatches={},g.ref=this.referenceSource.getRangeAsString({contig:t,start:d.pos,stop:d.pos}));var v=p[d.basePair]||0;p[d.basePair]=1+v}}catch(e){c=!0,l=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw l}}}this.refToMaxCoverage[t]=r}},{key:"maxCoverageForRef",value:function(e){return this.refToMaxCoverage[e]||this.refToMaxCoverage[o.default.altContigName(e)]||0}},{key:"binsForRef",value:function(e){return this.refToCounts[e]||this.refToCounts[o.default.altContigName(e)]||{}}},{key:"_canonicalRef",value:function(e){if(this.refToCounts[e])return e;var t=o.default.altContigName(e);return this.refToCounts[t]?t:e}}]),e}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=o(n(1)),c=o(n(35)),l=o(n(68)),f=o(n(62)),h=o(n(52)),p=o(n(61)),d=o(n(59)),g=o(n(106)),v=o(n(80)),m=o(n(60));var y=function(e){function t(e,n){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.source=e,this.height=Math.max(1,n)}return s(t,e),r(t,[{key:"render",value:function(e,t,n){var r={contig:n.contig,start:Math.max(0,n.start()-1),stop:n.stop()+1},i=this.source.getRangeAsString(r);!function(e,t,n,r,i){var o=t(1)-t(0),a=g.default.getDisplayMode(o),s=g.default.isText(a),u=n/window.devicePixelRatio;if(a!=g.default.HIDDEN){e.textAlign="center",e.font=m.default.TEXT_STYLE(a,u);for(var c=null,l=r.start(),f=r.stop(),h=l;h<=f;h++){var p=i[h-l];"."!=p&&(e.save(),e.pushObject({pos:h,letter:p}),e.fillStyle=m.default.BASE_COLORS[p],s?e.fillText(p,t(1.5+h),u):o>=m.default.COVERAGE_MIN_BAR_WIDTH_FOR_GAP?e.fillRect(t(1+h)+.5,0,o-1.5,u):c===p?e.fillRect(t(1+h)-1.5,0,o+1.5,u):e.fillRect(t(1+h)-.5,0,o+1.5,u),e.popObject(),e.restore(),c=p)}}}(e,t,this.height,h.default.fromGenomeRange(r),i)}},{key:"heightForRef",value:function(e){return this.height}},{key:"updateHeight",value:function(e){this.height=e}}]),t}(v.default),b=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return s(t,e),r(t,[{key:"render",value:function(){return u.default.createElement("canvas",null)}},{key:"componentDidMount",value:function(){var e=this;this.tiles=new y(this.props.source,this.props.height),this.props.source.on("newdata",(function(t){e.tiles.invalidateRange(t),e.updateVisualization()})),this.updateVisualization()}},{key:"getScale",value:function(){return d.default.getTrackScale(this.props.range,this.props.width)}},{key:"componentDidUpdate",value:function(e,t){(0,l.default)(e,this.props)&&(0,l.default)(t,this.state)||(this.props.height!=e.height&&(this.tiles.updateHeight(this.props.height),this.tiles.invalidateAll()),this.updateVisualization())}},{key:"updateVisualization",value:function(){var e=c.default.findDOMNode(this),t=this.props,n=t.width,r=t.height,i=t.range;if(0!==n&&e&&e instanceof Element){e instanceof HTMLCanvasElement&&d.default.sizeCanvas(e,n,r);var o=p.default.getDataContext(f.default.getContext(e));o.reset(),o.clearRect(0,0,o.canvas.width,o.canvas.height),this.tiles.renderToScreen(o,h.default.fromGenomeRange(i),this.getScale())}}}]),t}(u.default.Component);b.displayName="reference",e.exports=b},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}i(n(103));var o=i(n(81)),a=n(108),s=i(n(1)),u=i(n(35)),c=i(n(51)),l=i(n(68)),f=i(n(300)),h=i(n(58)),p=i(n(59)),d=i(n(79)),g=i(n(52)),v=i(n(62)),m=i(n(55)),y=i(n(61)),b=i(n(60));function w(e,t,n,r,i){var o=t(1+n.start),a=t(1+n.stop);if(!(a-o<=2*b.default.GENE_ARROW_SIZE)){var s=(o+a)/2;e.beginPath(),"-"==i?(e.moveTo(s+b.default.GENE_ARROW_SIZE,r-b.default.GENE_ARROW_SIZE),e.lineTo(s,r),e.lineTo(s+b.default.GENE_ARROW_SIZE,r+b.default.GENE_ARROW_SIZE)):(e.moveTo(s-b.default.GENE_ARROW_SIZE,r-b.default.GENE_ARROW_SIZE),e.lineTo(s,r),e.lineTo(s-b.default.GENE_ARROW_SIZE,r+b.default.GENE_ARROW_SIZE)),e.stroke()}}var x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={networkStatus:null}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return s.default.createElement("canvas",null)}},{key:"componentDidMount",value:function(){var e=this;this.cache=new a.GenericFeatureCache(this.props.referenceSource),this.props.source.on("newdata",(function(t){e.props.source.getFeaturesInRange(t).forEach((function(t){return e.cache.addFeature(new o.default(t.id,t.position,t))})),e.updateVisualization()})),this.props.referenceSource.on("newdata",(function(t){e.updateVisualization()})),this.props.source.on("networkprogress",(function(t){e.setState({networkStatus:t})})),this.props.source.on("networkdone",(function(t){e.setState({networkStatus:null})})),this.updateVisualization()}},{key:"getScale",value:function(){return p.default.getTrackScale(this.props.range,this.props.width)}},{key:"componentDidUpdate",value:function(e,t){(0,l.default)(this.props,e)&&(0,l.default)(this.state,t)||this.updateVisualization()}},{key:"updateVisualization",value:function(){var e=u.default.findDOMNode(this),t=this.props,n=t.width,r=t.height,i=this.props.range,o=new g.default(i.contig,i.start,i.stop);if(0!==n){var a=this.getScale(),s=d.default.linear().domain([a.invert(0),a.invert(n)]).range([0,n]).clamp(!0);if(e&&e instanceof Element){e instanceof HTMLCanvasElement&&p.default.sizeCanvas(e,n,r);var l=y.default.getDataContext(v.default.getContext(e));l.reset(),l.clearRect(0,0,l.canvas.width,l.canvas.height);var x=Math.round(r/4),k=[];l.font=b.default.GENE_FONT_SIZE+"px "+b.default.GENE_FONT,l.textAlign="center",c.default.flatten(c.default.map(this.cache.getGroupsOverlapping(o),(function(e){return e.items}))).forEach((function(e){var t=e.gFeature;t.position.intersects(o)&&(l.pushObject(t),l.lineWidth=1,l.strokeStyle=b.default.GENE_COLOR,l.fillStyle=b.default.GENE_COLOR,v.default.drawLine(l,s(1+t.position.start()),x+.5,s(1+t.position.stop()),x+.5),f.default.splitCodingExons(t.exons,t.codingRegion).forEach((function(e){l.fillRect(a(1+e.start),x-3*(e.isCoding?2:1),a(e.stop+2)-a(1+e.start),6*(e.isCoding?2:1))})),t.position.interval.complementIntervals(t.exons).forEach((function(e){w(l,s,e,x+.5,t.strand)})),l.strokeStyle=b.default.GENE_COMPLEMENT_COLOR,l.lineWidth=2,t.exons.forEach((function(e){w(l,s,e,x+.5,t.strand)})),function(e,t,n,r,i){var o=r.position,a=.5*(t(1+o.start())+t(1+o.stop())),s=c.default.isEmpty(m.default.stringToLiteral(r.name))?r.id:r.name,u=e.measureText(s).width,l=new h.default(a-.5*u,a+.5*u);if(!c.default.any(i,(function(e){return l.intersects(e)}))){i.push(l);var f=n+b.default.GENE_FONT_SIZE+b.default.GENE_TEXT_PADDING;e.fillText(s,a,f)}}(l,s,x,t,k),l.popObject())}))}}}}]),t}(s.default.Component);x.displayName="genes",e.exports=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(51)),o=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.isCoding=r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r(n(58)).default);e.exports={splitCodingExons:function(e,t){return i.default.flatten(e.map((function(e){if(e.containsInterval(t))return[new o(e.start,t.start-1,!1),new o(t.start,t.stop,!0),new o(t.stop+1,e.stop,!1)].filter((function(e){return e.start<=e.stop}));var n=t.contains(e.start);return n==t.contains(e.stop)?[new o(e.start,e.stop,n)]:n?[new o(e.start,t.stop,!0),new o(t.stop+1,e.stop,!1)]:[new o(e.start,t.start-1,!1),new o(t.start,e.stop,!0)]})))},CodingInterval:o}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o(n(78));var u=o(n(81)),c=n(108),l=o(n(1)),f=o(n(68)),h=o(n(51)),p=o(n(59)),d=o(n(302)),g=o(n(52)),v=o(n(62)),m=o(n(80)),y=o(n(61)),b=o(n(60)),w=n(74),x=function(e){function t(e,n,r){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.source=e,this.cache=n,this.options=r}return s(t,e),r(t,[{key:"update",value:function(e){this.options=e}},{key:"heightForRef",value:function(e){return Math.max(this.cache.pileupHeightForRef(e),1)*(b.default.READ_HEIGHT+b.default.READ_SPACING)}},{key:"render",value:function(e,t,n,r,i){var o=this,a=new g.default(n.contig,n.start()-1,n.stop()+1);this.source.getFeaturesInRange(a,i).forEach((function(e){return o.cache.addFeature(new u.default(e.id,e.position,e))})),k(e,t,a,this.cache.getGroupsOverlapping(a),this.options)}}]),t}(m.default);function k(e,t,n,r,i){e.font=b.default.GENE_FONT_SIZE+"px "+b.default.GENE_FONT,e.textAlign="center",r.forEach((function(r){var o=r.items[0].gFeature;if(r.span.intersects(n)){e.pushObject(o),e.lineWidth=1;var a=Math.max(o.score/1e3,.2);i.color.rgb.a=a,e.fillStyle="rgba("+i.color.rgb.r+", "+i.color.rgb.g+", "+i.color.rgb.b+", "+i.color.rgb.a+")";var s=Math.round(t(r.span.start())),u=Math.ceil(t(r.span.stop())-t(r.span.start())),c=i.collapse?(0,w.yForRow)(0):(0,w.yForRow)(r.row);e.fillRect(s-.5,c,u,b.default.READ_HEIGHT),e.popObject()}}))}var _=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={networkStatus:null}}return s(t,e),r(t,[{key:"render",value:function(){var e=null;return this.state.networkStatus&&(e=l.default.createElement("div",{ref:"status",className:"network-status-small"},l.default.createElement("div",{className:"network-status-message-small"},"Loading features"))),this.props.range.stop-this.props.range.start>d.default.MONSTER_REQUEST?l.default.createElement("div",null,l.default.createElement("div",{className:"center"},"Zoom in to see features"),l.default.createElement("canvas",{onClick:this.handleClick.bind(this)})):l.default.createElement("div",null,e,l.default.createElement("div",{ref:"container",style:{height:"100%"}},l.default.createElement("canvas",{ref:"canvas",onClick:this.handleClick.bind(this)})))}},{key:"componentDidMount",value:function(){var e=this;this.cache=new c.GenericFeatureCache(this.props.referenceSource),this.tiles=new x(this.props.source,this.cache,this.props.options),this.props.source.on("newdata",(function(t){e.tiles.invalidateRange(t),e.updateVisualization()})),this.props.referenceSource.on("newdata",(function(t){e.tiles.invalidateRange(t),e.updateVisualization()})),this.props.source.on("networkprogress",(function(t){e.setState({networkStatus:t})})),this.props.source.on("networkdone",(function(t){e.setState({networkStatus:null})})),this.updateVisualization()}},{key:"getScale",value:function(){return p.default.getTrackScale(this.props.range,this.props.width)}},{key:"componentDidUpdate",value:function(e,t){var n=!1;this.props.options!=e.options&&(this.handleOptionsChange(e.options),n=!0),(0,f.default)(this.props,e)&&(0,f.default)(this.state,t)&&!n||(this.tiles.update(this.props.options),this.tiles.invalidateAll(),this.updateVisualization())}},{key:"handleOptionsChange",value:function(e){this.tiles.invalidateAll(),e.collapse!=this.props.options.collapse?(this.tiles.update(this.props.options),this.tiles.invalidateAll(),this.updateVisualization()):e.color!=this.props.options.color&&(this.tiles.update(this.props.options),this.tiles.invalidateAll(),this.updateVisualization())}},{key:"updateVisualization",value:function(){var e=this.refs.canvas,t=this.props.width,n=this.props.range,r=new g.default(n.contig,n.start,n.stop);if(0!==t&&void 0!==e){var i=y.default.getDataContext(v.default.getContext(e));i.reset(),i.clearRect(0,0,i.canvas.width,i.canvas.height);var o=p.default.findParent(e,"features"),a=b.default.READ_HEIGHT+b.default.READ_SPACING;this.props.options.collapse||(a=this.tiles.heightForRef(this.props.range.contig)),a=p.default.heightForCanvas(e,a),o&&(o.style.height=a+"px"),p.default.sizeCanvas(e,t,a),this.tiles.renderToScreen(i,r,this.getScale())}}},{key:"handleClick",value:function(e){var t=window.devicePixelRatio,n=e.nativeEvent,r=n.offsetX,i=n.offsetY/t,o=v.default.getContext(this.refs.canvas),a=new y.default.ClickTrackingContext(o,r,i),s=this.props.range,u=new g.default(s.contig,s.start-1,s.stop+1);k(a,this.getScale(),u,this.cache.getGroupsOverlapping(u),this.props.options);var c=h.default.find(a.hits[0],(function(e){return e}));if(c)if("function"==typeof this.props.options.onFeatureClicked)this.props.options.onFeatureClicked(c);else{var l=window.alert||console.log,f=h.default.extend({id:c.id,range:c.position.contig+":"+c.position.start()+"-"+c.position.stop(),score:c.score});l(JSON.stringify(f,null,"  "))}}}]),t}(l.default.Component);_.displayName="features",_.defaultOptions={collapse:!1,color:b.default.DEFAULT_COLORPICKER},_.getOptionsMenu=function(e){return[{key:"collapse",label:"Collapse track",checked:e.collapse},{key:"pick-color",label:"Change track color",color:e.color}]},_.handleSelectOption=function(e,t){var n=h.default.clone(t);return"collapse"==e.key?(n.collapse=!n.collapse,n):"pick-color"==e.key?(n.color=e.color,n):t},e.exports=_},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(56)),a=i(n(52)),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache=n(303),this.url=t,this.numNetworkRequests=0}return r(e,[{key:"get",value:function(e,t,n){var r=n-t;if(r<=0)return o.default.reject("Requested <0 interval ("+r+") from "+this.url);var i=new a.default(e,t,n),s=this.cache.get(i);return s?o.default.when(s):this.getFromNetwork(e,t,n)}},{key:"getFromNetwork",value:function(e,t,n){var r=this,i=n-t;if(i>5e6)throw"Monster request: Won't fetch "+i+" sized ranges from "+this.url;var o=new XMLHttpRequest,s=this.getEndpointFromContig(e,t,n);return o.open("GET",s),o.responseType="json",o.setRequestHeader("Content-Type","application/json"),this.promiseXHR(o).then((function(i){var o=i[0],s=new a.default(e,t,n);return r.cache.put(s,o),o}))}},{key:"getEndpointFromContig",value:function(e,t,n){return this.url+"/"+e+"?start="+t+"&end="+n}},{key:"promiseXHR",value:function(e){var t=this.url,n=o.default.defer();return e.addEventListener("load",(function(e){this.status>=400?n.reject("Request for "+t+" failed with status: "+this.status+" "+this.statusText):n.resolve([this.response,e])})),e.addEventListener("error",(function(e){n.reject("Request for "+t+" failed with status: "+this.status+" "+this.statusText)})),this.numNetworkRequests++,e.send(),n.promise}}]),e}();e.exports={RemoteRequest:s,MONSTER_REQUEST:5e6}},function(e,t,n){"use strict";var r=Object.create(null),i=!1,o=0,a=0,s=0;function u(e){s--,delete r[e]}t.put=function(e,t,n,o){if(i&&console.log("caching: %s = %j (@%s)",e,t,n),void 0!==n&&("number"!=typeof n||isNaN(n)||n<=0))throw new Error("Cache timeout must be a positive number");if(void 0!==o&&"function"!=typeof o)throw new Error("Cache timeout callback must be a function");var a=r[e];a?clearTimeout(a.timeout):s++;var c={value:t,expire:n+Date.now()};return isNaN(c.expire)||(c.timeout=setTimeout((function(){u(e),o&&o(e,t)}),n)),r[e]=c,t},t.del=function(e){var t=!0,n=r[e];return n?(clearTimeout(n.timeout),!isNaN(n.expire)&&n.expire<Date.now()&&(t=!1)):t=!1,t&&u(e),t},t.clear=function(){for(var e in r)clearTimeout(r[e].timeout);s=0,r=Object.create(null),i&&(o=0,a=0)},t.get=function(e){var t=r[e];if(void 0!==t){if(isNaN(t.expire)||t.expire>=Date.now())return i&&o++,t.value;i&&a++,s--,delete r[e]}else i&&a++;return null},t.size=function(){return s},t.memsize=function(){var e,t=0;for(e in r)t++;return t},t.debug=function(e){i=e},t.hits=function(){return o},t.misses=function(){return a},t.keys=function(){return Object.keys(r)}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(1)),a=i(n(52)),s=(i(n(87)),i(n(62))),u=i(n(61)),c=i(n(60)),l=i(n(35)),f=i(n(68)),h=i(n(59)),p=i(n(51)),d=i(n(81)),g=n(108);var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={networkStatus:null}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return o.default.createElement("canvas",null)}},{key:"componentDidMount",value:function(){var e=this;this.cache=new g.GenericFeatureCache(this.props.referenceSource),this.props.source.on("newdata",(function(t){e.props.source.getFeaturesInRange(t).forEach((function(t){return e.cache.addFeature(new d.default(t.name,t.position,t))})),e.updateVisualization()})),this.props.referenceSource.on("newdata",(function(t){e.updateVisualization()})),this.props.source.on("networkprogress",(function(t){e.setState({networkStatus:t})})),this.props.source.on("networkdone",(function(t){e.setState({networkStatus:null})})),this.updateVisualization()}},{key:"componentDidUpdate",value:function(e,t){(0,f.default)(this.props,e)&&(0,f.default)(this.state,t)||this.updateVisualization(e)}},{key:"updateVisualization",value:function(e){var t=l.default.findDOMNode(this),n=this.props,r=n.width,i=n.height,o=new a.default(this.props.range.contig,this.props.range.start,this.props.range.stop);0!==r&&void 0!==t&&null!=t&&(this.updateChromosome(t,i,r,o),this.updateChromosomeLocation(t,i,r,o))}},{key:"updateChromosomeLocation",value:function(e,t,n,r){var i=p.default.flatten(p.default.map(this.cache.getGroupsOverlapping(r),(function(e){return e.items})));if(0!==n&&void 0!==e&&null!=e&&i&&0!=i.length){var o=i[0],a=u.default.getDataContext(s.default.getContext(e)),l={start:o.position.start(),stop:o.position.stop()},f=h.default.getTrackScale(l,this.props.width),d=Math.ceil(f(r.stop())-f(r.start()));a.strokeStyle="red",a.strokeRect(f(r.start()),2*c.default.IDIOGRAM_LINEWIDTH,d,c.default.READ_HEIGHT),a.popObject()}}},{key:"updateChromosome",value:function(e,t,n,r){var i=this;if(0!==n&&void 0!==e&&null!=e){h.default.sizeCanvas(e,n,t);var o=u.default.getDataContext(s.default.getContext(e));o.reset(),o.clearRect(0,0,o.canvas.width,o.canvas.height),t=h.default.heightForCanvas(e,c.default.READ_HEIGHT),p.default.flatten(p.default.map(this.cache.getGroupsOverlapping(r),(function(e){return e.items}))).forEach((function(e){var t={start:e.position.start(),stop:e.position.stop()},n=h.default.getTrackScale(t,i.props.width);e.gFeature.bands.forEach((function(e){o.pushObject(e);var t,r,i=(t=e,void 0===(r=c.default.IDIOGRAM_COLORS[t.value])?"white":r),a=Math.ceil(n(e.end)-n(e.start)),s=n(e.start)+c.default.IDIOGRAM_LINEWIDTH;"acen"==e.value?(o.fillStyle="red",o.beginPath(),e.name.startsWith("p")?(o.moveTo(s+c.default.IDIOGRAM_LINEWIDTH,2*c.default.IDIOGRAM_LINEWIDTH),o.lineTo(s+a,c.default.READ_HEIGHT/2),o.lineTo(s+c.default.IDIOGRAM_LINEWIDTH,c.default.READ_HEIGHT+c.default.IDIOGRAM_LINEWIDTH),o.fill()):(o.moveTo(s+c.default.IDIOGRAM_LINEWIDTH,c.default.READ_HEIGHT/2),o.lineTo(s+a,2*c.default.IDIOGRAM_LINEWIDTH),o.lineTo(s+a,c.default.READ_HEIGHT+c.default.IDIOGRAM_LINEWIDTH),o.fill())):(o.fillStyle=i,o.strokeStyle="black",o.fillRect(s,2*c.default.IDIOGRAM_LINEWIDTH,a,c.default.READ_HEIGHT),o.strokeRect(s,2*c.default.IDIOGRAM_LINEWIDTH,a,c.default.READ_HEIGHT)),o.popObject()}))}))}}}]),t}(o.default.Component);v.displayName="idiogram",e.exports=v},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(1)),a=i(n(35)),s=i(n(107)),u=i(n(62)),c=i(n(61)),l=i(n(60)),f=i(n(59)),h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getScale",value:function(){return f.default.getTrackScale(this.props.range,this.props.width)}},{key:"render",value:function(){return o.default.createElement("canvas",null)}},{key:"componentDidMount",value:function(){this.updateVisualization()}},{key:"componentDidUpdate",value:function(e,t){this.updateVisualization()}},{key:"updateVisualization",value:function(){var e=a.default.findDOMNode(this),t=this.props,n=t.range,r=t.width,i=t.height,o=this.getScale();if(e&&e instanceof Element){e instanceof HTMLCanvasElement&&f.default.sizeCanvas(e,r,i);var s=c.default.getDataContext(u.default.getContext(e));s.save(),s.reset(),s.clearRect(0,0,s.canvas.width,s.canvas.height);var h=Math.floor((n.stop+n.start)/2),p=Math.round(o(h+1)),d=Math.round(o(h));u.default.drawLine(s,d-.5,0,d-.5,i),u.default.drawLine(s,p-.5,0,p-.5,i);var g=i/2;s.fillStyle=l.default.LOC_FONT_COLOR,s.font=l.default.LOC_FONT_STYLE,s.fillText(h.toLocaleString()+" bp",p+l.default.LOC_TICK_LENGTH+l.default.LOC_TEXT_PADDING,g+l.default.LOC_TEXT_Y_OFFSET),u.default.drawLine(s,p-.5,g-.5,p+l.default.LOC_TICK_LENGTH-.5,g-.5),s.restore()}}}]),t}(o.default.Component);h.displayName="location",h.defaultSource=s.default.create(),e.exports=h},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=o(n(1)),c=o(n(68)),l=o(n(51)),f=o(n(79)),h=o(n(59)),p=n(74),d=o(n(52)),g=o(n(106)),v=o(n(307)),m=o(n(80)),y=o(n(62)),b=o(n(61)),w=o(n(60)),x="undefined"!=typeof CanvasRenderingContext2D&&!!CanvasRenderingContext2D.prototype.setLineDash,k=function(e){function t(e,n){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.cache=e,this.options=n}return s(t,e),r(t,[{key:"update",value:function(e){this.options=e}},{key:"heightForRef",value:function(e){return this.cache.pileupHeightForRef(e)*(w.default.READ_HEIGHT+w.default.READ_SPACING)}},{key:"render",value:function(e,t,n){var r=new d.default(n.contig,n.start()-1,n.stop()+1),i=this.cache.getGroupsOverlapping(r);_(e,t,r,this.options.colorByInsert?this.cache.getInsertStats():null,this.options.colorByStrand,i)}}]),t}(m.default);function _(e,t,n,r,i,o){var a=t(1)-t(0),s=g.default.getDisplayMode(a),u=g.default.isText(s);function c(n,r,i){switch(n.op){case p.CigarOp.MATCH:if(n.arrow)h=n.pos,d=n.length,g=r,v=n.arrow,m=t(h+1),y=t(h+d+1),b=g+w.default.READ_HEIGHT,x=Math.min(5,(y-m)/6),e.beginPath(),"R"==v?(e.moveTo(m,g),e.lineTo(y-x,g),e.lineTo(y,(g+b)/2),e.lineTo(y-x,b),e.lineTo(m,b)):(e.moveTo(y,g),e.lineTo(m+x,g),e.lineTo(m,(g+b)/2),e.lineTo(m+x,b),e.lineTo(y,b)),e.fill();else{var o=t(n.pos+1);e.fillRect(o,r,t(n.pos+n.length+1)-o,w.default.READ_HEIGHT)}break;case p.CigarOp.DELETE:var a=t(n.pos+1),s=t(n.pos+1+n.length),u=r+w.default.READ_HEIGHT/2-.5;e.save(),e.fillStyle=w.default.DELETE_COLOR,e.fillRect(a,u,s-a,1),e.restore();break;case p.CigarOp.INSERT:e.save(),e.fillStyle=w.default.INSERT_COLOR;var c=t(n.pos+1)-2,l=r-1,f=r+w.default.READ_HEIGHT+2;e.fillRect(c,l,1,f-l),e.restore()}var h,d,g,v,m,y,b,x}function l(r,o){e.pushObject(r),e.save(),i&&(e.fillStyle="+"==r.strand?w.default.ALIGNMENT_PLUS_STRAND_COLOR:w.default.ALIGNMENT_MINUS_STRAND_COLOR),r.ops.forEach((function(e){(function(e){return e.op==p.CigarOp.MATCH||e.op==p.CigarOp.DELETE||e.op==p.CigarOp.INSERT})(e)&&c(e,o)})),r.mismatches.forEach((function(r){return function(r,i){if(!n.interval.contains(r.pos))return;e.pushObject(r),e.save(),e.fillStyle=w.default.BASE_COLORS[r.basePair],e.globalAlpha=function(e){var t=S(e);return t=Math.round(10*t+.5)/10,Math.min(1,t)}(r.quality),e.textAlign="center",u?e.fillText(r.basePair,t(1.5+r.pos),i+w.default.READ_HEIGHT-2):e.fillRect(t(1+r.pos),i,a-1,w.default.READ_HEIGHT);e.restore(),e.popObject()}(r,o)})),e.restore(),e.popObject()}e.font=w.default.TEXT_STYLE(g.default.TIGHT,w.default.READ_HEIGHT-1),o.forEach((function(n){return function(n){if(e.save(),r&&n.insert){var i=n.span.length();i<r.minOutlierSize?e.fillStyle="blue":i>r.maxOutlierSize?e.fillStyle="red":e.fillStyle=w.default.ALIGNMENT_COLOR}else e.fillStyle=w.default.ALIGNMENT_COLOR;var o=(0,p.yForRow)(n.row);if(e.pushObject(n),n.insert){var a=n.insert,s=t(a.start+1),u=t(a.stop+1);e.fillRect(s,o+w.default.READ_HEIGHT/2-.5,u-s,1)}n.items.forEach((function(e){return l(e,o)})),e.popObject(),e.restore()}(n)}))}var S=f.default.linear().domain([5,20]).range([.1,.9]).clamp(!0);var E=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={networkStatus:null}}return s(t,e),r(t,[{key:"render",value:function(){var e=null,t=this.state.networkStatus;if(t){var n=this.formatStatus(t);e=u.default.createElement("div",{ref:"status",className:"network-status"},u.default.createElement("div",{className:"network-status-message"},"Loading alignments (",n,")"))}return u.default.createElement("div",null,e,u.default.createElement("div",{ref:"container",style:{height:"100%"}},u.default.createElement("canvas",{ref:"canvas",onClick:this.handleClick.bind(this)})))}},{key:"formatStatus",value:function(e){if(e.numRequests){var t=e.numRequests>1?"s":"";return"issued "+e.numRequests+" request"+t}if(e.status)return e.status;throw"invalid"}},{key:"componentDidMount",value:function(){var e=this;this.cache=new v.default(this.props.referenceSource,this.props.options.viewAsPairs),this.tiles=new k(this.cache,this.props.options),this.props.source.on("newdata",(function(t){e.updateReads(t),e.tiles.invalidateRange(t),e.updateVisualization()})),this.props.referenceSource.on("newdata",(function(t){e.cache.updateMismatches(t),e.tiles.invalidateRange(t),e.updateVisualization()})),this.props.source.on("networkprogress",(function(t){e.setState({networkStatus:t})})),this.props.source.on("networkdone",(function(t){e.setState({networkStatus:null})})),this.updateVisualization()}},{key:"getScale",value:function(){return h.default.getTrackScale(this.props.range,this.props.width)}},{key:"componentDidUpdate",value:function(e,t){var n=!1;this.props.options!=e.options&&(this.handleOptionsChange(e.options),n=!0),(0,c.default)(this.props,e)&&(0,c.default)(this.state,t)&&!n||this.updateVisualization()}},{key:"handleOptionsChange",value:function(e){this.tiles.invalidateAll(),e.viewAsPairs!=this.props.options.viewAsPairs?(this.cache=new v.default(this.props.referenceSource,this.props.options.viewAsPairs),this.tiles=new k(this.cache,this.props.options),this.updateReads(d.default.fromGenomeRange(this.props.range))):e.colorByInsert!=this.props.options.colorByInsert?(this.tiles.update(this.props.options),this.tiles.invalidateAll(),this.updateVisualization()):e.hideAlignments!=this.props.options.hideAlignments&&(this.tiles.update(this.props.options),this.updateVisualization()),e.sort!=this.props.options.sort&&this.handleSort()}},{key:"updateReads",value:function(e){var t=this,n=this.cache.anyGroupsOverlapping(e);this.props.source.getFeaturesInRange(e).forEach((function(e){return t.cache.addAlignment(e)})),!n&&this.cache.anyGroupsOverlapping(e)&&this.handleSort()}},{key:"updateVisualization",value:function(){var e=this.refs.canvas;if(0!==this.props.width){var t=y.default.getContext(e),n=b.default.getDataContext(t);this.renderScene(n)}}},{key:"renderScene",value:function(e){var t=this.props.range,n=new d.default(t.contig,t.start,t.stop),r=this.getScale(),i=this.refs.canvas,o=this.props.width;e.reset(),e.clearRect(0,0,e.canvas.width,e.canvas.height);var a=h.default.findParent(i,"pileup");if(this.props.options.hideAlignments)return h.default.sizeCanvas(i,o,60),void(a&&(a.style.minHeight="60px"));a&&(a.style.minHeight="");var s=(0,p.yForRow)(this.cache.pileupHeightForRef(this.props.range.contig));h.default.sizeCanvas(i,o,s),this.tiles.renderToScreen(e,n,r),this.renderCenterLine(e,n,r);var u=h.default.findParent(this.refs.canvas,"track-content");u&&(u.scrollLeft=0)}},{key:"renderCenterLine",value:function(e,t,n){var r=Math.floor((t.stop()+t.start())/2),i=Math.ceil(n(r+1)),o=Math.floor(n(r)),a=e.canvas.height;if(e.save(),e.lineWidth=1,x&&e.setLineDash([5,5]),i-o<3){var s=Math.round((o+i)/2);y.default.drawLine(e,s-.5,0,s-.5,a)}else y.default.drawLine(e,o-.5,0,o-.5,a),y.default.drawLine(e,i-.5,0,i-.5,a);e.restore()}},{key:"handleSort",value:function(){var e=this.props.range,t=(e.start+e.stop)/2;this.cache.sortReadsAt(this.props.range.contig,t),this.tiles.invalidateAll(),this.updateVisualization()}},{key:"handleClick",value:function(e){var t=e.nativeEvent,n=t.offsetX,r=t.offsetY,i=y.default.getContext(this.refs.canvas),o=new b.default.ClickTrackingContext(i,n,r),a=this.props.range,s=new d.default(a.contig,a.start,a.stop);_(o,this.getScale(),s,null,!1,this.cache.getGroupsOverlapping(s));var u=l.default.find(o.hits[0],(function(e){return e.read})),c=window.alert||console.log;u&&c(u.read.debugString())}}]),t}(u.default.Component);E.displayName="pileup",E.defaultOptions={viewAsPairs:!1,colorByInsert:!0,colorByStrand:!1,hideAlignments:!1},E.getOptionsMenu=function(e){return[{key:"view-pairs",label:"View as pairs",checked:e.viewAsPairs},"-",{key:"color-insert",label:"Color by insert size",checked:e.colorByInsert},{key:"color-strand",label:"Color by strand",checked:e.colorByStrand},{key:"hide-alignments",label:"Hide alignments",checked:e.hideAlignments},"-",{key:"sort",label:"Sort alignments"}]};var C=1;E.handleSelectOption=function(e,t){var n=l.default.clone(t);return"view-pairs"==e.key?(n.viewAsPairs=!n.viewAsPairs,n):"color-insert"==e.key?(n.colorByInsert=!n.colorByInsert,n.colorByInsert&&(n.colorByStrand=!1),n):"color-strand"==e.key?(n.colorByStrand=!n.colorByStrand,n.colorByStrand&&(n.colorByInsert=!1),n):"hide-alignments"==e.key?(n.hideAlignments=!n.hideAlignments,n):"sort"==e.key?(n.sort=C++,n):t},e.exports=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(148)),a=i(n(51)),s=i(n(52)),u=i(n(58)),c=n(74),l=i(n(55)),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.viewAsPairs=n,this._insertStats=null}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"groupKey",value:function(e){return this.viewAsPairs?e.name+":"+e.ref:e.getKey()}},{key:"addAlignment",value:function(e){this._insertStats=null;var t=this.groupKey(e),n=e.getInterval();t in this.groups||(this.groups[t]={key:t,row:-1,insert:null,span:n,items:[]});var r=this.groups[t];if(!a.default.find(r.items,(function(t){return t.read==e}))){var i=(0,c.getOpInfo)(e,this.referenceSource),o={read:e,strand:e.getStrand(),refLength:n.length(),ops:i.ops,mismatches:i.mismatches};r.items.push(o);var u=null;if(1==r.items.length){if(this.viewAsPairs){var l=e.getMateProperties(),f=[n];l&&l.ref&&l.ref==e.ref&&(u=new s.default(l.ref,l.pos,l.pos+n.length()),f.push(u)),r=a.default.extend(r,h(f))}else r.span=n;e.ref in this.refToPileup||(this.refToPileup[e.ref]=[]);var p=this.refToPileup[e.ref];r.row=(0,c.addToPileup)(r.span.interval,p)}else if(2==r.items.length){var d=h([n,u=r.items[0].read.getInterval()]),g=d.span,v=d.insert;r.insert=v,v&&(r.span=g)}}}},{key:"updateMismatches",value:function(e){for(var t in this.groups){var n=this.groups[t].items,r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=u.read;if(l.getInterval().intersects(e)){var f=(0,c.getOpInfo)(l,this.referenceSource);u.mismatches=f.mismatches}}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}}},{key:"sortReadsAt",value:function(e,t){var n=this.pileupForRef(e),r=a.default.filter(this.groups,(function(n){return a.default.any(n.items,(function(n){return n.read.getInterval().containsLocus(e,t)}))})),i=a.default.mapObject(a.default.groupBy(r,(function(e){return e.row})),(function(e){return a.default.min(e,(function(e){return e.span.start()})).span.start()})),o=a.default.sortBy(a.default.range(0,n.length),(function(e){return i[e]||1/0})),s=[];o.forEach((function(e,t){s[e]=t}));var u=a.default.range(0,n.length).map((function(e){return n[s[e]]})),c=e in this.refToPileup?e:l.default.altContigName(e);this.refToPileup[c]=u,a.default.each(this.groups,(function(t){t.span.chrOnContig(e)&&(t.row=s[t.row])}))}},{key:"getInsertStats",value:function(){if(this._insertStats)return this._insertStats;var e=a.default.map(this.groups,(function(e){return e.items[0].read.getInferredInsertSize()})).filter((function(e){return e<3e4})),t=e.length>=500?{minOutlierSize:l.default.computePercentile(e,.5),maxOutlierSize:l.default.computePercentile(e,99.5)}:{minOutlierSize:0,maxOutlierSize:1/0};return this._insertStats=t,t}}]),t}(o.default);function h(e){for(var t=!0;t;){var n=e;if(t=!1,1==n.length)return{insert:null,span:n[0]};if(2!=n.length)throw"Called spanAndInsert with "+n.length+" \notin [1, 2]";if(n[0].chrOnContig(n[1].contig)){var r=n[0].interval,i=n[1].interval,o=r.start<i.start?new u.default(r.stop,i.start):new u.default(i.stop,r.start),a=u.default.boundingInterval([r,i]);return{insert:o,span:new s.default(n[0].contig,a.start,a.stop)}}e=[n[0]],t=!0}}e.exports=f},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(1)),a=i(n(35)),s=i(n(107)),u=i(n(62)),c=i(n(61)),l=i(n(60)),f=i(n(59)),h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getScale",value:function(){return f.default.getTrackScale(this.props.range,this.props.width)}},{key:"render",value:function(){return o.default.createElement("canvas",{ref:"canvas"})}},{key:"componentDidMount",value:function(){this.updateVisualization()}},{key:"componentDidUpdate",value:function(e,t){this.updateVisualization()}},{key:"getDOMNode",value:function(){return a.default.findDOMNode(this)}},{key:"updateVisualization",value:function(){var e=this.getDOMNode(),t=this.props,n=t.range,r=t.width,i=t.height;f.default.sizeCanvas(e,r,i);var o=c.default.getDataContext(u.default.getContext(e));o.save(),o.reset(),o.clearRect(0,0,o.canvas.width,o.canvas.height);var a=n.stop-n.start+1,s=Math.round(r/2),h=Math.round(i/2),p=f.default.formatRange(a),d=p.prefix,g=p.unit;o.lineWidth=1,o.fillStyle=l.default.SCALE_FONT_COLOR,o.font=l.default.SCALE_FONT_STYLE,o.textAlign="center",o.fillText(d+" "+g,s,h+l.default.SCALE_TEXT_Y_OFFSET),u.default.drawLine(o,.5,h-.5,s-l.default.SCALE_LINE_PADDING-.5,h-.5),o.beginPath(),o.moveTo(.5+l.default.SCALE_ARROW_SIZE,h-l.default.SCALE_ARROW_SIZE-.5),o.lineTo(.5,h-.5),o.lineTo(.5+l.default.SCALE_ARROW_SIZE,h+l.default.SCALE_ARROW_SIZE-.5),o.closePath(),o.fill(),o.stroke(),u.default.drawLine(o,s+l.default.SCALE_LINE_PADDING-.5,h-.5,r-.5,h-.5),o.beginPath(),o.moveTo(r-l.default.SCALE_ARROW_SIZE-.5,h-l.default.SCALE_ARROW_SIZE-.5),o.lineTo(r-.5,h-.5),o.lineTo(r-l.default.SCALE_ARROW_SIZE-.5,h+l.default.SCALE_ARROW_SIZE-.5),o.closePath(),o.fill(),o.stroke(),o.restore()}}]),t}(o.default.Component);h.displayName="scale",h.defaultSource=s.default.create(),e.exports=h},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=n(139),a=i(n(1)),s=i(n(35)),u=i(n(59)),c=i(n(68)),l=i(n(52)),f=i(n(62)),h=i(n(61)),p=i(n(60)),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return a.default.createElement("canvas",{onClick:this.handleClick.bind(this)})}},{key:"componentDidMount",value:function(){var e=this;this.updateVisualization(),this.props.source.on("newdata",(function(){e.updateVisualization()}))}},{key:"getScale",value:function(){return u.default.getTrackScale(this.props.range,this.props.width)}},{key:"componentDidUpdate",value:function(e,t){(0,c.default)(e,this.props)&&(0,c.default)(t,this.state)||this.updateVisualization()}},{key:"updateVisualization",value:function(){var e=s.default.findDOMNode(this),t=this.props,n=t.width,r=t.height;if(0!==n){if(!(e&&e instanceof Element))throw new TypeError("canvas is not an Element");e instanceof HTMLCanvasElement&&u.default.sizeCanvas(e,n,r);var i=f.default.getContext(e),o=h.default.getDataContext(i);this.renderScene(o)}}},{key:"renderScene",value:function(e){var t=this,n=this.props.range,r=new l.default(n.contig,n.start,n.stop),i=this.props.source.getVariantsInRange(r),a=this.getScale(),s=this.props.height-p.default.VARIANT_HEIGHT-1;e.clearRect(0,0,e.canvas.width,e.canvas.height),e.reset(),e.save(),e.fillStyle=p.default.VARIANT_FILL,e.strokeStyle=p.default.VARIANT_STROKE,i.forEach((function(n){var r=1;if(t.props.options.variantHeightByFrequency){var i=null;void 0===t.props.options.allelFrequencyStrategy?i=n.majorFrequency:t.props.options.allelFrequencyStrategy===o.AllelFrequencyStrategy.Major?i=n.majorFrequency:t.props.options.allelFrequencyStrategy===o.AllelFrequencyStrategy.Minor?i=n.minorFrequency:console.log("Unknown AllelFrequencyStrategy: ",t.props.options.allelFrequencyStrategy),null!=i&&(r=i)}var u=p.default.VARIANT_HEIGHT*r,c=s-.5+p.default.VARIANT_HEIGHT-u,l=Math.round(a(n.position))-.5,f=Math.max(1,Math.round(a(n.position+1)-a(n.position)));e.pushObject(n),e.fillRect(l,c,f,u),e.strokeRect(l,c,f,u),e.popObject()})),e.restore()}},{key:"handleClick",value:function(e){var t=e.nativeEvent,n=t.offsetX,r=t.offsetY,i=s.default.findDOMNode(this);if(null!=i){if(!(i&&i instanceof Element))throw new TypeError("canvas is not an Element");var o=f.default.getContext(i),a=new h.default.ClickTrackingContext(o,n,r);this.renderScene(a);var u=a.hit;if(u&&u.length>0){for(var c=[],l=0;l<u.length;l++)c.push({id:u[l].id,vcfLine:u[l].vcfLine,ref:u[l].ref,alt:u[l].alt});"function"==typeof this.props.options.onVariantClicked?this.props.options.onVariantClicked(c):console.log("Variants clicked: ",c)}}}}]),t}(a.default.Component);d.displayName="variants",e.exports=d},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=o(n(1)),c=o(n(51)),l=o(n(59)),f=o(n(68)),h=o(n(52)),p=o(n(62)),d=o(n(80)),g=o(n(61)),v=o(n(60)),m=o(n(55)),y=function(e){function t(e,n,r){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.source=e,this.options=r,this.callSetNames=n}return s(t,e),r(t,[{key:"update",value:function(e){this.options=e}},{key:"heightForRef",value:function(e){return b(this.callSetNames.length)}},{key:"render",value:function(e,t,n,r){var i=new h.default(n.contig,n.start()-1,n.stop()+1);!function(e,t,n,r,i){r.forEach((function(n){var r=n.variant;e.pushObject(r);var o=Math.round(t(r.position)),a=Math.max(1,Math.round(t(r.position+1)-t(r.position)));n.calls.forEach((function(t){var n=b(i.indexOf(t.callSetName)),r=t.genotype.reduce((function(e,t){return e+t}),0);r>0&&(e.fillStyle=1==r?v.default.GENOTYPE_FILL_HET:v.default.GENOTYPE_FILL_HOM,e.strokeStyle=e.fillStyle,e.fillRect(o-.2,n,a,v.default.GENOTYPE_HEIGHT),e.strokeRect(o-.2,n,a,v.default.GENOTYPE_HEIGHT))})),e.popObject()}))}(e,t,0,this.source.getGenotypesInRange(i),this.callSetNames)}}]),t}(d.default);function b(e){return e*(v.default.GENOTYPE_HEIGHT+v.default.GENOTYPE_SPACING)}var w=function(e){function t(e){var n=this;a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.callSetNames=[],this.state={networkStatus:null},e.source.getCallNames().then((function(e){n.callSetNames=e,n.tiles.callSetNames=e,n.tiles.invalidateAll(),n.updateVisualization()}))}return s(t,e),r(t,[{key:"render",value:function(){var e={float:"left",overflow:"hidden","width:":"100px"},t=null;return this.state.networkStatus&&(t=u.default.createElement("div",{ref:"status",className:"network-status-small"},u.default.createElement("div",{className:"network-status-message-small"},"Loading Genotypes"))),this.props.range.stop-this.props.range.start>=1e4?u.default.createElement("div",null,u.default.createElement("div",{className:"center"},"Zoom in to see genotypes"),u.default.createElement("canvas",{onClick:this.handleClick.bind(this)})):u.default.createElement("div",null,t,u.default.createElement("div",{ref:"container",style:{height:"100%"}},u.default.createElement("div",{className:"genotypeLabels",style:e},u.default.createElement("canvas",{ref:"labelCanvas"})),u.default.createElement("div",{className:"genotypeRows",style:{overflow:"hidden"}},u.default.createElement("canvas",{ref:"canvas",onClick:this.handleClick.bind(this)}))))}},{key:"componentDidMount",value:function(){var e=this;this.tiles=new y(this.props.source,this.callSetNames,this.props.options),this.props.source.on("newdata",(function(t){e.tiles.invalidateRange(t),e.updateVisualization()})),this.props.source.on("networkprogress",(function(t){e.setState({networkStatus:t})})),this.props.source.on("networkdone",(function(t){e.setState({networkStatus:null})})),this.updateVisualization()}},{key:"getScale",value:function(){return l.default.getTrackScale(this.props.range,this.props.width-100)}},{key:"componentDidUpdate",value:function(e,t){(0,f.default)(e,this.props)&&(0,f.default)(t,this.state)||(this.tiles.update(this.props.options),this.tiles.invalidateAll(),this.updateVisualization())}},{key:"drawLines",value:function(e){var t=this,n=this.props.width;null!==this.callSetNames&&(e.font="9px Arial",this.callSetNames.forEach((function(r){e.pushObject(r);var i=b(t.callSetNames.indexOf(r));e.fillStyle=v.default.BACKGROUND_FILL,e.fillRect(0,i,n,v.default.GENOTYPE_HEIGHT),e.popObject()})))}},{key:"drawLabels",value:function(){var e=this,t=this.refs.labelCanvas;if(0!==this.props.width&&void 0!==t){var n=b(this.callSetNames.length);if(t.clientHeight!=n){var r=g.default.getDataContext(p.default.getContext(t));l.default.sizeCanvas(t,100,n),null!==this.callSetNames&&(r.font="9px Arial",this.callSetNames.forEach((function(t){r.pushObject(t);var n=b(e.callSetNames.indexOf(t));r.fillStyle="black",r.fillText(t,0,n+v.default.GENOTYPE_HEIGHT),r.popObject()})))}}}},{key:"updateVisualization",value:function(){var e=this.refs.canvas,t=this.props.width;if(0!==t&&void 0!==e){var n=b(this.callSetNames.length);l.default.sizeCanvas(e,t-100,n);var r=g.default.getDataContext(p.default.getContext(e));this.drawLabels(),this.renderScene(r)}}},{key:"renderScene",value:function(e){var t=this.props.range,n=new h.default(t.contig,t.start,t.stop),r=this.getScale();e.reset(),e.clearRect(0,0,e.canvas.width,e.canvas.height),this.drawLines(e),this.tiles.renderToScreen(e,n,r),e.restore()}},{key:"handleClick",value:function(e){var t=e.nativeEvent.offsetX,n=this.props.range,r=new h.default(n.contig,n.start-1,n.stop+1),i=this.getScale(),o=Math.floor(i.invert(t))-2,a=o+2,s=this.props.source.getGenotypesInRange(r),u=c.default.find(s,(function(e){return m.default.tupleRangeOverlaps([[e.variant.position],[e.variant.position+1]],[[o],[a]])})),l=window.alert||console.log;if(u){var f="variant: "+JSON.stringify(u.variant),p=u.calls.map((function(e){return e.callSetName}));l(f+"\n"+("samples with variant: "+JSON.stringify(p)))}}}]),t}(u.default.Component);w.displayName="genotypes",e.exports=w},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(51)),a=i(n(1)),s=i(n(312)),u=i(n(313)),c=i(n(426)),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={contigList:this.props.referenceSource.contigList(),range:null,updateSize:!1,settingsMenuKey:null},this.trackReactElements=[],this.node=null,this.outsideClickHandler=this.handleOutsideClick.bind(this)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.referenceSource.on("contigs",(function(){e.setState({contigList:e.props.referenceSource.contigList()})})),this.state.range||this.handleRangeChange(this.props.initialRange),this.setState({contigList:this.props.referenceSource.contigList()})}},{key:"handleRangeChange",value:function(e){var t=this;e.start<0&&(e.start=0),this.props.referenceSource.normalizeRange(e).then((function(e){t.setState({range:e}),t.props.tracks.forEach((function(t){t.source.rangeChanged(e)}))})).done()}},{key:"toggleSettingsMenu",value:function(e,t){this.state.settingsMenuKey==e?(this.setState({settingsMenuKey:null}),document.removeEventListener("click",this.outsideClickHandler,!1)):(this.setState({settingsMenuKey:e}),document.addEventListener("click",this.outsideClickHandler,!1))}},{key:"handleOutsideClick",value:function(e){null!=this.state.settingsMenuKey&&null!=this.state.settingsMenuKey&&(this.node.contains(e.target)||this.toggleSettingsMenu(this.state.settingsMenuKey,e))}},{key:"handleSelectOption",value:function(e,t){var n=this.props.tracks[Number(e)].visualization,r=n.options,i=n.component.handleSelectOption(t,r);n.options=i,i!=r&&this.forceUpdate()}},{key:"makeDivForTrack",value:function(e,t){var n=this,r=parseInt(e),i=a.default.createElement(c.default,{visualization:t.visualization,range:this.state.range,onRangeChange:this.handleRangeChange.bind(this),source:t.source,options:t.track.options,referenceSource:this.props.referenceSource,ref:function(e){n.trackReactElements[r]=e}}),s=t.track.name||"(track name)",l=null,f=null;if(t.visualization.component.getOptionsMenu&&(l=a.default.createElement("span",{ref:"gear-"+e,className:"gear",onClick:this.toggleSettingsMenu.bind(this,e)},"")),this.state.settingsMenuKey==e){var h=this.refs["gear-"+e],p={position:"absolute",left:h.offsetLeft+h.offsetWidth+"px",top:h.offsetTop+"px"},d=o.default.clone(t.visualization.component.getOptionsMenu(t.visualization.options));f=a.default.createElement("div",{className:"menu-container",style:p,ref:function(e){n.node=e}},a.default.createElement(u.default,{header:s,items:d,onClick:this.handleSelectOption.bind(this,e)}))}var g=["track",t.visualization.component.displayName||"",t.track.cssClass||""].join(" ");return a.default.createElement("div",{key:e,className:g},a.default.createElement("div",{className:"track-label"},a.default.createElement("span",null,s),a.default.createElement("br",null),l,f),a.default.createElement("div",{className:"track-content"},i))}},{key:"render",value:function(){var e=this,t=this.props.tracks.map((function(t,n){return e.makeDivForTrack(""+n,t)}));return a.default.createElement("div",{className:"pileup-root"},a.default.createElement("div",{className:"track controls"},a.default.createElement("div",{className:"track-label"},""),a.default.createElement("div",{className:"track-content"},a.default.createElement(s.default,{contigList:this.state.contigList,range:this.state.range,onChange:this.handleRangeChange.bind(this)}))),t)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.updateSize){for(var n=0;n<this.props.tracks.length;n++)this.trackReactElements[n].setState({updateSize:this.state.updateSize});this.state.updateSize=!1}}}]),t}(a.default.Component);l.displayName="Root",e.exports=l},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(1)),a=i(n(51)),s=i(n(55)),u=i(n(58)),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={defaultHalfInterval:2}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"makeRange",value:function(){return{contig:this.refs.contig.value,start:Number(this.refs.start.value),stop:Number(this.refs.stop.value)}}},{key:"completeRange",value:function(e){var t,n,r=this;((e=e||{}).start&&void 0===e.stop&&(e.stop=e.start+20,e.start-=20),e.contig)&&(n=e.contig,(t=a.default.find(r.props.contigList,(function(e){return s.default.isChrMatch(n,e)})))&&(e.contig=t));return a.default.extend(a.default.clone(this.props.range),e)}},{key:"handleContigChange",value:function(e){this.props.onChange(this.completeRange({contig:this.refs.contig.value}))}},{key:"handleFormSubmit",value:function(e){e.preventDefault();var t=this.completeRange(s.default.parseRange(this.refs.position.value));this.props.onChange(t),this.updateSlider(new u.default(t.start,t.stop))}},{key:"handleSliderOnInput",value:function(){this.zoomAbs(-this.refs.slider.valueAsNumber)}},{key:"updateRangeUI",value:function(){var e=this.props.range;if(e&&(this.refs.position.value=s.default.formatInterval(new u.default(e.start,e.stop)),this.props.contigList)){var t=this.props.contigList.indexOf(e.contig);this.refs.contig.selectedIndex=t}}},{key:"zoomIn",value:function(e){e.preventDefault(),this.zoomByFactor(s.default.ZOOM_FACTOR.IN)}},{key:"zoomOut",value:function(e){e.preventDefault(),this.zoomByFactor(s.default.ZOOM_FACTOR.OUT)}},{key:"zoomAbs",value:function(e){var t=this.props.range;if(t){var n=s.default.absScaleRange(new u.default(t.start,t.stop),e,this.state.defaultHalfInterval);this.props.onChange({contig:t.contig,start:n.start,stop:n.stop})}}},{key:"zoomByFactor",value:function(e){var t=this.props.range;if(t){var n=s.default.scaleRange(new u.default(t.start,t.stop),e);this.props.onChange({contig:t.contig,start:n.start,stop:n.stop}),this.updateSlider(n)}}},{key:"updateSlider",value:function(e){var t=e.stop-e.start;this.refs.slider.valueAsNumber=Math.ceil(1-Math.log2(t))}},{key:"render",value:function(){var e=this.props.contigList?this.props.contigList.map((function(e,t){return o.default.createElement("option",{key:t},e)})):null;return o.default.createElement("form",{className:"controls",onSubmit:this.handleFormSubmit.bind(this)},o.default.createElement("select",{ref:"contig",onChange:this.handleContigChange.bind(this)},e)," ",o.default.createElement("input",{ref:"position",type:"text"})," ",o.default.createElement("button",{className:"btn-submit",onClick:this.handleFormSubmit.bind(this)},"Go")," ",o.default.createElement("div",{className:"zoom-controls"},o.default.createElement("button",{className:"btn-zoom-out",onClick:this.zoomOut.bind(this)})," ",o.default.createElement("button",{className:"btn-zoom-in",onClick:this.zoomIn.bind(this)}),o.default.createElement("input",{className:"zoom-slider",ref:"slider",type:"range",min:"-15",max:"0",onInput:this.handleSliderOnInput.bind(this),class:"slider"})))}},{key:"componentDidUpdate",value:function(e){a.default.isEqual(e.range,this.props.range)||this.updateRangeUI()}},{key:"componentDidMount",value:function(){this.updateRangeUI()}}]),t}(o.default.Component);e.exports=c},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i,o=n(455),a=n(1),s=(i=a)&&i.__esModule?i:{default:i},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={showPalette:new Array(e.items.length).fill(!1)}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"toggleColorPicker",value:function(e,t){0==this.state.showPalette[e]?(this.state.showPalette[e]=!0,this.setState({showPalette:this.state.showPalette})):(this.state.showPalette[e]=!1,this.setState({showPalette:this.state.showPalette}))}},{key:"clickHandler",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]||arguments[2];null!=t.eventPhase&&t.preventDefault();var r=this.props.items[e];"string"!=typeof r&&(this.props.onClick(r),r.color&&n&&this.toggleColorPicker(e,t))}},{key:"handleColorChange",value:function(e,t,n){"string"!=typeof this.props.items[e]&&void 0!==this.props.items[e]&&(this.props.items[e].color={hex:t.hex,rgb:t.rgb},this.clickHandler(e,n,!1))}},{key:"render",value:function(){var e=this,t=function(t){return e.clickHandler.bind(e,t)},n=function(t){return e.handleColorChange.bind(e,t)},r=[];return this.props.header&&r.push(s.default.createElement("div",{key:"header",className:"menu-header"},this.props.header)),r=r.concat(this.props.items.map((function(r,i){if("string"==typeof r)return s.default.createElement("div",{key:i,className:"menu-separator"});var a="check"+(r.checked?" checked":"");if("string"!=typeof r&&r.color){var u=null;return e.state.showPalette[i]&&(u=s.default.createElement(o.SketchPicker,{color:r.color.rgb,onChangeComplete:n(i)})),s.default.createElement("div",{key:i,className:"menu-item"},s.default.createElement("span",{className:a}),s.default.createElement("span",{key:i,onClick:t(i),className:"menu-item-label"},r.label),u)}return s.default.createElement("div",{key:i,className:"menu-item",onClick:t(i)},s.default.createElement("span",{className:a}),s.default.createElement("span",{className:"menu-item-label"},r.label))}))),s.default.createElement("div",{className:"menu"},r)}}]),t}(s.default.Component);e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(315)),i=s(n(109)),o=s(n(327)),a=s(n(328));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=u},function(e,t,n){var r=n(71),i=n(63),o=n(66);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(82),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(319)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(71),i=n(66);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(71),i=n(111),o=n(66),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(114),i=n(325),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(155)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(157);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(71),i=n(115),o=n(66),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},function(e,t,n){var r=n(158),i=n(329),o=n(387),a=n(63);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){var r=n(330),i=n(374),o=n(157),a=n(63),s=n(384);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(331),i=n(373),o=n(168);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(116),i=n(160);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var p=new r;if(o)var d=o(f,h,l,e,t,p);if(!(void 0===d?i(h,f,3,o,p):d))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(92),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(92);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(92);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(92);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(91);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(91),i=n(118),o=n(119);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(156),i=n(343),o=n(75),a=n(159),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},function(e,t,n){var r,i=n(344),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(65)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(347),i=n(91),o=n(118);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(348),i=n(349),o=n(350),a=n(351),s=n(352);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(93);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(93),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(93),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(93);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(94);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(94);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(94);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(94);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(116),i=n(161),o=n(364),a=n(367),s=n(95),u=n(63),c=n(110),l=n(154),f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,d,g){var v=u(e),m=u(t),y=v?"[object Array]":s(e),b=m?"[object Array]":s(t),w=(y="[object Arguments]"==y?f:y)==f,x=(b="[object Arguments]"==b?f:b)==f,k=y==b;if(k&&c(e)){if(!c(t))return!1;v=!0,w=!1}if(k&&!w)return g||(g=new r),v||l(e)?i(e,t,n,p,d,g):o(e,t,y,n,p,d,g);if(!(1&n)){var _=w&&h.call(e,"__wrapped__"),S=x&&h.call(t,"__wrapped__");if(_||S){var E=_?e.value():e,C=S?t.value():t;return g||(g=new r),d(E,C,n,p,g)}}return!!k&&(g||(g=new r),a(e,t,n,p,d,g))}},function(e,t,n){var r=n(119),i=n(360),o=n(361);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(82),i=n(162),o=n(117),a=n(161),s=n(365),u=n(366),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var d=1&r;if(p||(p=u),e.size!=t.size&&!d)return!1;var g=h.get(e);if(g)return g==t;r|=2,h.set(e,t);var v=a(p(e),p(t),r,c,f,h);return h.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(163),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in t:i.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var d=!0;s.set(e,t),s.set(t,e);for(var g=u;++f<l;){var v=e[h=c[f]],m=t[h];if(o)var y=u?o(m,v,h,t,e,s):o(v,m,h,e,t,s);if(!(void 0===y?v===m||a(v,m,n,o,s):y)){d=!1;break}g||(g="constructor"==h)}if(d&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return s.delete(e),s.delete(t),d}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(72)(n(65),"DataView");e.exports=r},function(e,t,n){var r=n(72)(n(65),"Promise");e.exports=r},function(e,t,n){var r=n(72)(n(65),"Set");e.exports=r},function(e,t,n){var r=n(72)(n(65),"WeakMap");e.exports=r},function(e,t,n){var r=n(167),i=n(83);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(160),i=n(375),o=n(381),a=n(121),s=n(167),u=n(168),c=n(96);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t,n){var r=n(169);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(377),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(378);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(119);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(380);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(82),i=n(158),o=n(63),a=n(122),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r=n(382),i=n(383);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(170),i=n(152),o=n(63),a=n(153),s=n(111),u=n(96);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=u(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(h,l)&&(o(e)||i(e))}},function(e,t,n){var r=n(385),i=n(386),o=n(121),a=n(96);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(169);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(388),i=n(90);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},function(e,t,n){var r=n(150),i=n(389)(r);e.exports=i},function(e,t,n){var r=n(90);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(109)),i=a(n(391)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],i[t])})),t})),n};t.default=s},function(e,t,n){var r=n(392);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(116),i=n(393),o=n(171),a=n(395),s=n(396),u=n(399),c=n(400),l=n(401),f=n(402),h=n(163),p=n(403),d=n(95),g=n(404),v=n(405),m=n(410),y=n(63),b=n(110),w=n(412),x=n(75),k=n(414),_=n(83),S={};S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S["[object Function]"]=S["[object WeakMap]"]=!1,e.exports=function e(t,n,E,C,T,A){var R,O=1&n,I=2&n,L=4&n;if(E&&(R=T?E(t,C,T,A):E(t)),void 0!==R)return R;if(!x(t))return t;var M=y(t);if(M){if(R=g(t),!O)return c(t,R)}else{var P=d(t),N="[object Function]"==P||"[object GeneratorFunction]"==P;if(b(t))return u(t,O);if("[object Object]"==P||"[object Arguments]"==P||N&&!T){if(R=I||N?{}:m(t),!O)return I?f(t,s(R,t)):l(t,a(R,t))}else{if(!S[P])return T?t:{};R=v(t,P,O)}}A||(A=new r);var F=A.get(t);if(F)return F;A.set(t,R),k(t)?t.forEach((function(r){R.add(e(r,n,E,r,t,A))})):w(t)&&t.forEach((function(r,i){R.set(i,e(r,n,E,i,t,A))}));var D=L?I?p:h:I?keysIn:_,B=M?void 0:D(t);return i(B||t,(function(r,i){B&&(r=t[i=r]),o(R,i,e(r,n,E,i,t,A))})),R}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(72),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(97),i=n(83);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(97),i=n(173);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(75),i=n(114),o=n(398),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(65),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(73)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(97),i=n(120);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(97),i=n(174);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(164),i=n(174),o=n(173);e.exports=function(e){return r(e,o,i)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(123),i=n(406),o=n(407),a=n(408),s=n(409);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Set]":return new u;case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(123);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(82),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(123);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(411),i=n(115),o=n(114);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(75),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(413),i=n(112),o=n(113),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(95),i=n(66);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(415),i=n(112),o=n(113),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(95),i=n(66);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,i=n(109),o=(r=i)&&r.__esModule?r:{default:r},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},u=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=a({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,c;s(this,r);for(var l=arguments.length,f=Array(l),h=0;h<l;h++)f[h]=arguments[h];return o=c=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return a.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},a.default.createElement(e,i({},c.props,c.state)))},u(c,o)}return c(r,n),r}(a.default.Component)};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,c;s(this,r);for(var l=arguments.length,f=Array(l),h=0;h<l;h++)f[h]=arguments[h];return o=c=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return a.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},a.default.createElement(e,i({},c.props,c.state)))},u(c,o)}return c(r,n),r}(a.default.Component)};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){var r=n(175),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.a.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n(125)(e))},function(e,t,n){"use strict";(function(e){var r=n(64),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(125)(e))},function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,c=i.min,l=i.max,f=i.random;function h(e,t){if(t=t||{},(e=e||"")instanceof h)return e;if(!(this instanceof h))return new h(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,f=!1,h=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(O[e])e=O[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=q.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=q.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=q.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=q.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=q.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=q.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=q.hex8.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),a:j(t[4]),format:n?"name":"hex8"};if(t=q.hex6.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:n?"name":"hex"};if(t=q.hex4.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),a:j(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=q.hex3.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(G(e.r)&&G(e.g)&&G(e.b)?(p=e.r,d=e.g,g=e.b,t={r:255*M(p,255),g:255*M(d,255),b:255*M(g,255)},f=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(r=D(e.s),s=D(e.v),t=function(e,t,n){e=6*M(e,360),t=M(t,100),n=M(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),c=r%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}(e.h,r,s),f=!0,h="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(r=D(e.s),u=D(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=M(e,360),t=M(t,100),n=M(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,u),f=!0,h="hsl"),e.hasOwnProperty("a")&&(n=e.a));var p,d,g;return n=L(n),{ok:f,format:e.format||h,r:c(255,l(t.r,0)),g:c(255,l(t.g,0)),b:c(255,l(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function p(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,i,o=l(e,t,n),a=c(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function d(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,i,o=l(e,t,n),a=c(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function g(e,t,n,r){var i=[F(u(e).toString(16)),F(u(t).toString(16)),F(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function v(e,t,n,r){return[F(B(r)),F(u(e).toString(16)),F(u(t).toString(16)),F(u(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s-=t/100,n.s=P(n.s),h(n)}function y(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s+=t/100,n.s=P(n.s),h(n)}function b(e){return h(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l+=t/100,n.l=P(n.l),h(n)}function x(e,t){t=0===t?0:t||10;var n=h(e).toRgb();return n.r=l(0,c(255,n.r-u(-t/100*255))),n.g=l(0,c(255,n.g-u(-t/100*255))),n.b=l(0,c(255,n.b-u(-t/100*255))),h(n)}function k(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l-=t/100,n.l=P(n.l),h(n)}function _(e,t){var n=h(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,h(n)}function S(e){var t=h(e).toHsl();return t.h=(t.h+180)%360,h(t)}function E(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+120)%360,s:t.s,l:t.l}),h({h:(n+240)%360,s:t.s,l:t.l})]}function C(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+90)%360,s:t.s,l:t.l}),h({h:(n+180)%360,s:t.s,l:t.l}),h({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+72)%360,s:t.s,l:t.l}),h({h:(n+216)%360,s:t.s,l:t.l})]}function A(e,t,n){t=t||6,n=n||30;var r=h(e).toHsl(),i=360/n,o=[h(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(h(r));return o}function R(e,t){t=t||6;for(var n=h(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(h({h:r,s:i,v:o})),o=(o+s)%1;return a}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=L(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[F(u(e).toString(16)),F(u(t).toString(16)),F(u(n).toString(16)),F(B(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*M(this._r,255))+"%",g:u(100*M(this._g,255))+"%",b:u(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*M(this._r,255))+"%, "+u(100*M(this._g,255))+"%, "+u(100*M(this._b,255))+"%)":"rgba("+u(100*M(this._r,255))+"%, "+u(100*M(this._g,255))+"%, "+u(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(I[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=h(e);n="#"+v(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(k,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},h.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:D(e[r]));e=n}return h(e,t)},h.equals=function(e,t){return!(!e||!t)&&h(e).toRgbString()==h(t).toRgbString()},h.random=function(){return h.fromRatio({r:f(),g:f(),b:f()})},h.mix=function(e,t,n){n=0===n?0:n||50;var r=h(e).toRgb(),i=h(t).toRgb(),o=n/100;return h({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},h.readability=function(e,t){var n=h(e),r=h(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(e,t,n){var r,i,o=h.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},h.mostReadable=function(e,t,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=h.readability(e,t[c]))>u&&(u=r,s=h(t[c]));return h.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,h.mostReadable(e,["#fff","#000"],n))};var O=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=h.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(O);function L(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function M(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,l(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function P(e){return c(1,l(0,e))}function N(e){return parseInt(e,16)}function F(e){return 1==e.length?"0"+e:""+e}function D(e){return e<=1&&(e=100*e+"%"),e}function B(e){return i.round(255*parseFloat(e)).toString(16)}function j(e){return N(e)/255}var z,H,U,q=(H="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",U="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function G(e){return!!q.CSS_UNIT.exec(e)}e.exports?e.exports=h:void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,u=void 0===s?24:s,c=e.style,l=void 0===c?{}:c,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:u},l)},f),a.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,u=void 0===s?24:s,c=e.style,l=void 0===c?{}:c,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:u},l)},f),a.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=o(n(1)),c=o(n(35)),l=o(n(59)),f=o(n(51)),h=o(n(427)),p=function(e){function t(e){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.hasDragBeenInitialized=!1,this.state={updateSize:!1,width:0,height:0}}return s(t,e),r(t,[{key:"updateSize",value:function(){var e=c.default.findDOMNode(this);if(e&&e instanceof Element){var t=e.parentNode;t&&t instanceof HTMLElement&&this.setState({updateSize:!1,width:t.offsetWidth,height:t.offsetHeight})}}},{key:"componentDidMount",value:function(){var e=this;this.onResizeListener=function(){return e.updateSize()},window.addEventListener("resize",this.onResizeListener),this.updateSize(),this.props.range&&!this.hasDragBeenInitialized&&this.addDragInterface()}},{key:"componentDidUpdate",value:function(){this.props.range&&!this.hasDragBeenInitialized&&this.addDragInterface()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeListener)}},{key:"getScale",value:function(){return this.props.range?l.default.getTrackScale(this.props.range,this.state.width):function(e){return e}}},{key:"addDragInterface",value:function(){var e=this;this.hasDragBeenInitialized=!0;var t,n,r=c.default.findDOMNode(this),i=0,o=function(){if(n&&t){var r=n.invert(-i),o=Math.round(r),a=n(r)-n(o),s={contig:t.contig,start:o,stop:o+(t.stop-t.start),offsetPx:a};e.props.onRangeChange(s)}};var a=h.default.behavior.drag().on("dragstart",(function(){h.default.event.sourceEvent.stopPropagation(),i=0,t=f.default.clone(e.props.range),n=e.getScale()})).on("drag",(function(){i+=h.default.event.dx,o()})).on("dragend",(function(){o()}));h.default.select(r).call(a).on("click",this.handleClick.bind(this))}},{key:"handleClick",value:function(){h.default.event.defaultPrevented&&h.default.event.stopPropagation()}},{key:"componentWillUpdate",value:function(e,t){t.updateSize&&this.updateSize()}},{key:"render",value:function(){var e=this.props.range,t=this.props.visualization.component;if(!e)return null!=t.displayName?u.default.createElement(d,{className:t.displayName}):u.default.createElement(d,{className:"EmptyTrack"});var n=f.default.extend(f.default.clone(this.props.visualization.options),this.props.options),r=u.default.createElement(t,{range:e,source:this.props.source,referenceSource:this.props.referenceSource,width:this.state.width,height:this.state.height,options:n});return u.default.createElement("div",{className:"drag-wrapper"},r)}}]),t}(u.default.Component);p.displayName="VisualizationWrapper";var d=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return s(t,e),r(t,[{key:"render",value:function(){var e=this.props.className+" empty";return u.default.createElement("div",{className:e})}}]),t}(u.default.Component);e.exports=p},function(e,t,n){var r,i;!function(){var o={version:"3.5.17"},a=this.document;function s(e){return e&&(e.ownerDocument||e.document||e).documentElement}function u(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function c(e){return e}function l(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function f(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=h.length;n<r;++n){var i=h[n]+t;if(i in e)return i}}o.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=l(e,t,t[n]);return e};var h=["webkit","ms","moz","Moz","o","O"];function p(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function d(){this._=Object.create(null)}o.map=function(e,t){var n=new d;if(e instanceof d)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};function g(e){return"__proto__"==(e+="")||"\0"===e[0]?"\0"+e:e}function v(e){return"\0"===(e+="")[0]?e.slice(1):e}function m(e){return g(e)in this._}function y(e){return(e=g(e))in this._&&delete this._[e]}function b(){var e=[];for(var t in this._)e.push(v(t));return e}function w(){var e=0;for(var t in this._)++e;return e}function x(){for(var e in this._)return!1;return!0}p(d,{has:m,get:function(e){return this._[g(e)]},set:function(e,t){return this._[g(e)]=t},remove:y,keys:b,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:v(t),value:this._[t]});return e},size:w,empty:x,forEach:function(e){for(var t in this._)e.call(this,v(t),this._[t])}});var k=[].slice,_=function(e){return k.call(e)};function S(){}function E(){}function C(e){var t=[],n=new d;function r(){for(var n,r=t,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return e}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function T(){o.event.preventDefault()}function A(){for(var e,t=o.event;e=t.sourceEvent;)t=e;return t}o.dispatch=function(){for(var e=new E,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=C(e);return e},E.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},o.event=null,o.requote=function(e){return e.replace(R,"\\$&")};var R=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,O={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function I(e){return O(e,N),e}var L=function(e,t){return t.querySelector(e)},M=function(e,t){return t.querySelectorAll(e)},P=function(e,t){var n=e.matches||e[f(e,"matchesSelector")];return(P=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(L=function(e,t){return Sizzle(e,t)[0]||null},M=Sizzle,P=Sizzle.matchesSelector),o.selection=function(){return o.select(a.documentElement)};var N=o.selection.prototype=[];function F(e){return"function"==typeof e?e:function(){return L(e,this)}}N.select=function(e){var t,n,r,i,o=[];e=F(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var u=-1,c=r.length;++u<c;)(i=r[u])?(t.push(n=e.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return I(o)},N.selectAll=function(e){var t,n,r=[];e=function(e){return"function"==typeof e?e:function(){return M(e,this)}}(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(t=_(e.call(n,n.__data__,s,i))),t.parentNode=n);return I(r)};var D="http://www.w3.org/1999/xhtml",B={svg:"http://www.w3.org/2000/svg",xhtml:D,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function j(e,t){return e=o.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}:function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function z(e){return e.trim().replace(/\s+/g," ")}function H(e){return new RegExp("(?:^|\\s+)"+o.requote(e)+"(?:\\s+|$)","g")}function U(e){return(e+"").trim().split(/^|\s+/)}function q(e,t){var n=(e=U(e).map(G)).length;return"function"==typeof t?function(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function G(e){var t=H(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",z(i+" "+e))):n.setAttribute("class",z(i.replace(t," ")))}}function $(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function V(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function W(e){return"function"==typeof e?e:(e=o.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===D&&t.documentElement.namespaceURI===D?t.createElement(e):t.createElementNS(n,e)}}function Z(){var e=this.parentNode;e&&e.removeChild(this)}function X(){this._=Object.create(null)}function Y(e){return{__data__:e}}function K(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Q(e){return arguments.length||(e=K),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function J(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,o=e[n],a=0,s=o.length;a<s;a++)(i=o[a])&&t(i,a,n);return e}function ee(e){return O(e,te),e}o.ns={prefix:B,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),B.hasOwnProperty(n)?{space:B[n],local:e}:e}},N.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=o.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(j(t,e[t]));return this}return this.each(j(e,t))},N.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=U(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!H(e[i]).test(t))return!1;return!0}for(t in e)this.each(q(t,e[t]));return this}return this.each(q(e,t))},N.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each($(n,e[n],t));return this}if(r<2){var i=this.node();return u(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each($(e,t,n))},N.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(V(t,e[t]));return this}return this.each(V(e,t))},N.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},N.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},N.append=function(e){return e=W(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},N.insert=function(e,t){return e=W(e),t=F(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},N.remove=function(){return this.each(Z)},o.set=function(e){var t=new X;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},p(X,{has:m,add:function(e){return this._[g(e+="")]=!0,e},remove:y,values:b,size:w,empty:x,forEach:function(e){for(var t in this._)e.call(this,v(t))}}),N.data=function(e,t){var n,r,i=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(e[i]=r.__data__);return e}function a(e,n){var r,i,o,a=e.length,l=n.length,f=Math.min(a,l),h=new Array(l),p=new Array(l),g=new Array(a);if(t){var v,m=new d,y=new Array(a);for(r=-1;++r<a;)(i=e[r])&&(m.has(v=t.call(i,i.__data__,r))?g[r]=i:m.set(v,i),y[r]=v);for(r=-1;++r<l;)(i=m.get(v=t.call(n,o=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=o):p[r]=Y(o),m.set(v,!0);for(r=-1;++r<a;)r in y&&!0!==m.get(y[r])&&(g[r]=e[r])}else{for(r=-1;++r<f;)i=e[r],o=n[r],i?(i.__data__=o,h[r]=i):p[r]=Y(o);for(;r<l;++r)p[r]=Y(n[r]);for(;r<a;++r)g[r]=e[r]}p.update=h,p.parentNode=h.parentNode=g.parentNode=e.parentNode,s.push(p),u.push(h),c.push(g)}var s=ee([]),u=I([]),c=I([]);if("function"==typeof e)for(;++i<o;)a(n=this[i],e.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],e);return u.enter=function(){return s},u.exit=function(){return c},u},N.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},N.filter=function(e){var t,n,r,i,o=[];"function"!=typeof e&&(i=e,e=function(){return P(this,i)});for(var a=0,s=this.length;a<s;a++){o.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var u=0,c=n.length;u<c;u++)(r=n[u])&&e.call(r,r.__data__,u,a)&&t.push(r)}return I(o)},N.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},o.ascending=K,N.sort=function(e){e=Q.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},N.each=function(e){return J(this,(function(t,n,r){e.call(t,t.__data__,n,r)}))},N.call=function(e){var t=_(arguments);return e.apply(t[0]=this,t),this},N.empty=function(){return!this.node()},N.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},N.size=function(){var e=0;return J(this,(function(){++e})),e};var te=[];function ne(e){var t,n;return function(r,i,o){var a,s=e[o].update,u=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<u;);return a}}function re(e,t,n){var r="__on"+e,i=e.indexOf("."),a=oe;i>0&&(e=e.slice(0,i));var s=ie.get(e);function u(){var t=this[r];t&&(this.removeEventListener(e,t,t.$),delete this[r])}return s&&(e=s,a=ae),i?t?function(){var i=a(t,_(arguments));u.call(this),this.addEventListener(e,this[r]=i,i.$=n),i._=t}:u:t?S:function(){var t,n=new RegExp("^__on([^.]+)"+o.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}}o.selection.enter=ee,o.selection.enter.prototype=te,te.append=N.append,te.empty=N.empty,te.node=N.node,te.call=N.call,te.size=N.size,te.select=function(e){for(var t,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(t.push(r[c]=n=e.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):t.push(null)}return I(a)},te.insert=function(e,t){return arguments.length<2&&(t=ne(this)),N.insert.call(this,e,t)},o.select=function(e){var t;return"string"==typeof e?(t=[L(e,a)]).parentNode=a.documentElement:(t=[e]).parentNode=s(e),I([t])},o.selectAll=function(e){var t;return"string"==typeof e?(t=_(M(e,a))).parentNode=a.documentElement:(t=_(e)).parentNode=null,I([t])},N.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(re(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(re(e,t,n))};var ie=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function oe(e,t){return function(n){var r=o.event;o.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{o.event=r}}}function ae(e,t){var n=oe(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}a&&ie.forEach((function(e){"on"+e in a&&ie.remove(e)}));var se,ue=0;function ce(e){var t=".dragsuppress-"+ ++ue,n="click"+t,r=o.select(u(e)).on("touchmove"+t,T).on("dragstart"+t,T).on("selectstart"+t,T);if(null==se&&(se=!("onselectstart"in e)&&f(e.style,"userSelect")),se){var i=s(e).style,a=i[se];i[se]="none"}return function(e){if(r.on(t,null),se&&(i[se]=a),e){var o=function(){r.on(n,null)};r.on(n,(function(){T(),o()}),!0),setTimeout(o,0)}}}o.mouse=function(e){return fe(e,A())};var le=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function fe(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(le<0){var i=u(e);if(i.scrollX||i.scrollY){var a=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();le=!(a.f||a.e),n.remove()}}return le?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function he(){return o.event.changedTouches[0].identifier}o.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=A().changedTouches),t)for(var r,i=0,o=t.length;i<o;++i)if((r=t[i]).identifier===n)return fe(e,r)},o.behavior={},o.behavior.drag=function(){var e=function(e){for(var t=new E,n=0,r=arguments.length;++n<r;)t[arguments[n]]=C(t);return t.of=function(n,r){return function(i){try{var a=i.sourceEvent=o.event;i.target=e,o.event=i,t[i.type].apply(n,r)}finally{o.event=a}}},t}(i,"drag","dragstart","dragend"),t=null,n=a(S,o.mouse,u,"mousemove","mouseup"),r=a(he,o.touch,c,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function a(n,r,i,a,s){return function(){var u,c=this,l=o.event.target.correspondingElement||o.event.target,f=c.parentNode,h=e.of(c,arguments),p=0,d=n(),g=".drag"+(null==d?"":"-"+d),v=o.select(i(l)).on(a+g,b).on(s+g,w),m=ce(l),y=r(f,d);function b(){var e,t,n=r(f,d);n&&(e=n[0]-y[0],t=n[1]-y[1],p|=e|t,y=n,h({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:e,dy:t}))}function w(){r(f,d)&&(v.on(a+g,null).on(s+g,null),m(p),h({type:"dragend"}))}u=t?[(u=t.apply(c,arguments)).x-y[0],u.y-y[1]]:[0,0],h({type:"dragstart"})}}return i.origin=function(e){return arguments.length?(t=e,i):t},o.rebind(i,e,"on")},this.d3=o,void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(50),a=n.n(o),s=function(e,t,n,r,i){var o=i.clientWidth,a=i.clientHeight,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),l=u-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=l<0?0:l>a?1:Math.round(100*l/a)/100,t.a!==f)return{h:t.h,s:t.s,l:t.l,a:f,source:"rgb"}}else{var h=void 0;if(r!==(h=c<0?0:c>o?1:Math.round(100*c/o)/100))return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}return null},u={},c=function(e,t,n,r){var i=e+"-"+t+"-"+n+(r?"-server":"");if(u[i])return u[i];var o=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null}(e,t,n,r);return u[i]=o,o},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){var t=e.white,n=e.grey,o=e.size,s=e.renderers,u=e.borderRadius,f=e.boxShadow,h=e.children,p=a()({default:{grid:{borderRadius:u,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+c(t,n,o,s.canvas)+") center left"}}});return Object(r.isValidElement)(h)?i.a.cloneElement(h,l({},h.props,{style:l({},h.props.style,p.grid)})):i.a.createElement("div",{style:p.grid})};f.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var h=f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;g(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=s(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=a()({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:p({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return i.a.createElement("div",{style:n.alpha},i.a.createElement("div",{style:n.checkboard},i.a.createElement(h,{renderers:this.props.renderers})),i.a.createElement("div",{style:n.gradient}),i.a.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.a.createElement("div",{style:n.pointer},this.props.pointer?i.a.createElement(this.props.pointer,this.props):i.a.createElement("div",{style:n.slider}))))}}]),t}(r.PureComponent||r.Component),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b=[38,40],w=1,x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,b.indexOf(t)>-1)){var i=n.getArrowOffset(),o=38===e.keyCode?r+i:r-i;n.setUpdatedValue(o,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+w++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),y(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=a()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return i.a.createElement("div",{style:t.wrap},i.a.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?i.a.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(r.PureComponent||r.Component),k=function(e,t,n,r){var i=r.clientWidth,o=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var l=void 0;if(c<0)l=359;else if(c>o)l=0;else{l=360*(-100*c/o+100)/100}if(n.h!==l)return{h:l,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var f=void 0;if(u<0)f=0;else if(u>i)f=359;else{f=360*(100*u/i)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var e,n,r;S(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=k(e,r.props.direction,r.props.hsl,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=a()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return i.a.createElement("div",{style:r.hue},i.a.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.a.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),i.a.createElement("div",{style:r.pointer},this.props.pointer?i.a.createElement(this.props.pointer,this.props):i.a.createElement("div",{style:r.slider}))))}}]),t}(r.PureComponent||r.Component),T=n(0),A=n.n(T);var R=function(){this.__data__=[],this.size=0};var O=function(e,t){return e===t||e!=e&&t!=t};var I=function(e,t){for(var n=e.length;n--;)if(O(e[n][0],t))return n;return-1},L=Array.prototype.splice;var M=function(e){var t=this.__data__,n=I(t,e);return!(n<0)&&(n==t.length-1?t.pop():L.call(t,n,1),--this.size,!0)};var P=function(e){var t=this.__data__,n=I(t,e);return n<0?void 0:t[n][1]};var N=function(e){return I(this.__data__,e)>-1};var F=function(e,t){var n=this.__data__,r=I(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function D(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}D.prototype.clear=R,D.prototype.delete=M,D.prototype.get=P,D.prototype.has=N,D.prototype.set=F;var B=D;var j=function(){this.__data__=new B,this.size=0};var z=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var H=function(e){return this.__data__.get(e)};var U=function(e){return this.__data__.has(e)},q=n(64),G=q.a.Symbol,$=Object.prototype,V=$.hasOwnProperty,W=$.toString,Z=G?G.toStringTag:void 0;var X=function(e){var t=V.call(e,Z),n=e[Z];try{e[Z]=void 0;var r=!0}catch(e){}var i=W.call(e);return r&&(t?e[Z]=n:delete e[Z]),i},Y=Object.prototype.toString;var K=function(e){return Y.call(e)},Q=G?G.toStringTag:void 0;var J=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?X(e):K(e)};var ee=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var te,ne=function(e){if(!ee(e))return!1;var t=J(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},re=q.a["__core-js_shared__"],ie=(te=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||""))?"Symbol(src)_1."+te:"";var oe=function(e){return!!ie&&ie in e},ae=Function.prototype.toString;var se=function(e){if(null!=e){try{return ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ue=/^\[object .+?Constructor\]$/,ce=Function.prototype,le=Object.prototype,fe=ce.toString,he=le.hasOwnProperty,pe=RegExp("^"+fe.call(he).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var de=function(e){return!(!ee(e)||oe(e))&&(ne(e)?pe:ue).test(se(e))};var ge=function(e,t){return null==e?void 0:e[t]};var ve=function(e,t){var n=ge(e,t);return de(n)?n:void 0},me=ve(q.a,"Map"),ye=ve(Object,"create");var be=function(){this.__data__=ye?ye(null):{},this.size=0};var we=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xe=Object.prototype.hasOwnProperty;var ke=function(e){var t=this.__data__;if(ye){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return xe.call(t,e)?t[e]:void 0},_e=Object.prototype.hasOwnProperty;var Se=function(e){var t=this.__data__;return ye?void 0!==t[e]:_e.call(t,e)};var Ee=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ye&&void 0===t?"__lodash_hash_undefined__":t,this};function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ce.prototype.clear=be,Ce.prototype.delete=we,Ce.prototype.get=ke,Ce.prototype.has=Se,Ce.prototype.set=Ee;var Te=Ce;var Ae=function(){this.size=0,this.__data__={hash:new Te,map:new(me||B),string:new Te}};var Re=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Oe=function(e,t){var n=e.__data__;return Re(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ie=function(e){var t=Oe(this,e).delete(e);return this.size-=t?1:0,t};var Le=function(e){return Oe(this,e).get(e)};var Me=function(e){return Oe(this,e).has(e)};var Pe=function(e,t){var n=Oe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ne.prototype.clear=Ae,Ne.prototype.delete=Ie,Ne.prototype.get=Le,Ne.prototype.has=Me,Ne.prototype.set=Pe;var Fe=Ne;var De=function(e,t){var n=this.__data__;if(n instanceof B){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Fe(r)}return n.set(e,t),this.size=n.size,this};function Be(e){var t=this.__data__=new B(e);this.size=t.size}Be.prototype.clear=j,Be.prototype.delete=z,Be.prototype.get=H,Be.prototype.has=U,Be.prototype.set=De;var je=Be,ze=function(){try{var e=ve(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var He=function(e,t,n){"__proto__"==t&&ze?ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Ue=function(e,t,n){(void 0===n||O(e[t],n))&&(void 0!==n||t in e)||He(e,t,n)};var qe=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}(),Ge=n(422),$e=q.a.Uint8Array;var Ve=function(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t};var We=function(e,t){var n=t?Ve(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Ze=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Xe=Object.create,Ye=function(){function e(){}return function(t){if(!ee(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Ke=function(e,t){return function(n){return e(t(n))}},Qe=Ke(Object.getPrototypeOf,Object),Je=Object.prototype;var et=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Je)};var tt=function(e){return"function"!=typeof e.constructor||et(e)?{}:Ye(Qe(e))};var nt=function(e){return null!=e&&"object"==typeof e};var rt=function(e){return nt(e)&&"[object Arguments]"==J(e)},it=Object.prototype,ot=it.hasOwnProperty,at=it.propertyIsEnumerable,st=rt(function(){return arguments}())?rt:function(e){return nt(e)&&ot.call(e,"callee")&&!at.call(e,"callee")},ut=Array.isArray;var ct=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var lt=function(e){return null!=e&&ct(e.length)&&!ne(e)};var ft=function(e){return nt(e)&&lt(e)},ht=n(124),pt=Function.prototype,dt=Object.prototype,gt=pt.toString,vt=dt.hasOwnProperty,mt=gt.call(Object);var yt=function(e){if(!nt(e)||"[object Object]"!=J(e))return!1;var t=Qe(e);if(null===t)return!0;var n=vt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&gt.call(n)==mt},bt={};bt["[object Float32Array]"]=bt["[object Float64Array]"]=bt["[object Int8Array]"]=bt["[object Int16Array]"]=bt["[object Int32Array]"]=bt["[object Uint8Array]"]=bt["[object Uint8ClampedArray]"]=bt["[object Uint16Array]"]=bt["[object Uint32Array]"]=!0,bt["[object Arguments]"]=bt["[object Array]"]=bt["[object ArrayBuffer]"]=bt["[object Boolean]"]=bt["[object DataView]"]=bt["[object Date]"]=bt["[object Error]"]=bt["[object Function]"]=bt["[object Map]"]=bt["[object Number]"]=bt["[object Object]"]=bt["[object RegExp]"]=bt["[object Set]"]=bt["[object String]"]=bt["[object WeakMap]"]=!1;var wt=function(e){return nt(e)&&ct(e.length)&&!!bt[J(e)]};var xt=function(e){return function(t){return e(t)}},kt=n(421),_t=kt.a&&kt.a.isTypedArray,St=_t?xt(_t):wt;var Et=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Ct=Object.prototype.hasOwnProperty;var Tt=function(e,t,n){var r=e[t];Ct.call(e,t)&&O(r,n)&&(void 0!==n||t in e)||He(e,t,n)};var At=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?He(n,s,u):Tt(n,s,u)}return n};var Rt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Ot=/^(?:0|[1-9]\d*)$/;var It=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ot.test(e))&&e>-1&&e%1==0&&e<t},Lt=Object.prototype.hasOwnProperty;var Mt=function(e,t){var n=ut(e),r=!n&&st(e),i=!n&&!r&&Object(ht.a)(e),o=!n&&!r&&!i&&St(e),a=n||r||i||o,s=a?Rt(e.length,String):[],u=s.length;for(var c in e)!t&&!Lt.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||It(c,u))||s.push(c);return s};var Pt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Nt=Object.prototype.hasOwnProperty;var Ft=function(e){if(!ee(e))return Pt(e);var t=et(e),n=[];for(var r in e)("constructor"!=r||!t&&Nt.call(e,r))&&n.push(r);return n};var Dt=function(e){return lt(e)?Mt(e,!0):Ft(e)};var Bt=function(e){return At(e,Dt(e))};var jt=function(e,t,n,r,i,o,a){var s=Et(e,n),u=Et(t,n),c=a.get(u);if(c)Ue(e,n,c);else{var l=o?o(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var h=ut(u),p=!h&&Object(ht.a)(u),d=!h&&!p&&St(u);l=u,h||p||d?ut(s)?l=s:ft(s)?l=Ze(s):p?(f=!1,l=Object(Ge.a)(u,!0)):d?(f=!1,l=We(u,!0)):l=[]:yt(u)||st(u)?(l=s,st(s)?l=Bt(s):ee(s)&&!ne(s)||(l=tt(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),Ue(e,n,l)}};var zt=function e(t,n,r,i,o){t!==n&&qe(n,(function(a,s){if(o||(o=new je),ee(a))jt(t,n,s,r,e,i,o);else{var u=i?i(Et(t,s),a,s+"",t,n,o):void 0;void 0===u&&(u=a),Ue(t,s,u)}}),Dt)};var Ht=function(e){return e};var Ut=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},qt=Math.max;var Gt=function(e,t,n){return t=qt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=qt(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Ut(e,this,s)}};var $t=function(e){return function(){return e}},Vt=ze?function(e,t){return ze(e,"toString",{configurable:!0,enumerable:!1,value:$t(t),writable:!0})}:Ht,Wt=Date.now;var Zt=function(e){var t=0,n=0;return function(){var r=Wt(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Vt);var Xt=function(e,t){return Zt(Gt(e,t,Ht),e+"")};var Yt=function(e,t,n){if(!ee(n))return!1;var r=typeof t;return!!("number"==r?lt(n)&&It(t,n.length):"string"==r&&t in n)&&O(n[t],e)};var Kt=function(e){return Xt((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Yt(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}((function(e,t,n){zt(e,t,n)})),Qt=function(e){var t=e.zDepth,n=e.radius,r=e.background,o=e.children,s=e.styles,u=void 0===s?{}:s,c=a()(Kt({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":1===t});return i.a.createElement("div",{style:c.wrap},i.a.createElement("div",{style:c.bg}),i.a.createElement("div",{style:c.content},o))};Qt.propTypes={background:A.a.string,zDepth:A.a.oneOf([0,1,2,3,4,5]),radius:A.a.number,styles:A.a.object},Qt.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Jt=Qt,en=function(){return q.a.Date.now()};var tn=function(e){return"symbol"==typeof e||nt(e)&&"[object Symbol]"==J(e)},nn=/^\s+|\s+$/g,rn=/^[-+]0x[0-9a-f]+$/i,on=/^0b[01]+$/i,an=/^0o[0-7]+$/i,sn=parseInt;var un=function(e){if("number"==typeof e)return e;if(tn(e))return NaN;if(ee(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ee(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(nn,"");var n=on.test(e);return n||an.test(e)?sn(e.slice(2),n?2:8):rn.test(e)?NaN:+e},cn=Math.max,ln=Math.min;var fn=function(e,t,n){var r,i,o,a,s,u,c=0,l=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function d(e){return c=e,s=setTimeout(v,t),l?p(e):a}function g(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=o}function v(){var e=en();if(g(e))return m(e);s=setTimeout(v,function(e){var n=t-(e-u);return f?ln(n,o-(e-c)):n}(e))}function m(e){return s=void 0,h&&r?p(e):(r=i=void 0,a)}function y(){var e=en(),n=g(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return d(u);if(f)return clearTimeout(s),s=setTimeout(v,t),p(u)}return void 0===s&&(s=setTimeout(v,t)),a}return t=un(t)||0,ee(n)&&(l=!!n.leading,o=(f="maxWait"in n)?cn(un(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},y.flush=function(){return void 0===s?a:m(en())},y};var hn=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ee(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fn(e,t,{leading:r,maxWait:t,trailing:i})},pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var dn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"==typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),i=r.width,o=r.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=a-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>i&&(u=i),c<0?c=0:c>o&&(c=o);var l=u/i,f=1-c/o;return{h:t.h,s:l,v:f,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=hn((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pn(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,s=t.pointer,u=t.circle,c=a()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:s,circle:u}},{custom:!!this.props.style});return i.a.createElement("div",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.a.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),i.a.createElement("div",{style:c.white,className:"saturation-white"},i.a.createElement("div",{style:c.black,className:"saturation-black"}),i.a.createElement("div",{style:c.pointer},this.props.pointer?i.a.createElement(this.props.pointer,this.props):i.a.createElement("div",{style:c.circle}))))}}]),t}(r.PureComponent||r.Component);var gn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},vn=Ke(Object.keys,Object),mn=Object.prototype.hasOwnProperty;var yn=function(e){if(!et(e))return vn(e);var t=[];for(var n in Object(e))mn.call(e,n)&&"constructor"!=n&&t.push(n);return t};var bn=function(e){return lt(e)?Mt(e):yn(e)};var wn=function(e,t){return function(n,r){if(null==n)return n;if(!lt(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(e,t){return e&&qe(e,t,bn)}));var xn=function(e){return"function"==typeof e?e:Ht};var kn=function(e,t){return(ut(e)?gn:wn)(e,xn(t))},_n=n(423),Sn=n.n(_n),En=function(e){var t=0,n=0;return kn(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},Cn=function(e,t){var n=e.hex?Sn()(e.hex):Sn()(e),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===a&&0===o.a?"transparent":"#"+a,rgb:o,hsv:i,oldHue:e.h||t||r.h,source:e.source}},Tn=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&Sn()(e).isValid()},An=function(e){if(!e)return"#fff";var t=Cn(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},Rn=function(e,t){var n=e.replace("","");return Sn()(t+" ("+n+")")._ok},On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},In=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ln=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(En(e)){var r=Cn(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(En(e)){var r=Cn(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=On({},Cn(e.color,0)),t.debounce=fn((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),In(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.a.createElement(e,On({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return On({},Cn(e.color,t.oldHue))}}]),n}(r.PureComponent||r.Component);return t.propTypes=On({},e.propTypes),t.defaultProps=On({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Dn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;Nn(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=Fn(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},Fn(n,t)}return Dn(r,n),Pn(r,[{key:"render",value:function(){return i.a.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},i.a.createElement(e,Mn({},this.props,this.state)))}}]),r}(i.a.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,o=void 0===r?function(){}:r,s=e.onHover,u=e.title,c=void 0===u?t:u,l=e.children,f=e.focus,p=e.focusStyle,d=void 0===p?{}:p,g="transparent"===t,v=a()({default:{swatch:Bn({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,f?d:{})}}),m={};return s&&(m.onMouseOver=function(e){return s(t,e)}),i.a.createElement("div",Bn({style:v.swatch,onClick:function(e){return o(t,e)},title:c,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&o(t,e)}},m),l,g&&i.a.createElement(h,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))})),zn=function(e){var t=e.direction,n=a()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return i.a.createElement("div",{style:n.picker})},Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Un=function(e){var t=e.rgb,n=e.hsl,r=e.width,o=e.height,s=e.onChange,u=e.direction,c=e.style,l=e.renderers,f=e.pointer,h=e.className,p=void 0===h?"":h,d=a()({default:{picker:{position:"relative",width:r,height:o},alpha:{radius:"2px",style:c}}});return i.a.createElement("div",{style:d.picker,className:"alpha-picker "+p},i.a.createElement(m,Hn({},d.alpha,{rgb:t,hsl:n,pointer:f,renderers:l,onChange:s,direction:u})))};Un.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:zn};var qn=Ln(Un);var Gn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var $n=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Vn=function(e){return this.__data__.has(e)};function Wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Fe;++t<n;)this.add(e[t])}Wn.prototype.add=Wn.prototype.push=$n,Wn.prototype.has=Vn;var Zn=Wn;var Xn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Yn=function(e,t){return e.has(t)};var Kn=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,p=2&n?new Zn:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var d=e[f],g=t[f];if(r)var v=a?r(g,d,f,t,e,o):r(d,g,f,e,t,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!Xn(t,(function(e,t){if(!Yn(p,t)&&(d===e||i(d,e,n,r,o)))return p.push(t)}))){h=!1;break}}else if(d!==g&&!i(d,g,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h};var Qn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Jn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},er=G?G.prototype:void 0,tr=er?er.valueOf:void 0;var nr=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new $e(e),new $e(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return O(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Qn;case"[object Set]":var u=1&r;if(s||(s=Jn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Kn(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(tr)return tr.call(e)==tr.call(t)}return!1};var rr=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var ir=function(e,t,n){var r=t(e);return ut(e)?r:rr(r,n(e))};var or=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var ar=function(){return[]},sr=Object.prototype.propertyIsEnumerable,ur=Object.getOwnPropertySymbols,cr=ur?function(e){return null==e?[]:(e=Object(e),or(ur(e),(function(t){return sr.call(e,t)})))}:ar;var lr=function(e){return ir(e,bn,cr)},fr=Object.prototype.hasOwnProperty;var hr=function(e,t,n,r,i,o){var a=1&n,s=lr(e),u=s.length;if(u!=lr(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:fr.call(t,l)))return!1}var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var p=!0;o.set(e,t),o.set(t,e);for(var d=a;++c<u;){var g=e[l=s[c]],v=t[l];if(r)var m=a?r(v,g,l,t,e,o):r(g,v,l,e,t,o);if(!(void 0===m?g===v||i(g,v,n,r,o):m)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(e),o.delete(t),p},pr=ve(q.a,"DataView"),dr=ve(q.a,"Promise"),gr=ve(q.a,"Set"),vr=ve(q.a,"WeakMap"),mr=se(pr),yr=se(me),br=se(dr),wr=se(gr),xr=se(vr),kr=J;(pr&&"[object DataView]"!=kr(new pr(new ArrayBuffer(1)))||me&&"[object Map]"!=kr(new me)||dr&&"[object Promise]"!=kr(dr.resolve())||gr&&"[object Set]"!=kr(new gr)||vr&&"[object WeakMap]"!=kr(new vr))&&(kr=function(e){var t=J(e),n="[object Object]"==t?e.constructor:void 0,r=n?se(n):"";if(r)switch(r){case mr:return"[object DataView]";case yr:return"[object Map]";case br:return"[object Promise]";case wr:return"[object Set]";case xr:return"[object WeakMap]"}return t});var _r=kr,Sr=Object.prototype.hasOwnProperty;var Er=function(e,t,n,r,i,o){var a=ut(e),s=ut(t),u=a?"[object Array]":_r(e),c=s?"[object Array]":_r(t),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),h=u==c;if(h&&Object(ht.a)(e)){if(!Object(ht.a)(t))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new je),a||St(e)?Kn(e,t,n,r,i,o):nr(e,t,u,n,r,i,o);if(!(1&n)){var p=l&&Sr.call(e,"__wrapped__"),d=f&&Sr.call(t,"__wrapped__");if(p||d){var g=p?e.value():e,v=d?t.value():t;return o||(o=new je),i(g,v,n,r,o)}}return!!h&&(o||(o=new je),hr(e,t,n,r,i,o))};var Cr=function e(t,n,r,i,o){return t===n||(null==t||null==n||!nt(t)&&!nt(n)?t!=t&&n!=n:Er(t,n,r,i,e,o))};var Tr=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new je;if(r)var h=r(c,l,u,e,t,f);if(!(void 0===h?Cr(l,c,3,r,f):h))return!1}}return!0};var Ar=function(e){return e==e&&!ee(e)};var Rr=function(e){for(var t=bn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ar(i)]}return t};var Or=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Ir=function(e){var t=Rr(e);return 1==t.length&&t[0][2]?Or(t[0][0],t[0][1]):function(n){return n===e||Tr(n,e,t)}},Lr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mr=/^\w*$/;var Pr=function(e,t){if(ut(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!tn(e))||(Mr.test(e)||!Lr.test(e)||null!=t&&e in Object(t))};function Nr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Nr.Cache||Fe),n}Nr.Cache=Fe;var Fr=Nr;var Dr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Br=/\\(\\)?/g,jr=function(e){var t=Fr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Dr,(function(e,n,r,i){t.push(r?i.replace(Br,"$1"):n||e)})),t})),zr=G?G.prototype:void 0,Hr=zr?zr.toString:void 0;var Ur=function e(t){if("string"==typeof t)return t;if(ut(t))return Gn(t,e)+"";if(tn(t))return Hr?Hr.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var qr=function(e){return null==e?"":Ur(e)};var Gr=function(e,t){return ut(e)?e:Pr(e,t)?[e]:jr(qr(e))};var $r=function(e){if("string"==typeof e||tn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Vr=function(e,t){for(var n=0,r=(t=Gr(t,e)).length;null!=e&&n<r;)e=e[$r(t[n++])];return n&&n==r?e:void 0};var Wr=function(e,t,n){var r=null==e?void 0:Vr(e,t);return void 0===r?n:r};var Zr=function(e,t){return null!=e&&t in Object(e)};var Xr=function(e,t,n){for(var r=-1,i=(t=Gr(t,e)).length,o=!1;++r<i;){var a=$r(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ct(i)&&It(a,i)&&(ut(e)||st(e))};var Yr=function(e,t){return null!=e&&Xr(e,t,Zr)};var Kr=function(e,t){return Pr(e)&&Ar(t)?Or($r(e),t):function(n){var r=Wr(n,e);return void 0===r&&r===t?Yr(n,e):Cr(t,r,3)}};var Qr=function(e){return function(t){return null==t?void 0:t[e]}};var Jr=function(e){return function(t){return Vr(t,e)}};var ei=function(e){return Pr(e)?Qr($r(e)):Jr(e)};var ti=function(e){return"function"==typeof e?e:null==e?Ht:"object"==typeof e?ut(e)?Kr(e[0],e[1]):Ir(e):ei(e)};var ni=function(e,t){var n=-1,r=lt(e)?Array(e.length):[];return wn(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};var ri=function(e,t){return(ut(e)?Gn:ni)(e,ti(t,3))},ii=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,o=a()({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return i.a.createElement("div",{style:o.swatches},ri(t,(function(e){return i.a.createElement(jn,{key:e,color:e,style:o.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),i.a.createElement("div",{style:o.clear}))},oi=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,s=e.width,u=e.triangle,c=e.styles,l=void 0===c?{}:c,f=e.className,p=void 0===f?"":f,d="transparent"===r,g=function(e,n){Tn(e)&&t({hex:e,source:"hex"},n)},v=a()(Kt({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:An(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},l),{"hide-triangle":"hide"===u});return i.a.createElement("div",{style:v.card,className:"block-picker "+p},i.a.createElement("div",{style:v.triangle}),i.a.createElement("div",{style:v.head},d&&i.a.createElement(h,{borderRadius:"6px 6px 0 0"}),i.a.createElement("div",{style:v.label},r)),i.a.createElement("div",{style:v.body},i.a.createElement(ii,{colors:o,onClick:g,onSwatchHover:n}),i.a.createElement(x,{style:{input:v.input},value:r,onChange:g})))};oi.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),colors:A.a.arrayOf(A.a.string),triangle:A.a.oneOf(["top","hide"]),styles:A.a.object},oi.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};var ai=Ln(oi),si={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},ui={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},ci={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},li={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},fi={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},hi={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},pi={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},di={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},gi={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},vi={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},mi={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},yi={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},bi={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},wi={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},xi={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ki={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},_i={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Si={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},Ei=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,o=e.hover,s=e.active,u=e.circleSize,c=e.circleSpacing,l=a()({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(u/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:o,active:s});return i.a.createElement("div",{style:l.swatch},i.a.createElement(jn,{style:l.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:l.Swatch.boxShadow+", 0 0 5px "+t}}))};Ei.defaultProps={circleSize:28,circleSpacing:14};var Ci=Object(o.handleHover)(Ei),Ti=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,o=e.colors,s=e.hex,u=e.circleSize,c=e.styles,l=void 0===c?{}:c,f=e.circleSpacing,h=e.className,p=void 0===h?"":h,d=a()(Kt({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},l)),g=function(e,t){return n({hex:e,source:"hex"},t)};return i.a.createElement("div",{style:d.card,className:"circle-picker "+p},ri(o,(function(e){return i.a.createElement(Ci,{key:e,color:e,onClick:g,onSwatchHover:r,active:s===e.toLowerCase(),circleSize:u,circleSpacing:f})})))};Ti.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),circleSize:A.a.number,circleSpacing:A.a.number,styles:A.a.object},Ti.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[si[500],ui[500],ci[500],li[500],fi[500],hi[500],pi[500],di[500],gi[500],vi[500],mi[500],yi[500],bi[500],wi[500],xi[500],ki[500],_i[500],Si[500]],styles:{}};var Ai=Ln(Ti);var Ri=function(e){return void 0===e},Oi=n(424),Ii=n.n(Oi),Li=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Mi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?Tn(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(Ri(e.s)?n.props.hsl.s:e.s),l:Number(Ri(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Li(t,[{key:"render",value:function(){var e=this,t=a()({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=i.a.createElement("div",{style:t.fields,className:"flexbox-fix"},i.a.createElement("div",{style:t.field},i.a.createElement(x,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=i.a.createElement("div",{style:t.fields,className:"flexbox-fix"},i.a.createElement("div",{style:t.field},i.a.createElement(x,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),i.a.createElement("div",{style:t.field},i.a.createElement(x,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),i.a.createElement("div",{style:t.field},i.a.createElement(x,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),i.a.createElement("div",{style:t.alpha},i.a.createElement(x,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=i.a.createElement("div",{style:t.fields,className:"flexbox-fix"},i.a.createElement("div",{style:t.field},i.a.createElement(x,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.a.createElement("div",{style:t.field},i.a.createElement(x,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),i.a.createElement("div",{style:t.field},i.a.createElement(x,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),i.a.createElement("div",{style:t.alpha},i.a.createElement(x,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.a.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,i.a.createElement("div",{style:t.toggle},i.a.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.a.createElement(Ii.a,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(i.a.Component);Mi.defaultProps={view:"hex"};var Pi=Mi,Ni=function(){var e=a()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return i.a.createElement("div",{style:e.picker})},Fi=function(){var e=a()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return i.a.createElement("div",{style:e.picker})},Di=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,o=e.rgb,s=e.hsl,u=e.hsv,c=e.hex,l=e.renderers,f=e.styles,p=void 0===f?{}:f,d=e.className,g=void 0===d?"":d,v=e.defaultView,y=a()(Kt({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},p),{disableAlpha:r});return i.a.createElement("div",{style:y.picker,className:"chrome-picker "+g},i.a.createElement("div",{style:y.saturation},i.a.createElement(dn,{style:y.Saturation,hsl:s,hsv:u,pointer:Fi,onChange:n})),i.a.createElement("div",{style:y.body},i.a.createElement("div",{style:y.controls,className:"flexbox-fix"},i.a.createElement("div",{style:y.color},i.a.createElement("div",{style:y.swatch},i.a.createElement("div",{style:y.active}),i.a.createElement(h,{renderers:l}))),i.a.createElement("div",{style:y.toggles},i.a.createElement("div",{style:y.hue},i.a.createElement(C,{style:y.Hue,hsl:s,pointer:Ni,onChange:n})),i.a.createElement("div",{style:y.alpha},i.a.createElement(m,{style:y.Alpha,rgb:o,hsl:s,pointer:Ni,renderers:l,onChange:n})))),i.a.createElement(Pi,{rgb:o,hsl:s,hex:c,view:v,onChange:n,disableAlpha:r})))};Di.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),disableAlpha:A.a.bool,styles:A.a.object,defaultView:A.a.oneOf(["hex","rgb","hsl"])},Di.defaultProps={width:225,disableAlpha:!1,styles:{}};var Bi=Ln(Di),ji=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=e.active,u=a()({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:An(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return i.a.createElement(jn,{style:u.color,color:t,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},i.a.createElement("div",{style:u.dot}))},zi=function(e){var t=e.hex,n=e.rgb,r=e.onChange,o=a()({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return i.a.createElement("div",{style:o.fields,className:"flexbox-fix"},i.a.createElement("div",{style:o.active}),i.a.createElement(x,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:t,onChange:s}),i.a.createElement(x,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:s}),i.a.createElement(x,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:s}),i.a.createElement(x,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:s}))},Hi=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,o=e.hex,s=e.rgb,u=e.styles,c=void 0===u?{}:u,l=e.className,f=void 0===l?"":l,h=a()(Kt({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},c)),p=function(e,n){e.hex?Tn(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return i.a.createElement(Jt,{style:h.Compact,styles:c},i.a.createElement("div",{style:h.compact,className:"compact-picker "+f},i.a.createElement("div",null,ri(r,(function(e){return i.a.createElement(ji,{key:e,color:e,active:e.toLowerCase()===o,onClick:p,onSwatchHover:n})})),i.a.createElement("div",{style:h.clear})),i.a.createElement(zi,{hex:o,rgb:s,onChange:p})))};Hi.propTypes={colors:A.a.arrayOf(A.a.string),styles:A.a.object},Hi.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};var Ui=Ln(Hi),qi=Object(o.handleHover)((function(e){var t=e.hover,n=e.color,r=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=a()({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:t});return i.a.createElement("div",{style:u.swatch},i.a.createElement(jn,{color:n,onClick:r,onHover:o,focusStyle:s}))})),Gi=function(e){var t=e.width,n=e.colors,r=e.onChange,o=e.onSwatchHover,s=e.triangle,u=e.styles,c=void 0===u?{}:u,l=e.className,f=void 0===l?"":l,h=a()(Kt({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},c),{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s,"bottom-left-triangle":"bottom-left"===s,"bottom-right-triangle":"bottom-right"===s}),p=function(e,t){return r({hex:e,source:"hex"},t)};return i.a.createElement("div",{style:h.card,className:"github-picker "+f},i.a.createElement("div",{style:h.triangleShadow}),i.a.createElement("div",{style:h.triangle}),ri(n,(function(e){return i.a.createElement(qi,{color:e,key:e,onClick:p,onSwatchHover:o})})))};Gi.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),colors:A.a.arrayOf(A.a.string),triangle:A.a.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:A.a.object},Gi.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};var $i=Ln(Gi),Vi=function(e){var t=e.direction,n=a()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return i.a.createElement("div",{style:n.picker})},Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.hsl,s=e.direction,u=e.pointer,c=e.styles,l=void 0===c?{}:c,f=e.className,h=void 0===f?"":f,p=a()(Kt({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},l));return i.a.createElement("div",{style:p.picker,className:"hue-picker "+h},i.a.createElement(C,Wi({},p.hue,{hsl:o,pointer:u,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:s})))};Zi.propTypes={styles:A.a.object},Zi.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Vi,styles:{}};var Xi=Ln(Zi),Yi=Ln((function(e){var t=e.onChange,n=e.hex,r=e.rgb,o=e.styles,s=void 0===o?{}:o,u=e.className,c=void 0===u?"":u,l=a()(Kt({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),f=function(e,n){e.hex?Tn(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return i.a.createElement(Jt,{styles:s},i.a.createElement("div",{style:l.material,className:"material-picker "+c},i.a.createElement(x,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:f}),i.a.createElement("div",{style:l.split,className:"flexbox-fix"},i.a.createElement("div",{style:l.third},i.a.createElement(x,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:f})),i.a.createElement("div",{style:l.third},i.a.createElement(x,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:f})),i.a.createElement("div",{style:l.third},i.a.createElement(x,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:f})))))})),Ki=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,o=e.hex,s=a()({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(e,i){e["#"]?Tn(e["#"])&&t({hex:e["#"],source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},i):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},i)};return i.a.createElement("div",{style:s.fields},i.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(r.h),onChange:u}),i.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:u}),i.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:u}),i.a.createElement("div",{style:s.divider}),i.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:u}),i.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:u}),i.a.createElement(x,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:u}),i.a.createElement("div",{style:s.divider}),i.a.createElement(x,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:u}),i.a.createElement("div",{style:s.fieldSymbols},i.a.createElement("div",{style:s.symbol},""),i.a.createElement("div",{style:s.symbol},"%"),i.a.createElement("div",{style:s.symbol},"%")))},Qi=function(e){var t=e.hsl,n=a()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return i.a.createElement("div",{style:n.picker})},Ji=function(){var e=a()({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return i.a.createElement("div",{style:e.pointer},i.a.createElement("div",{style:e.left},i.a.createElement("div",{style:e.leftInside})),i.a.createElement("div",{style:e.right},i.a.createElement("div",{style:e.rightInside})))},eo=function(e){var t=e.onClick,n=e.label,r=e.children,o=e.active,s=a()({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return i.a.createElement("div",{style:s.button,onClick:t},n||r)},to=function(e){var t=e.rgb,n=e.currentColor,r=a()({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return i.a.createElement("div",null,i.a.createElement("div",{style:r.label},"new"),i.a.createElement("div",{style:r.swatches},i.a.createElement("div",{style:r.new}),i.a.createElement("div",{style:r.current})),i.a.createElement("div",{style:r.label},"current"))},no=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ro=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),no(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,o=void 0===r?"":r,s=a()(Kt({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return i.a.createElement("div",{style:s.picker,className:"photoshop-picker "+o},i.a.createElement("div",{style:s.head},this.props.header),i.a.createElement("div",{style:s.body,className:"flexbox-fix"},i.a.createElement("div",{style:s.saturation},i.a.createElement(dn,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Qi,onChange:this.props.onChange})),i.a.createElement("div",{style:s.hue},i.a.createElement(C,{direction:"vertical",hsl:this.props.hsl,pointer:Ji,onChange:this.props.onChange})),i.a.createElement("div",{style:s.controls},i.a.createElement("div",{style:s.top,className:"flexbox-fix"},i.a.createElement("div",{style:s.previews},i.a.createElement(to,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.a.createElement("div",{style:s.actions},i.a.createElement(eo,{label:"OK",onClick:this.props.onAccept,active:!0}),i.a.createElement(eo,{label:"Cancel",onClick:this.props.onCancel}),i.a.createElement(Ki,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(i.a.Component);ro.propTypes={header:A.a.string,styles:A.a.object},ro.defaultProps={header:"Color Picker",styles:{}};var io=Ln(ro),oo=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,s=e.disableAlpha,u=a()({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),c=function(e,i){e.hex?Tn(e.hex)&&t({hex:e.hex,source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},i):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},i))};return i.a.createElement("div",{style:u.fields,className:"flexbox-fix"},i.a.createElement("div",{style:u.double},i.a.createElement(x,{style:{input:u.input,label:u.label},label:"hex",value:o.replace("#",""),onChange:c})),i.a.createElement("div",{style:u.single},i.a.createElement(x,{style:{input:u.input,label:u.label},label:"r",value:n.r,onChange:c,dragLabel:"true",dragMax:"255"})),i.a.createElement("div",{style:u.single},i.a.createElement(x,{style:{input:u.input,label:u.label},label:"g",value:n.g,onChange:c,dragLabel:"true",dragMax:"255"})),i.a.createElement("div",{style:u.single},i.a.createElement(x,{style:{input:u.input,label:u.label},label:"b",value:n.b,onChange:c,dragLabel:"true",dragMax:"255"})),i.a.createElement("div",{style:u.alpha},i.a.createElement(x,{style:{input:u.input,label:u.label},label:"a",value:Math.round(100*n.a),onChange:c,dragLabel:"true",dragMax:"100"})))},ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},so=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=a()({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),u=function(e,t){r({hex:e,source:"hex"},t)};return i.a.createElement("div",{style:s.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return i.a.createElement("div",{key:n,style:s.swatchWrap},i.a.createElement(jn,ao({},t,{style:s.swatch,onClick:u,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};so.propTypes={colors:A.a.arrayOf(A.a.oneOfType([A.a.string,A.a.shape({color:A.a.string,title:A.a.string})])).isRequired};var uo=so,co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lo=function(e){var t=e.width,n=e.rgb,r=e.hex,o=e.hsv,s=e.hsl,u=e.onChange,c=e.onSwatchHover,l=e.disableAlpha,f=e.presetColors,p=e.renderers,d=e.styles,g=void 0===d?{}:d,v=e.className,y=void 0===v?"":v,b=a()(Kt({default:co({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},g),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},g),{disableAlpha:l});return i.a.createElement("div",{style:b.picker,className:"sketch-picker "+y},i.a.createElement("div",{style:b.saturation},i.a.createElement(dn,{style:b.Saturation,hsl:s,hsv:o,onChange:u})),i.a.createElement("div",{style:b.controls,className:"flexbox-fix"},i.a.createElement("div",{style:b.sliders},i.a.createElement("div",{style:b.hue},i.a.createElement(C,{style:b.Hue,hsl:s,onChange:u})),i.a.createElement("div",{style:b.alpha},i.a.createElement(m,{style:b.Alpha,rgb:n,hsl:s,renderers:p,onChange:u}))),i.a.createElement("div",{style:b.color},i.a.createElement(h,null),i.a.createElement("div",{style:b.activeColor}))),i.a.createElement(oo,{rgb:n,hsl:s,hex:r,onChange:u,disableAlpha:l}),i.a.createElement(uo,{colors:f,onClick:u,onSwatchHover:c}))};lo.propTypes={disableAlpha:A.a.bool,width:A.a.oneOfType([A.a.string,A.a.number]),styles:A.a.object},lo.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var fo=Ln(lo),ho=function(e){var t=e.hsl,n=e.offset,r=e.onClick,o=void 0===r?function(){}:r,s=e.active,u=e.first,c=e.last,l=a()({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:u,last:c});return i.a.createElement("div",{style:l.swatch,onClick:function(e){return o({h:t.h,s:.5,l:n,source:"hsl"},e)}})},po=function(e){var t=e.onClick,n=e.hsl,r=a()({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return i.a.createElement("div",{style:r.swatches},i.a.createElement("div",{style:r.swatch},i.a.createElement(ho,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<.1&&Math.abs(n.s-.5)<.1,onClick:t,first:!0})),i.a.createElement("div",{style:r.swatch},i.a.createElement(ho,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),i.a.createElement("div",{style:r.swatch},i.a.createElement(ho,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),i.a.createElement("div",{style:r.swatch},i.a.createElement(ho,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),i.a.createElement("div",{style:r.swatch},i.a.createElement(ho,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<.1&&Math.abs(n.s-.5)<.1,onClick:t,last:!0})),i.a.createElement("div",{style:r.clear}))},go=function(){var e=a()({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return i.a.createElement("div",{style:e.picker})},vo=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,o=e.styles,s=void 0===o?{}:o,u=e.className,c=void 0===u?"":u,l=a()(Kt({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return i.a.createElement("div",{style:l.wrap||{},className:"slider-picker "+c},i.a.createElement("div",{style:l.hue},i.a.createElement(C,{style:l.Hue,hsl:t,pointer:r,onChange:n})),i.a.createElement("div",{style:l.swatches},i.a.createElement(po,{hsl:t,onClick:n})))};vo.propTypes={styles:A.a.object},vo.defaultProps={pointer:go,styles:{}};var mo=Ln(vo),yo=n(425),bo=n.n(yo),wo=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,s=e.first,u=e.last,c=e.active,l=a()({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:An(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:u,active:c,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return i.a.createElement(jn,{color:t,style:l.color,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},i.a.createElement("div",{style:l.check},i.a.createElement(bo.a,null)))},xo=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,o=e.active,s=a()({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return i.a.createElement("div",{style:s.group},ri(r,(function(e,a){return i.a.createElement(wo,{key:e,color:e,active:e.toLowerCase()===o,first:0===a,last:a===r.length-1,onClick:t,onSwatchHover:n})})))},ko=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.onSwatchHover,s=e.colors,u=e.hex,c=e.styles,l=void 0===c?{}:c,f=e.className,h=void 0===f?"":f,p=a()(Kt({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},l)),d=function(e,t){return r({hex:e,source:"hex"},t)};return i.a.createElement("div",{style:p.picker,className:"swatches-picker "+h},i.a.createElement(Jt,null,i.a.createElement("div",{style:p.overflow},i.a.createElement("div",{style:p.body},ri(s,(function(e){return i.a.createElement(xo,{key:e.toString(),group:e,active:u,onClick:d,onSwatchHover:o})})),i.a.createElement("div",{style:p.clear})))))};ko.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),height:A.a.oneOfType([A.a.string,A.a.number]),colors:A.a.arrayOf(A.a.arrayOf(A.a.string)),styles:A.a.object},ko.defaultProps={width:320,height:240,colors:[[si[900],si[700],si[500],si[300],si[100]],[ui[900],ui[700],ui[500],ui[300],ui[100]],[ci[900],ci[700],ci[500],ci[300],ci[100]],[li[900],li[700],li[500],li[300],li[100]],[fi[900],fi[700],fi[500],fi[300],fi[100]],[hi[900],hi[700],hi[500],hi[300],hi[100]],[pi[900],pi[700],pi[500],pi[300],pi[100]],[di[900],di[700],di[500],di[300],di[100]],[gi[900],gi[700],gi[500],gi[300],gi[100]],["#194D33",vi[700],vi[500],vi[300],vi[100]],[mi[900],mi[700],mi[500],mi[300],mi[100]],[yi[900],yi[700],yi[500],yi[300],yi[100]],[bi[900],bi[700],bi[500],bi[300],bi[100]],[wi[900],wi[700],wi[500],wi[300],wi[100]],[xi[900],xi[700],xi[500],xi[300],xi[100]],[ki[900],ki[700],ki[500],ki[300],ki[100]],[_i[900],_i[700],_i[500],_i[300],_i[100]],[Si[900],Si[700],Si[500],Si[300],Si[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};var _o=Ln(ko),So=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,s=e.width,u=e.triangle,c=e.styles,l=void 0===c?{}:c,f=e.className,h=void 0===f?"":f,p=a()(Kt({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},l),{"hide-triangle":"hide"===u,"top-left-triangle":"top-left"===u,"top-right-triangle":"top-right"===u}),d=function(e,n){Tn(e)&&t({hex:e,source:"hex"},n)};return i.a.createElement("div",{style:p.card,className:"twitter-picker "+h},i.a.createElement("div",{style:p.triangleShadow}),i.a.createElement("div",{style:p.triangle}),i.a.createElement("div",{style:p.body},ri(o,(function(e,t){return i.a.createElement(jn,{key:t,color:e,hex:e,style:p.swatch,onClick:d,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),i.a.createElement("div",{style:p.hash},"#"),i.a.createElement(x,{label:null,style:{input:p.input},value:r.replace("#",""),onChange:d}),i.a.createElement("div",{style:p.clear})))};So.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),triangle:A.a.oneOf(["hide","top-left","top-right"]),colors:A.a.arrayOf(A.a.string),styles:A.a.object},So.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};var Eo=Ln(So),Co=function(e){var t=a()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return i.a.createElement("div",{style:t.picker})};Co.propTypes={hsl:A.a.shape({h:A.a.number,s:A.a.number,l:A.a.number,a:A.a.number})},Co.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var To=Co,Ao=function(e){var t=a()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return i.a.createElement("div",{style:t.picker})};Ao.propTypes={hsl:A.a.shape({h:A.a.number,s:A.a.number,l:A.a.number,a:A.a.number})},Ao.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Ro=Ao,Oo=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,s=e.hsv,u=function(e,n){if(e.hex)Tn(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");Rn(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var i=e.hsv.split(",");Rn(e.hsv,"hsv")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("",""),1==i[1]?i[1]=.01:1==i[2]&&(i[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsv"},n))}else if(e.hsl){var o=e.hsl.split(",");Rn(e.hsl,"hsl")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("",""),1==h[1]?h[1]=.01:1==h[2]&&(h[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsl"},n))}},c=a()({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),l=n.r+", "+n.g+", "+n.b,f=Math.round(r.h)+", "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",h=Math.round(s.h)+", "+Math.round(100*s.s)+"%, "+Math.round(100*s.v)+"%";return i.a.createElement("div",{style:c.wrap,className:"flexbox-fix"},i.a.createElement("div",{style:c.fields},i.a.createElement("div",{style:c.double},i.a.createElement(x,{style:{input:c.input,label:c.label},label:"hex",value:o,onChange:u})),i.a.createElement("div",{style:c.column},i.a.createElement("div",{style:c.single},i.a.createElement(x,{style:{input:c.input2,label:c.label2},label:"rgb",value:l,onChange:u})),i.a.createElement("div",{style:c.single},i.a.createElement(x,{style:{input:c.input2,label:c.label2},label:"hsv",value:h,onChange:u})),i.a.createElement("div",{style:c.single},i.a.createElement(x,{style:{input:c.input2,label:c.label2},label:"hsl",value:f,onChange:u})))))},Io=function(e){var t=e.width,n=e.onChange,r=e.rgb,o=e.hsl,s=e.hsv,u=e.hex,c=e.header,l=e.styles,f=void 0===l?{}:l,h=e.className,p=void 0===h?"":h,d=a()(Kt({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},f));return i.a.createElement("div",{style:d.picker,className:"google-picker "+p},i.a.createElement("div",{style:d.head},c),i.a.createElement("div",{style:d.swatch}),i.a.createElement("div",{style:d.saturation},i.a.createElement(dn,{hsl:o,hsv:s,pointer:To,onChange:n})),i.a.createElement("div",{style:d.body},i.a.createElement("div",{style:d.controls,className:"flexbox-fix"},i.a.createElement("div",{style:d.hue},i.a.createElement(C,{style:d.Hue,hsl:o,radius:"4px",pointer:Ro,onChange:n}))),i.a.createElement(Oo,{rgb:r,hsl:o,hex:u,hsv:s,onChange:n})))};Io.propTypes={width:A.a.oneOfType([A.a.string,A.a.number]),styles:A.a.object,header:A.a.string},Io.defaultProps={width:652,styles:{},header:"Color picker"};var Lo=Ln(Io);n.d(t,"AlphaPicker",(function(){return qn})),n.d(t,"BlockPicker",(function(){return ai})),n.d(t,"CirclePicker",(function(){return Ai})),n.d(t,"default",(function(){return Bi})),n.d(t,"ChromePicker",(function(){return Bi})),n.d(t,"CompactPicker",(function(){return Ui})),n.d(t,"GithubPicker",(function(){return $i})),n.d(t,"HuePicker",(function(){return Xi})),n.d(t,"MaterialPicker",(function(){return Yi})),n.d(t,"PhotoshopPicker",(function(){return io})),n.d(t,"SketchPicker",(function(){return fo})),n.d(t,"SliderPicker",(function(){return mo})),n.d(t,"SwatchesPicker",(function(){return _o})),n.d(t,"TwitterPicker",(function(){return Eo})),n.d(t,"GooglePicker",(function(){return Lo})),n.d(t,"CustomPicker",(function(){return Ln}))}])]);