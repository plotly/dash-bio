window.dash_bio=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){e.exports=window.React},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DashMolecule3d=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(3));t.DashMolecule3d=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),a=u(i),s=u(r(4)),l=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onChangeSelection=r.onChangeSelection.bind(r),r.onRenderNewData=r.onRenderNewData.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"onChangeSelection",value:function(e){this.props.setProps({selectedAtomIds:e})}},{key:"onRenderNewData",value:function(){this.props.setProps({selectedAtomIds:[]})}},{key:"render",value:function(){var e=this.props,t=e.id;e.color,e.modelData,e.atoms,e.bonds,e.backgroundColor,e.backgroundOpacity,e.atomLabelsShown,e.selectionType,e.selectedAtomIds,e.labels,e.setProps,e.styles,e.onRenderNewData,e.onChangeSelection,e.defaultSelection;return a.default.createElement("div",{id:t},a.default.createElement(l.default,n({},this.props,{onChangeSelection:this.onChangeSelection,onRenderNewData:this.onRenderNewData})))}}]),t}();t.default=c,c.propTypes={id:s.default.string,setProps:s.default.func,selectionType:s.default.string,backgroundColor:s.default.string,backgroundOpacity:s.default.number,styles:s.default.objectOf(s.default.object),modelData:s.default.shape({atoms:s.default.array,bonds:s.default.array}),atomLabelsShown:s.default.bool,selectedAtomIds:s.default.array,labels:s.default.array,onRenderNewData:s.default.func,onChangeSelection:s.default.func,onClickAtom:s.default.func,defaultSelection:s.default.array}},function(e,t,r){e.exports=r(5)()},function(e,t,r){"use strict";var n=r(6);function o(){}e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="/js/",t(0)}([function(e,t,r){e.exports=r(4)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={ATOM:"Atom",RESIDUE:"Residue",CHAIN:"Chain"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(9)),s=n(r(10)),l=n(r(5)),u=n(r(6)),c=n(r(1));window.$=a.default;var f=r(7),h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onClickAtom=function(e){var t=r.props.modelData.atoms,n=t[e.serial],o=r.props.selectionType,i=u.default.addSelection(t,r.state.selectedAtomIds,n,o);r.setState({selectedAtomIds:i}),r.props.onChangeSelection&&r.props.onChangeSelection(i)},r.state={selectedAtomIds:e.selectedAtomIds},r.lastOutline={width:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,null,[{key:"isModelDataEmpty",value:function(e){return 0===e.atoms.length&&0===e.bonds.length}},{key:"render3dMolModel",value:function(e,r){e.clear(),t.isModelDataEmpty(r)||(e.addModel(u.default.modelDataToCDJSON(r),"json",{keepH:!0}),e.getModel().selectedAtoms().forEach(function(e){var t=e,n=(r.atoms[e.serial].residue_name||"").replace(/[0-9]+/,"");t.atom=r.atoms[e.serial].name,t.chain=r.atoms[e.serial].chain,t.resi=r.atoms[e.serial].residue_index,t.resn=n}))}},{key:"render3dMolShapes",value:function(e,t){e.removeAllShapes(),t.forEach(function(t){t.type&&e["add"+t.type](l.default.getShapeSpec(t))})}},{key:"render3dMolLabels",value:function(e,t){e.removeAllLabels(),t.forEach(function(t){e.addLabel(t.text,t)})}},{key:"render3dMolOrbital",value:function(e,t){if(t.cube_file){var r=new f.VolumeData(t.cube_file,"cube");e.addIsosurface(r,{isoval:t.iso_val,color:t.positiveVolumetricColor||16711680,opacity:t.opacity||.8}),e.addIsosurface(r,{isoval:-t.iso_val,color:t.negativeVolumetricColor||255,opacity:t.opacity||.8})}}}]),i(t,[{key:"componentDidMount",value:function(){this.render3dMol()}},{key:"componentWillReceiveProps",value:function(e){this.setState({selectedAtomIds:e.selectedAtomIds})}},{key:"componentDidUpdate",value:function(){this.render3dMol()}},{key:"render3dMol",value:function(){var e=this;if(this.glviewer||!t.isModelDataEmpty(this.props.modelData)){var r=this.glviewer||f.createViewer((0,a.default)(this.container),{defaultcolors:f.elementColors.rasmol}),n=u.default.modelDataEquivalent(this.oldModelData,this.props.modelData);n||(this.lastStylesByAtom=null,t.render3dMolModel(r,this.props.modelData)),this.props.outlineWidth===this.lastOutline.width&&this.props.outlineColor===this.lastOutline.color||(this.props.outlineWidth?this.lastOutline={style:"outline",width:this.props.outlineWidth,color:this.props.outlineColor}:this.lastOutline={},r.setViewStyle(this.lastOutline));var i=Object.create(null),s=Object.create(null);this.props.modelData.atoms.forEach(function(t,n){var o=-1!==e.state.selectedAtomIds.indexOf(t.serial),a=l.default.getLibStyle(t,o,e.props.atomLabelsShown,e.props.styles[n]);e.props.atomLabelsShown&&r.addLabel(t.name,{fontSize:14,position:{x:t.positions[0],y:t.positions[1],z:t.positions[2]}});var u=JSON.stringify(a);s[t.serial]=u,e.lastStylesByAtom&&e.lastStylesByAtom[t.serial]===u||(i[u]||(i[u]=[]),i[u].push(t.serial))}),this.lastStylesByAtom=s,Object.entries(i).forEach(function(e){var t=o(e,2),n=t[0],i=t[1];r.setStyle({serial:i},JSON.parse(n))}),t.render3dMolShapes(r,this.props.shapes),t.render3dMolLabels(r,this.props.labels),t.render3dMolOrbital(r,this.props.orbital);var c=!1;if("number"==typeof this.props.nearClip&&"number"==typeof this.props.farClip&&(r.setSlab(this.props.nearClip,this.props.farClip),c=!0),r.setBackgroundColor(l.default.colorStringToNumber(this.props.backgroundColor),this.props.backgroundOpacity),r.setClickable({},!0,this.onClickAtom),r.render(),this.oldModelData||(r.zoom(),r.zoomTo(.8)),n||(c||r.fitSlab(),this.props.onRenderNewData(r)),!this.glviewer)var h=this,p=setInterval(function(){h.container.children.length>0&&h.container.children[0].offsetParent&&(r.resize(),clearInterval(p))},50);this.oldModelData=this.props.modelData,this.glviewer=r}}},{key:"render",value:function(){var e=this;return s.default.createElement("div",{className:"molecule-3d",style:{width:this.props.width,height:this.props.height,position:"relative",margin:"0 auto"},ref:function(t){e.container=t}})}}]),t}();h.defaultProps={atomLabelsShown:!1,backgroundOpacity:1,backgroundColor:"#73757c",height:"500px",onRenderNewData:function(){},orbital:{},selectedAtomIds:[],selectionType:c.default.ATOM,shapes:[],labels:[],styles:{},width:"500px",outlineWidth:0,outlineColor:"#000000",nearClip:null,farClip:null},h.propTypes={atomLabelsShown:s.default.PropTypes.bool,backgroundColor:s.default.PropTypes.string,backgroundOpacity:s.default.PropTypes.number,height:s.default.PropTypes.string,modelData:s.default.PropTypes.shape({atoms:s.default.PropTypes.array,bonds:s.default.PropTypes.array}).isRequired,onChangeSelection:s.default.PropTypes.func,onRenderNewData:s.default.PropTypes.func,orbital:s.default.PropTypes.shape({cube_file:s.default.PropTypes.string,iso_val:s.default.PropTypes.number,opacity:s.default.PropTypes.number,positiveVolumetricColor:s.default.PropTypes.string,negativeVolumetricColor:s.default.PropTypes.string}),selectedAtomIds:s.default.PropTypes.arrayOf(s.default.PropTypes.number),selectionType:s.default.PropTypes.oneOf([c.default.ATOM,c.default.RESIDUE,c.default.CHAIN]),shapes:s.default.PropTypes.arrayOf(s.default.PropTypes.object),labels:s.default.PropTypes.arrayOf(s.default.PropTypes.object),styles:s.default.PropTypes.objectOf(s.default.PropTypes.object),width:s.default.PropTypes.string,nearClip:s.default.PropTypes.number,farClip:s.default.PropTypes.number,outlineWidth:s.default.PropTypes.number,outlineColor:s.default.PropTypes.string},t.default=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={ARROW:"Arrow",SPHERE:"Sphere",CYLINDER:"Cylinder"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(2));t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(r(3)),i={colorStringToNumber:function(e){if(4!==e.length&&7!==e.length)return e;if("#"!==e[0])return e;var t=parseInt(e.substr(1,e.length-1),16);return isNaN(t)?e:t},getShapeSpec:function(e,t){var r=void 0;e.color&&(r=i.colorStringToNumber(e.color));var n=Object.assign({},{alpha:.8,callback:t,clickable:!1,color:65027,radius:e.radius},e,{color:r});if(e.type===o.default.ARROW)n.start=e.start,n.end=e.end;else if(e.type===o.default.SPHERE)n.center=e.center;else{if(e.type!==o.default.CYLINDER)throw new Error("Invalid shape type.");n.fromCap=!0,n.toCap=!0,n.start=e.start,n.end=e.end}return n},getLibStyle:function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={},s=o.visualization_type||"stick";return a[s]={},Object.entries(o).forEach(function(e){var t=n(e,2),r=t[0],o=t[1];"visualization_type"!==r&&(a[s][r]=o)}),t&&(a[s].color=2094078),"string"==typeof a[s].color&&(a[s].color=i.colorStringToNumber(a[s].color)),a}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i={modelDataToCDJSON:function(e){return{m:[{a:e.atoms.map(function(e){return{l:e.elem,x:e.positions[0],y:e.positions[1],z:e.positions[2],mass:e.mass_magnitude}}),b:e.bonds.map(function(e){return{b:e.atom1_index,e:e.atom2_index,o:e.bond_order}})}]}},addSelection:function(e,t,r,n){var a=t.slice(),s=t.indexOf(r.serial),l=-1===s;return n===o.default.ATOM?(l?a.push(r.serial):a.splice(s,1),a):(l?e.forEach(function(e){i.isSameGroup(r,e,n)&&a.push(e.serial)}):a=a.filter(function(t){var o=e[t];return!i.isSameGroup(r,o,n)}),a)},isSameGroup:function(e,t,r){if(r===o.default.RESIDUE)return e.residue_index===t.residue_index;if(r===o.default.CHAIN)return e.chain===t.chain;throw new Error("selectionType must be either residue or chain")},modelDataEquivalent:function(e,t){if(!e||!t)return!1;var r=new n.Set(e.atoms.map(function(e){return e.serial})),o=new n.Set(t.atoms.map(function(e){return e.serial})),i=new n.Set(e.bonds.map(function(e){return e.atom1_index+"=>"+e.atom2_index})),a=new n.Set(t.bonds.map(function(e){return e.atom1_index+"=>"+e.atom2_index})),s=r.equals(o),l=i.equals(a);if(!s||!l)return!1;var u=new Map,c=!0,f=!1,h=void 0;try{for(var p,d=e.atoms[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var m=p.value;u.set(m.serial,m.positions||[])}}catch(e){f=!0,h=e}finally{try{!c&&d.return&&d.return()}finally{if(f)throw h}}return t.atoms.every(function(e){return u.get(e.serial).every(function(t,r){return(e.positions||[])[r]===t})})}};t.default=i},function(e,t){e.exports=r(8)},function(e,t){e.exports=r(10)},function(e,t){e.exports=r(11)},function(e,t){e.exports=r(0)}])},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,require,require,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,$jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,o=0;o<n;o++){var i=e[o];if(t.call(r,i,o,e))return{i:o,v:i}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function r(e,t){var r=(t=t||W).createElement("script");r.text=e,t.head.appendChild(r).parentNode.removeChild(r)}function n(e){var t=!!e&&"length"in e&&e.length,r=ie.type(e);return"function"!==r&&!ie.isWindow(e)&&("array"===r||0===t||"number"==typeof t&&0<t&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function i(e,t,r){return ie.isFunction(t)?ie.grep(e,function(e,n){return!!t.call(e,n,e)!==r}):t.nodeType?ie.grep(e,function(e){return e===t!==r}):"string"!=typeof t?ie.grep(e,function(e){return-1<Q.call(t,e)!==r}):me.test(t)?ie.filter(t,e,r):(t=ie.filter(t,e),ie.grep(e,function(e){return-1<Q.call(t,e)!==r&&1===e.nodeType}))}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){return e}function l(e){throw e}function u(e,t,r,n){var o;try{e&&ie.isFunction(o=e.promise)?o.call(e).done(t).fail(r):e&&ie.isFunction(o=e.then)?o.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}function c(){W.removeEventListener("DOMContentLoaded",c),e.removeEventListener("load",c),ie.ready()}function f(){this.expando=ie.expando+f.uid++}function h(e,t,r){if(void 0===r&&1===e.nodeType)if(r="data-"+t.replace(Me,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(r))){try{var n=r;r="true"===n||"false"!==n&&("null"===n?null:n===+n+""?+n:$e.test(n)?JSON.parse(n):n)}catch(e){}Ae.set(e,t,r)}else r=void 0;return r}function p(e,t,r,n){var o=1,i=20,a=n?function(){return n.cur()}:function(){return ie.css(e,t,"")},s=a(),l=r&&r[3]||(ie.cssNumber[t]?"":"px"),u=(ie.cssNumber[t]||"px"!==l&&+s)&&ze.exec(ie.css(e,t));if(u&&u[3]!==l){l=l||u[3],r=r||[],u=+s||1;do{u/=o=o||".5",ie.style(e,t,u+l)}while(o!==(o=a()/s)&&1!==o&&--i)}if(r){u=+u||+s||0;var c=r[1]?u+(r[1]+1)*r[2]:+r[2];n&&(n.unit=l,n.start=u,n.end=c)}return c}function d(e,t){for(var r,n,o=[],i=0,a=e.length;i<a;i++)if((n=e[i]).style)if(r=n.style.display,t){if("none"===r&&(o[i]=Ce.get(n,"display")||null,o[i]||(n.style.display="")),""===n.style.display&&Le(n)){r=i;var s=n.ownerDocument;n=n.nodeName;var l=Ie[n];l||(s=s.body.appendChild(s.createElement(n)),l=ie.css(s,"display"),s.parentNode.removeChild(s),"none"===l&&(l="block"),Ie[n]=l),s=l,o[r]=s}}else"none"!==r&&(o[i]="none",Ce.set(n,"display",r));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}function m(e,t){var r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&o(e,t)?ie.merge([e],r):r}function v(e,t){for(var r=0,n=e.length;r<n;r++)Ce.set(e[r],"globalEval",!t||Ce.get(t[r],"globalEval"))}function y(e,t,r,n,o){for(var i,a,s,l=t.createDocumentFragment(),u=[],c=0,f=e.length;c<f;c++)if((i=e[c])||0===i)if("object"===ie.type(i))ie.merge(u,i.nodeType?[i]:i);else if(Fe.test(i)){for(a=a||l.appendChild(t.createElement("div")),s=(je.exec(i)||["",""])[1].toLowerCase(),s=Ne[s]||Ne._default,a.innerHTML=s[1]+ie.htmlPrefilter(i)+s[2],s=s[0];s--;)a=a.lastChild;ie.merge(u,a.childNodes),(a=l.firstChild).textContent=""}else u.push(t.createTextNode(i));for(l.textContent="",c=0;i=u[c++];)if(n&&-1<ie.inArray(i,n))o&&o.push(i);else if(e=ie.contains(i.ownerDocument,i),a=m(l.appendChild(i),"script"),e&&v(a),r)for(s=0;i=a[s++];)Pe.test(i.type||"")&&r.push(i);return l}function g(){return!0}function b(){return!1}function x(){try{return W.activeElement}catch(e){}}function w(e,t,r,n,o,i){var a;if("object"==typeof t){for(a in"string"!=typeof r&&(n=n||r,r=void 0),t)w(e,a,r,n,t[a],i);return e}if(null==n&&null==o?(o=r,n=r=void 0):null==o&&("string"==typeof r?(o=n,n=void 0):(o=n,n=r,r=void 0)),!1===o)o=b;else if(!o)return e;if(1===i){var s=o;(o=function(e){return ie().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=ie.guid++)}return e.each(function(){ie.event.add(this,t,o,n,r)})}function _(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")&&ie(">tbody",e)[0]||e}function D(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function S(e){var t=We.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){var r,n;if(1===t.nodeType){if(Ce.hasData(e)){var o=Ce.access(e),i=Ce.set(t,o);if(o=o.events)for(n in delete i.handle,i.events={},o)for(i=0,r=o[n].length;i<r;i++)ie.event.add(t,n,o[n][i])}Ae.hasData(e)&&(e=Ae.access(e),e=ie.extend({},e),Ae.set(t,e))}}function A(e,t,n,o){t=Z.apply([],t);var i,a=0,s=e.length,l=s-1,u=t[0],c=ie.isFunction(u);if(c||1<s&&"string"==typeof u&&!oe.checkClone&&Ge.test(u))return e.each(function(r){var i=e.eq(r);c&&(t[0]=u.call(this,r,i.html())),A(i,t,n,o)});if(s){var f=y(t,e[0].ownerDocument,!1,e,o),h=f.firstChild;if(1===f.childNodes.length&&(f=h),h||o){for(i=(h=ie.map(m(f,"script"),D)).length;a<s;a++){var p=f;a!==l&&(p=ie.clone(p,!0,!0),i&&ie.merge(h,m(p,"script"))),n.call(e[a],p,a)}if(i)for(f=h[h.length-1].ownerDocument,ie.map(h,S),a=0;a<i;a++)p=h[a],Pe.test(p.type||"")&&!Ce.access(p,"globalEval")&&ie.contains(f,p)&&(p.src?ie._evalUrl&&ie._evalUrl(p.src):r(p.textContent.replace(Ye,""),f))}}return e}function $(e,t,r){for(var n=t?ie.filter(t,e):e,o=0;null!=(t=n[o]);o++)r||1!==t.nodeType||ie.cleanData(m(t)),t.parentNode&&(r&&ie.contains(t.ownerDocument,t)&&v(m(t,"script")),t.parentNode.removeChild(t));return e}function M(e,t,r){var n=e.style;if(r=r||Ke(e)){var o=r.getPropertyValue(t)||r[t];if(""!==o||ie.contains(e.ownerDocument,e)||(o=ie.style(e,t)),!oe.pixelMarginRight()&&Ze.test(o)&&Xe.test(t)){e=n.width,t=n.minWidth;var i=n.maxWidth;n.minWidth=n.maxWidth=n.width=o,o=r.width,n.width=e,n.minWidth=t,n.maxWidth=i}}return void 0!==o?o+"":o}function T(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function z(e){var t=ie.cssProps[e];if(!t){t=ie.cssProps;e:{var r=e;if(!(r in nt)){for(var n=r[0].toUpperCase()+r.slice(1),o=rt.length;o--;)if((r=rt[o]+n)in nt)break e;r=void 0}}t=t[e]=r||e}return t}function E(e,t,r){return(e=ze.exec(t))?Math.max(0,e[2]-(r||0))+(e[3]||"px"):t}function L(e,t,r,n,o){var i=0;for(t=r===(n?"border":"content")?4:"width"===t?1:0;4>t;t+=2)"margin"===r&&(i+=ie.css(e,r+Ee[t],!0,o)),n?("content"===r&&(i-=ie.css(e,"padding"+Ee[t],!0,o)),"margin"!==r&&(i-=ie.css(e,"border"+Ee[t]+"Width",!0,o))):(i+=ie.css(e,"padding"+Ee[t],!0,o),"padding"!==r&&(i+=ie.css(e,"border"+Ee[t]+"Width",!0,o)));return i}function k(e,t,r){var n=Ke(e),o=M(e,t,n),i="border-box"===ie.css(e,"boxSizing",!1,n);if(Ze.test(o))return o;var a=i&&(oe.boxSizingReliable()||o===e.style[t]);return"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+L(e,t,r||(i?"border":"content"),a,n)+"px"}function I(e,t,r,n,o){return new I.prototype.init(e,t,r,n,o)}function O(){it&&(!1===W.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(O):e.setTimeout(O,ie.fx.interval),ie.fx.tick())}function j(){return e.setTimeout(function(){ot=void 0}),ot=ie.now()}function P(e,t){var r=0,n={height:e};for(t=t?1:0;4>r;r+=2-t){var o=Ee[r];n["margin"+o]=n["padding"+o]=e}return t&&(n.opacity=n.width=e),n}function N(e,t,r){for(var n,o=(F.tweeners[t]||[]).concat(F.tweeners["*"]),i=0,a=o.length;i<a;i++)if(n=o[i].call(r,t,e))return n}function F(e,t,r){var n,o=0,i=F.prefilters.length,a=ie.Deferred().always(function(){delete s.elem}),s=function(){if(n)return!1;for(var t=ot||j(),r=1-((t=Math.max(0,l.startTime+l.duration-t))/l.duration||0),o=0,i=l.tweens.length;o<i;o++)l.tweens[o].run(r);return a.notifyWith(e,[l,r,t]),1>r&&i?t:(i||a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{},easing:ie.easing._default},r),originalProperties:t,originalOptions:r,startTime:ot||j(),duration:r.duration,tweens:[],createTween:function(t,r){return t=ie.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing),l.tweens.push(t),t},stop:function(t){var r=0,o=t?l.tweens.length:0;if(n)return this;for(n=!0;r<o;r++)l.tweens[r].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}});for(function(e,t){var r,n;for(r in e){var o=ie.camelCase(r),i=t[o],a=e[r];if(Array.isArray(a)&&(i=a[1],a=e[r]=a[0]),r!==o&&(e[o]=a,delete e[r]),(n=ie.cssHooks[o])&&"expand"in n)for(r in a=n.expand(a),delete e[o],a)r in e||(e[r]=a[r],t[r]=i);else t[o]=i}}(r=l.props,l.opts.specialEasing);o<i;o++)if(t=F.prefilters[o].call(l,e,r,l.opts))return ie.isFunction(t.stop)&&(ie._queueHooks(l.elem,l.opts.queue).stop=ie.proxy(t.stop,t)),t;return ie.map(r,N,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ie.fx.timer(ie.extend(s,{elem:e,anim:l,queue:l.opts.queue})),l}function R(e){return(e.match(xe)||[]).join(" ")}function q(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e,t,r,n){var o;if(Array.isArray(t))ie.each(t,function(t,o){r||yt.test(e)?n(e,o):V(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,r,n)});else if(r||"object"!==ie.type(t))n(e,t);else for(o in t)V(e+"["+o+"]",t[o],r,n)}function B(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n=0,o=t.toLowerCase().match(xe)||[];if(ie.isFunction(r))for(;t=o[n++];)"+"===t[0]?(t=t.slice(1)||"*",(e[t]=e[t]||[]).unshift(r)):(e[t]=e[t]||[]).push(r)}}function U(e,t,r,n){function o(s){var l;return i[s]=!0,ie.each(e[s]||[],function(e,s){return"string"!=typeof(e=s(t,r,n))||a||i[e]?a?!(l=e):void 0:(t.dataTypes.unshift(e),o(e),!1)}),l}var i={},a=e===Mt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function H(e,t){var r,n,o=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}var G=[],W=e.document,Y=Object.getPrototypeOf,X=G.slice,Z=G.concat,K=G.push,Q=G.indexOf,J={},ee=J.toString,te=J.hasOwnProperty,re=te.toString,ne=re.call(Object),oe={},ie=function(e,t){return new ie.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([a-z])/g,ue=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:"3.2.1",constructor:ie,length:0,toArray:function(){return X.call(this)},get:function(e){return null==e?X.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){return(e=ie.merge(this.constructor(),e)).prevObject=this,e},each:function(e){return ie.each(this,e)},map:function(e){return this.pushStack(ie.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length;return e=+e+(0>e?t:0),this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:K,sort:G.sort,splice:G.splice},ie.extend=ie.fn.extend=function(){var e,t,r,n=arguments[0]||{},o=1,i=arguments.length,a=!1;for("boolean"==typeof n&&(a=n,n=arguments[o]||{},o++),"object"==typeof n||ie.isFunction(n)||(n={}),o===i&&(n=this,o--);o<i;o++)if(null!=(e=arguments[o]))for(t in e){var s=n[t],l=e[t];n!==l&&(a&&l&&(ie.isPlainObject(l)||(r=Array.isArray(l)))?(r?(r=!1,s=s&&Array.isArray(s)?s:[]):s=s&&ie.isPlainObject(s)?s:{},n[t]=ie.extend(a,s,l)):void 0!==l&&(n[t]=l))}return n},ie.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ie.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){return!(!e||"[object Object]"!==ee.call(e))&&(!(e=Y(e))||"function"==typeof(e=te.call(e,"constructor")&&e.constructor)&&re.call(e)===ne)},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[ee.call(e)]||"object":typeof e},globalEval:function(e){r(e)},camelCase:function(e){return e.replace(se,"ms-").replace(le,ue)},each:function(e,t){var r,o=0;if(n(e))for(r=e.length;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){return t=t||[],null!=e&&(n(Object(e))?ie.merge(t,"string"==typeof e?[e]:e):K.call(t,e)),t},inArray:function(e,t,r){return null==t?-1:Q.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,r){for(var n=[],o=0,i=e.length,a=!r;o<i;o++)(r=!t(e[o],o))!==a&&n.push(e[o]);return n},map:function(e,t,r){var o,i=0,a=[];if(n(e))for(o=e.length;i<o;i++){var s=t(e[i],i,r);null!=s&&a.push(s)}else for(i in e)null!=(s=t(e[i],i,r))&&a.push(s);return Z.apply([],a)},guid:1,proxy:function(e,t){if("string"==typeof t){var r=e[t];t=e,e=r}if(ie.isFunction(e)){var n=X.call(arguments,2);return(r=function(){return e.apply(t||this,n.concat(X.call(arguments)))}).guid=e.guid=e.guid||ie.guid++,r}},now:Date.now,support:oe}),"function"==typeof Symbol&&(ie.fn[Symbol.iterator]=G[Symbol.iterator]),ie.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,r,n){var o,i,a,s,l=t&&t.ownerDocument,u=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==u&&9!==u&&11!==u)return r;if(!n&&((t?t.ownerDocument||t:L)!==S&&pe(t),t=t||S,A)){if(11!==u&&(s=ne.exec(e)))if(o=s[1]){if(9===u){if(!(i=t.getElementById(o)))return r;if(i.id===o)return r.push(i),r}else if(l&&(i=l.getElementById(o))&&z(t,i)&&i.id===o)return r.push(i),r}else{if(s[2])return B.apply(r,t.getElementsByTagName(e)),r;if((o=s[3])&&fe.getElementsByClassName&&t.getElementsByClassName)return B.apply(r,t.getElementsByClassName(o)),r}if(!(!fe.qsa||P[e+" "]||$&&$.test(e))){if(1!==u){l=t;var c=e}else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(se,le):t.setAttribute("id",a=E),o=(i=ve(e)).length;o--;)i[o]="#"+a+" "+p(i[o]);c=i.join(","),l=oe.test(e)&&f(t.parentNode)||t}if(c)try{return B.apply(r,l.querySelectorAll(c)),r}catch(e){}finally{a===E&&t.removeAttribute("id")}}}return ge(e.replace(W,"$1"),t,r,n)}function r(){var e=[];return function t(r,n){return e.push(r+" ")>me.cacheLength&&delete t[e.shift()],t[r+" "]=n}}function n(e){return e[E]=!0,e}function o(e){var t=S.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function i(e,t){for(var r=(e=e.split("|")).length;r--;)me.attrHandle[e[r]]=t}function a(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function u(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ce(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return n(function(t){return t=+t,n(function(r,n){for(var o,i=e([],r.length,t),a=i.length;a--;)r[o=i[a]]&&(r[o]=!(n[o]=r[o]))})})}function f(e){return e&&void 0!==e.getElementsByTagName&&e}function h(){}function p(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function d(e,t,r){var n=t.dir,o=t.next,i=o||n,a=r&&"parentNode"===i,s=I++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||a)return e(t,r,o);return!1}:function(t,r,l){var u,c=[k,s];if(l){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,r,l))return!0}else for(;t=t[n];)if(1===t.nodeType||a){var f=t[E]||(t[E]={});if(f=f[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=f[i])&&u[0]===k&&u[1]===s)return c[2]=u[2];if(f[i]=c,c[2]=e(t,r,l))return!0}}return!1}}function m(e){return 1<e.length?function(t,r,n){for(var o=e.length;o--;)if(!e[o](t,r,n))return!1;return!0}:e[0]}function v(e,t,r,n,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(r&&!r(i,n,o)||(a.push(i),u&&t.push(s)));return a}function y(e,r,o,i,a,s){return i&&!i[E]&&(i=y(i)),a&&!a[E]&&(a=y(a,s)),n(function(n,s,l,u){var c,f,h=[],p=[],d=s.length;if(!(f=n)){f=r||"*";for(var m=l.nodeType?[l]:l,y=[],g=0,b=m.length;g<b;g++)t(f,m[g],y);f=y}if(f=!e||!n&&r?f:v(f,h,e,l,u),m=o?a||(n?e:d||i)?[]:s:f,o&&o(f,m,l,u),i){var x=v(m,p);for(i(x,[],l,u),l=x.length;l--;)(c=x[l])&&(m[p[l]]=!(f[p[l]]=c))}if(n){if(a||e){if(a){for(x=[],l=m.length;l--;)(c=m[l])&&x.push(f[l]=c);a(null,m=[],x,u)}for(l=m.length;l--;)(c=m[l])&&-1<(x=a?H(n,c):h[l])&&(n[x]=!(s[x]=c))}}else m=v(m===s?m.splice(d,m.length):m),a?a(null,s,m,u):B.apply(s,m)})}function g(e){for(var t,r,n=e.length,o=me.relative[e[0].type],i=o||me.relative[" "],a=o?1:0,s=d(function(e){return e===t},i,!0),l=d(function(e){return-1<H(t,e)},i,!0),u=[function(e,r,n){return e=!o&&(n||r!==w)||((t=r).nodeType?s(e,r,n):l(e,r,n)),t=null,e}];a<n;a++)if(i=me.relative[e[a].type])u=[d(m(u),i)];else{if((i=me.filter[e[a].type].apply(null,e[a].matches))[E]){for(r=++a;r<n&&!me.relative[e[r].type];r++);return y(1<a&&m(u),1<a&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(W,"$1"),i,a<r&&g(e.slice(a,r)),r<n&&g(e=e.slice(r)),r<n&&p(e))}u.push(i)}return m(u)}function b(e,r){var o=0<r.length,i=0<e.length,a=function(n,a,s,l,u){var c,f,h=0,p="0",d=n&&[],m=[],y=w,g=n||i&&me.find.TAG("*",u),b=k+=null==y?1:Math.random()||.1,x=g.length;for(u&&(w=a===S||a||u);p!==x&&null!=(c=g[p]);p++){if(i&&c){var _=0;for(a||c.ownerDocument===S||(pe(c),s=!A);f=e[_++];)if(f(c,a||S,s)){l.push(c);break}u&&(k=b)}o&&((c=!f&&c)&&h--,n&&d.push(c))}if(h+=p,o&&p!==h){for(_=0;f=r[_++];)f(d,m,a,s);if(n){if(0<h)for(;p--;)d[p]||m[p]||(m[p]=q.call(l));m=v(m)}B.apply(l,m),u&&!n&&0<m.length&&1<h+r.length&&t.uniqueSort(l)}return u&&(k=b,w=y),d};return o?n(a):a}var x,w,_,D,S,C,A,$,M,T,z,E="sizzle"+1*new Date,L=e.document,k=0,I=0,O=r(),j=r(),P=r(),N=function(e,t){return e===t&&(D=!0),0},F={}.hasOwnProperty,R=[],q=R.pop,V=R.push,B=R.push,U=R.slice,H=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},G=/[\x20\t\r\n\f]+/g,W=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Y=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,X=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Z=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,K=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,Q=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,J={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ee=/^(?:input|select|textarea|button)$/i,te=/^h\d$/i,re=/^[^{]+\{\s*\[native \w/,ne=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,oe=/[+~]/,ie=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/gi,ae=function(e,t,r){return(e="0x"+t-65536)!=e||r?t:0>e?String.fromCharCode(e+65536):String.fromCharCode(e>>10|55296,1023&e|56320)},se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,le=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ue=function(){pe()},ce=d(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{B.apply(R=U.call(L.childNodes),L.childNodes),R[L.childNodes.length].nodeType}catch(e){B={apply:R.length?function(e,t){V.apply(e,U.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}var fe=t.support={},he=t.isXML=function(e){return!!(e=e&&(e.ownerDocument||e).documentElement)&&"HTML"!==e.nodeName},pe=t.setDocument=function(e){var t;return(e=e?e.ownerDocument||e:L)!==S&&9===e.nodeType&&e.documentElement?(C=(S=e).documentElement,A=!he(S),L!==S&&(t=S.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",ue,!1):t.attachEvent&&t.attachEvent("onunload",ue)),fe.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),fe.getElementsByTagName=o(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),fe.getElementsByClassName=re.test(S.getElementsByClassName),fe.getById=o(function(e){return C.appendChild(e).id=E,!S.getElementsByName||!S.getElementsByName(E).length}),fe.getById?(me.filter.ID=function(e){var t=e.replace(ie,ae);return function(e){return e.getAttribute("id")===t}},me.find.ID=function(e,t){if(void 0!==t.getElementById&&A)return(e=t.getElementById(e))?[e]:[]}):(me.filter.ID=function(e){var t=e.replace(ie,ae);return function(e){return(e=void 0!==e.getAttributeNode&&e.getAttributeNode("id"))&&e.value===t}},me.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var r,n=t.getElementById(e);if(n){if((r=n.getAttributeNode("id"))&&r.value===e)return[n];var o=t.getElementsByName(e);for(t=0;n=o[t++];)if((r=n.getAttributeNode("id"))&&r.value===e)return[n]}return[]}}),me.find.TAG=fe.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):fe.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r=[],n=0;if(t=t.getElementsByTagName(e),"*"===e){for(;e=t[n++];)1===e.nodeType&&r.push(e);return r}return t},me.find.CLASS=fe.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&A)return t.getElementsByClassName(e)},M=[],$=[],(fe.qsa=re.test(S.querySelectorAll))&&(o(function(e){C.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&$.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||$.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),e.querySelectorAll("[id~="+E+"-]").length||$.push("~="),e.querySelectorAll(":checked").length||$.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||$.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=S.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&$.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&$.push(":enabled",":disabled"),C.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&$.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),$.push(",.*:")})),(fe.matchesSelector=re.test(T=C.matches||C.webkitMatchesSelector||C.mozMatchesSelector||C.oMatchesSelector||C.msMatchesSelector))&&o(function(e){fe.disconnectedMatch=T.call(e,"*"),T.call(e,"[s!='']:x"),M.push("!=",":((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),$=$.length&&new RegExp($.join("|")),M=M.length&&new RegExp(M.join("|")),z=(t=re.test(C.compareDocumentPosition))||re.test(C.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e;return e===(t=t&&t.parentNode)||!(!t||1!==t.nodeType||!(r.contains?r.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return D=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!fe.sortDetached&&t.compareDocumentPosition(e)===r?e===S||e.ownerDocument===L&&z(L,e)?-1:t===S||t.ownerDocument===L&&z(L,t)?1:_?H(_,e)-H(_,t):0:4&r?-1:1)}:function(e,t){if(e===t)return D=!0,0;var r=0,n=e.parentNode,o=t.parentNode,i=[e],s=[t];if(!n||!o)return e===S?-1:t===S?1:n?-1:o?1:_?H(_,e)-H(_,t):0;if(n===o)return a(e,t);for(;e=e.parentNode;)i.unshift(e);for(e=t;e=e.parentNode;)s.unshift(e);for(;i[r]===s[r];)r++;return r?a(i[r],s[r]):i[r]===L?-1:s[r]===L?1:0},S):S};t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if((e.ownerDocument||e)!==S&&pe(e),r=r.replace(Z,"='$1']"),!(!fe.matchesSelector||!A||P[r+" "]||M&&M.test(r)||$&&$.test(r)))try{var n=T.call(e,r);if(n||fe.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<t(r,S,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!==S&&pe(e),z(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==S&&pe(e);var r=me.attrHandle[t.toLowerCase()];return void 0!==(r=r&&F.call(me.attrHandle,t.toLowerCase())?r(e,t,!A):void 0)?r:fe.attributes||!A?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(se,le)},t.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],n=0,o=0;if(D=!fe.detectDuplicates,_=!fe.sortStable&&e.slice(0),e.sort(N),D){for(;t=e[o++];)t===e[o]&&(n=r.push(o));for(;n--;)e.splice(r[n],1)}return _=null,e};var de=t.getText=function(e){var t="",r=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=de(e)}else if(3===n||4===n)return e.nodeValue}else for(;n=e[r++];)t+=de(n);return t},me=t.selectors={cacheLength:50,createPseudo:n,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ie,ae),e[3]=(e[3]||e[4]||e[5]||"").replace(ie,ae),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&K.test(r)&&(t=ve(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ie,ae).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=O[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"),O(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,r,n){return function(o){return null==(o=t.attr(o,e))?"!="===r:!r||(o+="","="===r?o===n:"!="===r?o!==n:"^="===r?n&&0===o.indexOf(n):"*="===r?n&&-1<o.indexOf(n):"$="===r?n&&o.slice(-n.length)===n:"~="===r?-1<(" "+o.replace(G," ")+" ").indexOf(n):"|="===r&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,r,n,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,r,l){var u,c;r=i!==a?"nextSibling":"previousSibling";var f=t.parentNode,h=s&&t.nodeName.toLowerCase();l=!l&&!s;var p=!1;if(f){if(i){for(;r;){for(u=t;u=u[r];)if(s?u.nodeName.toLowerCase()===h:1===u.nodeType)return!1;var d=r="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?f.firstChild:f.lastChild],a&&l){var m=(u=f)[E]||(u[E]={});for(p=(c=(p=(m=m[u.uniqueID]||(m[u.uniqueID]={}))[e]||[])[0]===k&&p[1])&&p[2],u=c&&f.childNodes[c];u=++c&&u&&u[r]||(p=c=0)||d.pop();)if(1===u.nodeType&&++p&&u===t){m[e]=[k,c,p];break}}else if(l&&(p=c=(p=(m=(m=(u=t)[E]||(u[E]={}))[u.uniqueID]||(m[u.uniqueID]={}))[e]||[])[0]===k&&p[1]),!1===p)for(;(u=++c&&u&&u[r]||(p=c=0)||d.pop())&&((s?u.nodeName.toLowerCase()!==h:1!==u.nodeType)||!++p||(l&&((m=(m=u[E]||(u[E]={}))[u.uniqueID]||(m[u.uniqueID]={}))[e]=[k,p]),u!==t)););return(p-=o)===n||0==p%n&&0<=p/n}}},PSEUDO:function(e,r){var o=me.pseudos[e]||me.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);if(o[E])return o(r);if(1<o.length){var i=[e,e,"",r];return me.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,i=o(e,r),a=i.length;a--;)e[n=H(e,i[a])]=!(t[n]=i[a])}):function(e){return o(e,0,i)}}return o}},pseudos:{not:n(function(e){var t=[],r=[],o=ye(e.replace(W,"$1"));return o[E]?n(function(e,t,r,n){n=o(e,null,n,[]);for(var i=e.length;i--;)(r=n[i])&&(e[i]=!(t[i]=r))}):function(e,n,i){return t[0]=e,o(t,null,i,r),t[0]=null,!r.pop()}}),has:n(function(e){return function(r){return 0<t(e,r).length}}),contains:n(function(e){return e=e.replace(ie,ae),function(t){return-1<(t.textContent||t.innerText||de(t)).indexOf(e)}}),lang:n(function(e){return Q.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ie,ae).toLowerCase(),function(t){var r;do{if(r=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===C},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!me.pseudos.empty(e)},header:function(e){return te.test(e.nodeName)},input:function(e){return ee.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,r){return[0>r?r+t:r]}),even:c(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:c(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:c(function(e,t,r){for(t=0>r?r+t:r;0<=--t;)e.push(t);return e}),gt:c(function(e,t,r){for(r=0>r?r+t:r;++r<t;)e.push(r);return e})}};for(x in me.pseudos.nth=me.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})me.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})me.pseudos[x]=l(x);h.prototype=me.filters=me.pseudos,me.setFilters=new h;var ve=t.tokenize=function(e,r){var n,o,i,a,s;if(a=j[e+" "])return r?0:a.slice(0);a=e;var l=[];for(s=me.preFilter;a;){u&&!(n=Y.exec(a))||(n&&(a=a.slice(n[0].length)||a),l.push(o=[]));var u=!1;for(i in(n=X.exec(a))&&(u=n.shift(),o.push({value:u,type:n[0].replace(W," ")}),a=a.slice(u.length)),me.filter)!(n=J[i].exec(a))||s[i]&&!(n=s[i](n))||(u=n.shift(),o.push({value:u,type:i,matches:n}),a=a.slice(u.length));if(!u)break}return r?a.length:a?t.error(e):j(e,l).slice(0)},ye=t.compile=function(e,t){var r,n=[],o=[],i=P[e+" "];if(!i){for(t||(t=ve(e)),r=t.length;r--;)(i=g(t[r]))[E]?n.push(i):o.push(i);(i=P(e,b(o,n))).selector=e}return i},ge=t.select=function(e,t,r,n){var o,i,a,s="function"==typeof e&&e,l=!n&&ve(e=s.selector||e);if(r=r||[],1===l.length){var u=l[0]=l[0].slice(0);if(2<u.length&&"ID"===(i=u[0]).type&&9===t.nodeType&&A&&me.relative[u[1].type]){if(!(t=(me.find.ID(i.matches[0].replace(ie,ae),t)||[])[0]))return r;s&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=J.needsContext.test(e)?0:u.length;o--&&(i=u[o],!me.relative[a=i.type]);)if((a=me.find[a])&&(n=a(i.matches[0].replace(ie,ae),oe.test(u[0].type)&&f(t.parentNode)||t))){if(u.splice(o,1),!(e=n.length&&p(u)))return B.apply(r,n),r;break}}return(s||ye(e,l))(n,t,!A,r,!t||oe.test(e)&&f(t.parentNode)||t),r};return fe.sortStable=E.split("").sort(N).join("")===E,fe.detectDuplicates=!!D,pe(),fe.sortDetached=o(function(e){return 1&e.compareDocumentPosition(S.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),fe.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);ie.find=ce,ie.expr=ce.selectors,ie.expr[":"]=ie.expr.pseudos,ie.uniqueSort=ie.unique=ce.uniqueSort,ie.text=ce.getText,ie.isXMLDoc=ce.isXML,ie.contains=ce.contains,ie.escapeSelector=ce.escape;var fe=function(e,t,r){for(var n=[],o=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ie(e).is(r))break;n.push(e)}return n},he=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},pe=ie.expr.match.needsContext,de=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,me=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ie.find.matchesSelector(n,e)?[n]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,r=this.length,n=this;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<r;t++)if(ie.contains(n[t],this))return!0}));var o=this.pushStack([]);for(t=0;t<r;t++)ie.find(e,n[t],o);return 1<r?ie.uniqueSort(o):o},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&pe.test(e)?ie(e):e||[],!1).length}});var ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ie.fn.init=function(e,t,r){if(!e)return this;if(r=r||ye,"string"==typeof e){var n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:ve.exec(e);if(!n||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:W,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n])}else(e=W.getElementById(n[2]))&&(this[0]=e,this.length=1);return this}return e.nodeType?(this[0]=e,this.length=1,this):ie.isFunction(e)?void 0!==r.ready?r.ready(e):e(ie):ie.makeArray(e,this)}).prototype=ie.fn;var ye=ie(W),ge=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};ie.fn.extend({has:function(e){var t=ie(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(ie.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,o=this.length,i=[],a="string"!=typeof e&&ie(e);if(!pe.test(e))for(;n<o;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(11>r.nodeType&&(a?-1<a.index(r):1===r.nodeType&&ie.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(1<i.length?ie.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?Q.call(ie(e),this[0]):Q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.uniqueSort(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return fe(e,"parentNode")},parentsUntil:function(e,t,r){return fe(e,"parentNode",r)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return fe(e,"nextSibling")},prevAll:function(e){return fe(e,"previousSibling")},nextUntil:function(e,t,r){return fe(e,"nextSibling",r)},prevUntil:function(e,t,r){return fe(e,"previousSibling",r)},siblings:function(e){return he((e.parentNode||{}).firstChild,e)},children:function(e){return he(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),ie.merge([],e.childNodes))}},function(e,t){ie.fn[e]=function(r,n){var o=ie.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(o=ie.filter(n,o)),1<this.length&&(be[e]||ie.uniqueSort(o),ge.test(e)&&o.reverse()),this.pushStack(o)}});var xe=/[^\x20\t\r\n\f]+/g;ie.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return ie.each(e.match(xe)||[],function(e,r){t[r]=!0}),t}(e):ie.extend({},e);var t,r,n,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,n=t=!0;a.length;s=-1)for(r=a.shift();++s<i.length;)!1===i[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=i.length,r=!1);e.memory||(r=!1),t=!1,o&&(i=r?[]:"")},u={add:function(){return i&&(r&&!t&&(s=i.length-1,a.push(r)),function t(r){ie.each(r,function(r,n){ie.isFunction(n)?e.unique&&u.has(n)||i.push(n):n&&n.length&&"string"!==ie.type(n)&&t(n)})}(arguments),r&&!t&&l()),this},remove:function(){return ie.each(arguments,function(e,t){for(var r;-1<(r=ie.inArray(t,i,r));)i.splice(r,1),r<=s&&s--}),this},has:function(e){return e?-1<ie.inArray(e,i):0<i.length},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=r="",this},disabled:function(){return!i},lock:function(){return o=a=[],r||t||(i=r=""),this},locked:function(){return!!o},fireWith:function(e,r){return o||(r=[e,(r=r||[]).slice?r.slice():r],a.push(r),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},ie.extend({Deferred:function(t){var r=[["notify","progress",ie.Callbacks("memory"),ie.Callbacks("memory"),2],["resolve","done",ie.Callbacks("once memory"),ie.Callbacks("once memory"),0,"resolved"],["reject","fail",ie.Callbacks("once memory"),ie.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return ie.Deferred(function(t){ie.each(r,function(r,n){var o=ie.isFunction(e[n[4]])&&e[n[4]];i[n[1]](function(){var e=o&&o.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,n,o){function i(t,r,n,o){return function(){var u=this,c=arguments,f=function(){if(!(t<a)){var e=n.apply(u,c);if(e===r.promise())throw new TypeError("Thenable self-resolution");var f=e&&("object"==typeof e||"function"==typeof e)&&e.then;ie.isFunction(f)?o?f.call(e,i(a,r,s,o),i(a,r,l,o)):(a++,f.call(e,i(a,r,s,o),i(a,r,l,o),i(a,r,s,r.notifyWith))):(n!==s&&(u=void 0,c=[e]),(o||r.resolveWith)(u,c))}},h=o?f:function(){try{f()}catch(e){ie.Deferred.exceptionHook&&ie.Deferred.exceptionHook(e,h.stackTrace),t+1>=a&&(n!==l&&(u=void 0,c=[e]),r.rejectWith(u,c))}};t?h():(ie.Deferred.getStackHook&&(h.stackTrace=ie.Deferred.getStackHook()),e.setTimeout(h))}}var a=0;return ie.Deferred(function(e){r[0][3].add(i(0,e,ie.isFunction(o)?o:s,e.notifyWith)),r[1][3].add(i(0,e,ie.isFunction(t)?t:s)),r[2][3].add(i(0,e,ie.isFunction(n)?n:l))}).promise()},promise:function(e){return null!=e?ie.extend(e,o):o}},i={};return ie.each(r,function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add(function(){n=s},r[3-e][2].disable,r[0][2].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,r=t,n=Array(r),o=X.call(arguments),i=ie.Deferred(),a=function(e){return function(r){n[e]=this,o[e]=1<arguments.length?X.call(arguments):r,--t||i.resolveWith(n,o)}};if(1>=t&&(u(e,i.done(a(r)).resolve,i.reject,!t),"pending"===i.state()||ie.isFunction(o[r]&&o[r].then)))return i.then();for(;r--;)u(o[r],a(r),i.reject);return i.promise()}});var we=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ie.Deferred.exceptionHook=function(t,r){e.console&&e.console.warn&&t&&we.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},ie.readyException=function(t){e.setTimeout(function(){throw t})};var _e=ie.Deferred();ie.fn.ready=function(e){return _e.then(e).catch(function(e){ie.readyException(e)}),this},ie.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ie.readyWait:ie.isReady)||(ie.isReady=!0,!0!==e&&0<--ie.readyWait||_e.resolveWith(W,[ie]))}}),ie.ready.then=_e.then,"complete"===W.readyState||"loading"!==W.readyState&&!W.documentElement.doScroll?e.setTimeout(ie.ready):(W.addEventListener("DOMContentLoaded",c),e.addEventListener("load",c));var De=function(e,t,r,n,o,i,a){var s=0,l=e.length,u=null==r;if("object"===ie.type(r))for(s in o=!0,r)De(e,t,s,r[s],!0,i,a);else if(void 0!==n&&(o=!0,ie.isFunction(n)||(a=!0),u&&(a?(t.call(e,n),t=null):(u=t,t=function(e,t,r){return u.call(ie(e),r)})),t))for(;s<l;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return o?e:u?t.call(e):l?t(e[0],r):i},Se=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Se(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n;if(e=this.cache(e),"string"==typeof t)e[ie.camelCase(t)]=r;else for(n in t)e[ie.camelCase(n)]=t[n];return e},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie.camelCase(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t)for((Array.isArray(t)?t=t.map(ie.camelCase):t=(t=ie.camelCase(t))in n?[t]:t.match(xe)||[],r=t.length);r--;)delete n[t[r]];(void 0===t||ie.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){return void 0!==(e=e[this.expando])&&!ie.isEmptyObject(e)}};var Ce=new f,Ae=new f,$e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Me=/[A-Z]/g;ie.extend({hasData:function(e){return Ae.hasData(e)||Ce.hasData(e)},data:function(e,t,r){return Ae.access(e,t,r)},removeData:function(e,t){Ae.remove(e,t)},_data:function(e,t,r){return Ce.access(e,t,r)},_removeData:function(e,t){Ce.remove(e,t)}}),ie.fn.extend({data:function(e,t){var r,n=this[0],o=n&&n.attributes;if(void 0===e){if(this.length){var i=Ae.get(n);if(1===n.nodeType&&!Ce.get(n,"hasDataAttrs")){for(r=o.length;r--;)if(o[r]){var a=o[r].name;0===a.indexOf("data-")&&(a=ie.camelCase(a.slice(5)),h(n,a,i[a]))}Ce.set(n,"hasDataAttrs",!0)}}return i}return"object"==typeof e?this.each(function(){Ae.set(this,e)}):De(this,function(t){if(n&&void 0===t){var r=Ae.get(n,e);if(void 0!==r)return r;if(void 0!==(r=h(n,e)))return r}else this.each(function(){Ae.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Ae.remove(this,e)})}}),ie.extend({queue:function(e,t,r){if(e){t=(t||"fx")+"queue";var n=Ce.get(e,t);return r&&(!n||Array.isArray(r)?n=Ce.access(e,t,ie.makeArray(r)):n.push(r)),n||[]}},dequeue:function(e,t){t=t||"fx";var r=ie.queue(e,t),n=r.length,o=r.shift(),i=ie._queueHooks(e,t);"inprogress"===o&&(o=r.shift(),n--),o&&("fx"===t&&r.unshift("inprogress"),delete i.stop,o.call(e,function(){ie.dequeue(e,t)},i)),!n&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return Ce.get(e,r)||Ce.access(e,r,{empty:ie.Callbacks("once memory").add(function(){Ce.remove(e,[t+"queue",r])})})}}),ie.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?ie.queue(this[0],e):void 0===t?this:this.each(function(){var r=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,o=ie.Deferred(),i=this,a=this.length,s=function(){--n||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=Ce.get(i[a],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),o.promise(t)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),Ee=["Top","Right","Bottom","Left"],Le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie.contains(e.ownerDocument,e)&&"none"===ie.css(e,"display")},ke=function(e,t,r,n){var o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=r.apply(e,n||[]),t)e.style[o]=i[o];return r},Ie={};ie.fn.extend({show:function(){return d(this,!0)},hide:function(){return d(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Le(this)?ie(this).show():ie(this).hide()})}});var Oe=/^(?:checkbox|radio)$/i,je=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Pe=/^$|\/(?:java|ecma)script/i,Ne={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ne.optgroup=Ne.option,Ne.tbody=Ne.tfoot=Ne.colgroup=Ne.caption=Ne.thead,Ne.th=Ne.td;var Fe=/<|&#?\w+;/;!function(){var e=W.createDocumentFragment().appendChild(W.createElement("div")),t=W.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),oe.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",oe.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Re=W.documentElement,qe=/^key/,Ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Be=/^([^.]*)(?:\.(.+)|)/;ie.event={global:{},add:function(e,t,r,n,o){var i,a,s,l,u;if(s=Ce.get(e)){if(r.handler){var c=r;r=c.handler,o=c.selector}for(o&&ie.find.matchesSelector(Re,o),r.guid||(r.guid=ie.guid++),(a=s.events)||(a=s.events={}),(i=s.handle)||(i=s.handle=function(t){return void 0!==ie&&ie.event.triggered!==t.type?ie.event.dispatch.apply(e,arguments):void 0}),s=(t=(t||"").match(xe)||[""]).length;s--;){var f=Be.exec(t[s])||[],h=l=f[1],p=(f[2]||"").split(".").sort();h&&(f=ie.event.special[h]||{},h=(o?f.delegateType:f.bindType)||h,f=ie.event.special[h]||{},l=ie.extend({type:h,origType:l,data:n,handler:r,guid:r.guid,selector:o,needsContext:o&&ie.expr.match.needsContext.test(o),namespace:p.join(".")},c),(u=a[h])||((u=a[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,n,p,i)||e.addEventListener&&e.addEventListener(h,i)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=r.guid)),o?u.splice(u.delegateCount++,0,l):u.push(l),ie.event.global[h]=!0)}}},remove:function(e,t,r,n,o){var i,a,s,l,u,c=Ce.hasData(e)&&Ce.get(e);if(c&&(s=c.events)){for(l=(t=(t||"").match(xe)||[""]).length;l--;){var f=Be.exec(t[l])||[],h=u=f[1],p=(f[2]||"").split(".").sort();if(h){var d=ie.event.special[h]||{},m=s[h=(n?d.delegateType:d.bindType)||h]||[];for(f=f[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=m.length;i--;){var v=m[i];!o&&u!==v.origType||r&&r.guid!==v.guid||f&&!f.test(v.namespace)||n&&n!==v.selector&&("**"!==n||!v.selector)||(m.splice(i,1),v.selector&&m.delegateCount--,d.remove&&d.remove.call(e,v))}a&&!m.length&&(d.teardown&&!1!==d.teardown.call(e,p,c.handle)||ie.removeEvent(e,h,c.handle),delete s[h])}else for(h in s)ie.event.remove(e,h+t[l],r,n,!0)}ie.isEmptyObject(s)&&Ce.remove(e,"handle events")}},dispatch:function(e){var t,r,n,o=ie.event.fix(e),i=Array(arguments.length),a=(Ce.get(this,"events")||{})[o.type]||[],s=ie.event.special[o.type]||{};for(i[0]=o,t=1;t<arguments.length;t++)i[t]=arguments[t];if(o.delegateTarget=this,!s.preDispatch||!1!==s.preDispatch.call(this,o)){var l=ie.event.handlers.call(this,o,a);for(t=0;(n=l[t++])&&!o.isPropagationStopped();)for(o.currentTarget=n.elem,a=0;(r=n.handlers[a++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(r.namespace)||(o.handleObj=r,o.data=r.data,void 0!==(r=((ie.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,i))&&!1===(o.result=r)&&(o.preventDefault(),o.stopPropagation()));return s.postDispatch&&s.postDispatch.call(this,o),o.result}},handlers:function(e,t){var r,n=[],o=t.delegateCount,i=e.target;if(o&&i.nodeType&&!("click"===e.type&&1<=e.button))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&("click"!==e.type||!0!==i.disabled)){var a=[],s={};for(r=0;r<o;r++){var l=t[r],u=l.selector+" ";void 0===s[u]&&(s[u]=l.needsContext?-1<ie(u,this).index(i):ie.find(u,this,null,[i]).length),s[u]&&a.push(l)}a.length&&n.push({elem:i,handlers:a})}return o<t.length&&n.push({elem:this,handlers:t.slice(o)}),n},addProp:function(e,t){Object.defineProperty(ie.Event.prototype,e,{enumerable:!0,configurable:!0,get:ie.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ie.expando]?e:new ie.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ie.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},ie.Event=function(e,t){if(!(this instanceof ie.Event))return new ie.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?g:b,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),this[ie.expando]=!0},ie.Event.prototype={constructor:ie.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=g,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=g,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=g,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&qe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ve.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ie.event.addProp),ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r=e.relatedTarget,n=e.handleObj;if(!r||r!==this&&!ie.contains(this,r)){e.type=n.origType;var o=n.handler.apply(this,arguments);e.type=t}return o}}}),ie.fn.extend({on:function(e,t,r,n){return w(this,e,t,r,n)},one:function(e,t,r,n){return w(this,e,t,r,n,1)},off:function(e,t,r){if(e&&e.preventDefault&&e.handleObj){var n=e.handleObj;return ie(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this}if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=b),this.each(function(){ie.event.remove(this,e,r,t)})}});var Ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,He=/<script|<style|<link/i,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,We=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ie.extend({htmlPrefilter:function(e){return e.replace(Ue,"<$1></$2>")},clone:function(e,t,r){var n,o=e.cloneNode(!0),i=ie.contains(e.ownerDocument,e);if(!(oe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e))){var a=m(o),s=m(e),l=0;for(n=s.length;l<n;l++){var u=s[l],c=a[l],f=c.nodeName.toLowerCase();"input"===f&&Oe.test(u.type)?c.checked=u.checked:"input"!==f&&"textarea"!==f||(c.defaultValue=u.defaultValue)}}if(t)if(r)for(s=s||m(e),a=a||m(o),l=0,n=s.length;l<n;l++)C(s[l],a[l]);else C(e,o);return 0<(a=m(o,"script")).length&&v(a,!i&&m(e,"script")),o},cleanData:function(e){for(var t,r,n,o=ie.event.special,i=0;void 0!==(r=e[i]);i++)if(Se(r)){if(t=r[Ce.expando]){if(t.events)for(n in t.events)o[n]?ie.event.remove(r,n):ie.removeEvent(r,n,t.handle);r[Ce.expando]=void 0}r[Ae.expando]&&(r[Ae.expando]=void 0)}}}),ie.fn.extend({detach:function(e){return $(this,e,!0)},remove:function(e){return $(this,e)},text:function(e){return De(this,function(e){return void 0===e?ie.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return A(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||_(this,e).appendChild(e)})},prepend:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ie.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!He.test(e)&&!Ne[(je.exec(e)||["",""])[1].toLowerCase()]){e=ie.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(ie.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return A(this,arguments,function(t){var r=this.parentNode;0>ie.inArray(this,e)&&(ie.cleanData(m(this)),r&&r.replaceChild(t,this))},e)}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var r=[],n=ie(e),o=n.length-1,i=0;i<=o;i++)e=i===o?this:this.clone(!0),ie(n[i])[t](e),K.apply(r,e.get());return this.pushStack(r)}});var Xe=/^margin/,Ze=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),Ke=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=e),r.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Re.appendChild(a);var t=e.getComputedStyle(s);r="1%"!==t.top,i="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",o="4px"===t.marginRight,Re.removeChild(a),s=null}}var r,n,o,i,a=W.createElement("div"),s=W.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",oe.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ie.extend(oe,{pixelPosition:function(){return t(),r},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),i}}))}();var Qe=/^(none|table(?!-c[ea]).+)/,Je=/^--/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},rt=["Webkit","Moz","ms"],nt=W.createElement("div").style;ie.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(e=M(e,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i=ie.camelCase(t),a=Je.test(t),s=e.style;a||(t=z(i));var l=ie.cssHooks[t]||ie.cssHooks[i];if(void 0===r)return l&&"get"in l&&void 0!==(o=l.get(e,!1,n))?o:s[t];var u=typeof r;"string"===u&&(o=ze.exec(r))&&o[1]&&(r=p(e,t,o),u="number"),null!=r&&r==r&&("number"===u&&(r+=o&&o[3]||(ie.cssNumber[i]?"":"px")),oe.clearCloneStyle||""!==r||0!==t.indexOf("background")||(s[t]="inherit"),l&&"set"in l&&void 0===(r=l.set(e,r,n))||(a?s.setProperty(t,r):s[t]=r))}},css:function(e,t,r,n){var o,i=ie.camelCase(t);return Je.test(t)||(t=z(i)),(i=ie.cssHooks[t]||ie.cssHooks[i])&&"get"in i&&(o=i.get(e,!0,r)),void 0===o&&(o=M(e,t,n)),"normal"===o&&t in tt&&(o=tt[t]),""===r||r?(e=parseFloat(o),!0===r||isFinite(e)?e||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,r,n){if(r)return!Qe.test(ie.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?k(e,t,n):ke(e,et,function(){return k(e,t,n)})},set:function(e,r,n){var o,i=n&&Ke(e);return(n=n&&L(e,t,n,"border-box"===ie.css(e,"boxSizing",!1,i),i))&&(o=ze.exec(r))&&"px"!==(o[3]||"px")&&(e.style[t]=r,r=ie.css(e,t)),E(e,r,n)}}}),ie.cssHooks.marginLeft=T(oe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(M(e,"marginLeft"))||e.getBoundingClientRect().left-ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(r){var n=0,o={};for(r="string"==typeof r?r.split(" "):[r];4>n;n++)o[e+Ee[n]+t]=r[n]||r[n-2]||r[0];return o}},Xe.test(e)||(ie.cssHooks[e+t].set=E)}),ie.fn.extend({css:function(e,t){return De(this,function(e,t,r){var n,o={},i=0;if(Array.isArray(t)){for(r=Ke(e),n=t.length;i<n;i++)o[t[i]]=ie.css(e,t[i],!1,r);return o}return void 0!==r?ie.style(e,t,r):ie.css(e,t)},e,t,1<arguments.length)}}),ie.Tween=I,I.prototype={constructor:I,init:function(e,t,r,n,o,i){this.elem=e,this.prop=r,this.easing=o||ie.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=i||(ie.cssNumber[r]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,r=I.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=ie.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ie.cssProps[e.prop]]&&!ie.cssHooks[e.prop]?e.elem[e.prop]=e.now:ie.style(e.elem,e.prop,e.now+e.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ie.fx=I.prototype.init,ie.fx.step={};var ot,it,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;ie.Animation=ie.extend(F,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return p(r.elem,e,ze.exec(t),r),r}]},tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.match(xe);for(var r,n=0,o=e.length;n<o;n++)r=e[n],F.tweeners[r]=F.tweeners[r]||[],F.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,o="width"in t||"height"in t,i=this,a={},s=e.style,l=e.nodeType&&Le(e),u=Ce.get(e,"fxshow");if(!r.queue){var c=ie._queueHooks(e,"fx");if(null==c.unqueued){c.unqueued=0;var f=c.empty.fire;c.empty.fire=function(){c.unqueued||f()}}c.unqueued++,i.always(function(){i.always(function(){c.unqueued--,ie.queue(e,"fx").length||c.empty.fire()})})}for(n in t){var h=t[n];if(at.test(h)){delete t[n];var p=p||"toggle"===h;if(h===(l?"hide":"show")){if("show"!==h||!u||void 0===u[n])continue;l=!0}a[n]=u&&u[n]||ie.style(e,n)}}if((t=!ie.isEmptyObject(t))||!ie.isEmptyObject(a)){if(o&&1===e.nodeType){r.overflow=[s.overflow,s.overflowX,s.overflowY];var m=u&&u.display;null==m&&(m=Ce.get(e,"display")),"none"===(o=ie.css(e,"display"))&&(m?o=m:(d([e],!0),m=e.style.display||m,o=ie.css(e,"display"),d([e]))),("inline"===o||"inline-block"===o&&null!=m)&&"none"===ie.css(e,"float")&&(t||(i.done(function(){s.display=m}),null==m&&(o=s.display,m="none"===o?"":o)),s.display="inline-block")}for(n in r.overflow&&(s.overflow="hidden",i.always(function(){s.overflow=r.overflow[0],s.overflowX=r.overflow[1],s.overflowY=r.overflow[2]})),t=!1,a)t||(u?"hidden"in u&&(l=u.hidden):u=Ce.access(e,"fxshow",{display:m}),p&&(u.hidden=!l),l&&d([e],!0),i.done(function(){for(n in l||d([e]),Ce.remove(e,"fxshow"),a)ie.style(e,n,a[n])})),t=N(l?u[n]:0,n,i),n in u||(u[n]=t.start,l&&(t.end=t.start,t.start=0))}}],prefilter:function(e,t){t?F.prefilters.unshift(e):F.prefilters.push(e)}}),ie.speed=function(e,t,r){var n=e&&"object"==typeof e?ie.extend({},e):{complete:r||!r&&t||ie.isFunction(e)&&e,duration:e,easing:r&&t||t&&!ie.isFunction(t)&&t};return ie.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration=n.duration in ie.fx.speeds?ie.fx.speeds[n.duration]:ie.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){ie.isFunction(n.old)&&n.old.call(this),n.queue&&ie.dequeue(this,n.queue)},n},ie.fn.extend({fadeTo:function(e,t,r,n){return this.filter(Le).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var o=ie.isEmptyObject(e),i=ie.speed(t,r,n);return(t=function(){var t=F(this,ie.extend({},e),i);(o||Ce.get(this,"finish"))&&t.stop(!0)}).finish=t,o||!1===i.queue?this.each(t):this.queue(i.queue,t)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=ie.timers,a=Ce.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&st.test(o)&&n(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(r),t=!1,i.splice(o,1));!t&&r||ie.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t=Ce.get(this),r=t[e+"queue"],n=t[e+"queueHooks"],o=ie.timers,i=r?r.length:0;for(t.finish=!0,ie.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),n=o.length;n--;)o[n].elem===this&&o[n].queue===e&&(o[n].anim.stop(!0),o.splice(n,1));for(n=0;n<i;n++)r[n]&&r[n].finish&&r[n].finish.call(this);delete t.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var r=ie.fn[t];ie.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(P(t,!0),e,n,o)}}),ie.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),ie.timers=[],ie.fx.tick=function(){var e=0,t=ie.timers;for(ot=ie.now();e<t.length;e++){var r=t[e];r()||t[e]!==r||t.splice(e--,1)}t.length||ie.fx.stop(),ot=void 0},ie.fx.timer=function(e){ie.timers.push(e),ie.fx.start()},ie.fx.interval=13,ie.fx.start=function(){it||(it=!0,O())},ie.fx.stop=function(){it=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(t,r){return t=ie.fx&&ie.fx.speeds[t]||t,this.queue(r||"fx",function(r,n){var o=e.setTimeout(r,t);n.stop=function(){e.clearTimeout(o)}})},function(){var e=W.createElement("input"),t=W.createElement("select").appendChild(W.createElement("option"));e.type="checkbox",oe.checkOn=""!==e.value,oe.optSelected=t.selected,(e=W.createElement("input")).value="t",e.type="radio",oe.radioValue="t"===e.value}();var lt=ie.expr.attrHandle;ie.fn.extend({attr:function(e,t){return De(this,ie.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?ie.prop(e,t,r):(1===i&&ie.isXMLDoc(e)||(o=ie.attrHooks[t.toLowerCase()]||(ie.expr.match.bool.test(t)?ut:void 0)),void 0!==r?null===r?void ie.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:(e.setAttribute(t,r+""),r):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=ie.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!oe.radioValue&&"radio"===t&&o(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r=0,n=t&&t.match(xe);if(n&&1===e.nodeType)for(;t=n[r++];)e.removeAttribute(t)}});var ut={set:function(e,t,r){return!1===t?ie.removeAttr(e,r):e.setAttribute(r,r),r}};ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var r=lt[t]||ie.find.attr;lt[t]=function(e,t,n){var o=t.toLowerCase();if(!n){var i=lt[o];lt[o]=a;var a=null!=r(e,t,n)?o:null;lt[o]=i}return a}});var ct=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return De(this,ie.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ie.propFix[e]||e]})}}),ie.extend({prop:function(e,t,r){var n,o=e.nodeType;if(3!==o&&8!==o&&2!==o){if(1!==o||!ie.isXMLDoc(e)){t=ie.propFix[t]||t;var i=ie.propHooks[t]}return void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]}},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),oe.optSelected||(ie.propHooks.selected={get:function(e){return(e=e.parentNode)&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){(e=e.parentNode)&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ie.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){ie.propFix[this.toLowerCase()]=this}),ie.fn.extend({addClass:function(e){var t,r,n,o,i,a=0;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(xe)||[];r=this[a++];){var s=q(r);if(n=1===r.nodeType&&" "+R(s)+" "){for(i=0;o=t[i++];)0>n.indexOf(" "+o+" ")&&(n+=o+" ");s!==(n=R(n))&&r.setAttribute("class",n)}}return this},removeClass:function(e){var t,r,n,o,i,a=0;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(xe)||[];r=this[a++];){var s=q(r);if(n=1===r.nodeType&&" "+R(s)+" "){for(i=0;o=t[i++];)for(;-1<n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");s!==(n=R(n))&&r.setAttribute("class",n)}}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(r){ie(this).toggleClass(e.call(this,r,q(this),t),t)}):this.each(function(){var t,n;if("string"===r){var o=0,i=ie(this);for(n=e.match(xe)||[];t=n[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t)}else void 0!==e&&"boolean"!==r||((t=q(this))&&Ce.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ce.get(this,"__className__")||""))})},hasClass:function(e){var t,r=0;for(e=" "+e+" ";t=this[r++];)if(1===t.nodeType&&-1<(" "+R(q(t))+" ").indexOf(e))return!0;return!1}});var ht=/\r/g;ie.fn.extend({val:function(e){var t,r,n=this[0];if(arguments.length){var o=ie.isFunction(e);return this.each(function(r){1===this.nodeType&&(null==(r=o?e.call(this,r,ie(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=ie.map(r,function(e){return null==e?"":e+""})),(t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})}if(n)return(t=ie.valHooks[n.type]||ie.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(n,"value"))?r:"string"==typeof(r=n.value)?r.replace(ht,""):null==r?"":r}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:R(ie.text(e))}},select:{get:function(e){var t=e.options,r=e.selectedIndex,n="select-one"===e.type,i=n?null:[],a=n?r+1:t.length;for(e=0>r?a:n?r:0;e<a;e++){var s=t[e];if(!(!s.selected&&e!==r||s.disabled||s.parentNode.disabled&&o(s.parentNode,"optgroup"))){if(s=ie(s).val(),n)return s;i.push(s)}}return i},set:function(e,t){for(var r,n=e.options,o=ie.makeArray(t),i=n.length;i--;)((t=n[i]).selected=-1<ie.inArray(ie.valHooks.option.get(t),o))&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ie.inArray(ie(e).val(),t)}},oe.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var pt=/^(?:focusinfocus|focusoutblur)$/;ie.extend(ie.event,{trigger:function(t,r,n,o){var i,a,s=[n||W],l=te.call(t,"type")?t.type:t,u=te.call(t,"namespace")?t.namespace.split("."):[],c=i=n=n||W;if(3!==n.nodeType&&8!==n.nodeType&&!pt.test(l+ie.event.triggered)){-1<l.indexOf(".")&&(l=(u=l.split(".")).shift(),u.sort());var f=0>l.indexOf(":")&&"on"+l;if((t=t[ie.expando]?t:new ie.Event(l,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=u.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),r=null==r?[t]:ie.makeArray(r,[t]),u=ie.event.special[l]||{},o||!u.trigger||!1!==u.trigger.apply(n,r)){if(!o&&!u.noBubble&&!ie.isWindow(n)){var h=u.delegateType||l;for(pt.test(h+l)||(c=c.parentNode);c;c=c.parentNode)s.push(c),i=c;i===(n.ownerDocument||W)&&s.push(i.defaultView||i.parentWindow||e)}for(i=0;(c=s[i++])&&!t.isPropagationStopped();)t.type=1<i?h:u.bindType||l,(a=(Ce.get(c,"events")||{})[t.type]&&Ce.get(c,"handle"))&&a.apply(c,r),(a=f&&c[f])&&a.apply&&Se(c)&&(t.result=a.apply(c,r),!1===t.result&&t.preventDefault());return t.type=l,o||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(s.pop(),r)||!Se(n)||!f||!ie.isFunction(n[l])||ie.isWindow(n)||((i=n[f])&&(n[f]=null),ie.event.triggered=l,n[l](),ie.event.triggered=void 0,i&&(n[f]=i)),t.result}}},simulate:function(e,t,r){e=ie.extend(new ie.Event,r,{type:e,isSimulated:!0}),ie.event.trigger(e,null,t)}}),ie.fn.extend({trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return ie.event.trigger(e,t,r,!0)}}),ie.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,r){return 0<arguments.length?this.on(t,null,e,r):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),oe.focusin="onfocusin"in e,oe.focusin||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){ie.event.simulate(t,e.target,ie.event.fix(e))};ie.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=Ce.access(n,t);o||n.addEventListener(e,r,!0),Ce.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Ce.access(n,t)-1;o?Ce.access(n,t,o):(n.removeEventListener(e,r,!0),Ce.remove(n,t))}}});var dt=e.location,mt=ie.now(),vt=/\?/;ie.parseXML=function(t){if(!t||"string"!=typeof t)return null;try{var r=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){r=void 0}return r&&!r.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),r};var yt=/\[\]$/,gt=/\r?\n/g,bt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var r,n=[],o=function(e,t){t=ie.isFunction(t)?t():t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)};if(Array.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){o(this.name,this.value)});else for(r in e)V(r,e[r],t,o);return n.join("&")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&xt.test(this.nodeName)&&!bt.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){return null==(e=ie(this).val())?null:Array.isArray(e)?ie.map(e,function(e){return{name:t.name,value:e.replace(gt,"\r\n")}}):{name:t.name,value:e.replace(gt,"\r\n")}}).get()}});var wt=/%20/g,_t=/#.*$/,Dt=/([?&])_=[^&]*/,St=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ct=/^(?:GET|HEAD)$/,At=/^\/\//,$t={},Mt={},Tt="*/".concat("*"),zt=W.createElement("a");zt.href=dt.href,ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,ie.ajaxSettings),t):H(ie.ajaxSettings,e)},ajaxPrefilter:B($t),ajaxTransport:B(Mt),ajax:function(t,r){function n(t,r,n,a){var u=r;if(!w){if(w=!0,s&&e.clearTimeout(s),o=void 0,i=a||"",b.readyState=0<t?4:0,a=200<=t&&300>t||304===t,n){for(var v,y,g,_,D=c,S=b,C=D.contents,A=D.dataTypes;"*"===A[0];)A.shift(),void 0===v&&(v=D.mimeType||S.getResponseHeader("Content-Type"));if(v)for(y in C)if(C[y]&&C[y].test(v)){A.unshift(y);break}if(A[0]in n)g=A[0];else{for(y in n){if(!A[0]||D.converters[y+" "+A[0]]){g=y;break}_||(_=y)}g=g||_}g?(g!==A[0]&&A.unshift(g),D=n[g]):D=void 0}e:{var $;if(v=D,y=b,g=a,S={},(C=(n=c).dataTypes.slice())[1])for(T in n.converters)S[T.toLowerCase()]=n.converters[T];for(_=C.shift();_;){n.responseFields[_]&&(y[n.responseFields[_]]=v),!M&&g&&n.dataFilter&&(v=n.dataFilter(v,n.dataType));var M=_;if(_=C.shift())if("*"===_)_=M;else if("*"!==M&&M!==_){var T=S[M+" "+_]||S["* "+_];if(!T)for($ in S)if((D=$.split(" "))[1]===_&&(T=S[M+" "+D[0]]||S["* "+D[0]])){!0===T?T=S[$]:!0!==S[$]&&(_=D[0],C.unshift(D[1]));break}if(!0!==T)if(T&&n.throws)v=T(v);else try{v=T(v)}catch(e){D={state:"parsererror",error:T?e:"No conversion from "+M+" to "+_};break e}}}D={state:"success",data:v}}if(a)if(c.ifModified&&((u=b.getResponseHeader("Last-Modified"))&&(ie.lastModified[x]=u),(u=b.getResponseHeader("etag"))&&(ie.etag[x]=u)),204===t||"HEAD"===c.type)u="nocontent";else if(304===t)u="notmodified";else{u=D.state;var z=D.data,E=D.error;a=!E}else E=u,(t||!u)&&(u="error",0>t&&(t=0));b.status=t,b.statusText=(r||u)+"",a?p.resolveWith(f,[z,u,b]):p.rejectWith(f,[b,u,E]),b.statusCode(m),m=void 0,l&&h.trigger(a?"ajaxSuccess":"ajaxError",[b,c,a?z:E]),d.fireWith(f,[b,u]),l&&(h.trigger("ajaxComplete",[b,c]),--ie.active||ie.event.trigger("ajaxStop"))}}"object"==typeof t&&(r=t,t=void 0),r=r||{};var o,i,a,s,l,u,c=ie.ajaxSetup({},r),f=c.context||c,h=c.context&&(f.nodeType||f.jquery)?ie(f):ie.event,p=ie.Deferred(),d=ie.Callbacks("once memory"),m=c.statusCode||{},v={},y={},g="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(w){if(!a)for(a={};t=St.exec(i);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return w?i:null},setRequestHeader:function(e,t){return null==w&&(e=y[e.toLowerCase()]=y[e.toLowerCase()]||e,v[e]=t),this},overrideMimeType:function(e){return null==w&&(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(w)b.always(e[b.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){return e=e||g,o&&o.abort(e),n(0,e),this}};if(p.promise(b),c.url=((t||c.url||dt.href)+"").replace(At,dt.protocol+"//"),c.type=r.method||r.type||c.method||c.type,c.dataTypes=(c.dataType||"*").toLowerCase().match(xe)||[""],null==c.crossDomain){t=W.createElement("a");try{t.href=c.url,t.href=t.href,c.crossDomain=zt.protocol+"//"+zt.host!=t.protocol+"//"+t.host}catch(e){c.crossDomain=!0}}if(c.data&&c.processData&&"string"!=typeof c.data&&(c.data=ie.param(c.data,c.traditional)),U($t,c,r,b),w)return b;(l=ie.event&&c.global)&&0==ie.active++&&ie.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Ct.test(c.type);var x=c.url.replace(_t,"");for(u in c.hasContent?c.data&&c.processData&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&(c.data=c.data.replace(wt,"+")):(t=c.url.slice(x.length),c.data&&(x+=(vt.test(x)?"&":"?")+c.data,delete c.data),!1===c.cache&&(x=x.replace(Dt,"$1"),t=(vt.test(x)?"&":"?")+"_="+mt+++t),c.url=x+t),c.ifModified&&(ie.lastModified[x]&&b.setRequestHeader("If-Modified-Since",ie.lastModified[x]),ie.etag[x]&&b.setRequestHeader("If-None-Match",ie.etag[x])),(c.data&&c.hasContent&&!1!==c.contentType||r.contentType)&&b.setRequestHeader("Content-Type",c.contentType),b.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Tt+"; q=0.01":""):c.accepts["*"]),c.headers)b.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(!1===c.beforeSend.call(f,b,c)||w))return b.abort();if(g="abort",d.add(c.complete),b.done(c.success),b.fail(c.error),o=U(Mt,c,r,b)){if(b.readyState=1,l&&h.trigger("ajaxSend",[b,c]),w)return b;c.async&&0<c.timeout&&(s=e.setTimeout(function(){b.abort("timeout")},c.timeout));try{var w=!1;o.send(v,n)}catch(e){if(w)throw e;n(-1,e)}}else n(-1,"No Transport");return b},getJSON:function(e,t,r){return ie.get(e,t,r,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,r,n,o){return ie.isFunction(r)&&(o=o||n,n=r,r=void 0),ie.ajax(ie.extend({url:e,type:t,dataType:o,data:r,success:n},ie.isPlainObject(e)&&e))}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ie.fn.extend({wrapAll:function(e){return this[0]&&(ie.isFunction(e)&&(e=e.call(this[0])),e=ie(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(r){ie(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ie(this).replaceWith(this.childNodes)}),this}}),ie.expr.pseudos.hidden=function(e){return!ie.expr.pseudos.visible(e)},ie.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ie.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Et={0:200,1223:204},Lt=ie.ajaxSettings.xhr();oe.cors=!!Lt&&"withCredentials"in Lt,oe.ajax=Lt=!!Lt,ie.ajaxTransport(function(t){var r,n;if(oe.cors||Lt&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);r=function(e){return function(){r&&(r=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Et[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=r(),n=s.onerror=r("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){r&&n()})},r=r("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),ie.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ie.ajaxTransport("script",function(e){var t,r;if(e.crossDomain)return{send:function(n,o){t=ie("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&o("error"===e.type?404:200,e.type)}),W.head.appendChild(t[0])},abort:function(){r&&r()}}});var kt=[],It=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=kt.pop()||ie.expando+"_"+mt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,r,n){var o,i=!1!==t.jsonp&&(It.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&It.test(t.data)&&"data");if(i||"jsonp"===t.dataTypes[0]){var a=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;i?t[i]=t[i].replace(It,"$1"+a):!1!==t.jsonp&&(t.url+=(vt.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||ie.error(a+" was not called"),o[0]},t.dataTypes[0]="json";var s=e[a];return e[a]=function(){o=arguments},n.always(function(){void 0===s?ie(e).removeProp(a):e[a]=s,t[a]&&(t.jsonpCallback=r.jsonpCallback,kt.push(a)),o&&ie.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}}),oe.createHTMLDocument=function(){var e=W.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ie.parseHTML=function(e,t,r){if("string"!=typeof e)return[];if("boolean"==typeof t&&(r=t,t=!1),!t)if(oe.createHTMLDocument){var n=(t=W.implementation.createHTMLDocument("")).createElement("base");n.href=W.location.href,t.head.appendChild(n)}else t=W;return n=de.exec(e),r=!r&&[],n?[t.createElement(n[1])]:(n=y([e],t,r),r&&r.length&&ie(r).remove(),ie.merge([],n.childNodes))},ie.fn.load=function(e,t,r){var n,o,i=this,a=e.indexOf(" ");if(-1<a){var s=R(e.slice(a));e=e.slice(0,a)}return ie.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(n="POST"),0<i.length&&ie.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){o=arguments,i.html(s?ie("<div>").append(ie.parseHTML(e)).find(s):e)}).always(r&&function(e,t){i.each(function(){r.apply(this,o||[e.responseText,t,e])})}),this},ie.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.pseudos.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length},ie.offset={setOffset:function(e,t,r){var n=ie.css(e,"position"),o=ie(e),i={};"static"===n&&(e.style.position="relative");var a=o.offset(),s=ie.css(e,"top"),l=ie.css(e,"left");("absolute"===n||"fixed"===n)&&-1<(s+l).indexOf("auto")?(s=(l=o.position()).top,l=l.left):(s=parseFloat(s)||0,l=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,r,ie.extend({},a))),null!=t.top&&(i.top=t.top-a.top+s),null!=t.left&&(i.left=t.left-a.left+l),"using"in t?t.using.call(e,i):o.css(i)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t;if(t=this[0]){if(!t.getClientRects().length)return{top:0,left:0};var r=t.getBoundingClientRect(),n=t.ownerDocument;return t=n.documentElement,n=n.defaultView,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}}},position:function(){if(this[0]){var e=this[0],t={top:0,left:0};if("fixed"===ie.css(e,"position"))var r=e.getBoundingClientRect();else{var n=this.offsetParent();r=this.offset(),o(n[0],"html")||(t=n.offset()),t={top:t.top+ie.css(n[0],"borderTopWidth",!0),left:t.left+ie.css(n[0],"borderLeftWidth",!0)}}return{top:r.top-t.top-ie.css(e,"marginTop",!0),left:r.left-t.left-ie.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||Re})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;ie.fn[e]=function(n){return De(this,function(e,n,o){if(ie.isWindow(e))var i=e;else 9===e.nodeType&&(i=e.defaultView);if(void 0===o)return i?i[t]:e[n];i?i.scrollTo(r?i.pageXOffset:o,r?o:i.pageYOffset):e[n]=o},e,n,arguments.length)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=T(oe.pixelPosition,function(e,r){if(r)return r=M(e,t),Ze.test(r)?ie(e).position()[t]+"px":r})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){ie.fn[n]=function(o,i){var a=arguments.length&&(r||"boolean"!=typeof o),s=r||(!0===o||!0===i?"margin":"border");return De(this,function(t,r,o){return ie.isWindow(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?ie.css(t,r,s):ie.style(t,r,o,s)},t,a?o:void 0,a)}})}),ie.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),ie.holdReady=function(e){e?ie.readyWait++:ie.ready(!0)},ie.isArray=Array.isArray,ie.parseJSON=JSON.parse,ie.nodeName=o,__webpack_require__(1)&&(void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return ie}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));var Ot=e.jQuery,jt=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=jt),t&&e.jQuery===ie&&(e.jQuery=Ot),ie},t||(e.jQuery=e.$=ie),ie});var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var r=0,n={next:function(){if(r<e.length){var o=r++;return{value:t(o,e[o]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3"),function(e,t){!function(e){function t(e,t,r){for(var n=0,o=r.length;n<o;n++){var i=r.charCodeAt(n);if(128>i)e.setUint8(t++,i>>>0&127|0);else if(2048>i)e.setUint8(t++,i>>>6&31|192),e.setUint8(t++,i>>>0&63|128);else if(65536>i)e.setUint8(t++,i>>>12&15|224),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128);else{if(!(1114112>i))throw Error("bad codepoint "+i);e.setUint8(t++,i>>>18&7|240),e.setUint8(t++,i>>>12&63|128),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128)}}}function r(e){for(var t=0,r=0,n=e.length;r<n;r++){var o=e.charCodeAt(r);if(128>o)t+=1;else if(2048>o)t+=2;else if(65536>o)t+=3;else{if(!(1114112>o))throw Error("bad codepoint "+o);t+=4}}return t}function n(e){var n=new ArrayBuffer(function e(t){var n=typeof t;if("string"===n){var o=r(t);if(32>o)return 1+o;if(256>o)return 2+o;if(65536>o)return 3+o;if(4294967296>o)return 5+o}if(t instanceof Uint8Array){if(256>(o=t.byteLength))return 2+o;if(65536>o)return 3+o;if(4294967296>o)return 5+o}if("number"===n){if(Math.floor(t)!==t)return 9;if(0<=t){if(128>t)return 1;if(256>t)return 2;if(65536>t)return 3;if(4294967296>t)return 5;throw Error("Number too big 0x"+t.toString(16))}if(-32<=t)return 1;if(-128<=t)return 2;if(-32768<=t)return 3;if(-2147483648<=t)return 5;throw Error("Number too small -0x"+t.toString(16).substr(1))}if("boolean"===n||null===t)return 1;if("object"===n){if(n=0,Array.isArray(t)){o=t.length;for(var i=0;i<o;i++)n+=e(t[i])}else{var a=Object.keys(t);for(o=a.length,i=0;i<o;i++){var s=a[i];n+=e(s)+e(t[s])}}if(16>o)return 1+n;if(65536>o)return 3+n;if(4294967296>o)return 5+n;throw Error("Array or object too long 0x"+o.toString(16))}throw Error("Unknown type "+n)}(e)),o=new DataView(n);return function e(n,o,i){var a=typeof n;if("string"===a){var s=r(n);if(32>s)return o.setUint8(i,160|s),t(o,i+1,n),1+s;if(256>s)return o.setUint8(i,217),o.setUint8(i+1,s),t(o,i+2,n),2+s;if(65536>s)return o.setUint8(i,218),o.setUint16(i+1,s),t(o,i+3,n),3+s;if(4294967296>s)return o.setUint8(i,219),o.setUint32(i+1,s),t(o,i+5,n),5+s}if(n instanceof Uint8Array){s=n.byteLength;var l=new Uint8Array(o.buffer);if(256>s)return o.setUint8(i,196),o.setUint8(i+1,s),l.set(n,i+2),2+s;if(65536>s)return o.setUint8(i,197),o.setUint16(i+1,s),l.set(n,i+3),3+s;if(4294967296>s)return o.setUint8(i,198),o.setUint32(i+1,s),l.set(n,i+5),5+s}if("number"===a){if(!isFinite(n))throw Error("Number not finite: "+n);if(Math.floor(n)!==n)return o.setUint8(i,203),o.setFloat64(i+1,n),9;if(0<=n){if(128>n)return o.setUint8(i,n),1;if(256>n)return o.setUint8(i,204),o.setUint8(i+1,n),2;if(65536>n)return o.setUint8(i,205),o.setUint16(i+1,n),3;if(4294967296>n)return o.setUint8(i,206),o.setUint32(i+1,n),5;throw Error("Number too big 0x"+n.toString(16))}if(-32<=n)return o.setInt8(i,n),1;if(-128<=n)return o.setUint8(i,208),o.setInt8(i+1,n),2;if(-32768<=n)return o.setUint8(i,209),o.setInt16(i+1,n),3;if(-2147483648<=n)return o.setUint8(i,210),o.setInt32(i+1,n),5;throw Error("Number too small -0x"+(-n).toString(16).substr(1))}if(null===n)return o.setUint8(i,192),1;if("boolean"===a)return o.setUint8(i,n?195:194),1;if("object"===a){if(a=0,l=Array.isArray(n))s=n.length;else{var u=Object.keys(n);s=u.length}if(16>s?(o.setUint8(i,s|(l?144:128)),a=1):65536>s?(o.setUint8(i,l?220:222),o.setUint16(i+1,s),a=3):4294967296>s&&(o.setUint8(i,l?221:223),o.setUint32(i+1,s),a=5),l)for(l=0;l<s;l++)a+=e(n[l],o,i+a);else for(l=0;l<s;l++){var c=u[l];a+=e(c,o,i+a),a+=e(n[c],o,i+a)}return a}throw Error("Unknown type "+a)}(e,o,0),new Uint8Array(n)}function o(e,t,r){return t?new e(t.buffer,t.byteOffset,t.byteLength/(r||1)):void 0}function i(e,t){var r=e.length/2;t||(t=new Int16Array(r));for(var n=0,o=0;n<r;++n,o+=2)t[n]=e[o]<<8^e[o+1]<<0;return t}function a(e,t){var r=e.length/4;t||(t=new Int32Array(r));for(var n=0,o=0;n<r;++n,o+=4)t[n]=e[o]<<24^e[o+1]<<16^e[o+2]<<8^e[o+3]<<0;return t}function s(e,t){var r=e.length;t||(t=new Uint8Array(4*r));for(var n=o(DataView,t),i=0;i<r;++i)n.setInt32(4*i,e[i]);return o(Uint8Array,t)}function l(e,t,r){var n=e.length;t=1/t,r||(r=new Float32Array(n));for(var o=0;o<n;++o)r[o]=e[o]*t;return r}function u(e,t,r){var n=e.length;r||(r=new Int32Array(n));for(var o=0;o<n;++o)r[o]=Math.round(e[o]*t);return r}function c(e,t){var r;if(!t){var n=t=0;for(r=e.length;n<r;n+=2)t+=e[n+1];t=new e.constructor(t)}var o=0;for(n=0,r=e.length;n<r;n+=2)for(var i=e[n],a=e[n+1],s=0;s<a;++s)t[o]=i,++o;return t}function f(e){if(0===e.length)return new Int32Array;var t,r=2,n=1;for(t=e.length;n<t;++n)e[n-1]!==e[n]&&(r+=2);r=new Int32Array(r);var o=0,i=1;for(n=1,t=e.length;n<t;++n)e[n-1]!==e[n]?(r[o]=e[n-1],r[o+1]=i,i=1,o+=2):++i;return r[o]=e[e.length-1],r[o+1]=i,r}function h(e,t){var r=e.length;t||(t=new e.constructor(r)),r&&(t[0]=e[0]);for(var n=1;n<r;++n)t[n]=e[n]+t[n-1];return t}function p(e,t){var r=e.length;t||(t=new e.constructor(r)),t[0]=e[0];for(var n=1;n<r;++n)t[n]=e[n]-e[n-1];return t}function d(e,t){var r,n,o=e instanceof Int8Array?127:32767,i=-o-1,a=e.length;if(!t){for(r=t=0;r<a;++r)e[r]<o&&e[r]>i&&++t;t=new Int32Array(t)}for(n=r=0;r<a;){for(var s=0;e[r]===o||e[r]===i;)s+=e[r],++r;s+=e[r],++r,t[n]=s,++n}return t}function m(e,t,r,n){var o=new ArrayBuffer(12+n.byteLength),i=new Uint8Array(o);return(o=new DataView(o)).setInt32(0,e),o.setInt32(4,t),r&&i.set(r,8),i.set(n,12),i}function v(e){var t=e.length;return e=o(Uint8Array,e),m(2,t,void 0,e)}function y(e){var t=e.length;return e=s(e),m(4,t,void 0,e)}function g(e,t){var r=e.length/t;return t=s([t]),e=o(Uint8Array,e),m(5,r,t,e)}function b(e){var t=e.length;return e=s(f(e)),m(6,t,void 0,e)}function x(e){var t=e.length;return e=s(f(p(e))),m(8,t,void 0,e)}function w(e,t){var r,n=e.length,i=s([t]),a=(t=p(u(e,t),void 0)).length;for(r=e=0;r<a;++r){var l=t[r];0===l?++e:e=32767===l||-32768===l?e+2:0<l?e+Math.ceil(l/32767):e+Math.ceil(l/-32768)}e=new Int16Array(e);var c=0;for(r=0;r<a;++r){if(0<=(l=t[r]))for(;32767<=l;)e[c]=32767,++c,l-=32767;else for(;-32768>=l;)e[c]=-32768,++c,l-=-32768;e[c]=l,++c}for(t=void 0,l=e.length,t||(t=new Uint8Array(2*l)),r=o(DataView,t),a=0;a<l;++a)r.setInt16(2*a,e[a]);return e=o(Uint8Array,t),m(10,n,i,e)}function _(e){var t={};return $.forEach(function(r){void 0!==e[r]&&(t[r]=e[r])}),e.bondAtomList&&(t.bondAtomList=y(e.bondAtomList)),e.bondOrderList&&(t.bondOrderList=v(e.bondOrderList)),t.xCoordList=w(e.xCoordList,1e3),t.yCoordList=w(e.yCoordList,1e3),t.zCoordList=w(e.zCoordList,1e3),e.bFactorList&&(t.bFactorList=w(e.bFactorList,100)),e.atomIdList&&(t.atomIdList=x(e.atomIdList)),e.altLocList&&(t.altLocList=b(e.altLocList)),e.occupancyList&&(t.occupancyList=function(e,t){var r=e.length,n=s([t]);return e=s(f(u(e,t))),m(9,r,n,e)}(e.occupancyList,100)),t.groupIdList=x(e.groupIdList),t.groupTypeList=y(e.groupTypeList),e.secStructList&&(t.secStructList=v(e.secStructList)),e.insCodeList&&(t.insCodeList=b(e.insCodeList)),e.sequenceIndexList&&(t.sequenceIndexList=x(e.sequenceIndexList)),t.chainIdList=g(e.chainIdList,4),e.chainNameList&&(t.chainNameList=g(e.chainNameList,4)),t}function D(e){function t(e){for(var t={},r=0;r<e;r++){var n=i();t[n]=i()}return t}function r(t){var r=e.subarray(a,a+t);return a+=t,r}function n(t){var r=e.subarray(a,a+t);if(a+=t,65535<t){t=[];for(var n=0;n<r.length;n+=65535)t.push(String.fromCharCode.apply(null,r.subarray(n,n+65535)));return t.join("")}return String.fromCharCode.apply(null,r)}function o(e){for(var t=Array(e),r=0;r<e;r++)t[r]=i();return t}function i(){var i=e[a];if(0==(128&i))return a++,i;if(128==(240&i))return a++,t(15&i);if(144==(240&i))return a++,o(15&i);if(160==(224&i))return a++,n(31&i);if(224==(224&i))return i=s.getInt8(a),a++,i;switch(i){case 192:return a++,null;case 194:return a++,!1;case 195:return a++,!0;case 196:return i=s.getUint8(a+1),a+=2,r(i);case 197:return i=s.getUint16(a+1),a+=3,r(i);case 198:return i=s.getUint32(a+1),a+=5,r(i);case 202:return i=s.getFloat32(a+1),a+=5,i;case 203:return i=s.getFloat64(a+1),a+=9,i;case 204:return i=e[a+1],a+=2,i;case 205:return i=s.getUint16(a+1),a+=3,i;case 206:return i=s.getUint32(a+1),a+=5,i;case 208:return i=s.getInt8(a+1),a+=2,i;case 209:return i=s.getInt16(a+1),a+=3,i;case 210:return i=s.getInt32(a+1),a+=5,i;case 217:return i=s.getUint8(a+1),a+=2,n(i);case 218:return i=s.getUint16(a+1),a+=3,n(i);case 219:return i=s.getUint32(a+1),a+=5,n(i);case 220:return i=s.getUint16(a+1),a+=3,o(i);case 221:return i=s.getUint32(a+1),a+=5,o(i);case 222:return i=s.getUint16(a+1),a+=3,t(i);case 223:return i=s.getUint32(a+1),a+=5,t(i)}throw Error("Unknown type 0x"+i.toString(16))}var a=0,s=new DataView(e.buffer);return i()}function S(e,t){var r=(t=t||{}).ignoreFields,n={};return M.forEach(function(t){var s=!!r&&-1!==r.indexOf(t),u=e[t];s||void 0===u||(n[t]=u instanceof Uint8Array?function(e,t,r,n){switch(e){case 1:n=void 0,r=t.length,n||(n=new Float32Array(r/4)),e=o(DataView,n),t=o(DataView,t);var s=0,u=0;for(r/=4;s<r;++s,u+=4)e.setFloat32(u,t.getFloat32(u),!0);return n;case 2:return o(Int8Array,t);case 3:return i(t);case 4:return a(t);case 5:return o(Uint8Array,t);case 6:return c(a(t),new Uint8Array(r));case 7:return c(a(t));case 8:return h(c(n=a(t)),void 0);case 9:return e=a(t),n=a(n)[0],l(c(e,o(Int32Array,void 0,4)),n,void 0);case 10:return e=i(t),n=a(n)[0],e=d(e,o(Int32Array,void 0,4)),t=o(Float32Array,e,4),l(h(e,o(Int32Array,t,4)),n,t);case 11:return l(i(t),a(n)[0]);case 12:return e=i(t),n=a(n)[0],l(d(e,o(Int32Array,void 0,4)),n,void 0);case 13:return e=o(Int8Array,t),n=a(n)[0],l(d(e,o(Int32Array,void 0,4)),n,void 0);case 14:return d(i(t));case 15:return d(o(Int8Array,t))}}.apply(null,function(e){var t=o(DataView,e),r=t.getInt32(0);t=t.getInt32(4);var n=e.subarray(8,12);return e=e.subarray(12),[r,e,t,n]}(u)):u)}),n}function C(e,t){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),S(e=e instanceof Uint8Array?D(e):e,t)}function A(e,t,r,n){var o=new XMLHttpRequest;o.addEventListener("load",function(){try{var e=C(o.response);r(e)}catch(e){n(e)}},!0),o.addEventListener("error",n,!0),o.responseType="arraybuffer",o.open("GET",t+e.toUpperCase()),o.send()}var $="mmtfVersion mmtfProducer unitCell spaceGroup structureId title depositionDate releaseDate experimentalMethods resolution rFree rWork bioAssemblyList ncsOperatorList entityList groupList numBonds numAtoms numGroups numChains numModels groupsPerChain chainsPerModel".split(" "),M=$.concat("xCoordList yCoordList zCoordList groupIdList groupTypeList chainIdList bFactorList atomIdList altLocList occupancyList secStructList insCodeList sequenceIndexList chainNameList bondAtomList bondOrderList".split(" "));e.encode=function(e){return n(_(e))},e.decode=C,e.traverse=function(e,t,r){r=(r=r||{}).firstModelOnly;var n=t.onModel,o=t.onChain,i=t.onGroup,a=t.onAtom;t=t.onBond;var s,l,u=0,c=0,f=0,h=0,p=-1,d=e.chainNameList,m=e.secStructList,v=e.insCodeList,y=e.sequenceIndexList,g=e.atomIdList,b=e.bFactorList,x=e.altLocList,w=e.occupancyList,_=e.bondAtomList,D=e.bondOrderList,S=0;for(l=e.chainsPerModel.length;S<l&&!(r&&0<u);++S){var C=e.chainsPerModel[u];for(n&&n({chainCount:C,modelIndex:u}),s=0;s<C;++s){var A=e.groupsPerChain[c];if(o){var $=String.fromCharCode.apply(null,e.chainIdList.subarray(4*c,4*c+4)).replace(/\0/g,""),M=null;d&&(M=String.fromCharCode.apply(null,d.subarray(4*c,4*c+4)).replace(/\0/g,"")),o({groupCount:A,chainIndex:c,modelIndex:u,chainId:$,chainName:M})}for($=0;$<A;++$){var T=e.groupList[e.groupTypeList[f]],z=T.atomNameList.length;if(i){M=null,m&&(M=m[f]);var E=null;e.insCodeList&&(E=String.fromCharCode(v[f]));var L=null;y&&(L=y[f]),i({atomCount:z,groupIndex:f,chainIndex:c,modelIndex:u,groupId:e.groupIdList[f],groupType:e.groupTypeList[f],groupName:T.groupName,singleLetterCode:T.singleLetterCode,chemCompType:T.chemCompType,secStruct:M,insCode:E,sequenceIndex:L})}for(M=0;M<z;++M){if(a){E=null,g&&(E=g[h]),L=null,b&&(L=b[h]);var k=null;x&&(k=String.fromCharCode(x[h]));var I=null;w&&(I=w[h]),a({atomIndex:h,groupIndex:f,chainIndex:c,modelIndex:u,atomId:E,element:T.elementList[M],atomName:T.atomNameList[M],formalCharge:T.formalChargeList[M],xCoord:e.xCoordList[h],yCoord:e.yCoordList[h],zCoord:e.zCoordList[h],bFactor:L,altLoc:k,occupancy:I})}h+=1}if(t)for(L=T.bondAtomList,M=0,E=T.bondOrderList.length;M<E;++M)t({atomIndex1:h-z+L[2*M],atomIndex2:h-z+L[2*M+1],bondOrder:T.bondOrderList[M]});f+=1}c+=1}if(s=p+1,p=h-1,t&&_)for(M=0,E=_.length;M<E;M+=2)C=_[M],A=_[M+1],(C>=s&&C<=p||A>=s&&A<=p)&&t({atomIndex1:C,atomIndex2:A,bondOrder:D?D[M/2]:null});u+=1}},e.fetch=function(e,t,r){A(e,"http://mmtf.rcsb.org/v1.0/full/",t,r)},e.fetchReduced=function(e,t,r){A(e,"http://mmtf.rcsb.org/v1.0/reduced/",t,r)},e.version="v1.0.0",e.fetchUrl="http://mmtf.rcsb.org/v1.0/full/",e.fetchReducedUrl="http://mmtf.rcsb.org/v1.0/reduced/",e.encodeMsgpack=n,e.encodeMmtf=_,e.decodeMsgpack=D,e.decodeMmtf=S,Object.defineProperty(e,"__esModule",{value:!0})}(e.MMTF=e.MMTF||{})}(this),module.exports=function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return require(a,!0);if(i)return i(a,!0);throw(s=Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}s=r[a]={exports:{}},t[a][0].call(s.exports,function(e){var r=t[a][1][e];return o(r||e)},s,s.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,r,n,o){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),o);else for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){var t,r,n=r=0;for(t=e.length;n<t;n++)r+=e[n].length;var o=new Uint8Array(r);for(n=r=0,t=e.length;n<t;n++){var i=e[n];o.set(i,r),r+=i.length}return o}},o={arraySet:function(e,t,r,n,o){for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(e)},{}],2:[function(e,t,r){function n(e,t){if(65537>t&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}var o=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}var s=new o.Buf8(256);for(e=0;256>e;e++)s[e]=252<=e?6:248<=e?5:240<=e?4:224<=e?3:192<=e?2:1;s[254]=s[254]=1,r.string2buf=function(e){var t,r,n=e.length,i=0;for(t=0;t<n;t++){var a=e.charCodeAt(t);if(55296==(64512&a)&&t+1<n){var s=e.charCodeAt(t+1);56320==(64512&s)&&(a=65536+(a-55296<<10)+(s-56320),t++)}i+=128>a?1:2048>a?2:65536>a?3:4}var l=new o.Buf8(i);for(t=r=0;r<i;t++)55296==(64512&(a=e.charCodeAt(t)))&&t+1<n&&56320==(64512&(s=e.charCodeAt(t+1)))&&(a=65536+(a-55296<<10)+(s-56320),t++),128>a?l[r++]=a:(2048>a?l[r++]=192|a>>>6:(65536>a?l[r++]=224|a>>>12:(l[r++]=240|a>>>18,l[r++]=128|a>>>12&63),l[r++]=128|a>>>6&63),l[r++]=128|63&a);return l},r.buf2binstring=function(e){return n(e,e.length)},r.binstring2buf=function(e){for(var t=new o.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,o=t||e.length,i=Array(2*o);for(t=r=0;t<o;){var a=e[t++];if(128>a)i[r++]=a;else{var l=s[a];if(4<l)i[r++]=65533,t+=l-1;else{for(a&=2===l?31:3===l?15:7;1<l&&t<o;)a=a<<6|63&e[t++],l--;1<l?i[r++]=65533:65536>a?i[r++]=a:(a-=65536,i[r++]=55296|a>>10&1023,i[r++]=56320|1023&a)}}}return n(i,r)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return 0>r||0===r?t:r+s[e[r]]>t?r:t}},{"./common":1}],3:[function(e,t,r){t.exports=function(e,t,r,n){var o,i=65535&e|0;for(e=e>>>16&65535|0;0!==r;){r-=o=2e3<r?2e3:r;do{i=i+t[n++]|0,e=e+i|0}while(--o);i%=65521,e%=65521}return i|e<<16|0}},{}],4:[function(e,t,r){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,r){var n=function(){for(var e,t=[],r=0;256>r;r++){e=r;for(var n=0;8>n;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,o){for(r=o+r,e^=-1;o<r;o++)e=e>>>8^n[255&(e^t[o])];return-1^e}},{}],6:[function(e,t,r){t.exports=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1}},{}],7:[function(e,t,r){t.exports=function(e,t){var r=e.state,n=e.next_in,o=e.input,i=n+(e.avail_in-5),a=e.next_out,s=e.output;t=a-(t-e.avail_out);var l=a+(e.avail_out-257),u=r.dmax,c=r.wsize,f=r.whave,h=r.wnext,p=r.window,d=r.hold,m=r.bits,v=r.lencode,y=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{15>m&&(d+=o[n++]<<m,m+=8,d+=o[n++]<<m,m+=8);var x=v[d&g];t:for(;;){var w=x>>>24;if(d>>>=w,m-=w,0==(w=x>>>16&255))s[a++]=65535&x;else{if(!(16&w)){if(0==(64&w)){x=v[(65535&x)+(d&(1<<w)-1)];continue t}32&w?r.mode=12:(e.msg="invalid literal/length code",r.mode=30);break e}var _=65535&x;(w&=15)&&(m<w&&(d+=o[n++]<<m,m+=8),_+=d&(1<<w)-1,d>>>=w,m-=w),15>m&&(d+=o[n++]<<m,m+=8,d+=o[n++]<<m,m+=8),x=y[d&b];r:for(;;){if(d>>>=w=x>>>24,m-=w,!(16&(w=x>>>16&255))){if(0==(64&w)){x=y[(65535&x)+(d&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(x&=65535,m<(w&=15)&&(d+=o[n++]<<m,(m+=8)<w&&(d+=o[n++]<<m,m+=8)),(x+=d&(1<<w)-1)>u){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=w,m-=w,x>(w=a-t)){if((w=x-w)>f&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}var D=0,S=p;if(0===h){if(D+=c-w,w<_){_-=w;do{s[a++]=p[D++]}while(--w);D=a-x,S=s}}else if(h<w){if(D+=c+h-w,(w-=h)<_){_-=w;do{s[a++]=p[D++]}while(--w);if(D=0,h<_){_-=w=h;do{s[a++]=p[D++]}while(--w);D=a-x,S=s}}}else if(D+=h-w,w<_){_-=w;do{s[a++]=p[D++]}while(--w);D=a-x,S=s}for(;2<_;)s[a++]=S[D++],s[a++]=S[D++],s[a++]=S[D++],_-=3;_&&(s[a++]=S[D++],1<_&&(s[a++]=S[D++]))}else{D=a-x;do{s[a++]=s[D++],s[a++]=s[D++],s[a++]=s[D++],_-=3}while(2<_);_&&(s[a++]=s[D++],1<_&&(s[a++]=s[D++]))}break}}break}}while(n<i&&a<l);n-=_=m>>3,m-=_<<3,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<l?l-a+257:257-(a-l),r.hold=d&(1<<m)-1,r.bits=m}},{}],8:[function(e,t,r){function n(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function i(e){if(!e||!e.state)return-2;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new f.Buf32(852),t.distcode=t.distdyn=new f.Buf32(592),t.sane=1,t.back=-1,0}function a(e){if(!e||!e.state)return-2;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,i(e)}function s(e,t){if(!e||!e.state)return-2;var r=e.state;if(0>t){var n=0;t=-t}else n=1+(t>>4),48>t&&(t&=15);return t&&(8>t||15<t)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,a(e))}function l(e,t){if(!e)return-2;var r=new o;return e.state=r,r.window=null,0!==(t=s(e,t))&&(e.state=null),t}var u,c,f=e("../utils/common"),h=e("./adler32"),p=e("./crc32"),d=e("./inffast"),m=e("./inftrees"),v=!0;r.inflateReset=a,r.inflateReset2=s,r.inflateResetKeep=i,r.inflateInit=function(e){return l(e,15)},r.inflateInit2=l,r.inflate=function(e,t){var r,o=new f.Buf8(4),i=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;var a=e.state;12===a.mode&&(a.mode=13);var s=e.next_out,l=e.output,y=e.avail_out,g=e.next_in,b=e.input,x=e.avail_in,w=a.hold,_=a.bits,D=x,S=y,C=0;e:for(;;)switch(a.mode){case 1:if(0===a.wrap){a.mode=13;break}for(;16>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}if(2&a.wrap&&35615===w){a.check=0,o[0]=255&w,o[1]=w>>>8&255,a.check=p(a.check,o,2,0),_=w=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",a.mode=30;break}if(8!=(15&w)){e.msg="unknown compression method",a.mode=30;break}_-=4;var A=8+(15&(w>>>=4));if(0===a.wbits)a.wbits=A;else if(A>a.wbits){e.msg="invalid window size",a.mode=30;break}a.dmax=1<<A,e.adler=a.check=1,a.mode=512&w?10:12,_=w=0;break;case 2:for(;16>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}if(a.flags=w,8!=(255&a.flags)){e.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){e.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=w>>8&1),512&a.flags&&(o[0]=255&w,o[1]=w>>>8&255,a.check=p(a.check,o,2,0)),_=w=0,a.mode=3;case 3:for(;32>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}a.head&&(a.head.time=w),512&a.flags&&(o[0]=255&w,o[1]=w>>>8&255,o[2]=w>>>16&255,o[3]=w>>>24&255,a.check=p(a.check,o,4,0)),_=w=0,a.mode=4;case 4:for(;16>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}a.head&&(a.head.xflags=255&w,a.head.os=w>>8),512&a.flags&&(o[0]=255&w,o[1]=w>>>8&255,a.check=p(a.check,o,2,0)),_=w=0,a.mode=5;case 5:if(1024&a.flags){for(;16>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}a.length=w,a.head&&(a.head.extra_len=w),512&a.flags&&(o[0]=255&w,o[1]=w>>>8&255,a.check=p(a.check,o,2,0)),_=w=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags){var $=a.length;if($>x&&($=x),$&&(a.head&&(A=a.head.extra_len-a.length,a.head.extra||(a.head.extra=Array(a.head.extra_len)),f.arraySet(a.head.extra,b,g,$,A)),512&a.flags&&(a.check=p(a.check,b,$,g)),x-=$,g+=$,a.length-=$),a.length)break e}a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===x)break e;$=0;do{A=b[g+$++],a.head&&A&&65536>a.length&&(a.head.name+=String.fromCharCode(A))}while(A&&$<x);if(512&a.flags&&(a.check=p(a.check,b,$,g)),x-=$,g+=$,A)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===x)break e;$=0;do{A=b[g+$++],a.head&&A&&65536>a.length&&(a.head.comment+=String.fromCharCode(A))}while(A&&$<x);if(512&a.flags&&(a.check=p(a.check,b,$,g)),x-=$,g+=$,A)break e}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;16>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}if(w!==(65535&a.check)){e.msg="header crc mismatch",a.mode=30;break}_=w=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=12;break;case 10:for(;32>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}e.adler=a.check=n(w),_=w=0,a.mode=11;case 11:if(0===a.havedict)return e.next_out=s,e.avail_out=y,e.next_in=g,e.avail_in=x,a.hold=w,a.bits=_,2;e.adler=a.check=1,a.mode=12;case 12:if(5===t||6===t)break e;case 13:if(a.last){w>>>=7&_,_-=7&_,a.mode=27;break}for(;3>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}switch(a.last=1&w,--_,3&(w>>>=1)){case 0:a.mode=14;break;case 1:if(A=a,v){for(u=new f.Buf32(512),c=new f.Buf32(32),$=0;144>$;)A.lens[$++]=8;for(;256>$;)A.lens[$++]=9;for(;280>$;)A.lens[$++]=7;for(;288>$;)A.lens[$++]=8;for(m(1,A.lens,0,288,u,0,A.work,{bits:9}),$=0;32>$;)A.lens[$++]=5;m(2,A.lens,0,32,c,0,A.work,{bits:5}),v=!1}if(A.lencode=u,A.lenbits=9,A.distcode=c,A.distbits=5,a.mode=20,6===t){w>>>=2,_-=2;break e}break;case 2:a.mode=17;break;case 3:e.msg="invalid block type",a.mode=30}w>>>=2,_-=2;break;case 14:for(w>>>=7&_,_-=7&_;32>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&w,_=w=0,a.mode=15,6===t)break e;case 15:a.mode=16;case 16:if($=a.length){if($>x&&($=x),$>y&&($=y),0===$)break e;f.arraySet(l,b,g,$,s),x-=$,g+=$,y-=$,s+=$,a.length-=$;break}a.mode=12;break;case 17:for(;14>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}if(a.nlen=257+(31&w),w>>>=5,_-=5,a.ndist=1+(31&w),w>>>=5,_-=5,a.ncode=4+(15&w),w>>>=4,_-=4,286<a.nlen||30<a.ndist){e.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;3>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}a.lens[i[a.have++]]=7&w,w>>>=3,_-=3}for(;19>a.have;)a.lens[i[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,$={bits:a.lenbits},C=m(0,a.lens,0,19,a.lencode,0,a.work,$),a.lenbits=$.bits,C){e.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;;){var M=a.lencode[w&(1<<a.lenbits)-1];if($=M>>>24,M&=65535,$<=_)break;if(0===x)break e;x--,w+=b[g++]<<_,_+=8}if(16>M)w>>>=$,_-=$,a.lens[a.have++]=M;else{if(16===M){for(A=$+2;_<A;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}if(w>>>=$,_-=$,0===a.have){e.msg="invalid bit length repeat",a.mode=30;break}A=a.lens[a.have-1],$=3+(3&w),w>>>=2,_-=2}else if(17===M){for(A=$+3;_<A;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}_-=$,A=0,$=3+(7&(w>>>=$)),w>>>=3,_-=3}else{for(A=$+7;_<A;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}_-=$,A=0,$=11+(127&(w>>>=$)),w>>>=7,_-=7}if(a.have+$>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=30;break}for(;$--;)a.lens[a.have++]=A}}if(30===a.mode)break;if(0===a.lens[256]){e.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,$={bits:a.lenbits},C=m(1,a.lens,0,a.nlen,a.lencode,0,a.work,$),a.lenbits=$.bits,C){e.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,$={bits:a.distbits},C=m(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,$),a.distbits=$.bits,C){e.msg="invalid distances set",a.mode=30;break}if(a.mode=20,6===t)break e;case 20:a.mode=21;case 21:if(6<=x&&258<=y){e.next_out=s,e.avail_out=y,e.next_in=g,e.avail_in=x,a.hold=w,a.bits=_,d(e,S),s=e.next_out,l=e.output,y=e.avail_out,g=e.next_in,b=e.input,x=e.avail_in,w=a.hold,_=a.bits,12===a.mode&&(a.back=-1);break}for(a.back=0;M=a.lencode[w&(1<<a.lenbits)-1],$=M>>>24,A=M>>>16&255,M&=65535,!($<=_);){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}if(A&&0==(240&A)){var T=$,z=A;for(r=M;M=a.lencode[r+((w&(1<<T+z)-1)>>T)],$=M>>>24,A=M>>>16&255,M&=65535,!(T+$<=_);){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}w>>>=T,_-=T,a.back+=T}if(w>>>=$,_-=$,a.back+=$,a.length=M,0===A){a.mode=26;break}if(32&A){a.back=-1,a.mode=12;break}if(64&A){e.msg="invalid literal/length code",a.mode=30;break}a.extra=15&A,a.mode=22;case 22:if(a.extra){for(A=a.extra;_<A;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}a.length+=w&(1<<a.extra)-1,w>>>=a.extra,_-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;M=a.distcode[w&(1<<a.distbits)-1],$=M>>>24,A=M>>>16&255,M&=65535,!($<=_);){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}if(0==(240&A)){for(T=$,z=A,r=M;M=a.distcode[r+((w&(1<<T+z)-1)>>T)],$=M>>>24,A=M>>>16&255,M&=65535,!(T+$<=_);){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}w>>>=T,_-=T,a.back+=T}if(w>>>=$,_-=$,a.back+=$,64&A){e.msg="invalid distance code",a.mode=30;break}a.offset=M,a.extra=15&A,a.mode=24;case 24:if(a.extra){for(A=a.extra;_<A;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}a.offset+=w&(1<<a.extra)-1,w>>>=a.extra,_-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(0===y)break e;if($=S-y,a.offset>$){if(($=a.offset-$)>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=30;break}$>a.wnext?($-=a.wnext,A=a.wsize-$):A=a.wnext-$,$>a.length&&($=a.length),T=a.window}else T=l,A=s-a.offset,$=a.length;$>y&&($=y),y-=$,a.length-=$;do{l[s++]=T[A++]}while(--$);0===a.length&&(a.mode=21);break;case 26:if(0===y)break e;l[s++]=a.length,y--,a.mode=21;break;case 27:if(a.wrap){for(;32>_;){if(0===x)break e;x--,w|=b[g++]<<_,_+=8}if(S-=y,e.total_out+=S,a.total+=S,S&&(e.adler=a.check=a.flags?p(a.check,l,S,s-S):h(a.check,l,S,s-S)),S=y,(a.flags?w:n(w))!==a.check){e.msg="incorrect data check",a.mode=30;break}_=w=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;32>_;){if(0===x)break e;x--,w+=b[g++]<<_,_+=8}if(w!==(4294967295&a.total)){e.msg="incorrect length check",a.mode=30;break}_=w=0}a.mode=29;case 29:C=1;break e;case 30:C=-3;break e;case 31:return-4;default:return-2}return e.next_out=s,e.avail_out=y,e.next_in=g,e.avail_in=x,a.hold=w,a.bits=_,(a.wsize||S!==e.avail_out&&30>a.mode&&(27>a.mode||4!==t))&&(b=e.output,g=e.next_out,s=S-e.avail_out,null===(y=e.state).window&&(y.wsize=1<<y.wbits,y.wnext=0,y.whave=0,y.window=new f.Buf8(y.wsize)),s>=y.wsize?(f.arraySet(y.window,b,g-y.wsize,y.wsize,0),y.wnext=0,y.whave=y.wsize):((x=y.wsize-y.wnext)>s&&(x=s),f.arraySet(y.window,b,g-s,x,y.wnext),(s-=x)?(f.arraySet(y.window,b,g-s,s,0),y.wnext=s,y.whave=y.wsize):(y.wnext+=x,y.wnext===y.wsize&&(y.wnext=0),y.whave<y.wsize&&(y.whave+=x)))),D-=e.avail_in,S-=e.avail_out,e.total_in+=D,e.total_out+=S,a.total+=S,a.wrap&&S&&(e.adler=a.check=a.flags?p(a.check,l,S,e.next_out-S):h(a.check,l,S,e.next_out-S)),e.data_type=a.bits+(a.last?64:0)+(12===a.mode?128:0)+(20===a.mode||15===a.mode?256:0),(0===D&&0===S||4===t)&&0===C&&(C=-5),C},r.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){return e&&e.state?0==(2&(e=e.state).wrap)?-2:(e.head=t,t.done=!1,0):-2},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,r){var n=e("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,u,c,f,h){var p,d,m,v,y,g,b,x=h.bits,w=0,_=new n.Buf16(16),D=new n.Buf16(16),S=0;for(p=0;15>=p;p++)_[p]=0;for(d=0;d<l;d++)_[t[r+d]]++;var C=x;for(m=15;1<=m&&0===_[m];m--);if(C>m&&(C=m),0===m)return u[c++]=20971520,u[c++]=20971520,h.bits=1,0;for(x=1;x<m&&0===_[x];x++);for(C<x&&(C=x),p=v=1;15>=p;p++)if(v<<=1,0>(v-=_[p]))return-1;if(0<v&&(0===e||1!==m))return-1;for(D[1]=0,p=1;15>p;p++)D[p+1]=D[p]+_[p];for(d=0;d<l;d++)0!==t[r+d]&&(f[D[t[r+d]]++]=d);if(0===e)var A=b=f,$=19;else 1===e?(A=o,w-=257,b=i,S-=257,$=256):(A=a,b=s,$=-1);d=y=0,p=x;var M=c;l=C,D=0;var T=-1,z=1<<C,E=z-1;if(1===e&&852<z||2===e&&592<z)return 1;for(;;){var L=p-D;if(f[d]<$)var k=0,I=f[d];else f[d]>$?(k=b[S+f[d]],I=A[w+f[d]]):(k=96,I=0);v=1<<p-D,x=g=1<<l;do{u[M+(y>>D)+(g-=v)]=L<<24|k<<16|I|0}while(0!==g);for(v=1<<p-1;y&v;)v>>=1;if(0!==v?(y&=v-1,y+=v):y=0,d++,0==--_[p]){if(p===m)break;p=t[r+f[d]]}if(p>C&&(y&E)!==T){for(0===D&&(D=C),M+=x,v=1<<(l=p-D);l+D<m&&!(0>=(v-=_[l+D]));)l++,v<<=1;if(z+=1<<l,1===e&&852<z||2===e&&592<z)return 1;u[T=y&E]=C<<24|l<<16|M-c|0}}return 0!==y&&(u[M+y]=p-D<<24|4194304),h.bits=C,0}},{"../utils/common":1}],10:[function(e,t,r){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,r){t.exports=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/inflate.js":[function(e,t,r){function n(e,t){if((t=new h(t)).push(e,!0),t.err)throw t.msg;return t.result}var o=e("./zlib/inflate.js"),i=e("./utils/common"),a=e("./utils/strings"),s=e("./zlib/constants"),l=e("./zlib/messages"),u=e("./zlib/zstream"),c=e("./zlib/gzheader"),f=Object.prototype.toString,h=function(e){var t=this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0,(e=o.inflateInit2(this.strm,t.windowBits))!==s.Z_OK)throw Error(l[e]);this.header=new c,o.inflateGetHeader(this.strm,this.header)};h.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize;if(this.ended)return!1;t=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?r.input=a.binstring2buf(e):"[object ArrayBuffer]"===f.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new i.Buf8(n),r.next_out=0,r.avail_out=n),(e=o.inflate(r,s.Z_NO_FLUSH))!==s.Z_STREAM_END&&e!==s.Z_OK)return this.onEnd(e),this.ended=!0,!1;if(r.next_out&&(0===r.avail_out||e===s.Z_STREAM_END||0===r.avail_in&&(t===s.Z_FINISH||t===s.Z_SYNC_FLUSH)))if("string"===this.options.to){var l=a.utf8border(r.output,r.next_out),u=r.next_out-l,c=a.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&i.arraySet(r.output,r.output,l,u,0),this.onData(c)}else this.onData(i.shrinkBuf(r.output,r.next_out))}while(0<r.avail_in&&e!==s.Z_STREAM_END);return e===s.Z_STREAM_END&&(t=s.Z_FINISH),t===s.Z_FINISH?(e=o.inflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===s.Z_OK):(t===s.Z_SYNC_FLUSH&&(this.onEnd(s.Z_OK),r.avail_out=0),!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=h,r.inflate=n,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.ungzip=n},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js");var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();var t=e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.polyfill("Promise",function(e){function t(){this.batch_=null}function r(e){return e instanceof o?e:new o(function(t,r){t(e)})}if(e&&!$jscomp.FORCE_POLYFILL_PROMISE)return e;t.prototype.asyncExecute=function(e){return null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_()),this.batch_.push(e),this},t.prototype.asyncExecuteBatch_=function(){var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})};var n=$jscomp.global.setTimeout;t.prototype.asyncExecuteFunction=function(e){n(e,0)},t.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var r=e[t];delete e[t];try{r()}catch(e){this.asyncThrow_(e)}}}this.batch_=null},t.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e})};var o=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}};o.prototype.createResolveAndReject_=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},o.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof o)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},o.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(e){return void this.reject_(e)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},o.prototype.reject_=function(e){this.settle_(2,e)},o.prototype.fulfill_=function(e){this.settle_(1,e)},o.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t|"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,this.executeOnSettledCallbacks_()},o.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=this.onSettledCallbacks_,t=0;t<e.length;++t)e[t].call(),e[t]=null;this.onSettledCallbacks_=null}};var i=new t;return o.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},o.prototype.settleSameAsThenable_=function(e,t){var r=this.createResolveAndReject_();try{e.call(t,r.resolve,r.reject)}catch(e){r.reject(e)}},o.prototype.then=function(e,t){function r(e,t){return"function"==typeof e?function(t){try{n(e(t))}catch(e){i(e)}}:t}var n,i,a=new o(function(e,t){n=e,i=t});return this.callWhenSettled_(r(e,n),r(t,i)),a},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.callWhenSettled_=function(e,t){function r(){switch(n.state_){case 1:e(n.result_);break;case 2:t(n.result_);break;default:throw Error("Unexpected state: "+n.state_)}}var n=this;null==this.onSettledCallbacks_?i.asyncExecute(r):this.onSettledCallbacks_.push(function(){i.asyncExecute(r)})},o.resolve=r,o.reject=function(e){return new o(function(t,r){r(e)})},o.race=function(e){return new o(function(t,n){for(var o=$jscomp.makeIterator(e),i=o.next();!i.done;i=o.next())r(i.value).callWhenSettled_(t,n)})},o.all=function(e){var t=$jscomp.makeIterator(e),n=t.next();return n.done?r([]):new o(function(e,o){function i(t){return function(r){a[t]=r,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(n.value).callWhenSettled_(i(a.length-1),o),n=t.next()}while(!n.done)})},o},"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=r.length,o=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var i=0;i<o&&t<n;)if(r[t++]!=e[i++])return!1;return i>=o}},"es6","es3"),$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var n=e.length;0<n&&0<t;)if(r[--t]!=e[--n])return!1;return 0>=n}},"es6","es3"),$jscomp.polyfill("Array.prototype.fill",function(e){return e||function(e,t,r){var n=this.length||0;for(0>t&&(t=Math.max(0,n+t)),(null==r||r>n)&&(r=n),0>(r=Number(r))&&(r=Math.max(0,n+r)),t=Number(t||0);t<r;t++)this[t]=e;return this}},"es6","es3"),$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var r=0,n={next:function(){if(r<e.length){var o=r++;return{value:t(o,e[o]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3"),$jscomp.polyfill("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"es6","es3"),$jscomp.polyfill("Array.prototype.includes",function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length;for(t=t||0;t<n;t++)if(r[t]==e||Object.is(r[t],e))return!0;return!1}},"es7","es3"),$jscomp.polyfill("String.prototype.includes",function(e){return e||function(e,t){return-1!==$jscomp.checkStringArgs(this,e,"includes").indexOf(e,t||0)}},"es6","es3"),$jscomp.polyfill("Number.isFinite",function(e){return e||function(e){return"number"==typeof e&&(!isNaN(e)&&1/0!==e&&-1/0!==e)}},"es6","es3"),$jscomp.polyfill("Number.isInteger",function(e){return e||function(e){return!!Number.isFinite(e)&&e===Math.floor(e)}},"es6","es3"),$3Dmol=window.$3Dmol||{},"object"==typeof module&&"object"==typeof module.exports&&(module.exports=$3Dmol),$3Dmol.notrack||$.get("https://3dmol.csb.pitt.edu/track/report.cgi"),String.prototype.startsWith||(String.prototype.startsWith=function(e){return 0===this.lastIndexOf(e,0)}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),$.ajaxTransport("+binary",function(e,t,r){if(window.FormData&&(e.dataType&&"binary"==e.dataType||e.data&&(window.ArrayBuffer&&e.data instanceof ArrayBuffer||window.Blob&&e.data instanceof Blob)))return{send:function(t,r){var n=new XMLHttpRequest,o=e.url,i=e.type,a=e.async||!0,s=e.responseType||"blob",l=e.data||null,u=e.username||null,c=e.password||null,f=function(){var t={};t[e.dataType]=n.response,r(n.status,n.statusText,t,n.getAllResponseHeaders())};for(var h in n.addEventListener("load",f),n.addEventListener("error",f),n.addEventListener("abort",f),n.open(i,o,a,u,c),t)n.setRequestHeader(h,t[h]);n.responseType=s,n.send(l)},abort:function(){r.abort()}}}),$3Dmol.createViewer=function(e,t){if("string"===$.type(e)&&(e=$("#"+e)),e){t=t||{};try{return new $3Dmol.GLViewer(e,t)}catch(e){throw"error creating viewer: "+e}}},$3Dmol.createViewerGrid=function(e,t,r){if("string"===$.type(e)&&(e=$("#"+e)),e){t=t||{},r=r||{};var n=[],o=document.createElement("canvas");r.rows=t.rows,r.cols=t.cols,r.control_all=void 0!=t.control_all&&t.control_all,$(e).append($(o));try{for(var i=0;i<t.rows;i++){for(var a=[],s=0;s<t.cols;s++){r.row=i,r.col=s,r.canvas=o,r.viewers=n,r.control_all=t.control_all;var l=$3Dmol.createViewer(e,r);a.push(l)}n.unshift(a)}}catch(e){throw"error creating viewer grid: "+e}return n}},$3Dmol.viewers={},$3Dmol.getbin=function(e,t,r,n){var o=new Promise(function(t,o){r=void 0==r?"GET":r,$.ajax({url:e,dataType:"binary",method:r,data:n,responseType:"arraybuffer",processData:!1}).done(function(e,r,n){t(e)}).fail(function(e,t){console.log(t),o()})});return t?o.then(t):o},$3Dmol.base64ToArray=function(e){for(var t=(e=window.atob(e)).length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},$3Dmol.download=function(e,t,r,n){var o="",i="";i="";var a=t.addModel();if("mmtf:"===e.substr(0,5)){var s=(i=r&&r.pdbUri?r.pdbUri:"https://mmtf.rcsb.org/v1.0/full/")+(e=e.substr(5).toUpperCase());r&&void 0===r.noComputeSecondaryStructure&&(r.noComputeSecondaryStructure=!0),e=new Promise(function(e,n){$3Dmol.getbin(s).then(function(n){a.addMolData(n,"mmtf",r),t.zoomTo(),t.render(),e(a)})})}else{if("pdb:"===e.substr(0,4)){if(o="mmtf",r&&r.format&&(o=r.format),r&&void 0===r.noComputeSecondaryStructure&&(r.noComputeSecondaryStructure=!0),!(e=e.substr(4).toUpperCase()).match(/^[1-9][A-Za-z0-9]{3}$/))return void alert("Wrong PDB ID");"mmtf"==o?(i=r&&r.mmtfUri?r.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",s=i+e.toUpperCase()):(i=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",s=i+e+"."+o)}else if("cid:"==e.substr(0,4)){if(o="sdf",!(e=e.substr(4)).match(/^[0-9]+$/))return void alert("Wrong Compound ID");s="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+e+"/SDF?record_type=3d"}else"url:"==e.substr(0,4)&&(o=s=e.substr(4));var l=function(e){a.addMolData(e,o,r),t.zoomTo(),t.render()};e=new Promise(function(e,t){"mmtf"==o?$3Dmol.getbin(s).then(function(t){l(t),e(a)}):$.get(s,function(t){l(t),e(a)}).fail(function(e){console.log("fetch of "+s+" failed: "+e.statusText)})})}return n?(e.then(function(e){n(e)}),a):e},$3Dmol.SurfaceType={VDW:1,MS:2,SAS:3,SES:4},$3Dmol.mergeGeos=function(e,t){void 0!==(t=t.geometry)&&e.geometryGroups.push(t.geometryGroups[0])},$3Dmol.multiLineString=function(e){return e.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")},$3Dmol.syncSurface=!1,(0<=window.navigator.userAgent.indexOf("MSIE ")||0<=window.navigator.userAgent.indexOf("Trident/"))&&($3Dmol.syncSurface=!0),$3Dmol.specStringToObject=function(e){if("object"==typeof e||void 0===e||null==e)return e;var t=function(e){return $.isNumeric(e)?Math.floor(parseFloat(e))==parseInt(e)?parseFloat(e):0<=e.indexOf(".")?parseFloat(e):parseInt(e):"true"===e||"false"!==e&&e},r={};if("all"===(e=e.replace(/%7E/,"~")))return r;e=e.split(";");for(var n=0;n<e.length;n++){var o=e[n].split(":"),i=o[0],a={};if(o=o[1])if(-1!==(o=o.replace(/~/g,"=")).indexOf("=")){o=o.split(",");for(var s=0;s<o.length;s++){var l=o[s].split("=",2);a[l[0]]=t(l[1])}}else a=-1!==o.indexOf(",")?o.split(","):t(o);r[i]=a}return r},$3Dmol.getExtent=function(e,t){var r,n,o,i,a,s,l,u=!t;t=r=n=9999;var c=o=i=-9999,f=a=s=l=0;if(0===e.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var h=0;h<e.length;h++){var p=e[h];if(void 0!==p&&isFinite(p.x)&&isFinite(p.y)&&isFinite(p.z)&&(l++,f+=p.x,a+=p.y,s+=p.z,t=t<p.x?t:p.x,r=r<p.y?r:p.y,n=n<p.z?n:p.z,c=c>p.x?c:p.x,o=o>p.y?o:p.y,i=i>p.z?i:p.z,p.symmetries&&u))for(var d=0;d<p.symmetries.length;d++)l++,f+=p.symmetries[d].x,a+=p.symmetries[d].y,s+=p.symmetries[d].z,t=t<p.symmetries[d].x?t:p.symmetries[d].x,r=r<p.symmetries[d].y?r:p.symmetries[d].y,n=n<p.symmetries[d].z?n:p.symmetries[d].z,c=c>p.symmetries[d].x?c:p.symmetries[d].x,o=o>p.symmetries[d].y?o:p.symmetries[d].y,i=i>p.symmetries[d].z?i:p.symmetries[d].z}return[[t,r,n],[c,o,i],[f/l,a/l,s/l]]},$3Dmol.getAtomProperty=function(e,t){var r=null;return e.properties&&void 0!==e.properties[t]?r=e.properties[t]:void 0!==e[t]&&(r=e[t]),r},$3Dmol.getPropertyRange=function(e,t){for(var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,o=0,i=e.length;o<i;o++){var a=$3Dmol.getAtomProperty(e[o],t);null!=a&&(a<r&&(r=a),a>n&&(n=a))}return isFinite(r)||isFinite(n)?isFinite(r)?isFinite(n)||(n=r):r=n:r=n=0,[r,n]},__webpack_require__(1)&&(__WEBPACK_AMD_DEFINE_FACTORY__=$3Dmol,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),$3Dmol.createStereoViewer=function(e){var t=this;if("string"===$.type(e)&&(e=$("#"+e)),e){e=$3Dmol.createViewerGrid(e,{rows:1,cols:2,control_all:!0}),this.glviewer1=e[0][0],this.glviewer2=e[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1),e=Object.getOwnPropertyNames(this.glviewer1).filter(function(e){return"function"==typeof t.glviewer1[e]});for(var r=0;r<e.length;r++)this[e[r]]=function(e){return function(){return[this.glviewer1[e].apply(this.glviewer1,arguments),this.glviewer2[e].apply(this.glviewer2,arguments)]}}(e[r]);this.setCoordinates=function(e,t,r){for(var n=0;n<e.length;n++)e[n].setCoordinates(t,r)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(e){this.glviewer1.render(),this.glviewer2.render(),e&&e(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}};var $3Dmol=$3Dmol||{};$3Dmol.Math={clamp:function(e,t,r){return Math.min(Math.max(e,t),r)},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}()},$3Dmol.Quaternion=function(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1},$3Dmol.Quaternion.prototype={constructor:$3Dmol.Quaternion,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var e=this.length();return 0===e?(this.z=this.y=this.x=0,this.w=1):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},multiplyQuaternions:function(e,t){var r=e.x,n=e.y,o=e.z;e=e.w;var i=t.x,a=t.y,s=t.z;return t=t.w,this.x=r*t+e*i+n*s-o*a,this.y=n*t+e*a+o*i-r*s,this.z=o*t+e*s+r*a-n*i,this.w=e*t-r*i-n*a-o*s,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this},clone:function(){return new $3Dmol.Quaternion(this.x,this.y,this.z,this.w)},setFromEuler:function(e){var t=Math.cos(e.x/2),r=Math.cos(e.y/2),n=Math.cos(e.z/2),o=Math.sin(e.x/2),i=Math.sin(e.y/2);return e=Math.sin(e.z/2),this.x=o*r*n+t*i*e,this.y=t*i*n-o*r*e,this.z=t*r*e+o*i*n,this.w=t*r*n-o*i*e,this}},$3Dmol.Vector2=function(e,t){this.x=e||0,this.y=t||0},$3Dmol.Vector2.prototype={constructor:$3Dmol.Vector2,set:function(e,t){return this.x=e,this.y=t,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},copy:function(e){return this.x=e.x,this.y=e.y,this},clone:function(){return new $3Dmol.Vector2(this.x,this.y)}},$3Dmol.Vector3=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0},$3Dmol.Vector3.prototype={constructor:$3Dmol.Vector3,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e,this.z/=e):this.z=this.y=this.x=0,this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r+(e=this.z-e.z)*e},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z;return e=e.elements,this.x=e[0]*t+e[4]*r+e[8]*n+e[12],this.y=e[1]*t+e[5]*r+e[9]*n+e[13],this.z=e[2]*t+e[6]*r+e[10]*n+e[14],this},applyProjection:function(e){var t=this.x,r=this.y,n=this.z,o=(e=e.elements)[3]*t+e[7]*r+e[11]*n+e[15];return this.x=(e[0]*t+e[4]*r+e[8]*n+e[12])/o,this.y=(e[1]*t+e[5]*r+e[9]*n+e[13])/o,this.z=(e[2]*t+e[6]*r+e[10]*n+e[14])/o,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,o=e.x,i=e.y,a=e.z,s=2*(r*a-n*i),l=2*(n*o-t*a),u=2*(t*i-r*o);return this.x=t+e.w*s+(l*a-u*i),this.y=r+e.w*l+(u*o-s*a),this.z=n+e.w*u+(s*i-l*o),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(e){var t=this.x,r=this.y,n=this.z;return this.x=r*e.z-n*e.y,this.y=n*e.x-t*e.z,this.z=t*e.y-r*e.x,this},crossVectors:function(e,t){return this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x,this},getPositionFromMatrix:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setEulerFromRotationMatrix:function(e,t){var r=e.elements;e=r[0];var n=r[4],o=r[8],i=r[5],a=r[9],s=r[6];return r=r[10],void 0===t||"XYZ"===t?(this.y=Math.asin($3Dmol.Math.clamp(o,-1,1)),.99999>Math.abs(o)?(this.x=Math.atan2(-a,r),this.z=Math.atan2(-n,e)):(this.x=Math.atan2(s,i),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+t),this},rotateAboutVector:function(e,t){e.normalize();var r=Math.cos(t),n=Math.sin(t);return t=this.clone().multiplyScalar(r),n=e.clone().cross(this).multiplyScalar(n),e=e.clone().multiplyScalar(e.clone().dot(this)).multiplyScalar(1-r),e=t.add(n).add(e),this.x=e.x,this.y=e.y,this.z=e.z,this},setFromMatrixPosition:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this},transformDirection:function(e){var t=this.x,r=this.y,n=this.z;return e=e.elements,this.x=e[0]*t+e[4]*r+e[8]*n,this.y=e[1]*t+e[5]*r+e[9]*n,this.z=e[2]*t+e[6]*r+e[10]*n,this.normalize()},clone:function(){return new $3Dmol.Vector3(this.x,this.y,this.z)}},$3Dmol.Matrix3=function(e,t,r,n,o,i,a,s,l){this.elements=new Float32Array(9),this.set(void 0!==e?e:1,t||0,r||0,n||0,void 0!==o?o:1,i||0,a||0,s||0,void 0!==l?l:1)},$3Dmol.Matrix3.prototype={constructor:$3Dmol.Matrix3,set:function(e,t,r,n,o,i,a,s,l){var u=this.elements;return u[0]=e,u[3]=t,u[6]=r,u[1]=n,u[4]=o,u[7]=i,u[2]=a,u[5]=s,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){e=e.elements,this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},getInverse:function(e,t){e=e.elements;var r=this.elements;if(r[0]=e[10]*e[5]-e[6]*e[9],r[1]=-e[10]*e[1]+e[2]*e[9],r[2]=e[6]*e[1]-e[2]*e[5],r[3]=-e[10]*e[4]+e[6]*e[8],r[4]=e[10]*e[0]-e[2]*e[8],r[5]=-e[6]*e[0]+e[2]*e[4],r[6]=e[9]*e[4]-e[5]*e[8],r[7]=-e[9]*e[0]+e[1]*e[8],r[8]=e[5]*e[0]-e[1]*e[4],0===(e=e[0]*r[0]+e[1]*r[3]+e[2]*r[6])){if(t)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/e),this},getDeterminant:function(){var e=this.elements;return e[0]*e[4]*e[8]+e[1]*e[5]*e[6]+e[2]*e[3]*e[7]-e[2]*e[4]*e[6]-e[1]*e[3]*e[8]-e[0]*e[5]*e[7]},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},clone:function(){var e=this.elements;return new $3Dmol.Matrix3(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}},$3Dmol.Matrix4=function(e,t,r,n,o,i,a,s,l,u,c,f,h,p,d,m){if(void 0===t&&void 0!==e)this.elements=new Float32Array(e);else{var v=this.elements=new Float32Array(16);v[0]=void 0!==e?e:1,v[4]=t||0,v[8]=r||0,v[12]=n||0,v[1]=o||0,v[5]=void 0!==i?i:1,v[9]=a||0,v[13]=s||0,v[2]=l||0,v[6]=u||0,v[10]=void 0!==c?c:1,v[14]=f||0,v[3]=h||0,v[7]=p||0,v[11]=d||0,v[15]=void 0!==m?m:1}},$3Dmol.Matrix4.prototype={constructor:$3Dmol.Matrix4,set:function(e,t,r,n,o,i,a,s,l,u,c,f,h,p,d,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=n,v[1]=o,v[5]=i,v[9]=a,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=f,v[3]=h,v[7]=p,v[11]=d,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]),this},matrix3FromTopLeft:function(){var e=this.elements;return new $3Dmol.Matrix3(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10])},setRotationFromEuler:function(e,t){var r=this.elements,n=e.x,o=e.y,i=e.z;e=Math.cos(n),n=Math.sin(n);var a=Math.cos(o);o=Math.sin(o);var s=Math.cos(i);if(i=Math.sin(i),void 0===t||"XYZ"===t){t=e*s;var l=e*i,u=n*s,c=n*i;r[0]=a*s,r[4]=-a*i,r[8]=o,r[1]=l+u*o,r[5]=t-c*o,r[9]=-n*a,r[2]=c-t*o,r[6]=u+l*o,r[10]=e*a}else console.error("Error with matrix4 setRotationFromEuler. Order: "+t);return this},setRotationFromQuaternion:function(e){var t=this.elements,r=e.x,n=e.y,o=e.z,i=e.w,a=r+r,s=n+n,l=o+o;e=r*a;var u=r*s;r*=l;var c=n*s;return n*=l,o*=l,a*=i,s*=i,i*=l,t[0]=1-(c+o),t[4]=u-i,t[8]=r+s,t[1]=u+i,t[5]=1-(e+o),t[9]=n-a,t[2]=r-s,t[6]=n+a,t[10]=1-(e+c),this},lookAt:function(){var e=new $3Dmol.Vector3,t=new $3Dmol.Vector3,r=new $3Dmol.Vector3;return function(n,o,i){var a=this.elements;return r.subVectors(n,o).normalize(),0===r.length()&&(r.z=1),e.crossVectors(i,r).normalize(),0===e.length()&&(r.x+=1e-4,e.crossVectors(i,r).normalize()),t.crossVectors(r,e),a[0]=e.x,a[4]=t.x,a[8]=r.x,a[1]=e.y,a[5]=t.y,a[9]=r.y,a[2]=e.z,a[6]=t.z,a[10]=r.z,this}}(),multiplyMatrices:function(e,t){var r=e.elements,n=t.elements;t=this.elements,e=r[0];var o=r[4],i=r[8],a=r[12],s=r[1],l=r[5],u=r[9],c=r[13],f=r[2],h=r[6],p=r[10],d=r[14],m=r[3],v=r[7],y=r[11];r=r[15];var g=n[0],b=n[4],x=n[8],w=n[12],_=n[1],D=n[5],S=n[9],C=n[13],A=n[2],$=n[6],M=n[10],T=n[14],z=n[3],E=n[7],L=n[11];return n=n[15],t[0]=e*g+o*_+i*A+a*z,t[4]=e*b+o*D+i*$+a*E,t[8]=e*x+o*S+i*M+a*L,t[12]=e*w+o*C+i*T+a*n,t[1]=s*g+l*_+u*A+c*z,t[5]=s*b+l*D+u*$+c*E,t[9]=s*x+l*S+u*M+c*L,t[13]=s*w+l*C+u*T+c*n,t[2]=f*g+h*_+p*A+d*z,t[6]=f*b+h*D+p*$+d*E,t[10]=f*x+h*S+p*M+d*L,t[14]=f*w+h*C+p*T+d*n,t[3]=m*g+v*_+y*A+r*z,t[7]=m*b+v*D+y*$+r*E,t[11]=m*x+v*S+y*M+r*L,t[15]=m*w+v*C+y*T+r*n,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},getPosition:function(){var e=new $3Dmol.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var r=this.elements,n=(e=e.elements)[0],o=e[4],i=e[8],a=e[12],s=e[1],l=e[5],u=e[9],c=e[13],f=e[2],h=e[6],p=e[10],d=e[14],m=e[3],v=e[7],y=e[11],g=e[15];if(r[0]=u*d*v-c*p*v+c*h*y-l*d*y-u*h*g+l*p*g,r[4]=a*p*v-i*d*v-a*h*y+o*d*y+i*h*g-o*p*g,r[8]=i*c*v-a*u*v+a*l*y-o*c*y-i*l*g+o*u*g,r[12]=a*u*h-i*c*h-a*l*p+o*c*p+i*l*d-o*u*d,r[1]=c*p*m-u*d*m-c*f*y+s*d*y+u*f*g-s*p*g,r[5]=i*d*m-a*p*m+a*f*y-n*d*y-i*f*g+n*p*g,r[9]=a*u*m-i*c*m-a*s*y+n*c*y+i*s*g-n*u*g,r[13]=i*c*f-a*u*f+a*s*p-n*c*p-i*s*d+n*u*d,r[2]=l*d*m-c*h*m+c*f*v-s*d*v-l*f*g+s*h*g,r[6]=a*h*m-o*d*m-a*f*v+n*d*v+o*f*g-n*h*g,r[10]=o*c*m-a*l*m+a*s*v-n*c*v-o*s*g+n*l*g,r[14]=a*l*f-o*c*f-a*s*h+n*c*h+o*s*d-n*l*d,r[3]=u*h*m-l*p*m-u*f*v+s*p*v+l*f*y-s*h*y,r[7]=o*p*m-i*h*m+i*f*v-n*p*v-o*f*y+n*h*y,r[11]=i*l*m-o*u*m-i*s*v+n*u*v+o*s*y-n*l*y,r[15]=o*u*f-i*l*f+i*s*h-n*u*h-o*s*p+n*l*p,0===(r=e[0]*r[0]+e[1]*r[4]+e[2]*r[8]+e[3]*r[12])){if(t)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/r),this},isReflected:function(){return 0>this.matrix3FromTopLeft().getDeterminant()},compose:function(){var e=new $3Dmol.Matrix4,t=new $3Dmol.Matrix4;return function(r,n,o){var i=this.elements;return e.identity(),e.setRotationFromQuaternion(n),t.makeScale(o.x,o.y,o.z),this.multiplyMatrices(e,t),i[12]=r.x,i[13]=r.y,i[14]=r.z,this}}(),decompose:function(){var e=new $3Dmol.Vector3,t=new $3Dmol.Vector3,r=new $3Dmol.Vector3,n=new $3Dmol.Matrix4;return function(o,i,a){var s=this.elements;return e.set(s[0],s[1],s[2]),t.set(s[4],s[5],s[6]),r.set(s[8],s[9],s[10]),o=o instanceof $3Dmol.Vector3?o:new $3Dmol.Vector3,i=i instanceof $3Dmol.Quaternion?i:new $3Dmol.Quaternion,(a=a instanceof $3Dmol.Vector3?a:new $3Dmol.Vector3).x=e.length(),a.y=t.length(),a.z=r.length(),o.x=s[12],o.y=s[13],o.z=s[14],n.copy(this),n.elements[0]/=a.x,n.elements[1]/=a.x,n.elements[2]/=a.x,n.elements[4]/=a.y,n.elements[5]/=a.y,n.elements[6]/=a.y,n.elements[8]/=a.z,n.elements[9]/=a.z,n.elements[10]/=a.z,i.setFromRotationMatrix(n),[o,i,a]}}(),scale:function(e){var t=this.elements,r=e.x,n=e.y;return e=e.z,t[0]*=r,t[4]*=n,t[8]*=e,t[1]*=r,t[5]*=n,t[9]*=e,t[2]*=r,t[6]*=n,t[10]*=e,t[3]*=r,t[7]*=n,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],Math.max(e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10])))},makeFrustum:function(e,t,r,n,o,i){var a=this.elements;return a[0]=2*o/(t-e),a[4]=0,a[8]=(t+e)/(t-e),a[12]=0,a[1]=0,a[5]=2*o/(n-r),a[9]=(n+r)/(n-r),a[13]=0,a[2]=0,a[6]=0,a[10]=-(i+o)/(i-o),a[14]=-2*i*o/(i-o),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,r,n){var o=-(e=r*Math.tan($3Dmol.Math.degToRad(.5*e)));return this.makeFrustum(o*t,e*t,o,e,r,n)},makeOrthographic:function(e,t,r,n,o,i){var a=this.elements,s=1/(t-e),l=1/(r-n),u=1/(i-o);return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-(t+e)*s,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-(r+n)*l,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-(i+o)*u,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},isEqual:function(e){e=e.elements;var t=this.elements;return t[0]==e[0]&&t[4]==e[4]&&t[8]==e[8]&&t[12]==e[12]&&t[1]==e[1]&&t[5]==e[5]&&t[9]==e[9]&&t[13]==e[13]&&t[2]==e[2]&&t[6]==e[6]&&t[10]==e[10]&&t[14]==e[14]&&t[3]==e[3]&&t[7]==e[7]&&t[11]==e[11]&&t[15]==e[15]},clone:function(){var e=this.elements;return new $3Dmol.Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},isIdentity:function(){var e=this.elements;return 1==e[0]&&0==e[4]&&0==e[8]&&0==e[12]&&0==e[1]&&1==e[5]&&0==e[9]&&0==e[13]&&0==e[2]&&0==e[6]&&1==e[10]&&0==e[14]&&0==e[3]&&0==e[7]&&0==e[11]&&1==e[15]}},$3Dmol.Vector3.prototype.unproject=function(){var e=new $3Dmol.Matrix4;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),$3Dmol.Ray=function(e,t){this.origin=void 0!==e?e:new $3Dmol.Vector3,this.direction=void 0!==t?t:new $3Dmol.Vector3},$3Dmol.Ray.prototype={constructor:$3Dmol.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new $3Dmol.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new $3Dmol.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){return(t=t||new $3Dmol.Vector3).subVectors(e,this.origin),e=t.dot(this.direction),t.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:function(e){var t=new $3Dmol.Vector3;return function(e){var r=t.subVectors(e,this.origin).dot(this.direction);return t.copy(this.direction).multiplyScalar(r).add(this.origin),t.distanceTo(e)}}(),isIntersectionCylinder:function(){},isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},isIntersectionPlane:function(e){return 0!==e.normal.dot(this.direction)||0===e.distanceToPoint(this.origin)},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0!==t?-(this.origin.dot(e.normal)+e.constant)/t:0===e.distanceToPoint(this.origin)?0:void 0},intersectPlane:function(e,t){if(void 0!==(e=this.distanceToPlane(e)))return this.at(e,t)},applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new $3Dmol.Ray).copy(this)}},$3Dmol.Sphere=function(e,t){this.center=void 0!==e?e:new $3Dmol.Vector3,this.radius=void 0!==t?t:0},$3Dmol.Sphere.prototype={constructor:$3Dmol.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new $3Dmol.Sphere).copy(this)}},$3Dmol.Cylinder=function(e,t,r){this.c1=void 0!==e?e:new $3Dmol.Vector3,this.c2=void 0!==t?t:new $3Dmol.Vector3,this.direction=(new $3Dmol.Vector3).subVectors(this.c2,this.c1).normalize(),this.radius=void 0!==r?r:0},$3Dmol.Cylinder.prototype={constructor:$3Dmol.Cylinder,copy:function(e){return this.c1.copy(e.c1),this.c2.copy(e.c2),this.direction.copy(e.direction),this.radius=e.radius,this},lengthSq:function(){var e=new $3Dmol.Vector3;return function(){return e.subVectors(this.c2,this.c1).lengthSq()}}(),applyMatrix4:function(e){return this.direction.add(this.c1).applyMatrix4(e),this.c1.applyMatrix4(e),this.c2.applyMatrix4(e),this.direction.sub(this.c1).normalize(),this.radius*=e.getMaxScaleOnAxis(),this}},$3Dmol.Triangle=function(e,t,r){this.a=void 0!==e?e:new $3Dmol.Vector3,this.b=void 0!==t?t:new $3Dmol.Vector3,this.c=void 0!==r?r:new $3Dmol.Vector3},$3Dmol.Triangle.prototype={constructor:$3Dmol.Triangle,copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},applyMatrix4:function(e){return this.a.applyMatrix4(e),this.b.applyMatrix4(e),this.c.applyMatrix4(e),this},getNormal:function(){var e=new $3Dmol.Vector3;return function(){var t=this.a.clone();return t.sub(this.b),e.subVectors(this.c,this.b),t.cross(e),t.normalize(),t}}()},$3Dmol.EventDispatcher=function(){var e={};this.addEventListener=function(t,r){void 0===e[t]&&(e[t]=[]),-1===e[t].indexOf(r)&&e[t].push(r)},this.removeEventListener=function(t,r){-1!==(r=e[t].indexOf(r))&&e[t].splice(r,1)},this.dispatchEvent=function(t){var r=e[t.type];if(void 0!==r){t.target=this;for(var n=0,o=r.length;n<o;n++)r[n].call(this,t)}}},$3Dmol.Color=function(e){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(e)},$3Dmol.Color.prototype={constructor:$3Dmol.Color,r:0,g:0,b:0,set:function(e){if(e instanceof $3Dmol.Color)return e.clone();"number"==typeof e?this.setHex(e):"object"==typeof e&&"r"in e&&"g"in e&&"b"in e&&(this.r=e.r,this.g=e.g,this.b=e.b)},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},getHex:function(){return Math.round(255*this.r)<<16|Math.round(255*this.g)<<8|Math.round(255*this.b)},clone:function(){return new $3Dmol.Color(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},scaled:function(){var e={};return e.r=Math.round(255*this.r),e.g=Math.round(255*this.g),e.b=Math.round(255*this.b),e.a=1,e}},$3Dmol.Object3D=function(){this.id=$3Dmol.Object3DIDCount++,this.name="",this.parent=void 0,this.children=[],this.position=new $3Dmol.Vector3,this.rotation=new $3Dmol.Vector3,this.matrix=new $3Dmol.Matrix4,this.matrixWorld=new $3Dmol.Matrix4,this.quaternion=new $3Dmol.Quaternion,this.eulerOrder="XYZ",this.up=new $3Dmol.Vector3(0,1,0),this.scale=new $3Dmol.Vector3(1,1,1),this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0},$3Dmol.Object3D.prototype={constructor:$3Dmol.Object3D,lookAt:function(e){this.matrix.lookAt(e,this.position,this.up),this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(e){if(e===this)console.error("Can't add $3Dmol.Object3D to itself");else{e.parent=this,this.children.push(e);for(var t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof $3Dmol.Scene&&t.__addObject(e)}},remove:function(e){var t=this.children.indexOf(e);if(-1!==t){for(e.parent=void 0,this.children.splice(t,1),t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof $3Dmol.Scene&&t.__removeObject(e)}},updateMatrix:function(){this.matrix.setPosition(this.position),!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){for(!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=0;e<this.children.length;e++)this.children[e].updateMatrixWorld(!0)},clone:function(e){void 0===e&&(e=new $3Dmol.Object3D),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.rotation.copy(this.rotation),e.eulerOrder=this.eulerOrder,e.scale.copy(this.scale),e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.quaternion.copy(this.quaternion),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.useQuaternion=this.useQuaternion,e.visible=this.visible;for(var t=0;t<this.children.length;t++)e.add(this.children[t].clone());return e},setVisible:function(e){this.visible=e;for(var t=0;t<this.children.length;t++)this.children[t].setVisible(e)}},$3Dmol.Object3DIDCount=0,$3Dmol.Geometry=function(){var e=function(e){this.id=e||0,this.lineArray=this.radiusArray=this.faceArray=this.normalArray=this.colorArray=this.vertexArray=null,this.lineidx=this.faceidx=this.vertices=0};e.prototype.setColors=function(e){var t=this.vertexArray,r=this.colorArray;if(t.length!=r.length)console.log("Cannot re-color geometry group due to mismatched lengths.");else for(var n=0;n<t.length;n+=3){var o=e(t[n],t[n+1],t[n+2]);o instanceof $3Dmol.Color||(o=$3Dmol.CC.color(o)),r[n]=o.r,r[n+1]=o.g,r[n+2]=o.b}},e.prototype.getNumVertices=function(){return this.vertices},e.prototype.getVertices=function(){return this.vertexArray},e.prototype.getCentroid=function(){for(var e,t,r,n=new $3Dmol.Vector3,o=0;o<this.vertices;++o)e=3*o,t=this.vertexArray[e],r=this.vertexArray[e+1],e=this.vertexArray[e+2],n.x+=t,n.y+=r,n.z+=e;return n.divideScalar(this.vertices),n},e.prototype.setNormals=function(){var e=this.faceArray,t=this.vertexArray,r=this.normalArray;if(this.vertices&&this.faceidx)for(var n,o,i,a,s,l,u=0;u<e.length/3;++u)n=3*e[3*u],o=3*e[3*u+1],i=3*e[3*u+2],a=new $3Dmol.Vector3(t[n],t[n+1],t[n+2]),s=new $3Dmol.Vector3(t[o],t[o+1],t[o+2]),l=new $3Dmol.Vector3(t[i],t[i+1],t[i+2]),a.subVectors(a,s),l.subVectors(l,s),l.cross(a),(a=l).normalize(),r[n]+=a.x,r[o]+=a.x,r[i]+=a.x,r[n+1]+=a.y,r[o+1]+=a.y,r[i+1]+=a.y,r[n+2]+=a.z,r[o+2]+=a.z,r[i+2]+=a.z},e.prototype.setLineIndices=function(){if(this.faceidx&&(!this.lineArray||this.lineArray.length!=2*this.faceidx||this.lineidx!=2*this.faceidx)){var e=this.faceArray,t=this.lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var r=0;r<this.faceidx/3;++r){var n=3*r,o=2*n,i=e[n],a=e[n+1];n=e[n+2],t[o]=i,t[o+1]=a,t[o+2]=i,t[o+3]=n,t[o+4]=a,t[o+5]=n}}},e.prototype.truncateArrayBuffers=function(e,t){e=!0===e;var r=this.colorArray,n=this.normalArray,o=this.faceArray,i=this.lineArray,a=this.radiusArray;this.vertexArray=this.vertexArray.subarray(0,3*this.vertices),this.colorArray=r.subarray(0,3*this.vertices),e?(this.normalArray=n.subarray(0,3*this.vertices),this.faceArray=o.subarray(0,this.faceidx),this.lineArray=0<this.lineidx?i.subarray(0,this.lineidx):new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),a&&(this.radiusArray=a.subarray(0,this.vertices)),t&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0};var t=function(t){var r=new e(t.geometryGroups.length);return t.geometryGroups.push(r),t.groups=t.geometryGroups.length,r.vertexArray=new Float32Array(196605),r.colorArray=new Float32Array(196605),t.mesh&&(r.normalArray=new Float32Array(196605),r.faceArray=new Uint16Array(393210),r.lineArray=new Uint16Array(393210)),t.radii&&(r.radiusArray=new Float32Array(65535)),r.useOffset=t.offset,r},r=function(e,t,r){$3Dmol.EventDispatcher.call(this),this.id=$3Dmol.GeometryIDCount++,this.name="",this.hasTangents=!1,this.dynamic=!0,this.mesh=!0===e,this.radii=t||!1,this.offset=r||!1,this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1,this.geometryGroups=[],this.groups=0};return r.prototype={constructor:r,updateGeoGroup:function(e){var r=0<this.groups?this.geometryGroups[this.groups-1]:null;return(!r||r.vertices+(e||0)>r.vertexArray.length/3)&&(r=t(this)),r},addGeoGroup:function(){return t(this)},setUpNormals:function(e){e=e||!1;for(var t=0;t<this.groups;t++)this.geometryGroups[t].setNormals(e)},setColors:function(e){for(var t=this.geometryGroups.length,r=0;r<t;r++)this.geometryGroups[r].setColors(e)},setUpWireframe:function(){for(var e=0;e<this.groups;e++)this.geometryGroups[e].setLineIndices()},initTypedArrays:function(){for(var e=0;e<this.groups;e++){var t=this.geometryGroups[e];!0!==t.__inittedArrays&&t.truncateArrayBuffers(this.mesh,!1)}},dispose:function(){this.dispatchEvent({type:"dispose"})}},r}(),Object.defineProperty($3Dmol.Geometry.prototype,"vertices",{get:function(){for(var e=0,t=0;t<this.groups;t++)e+=this.geometryGroups[t].vertices;return e}}),$3Dmol.GeometryIDCount=0,$3Dmol.Raycaster=function(){var e=function(e,t,r,n){this.ray=new $3Dmol.Ray(e,t),0<this.ray.direction.lengthSq()&&this.ray.direction.normalize(),this.near=n||0,this.far=r||1/0},t=new $3Dmol.Sphere,r=new $3Dmol.Cylinder,n=new $3Dmol.Triangle,o=new $3Dmol.Vector3,i=new $3Dmol.Vector3,a=new $3Dmol.Vector3,s=new $3Dmol.Vector3;new $3Dmol.Ray,new $3Dmol.Vector3;var l=new $3Dmol.Vector3;new $3Dmol.Matrix4;var u=function(e,t){return e.distance-t.distance};return e.prototype.precision=1e-4,e.prototype.linePrecision=.2,e.prototype.set=function(e,t){this.ray.set(e,t)},e.prototype.setFromCamera=function(){var e=new $3Dmol.Matrix4;return function(t,r){r.ortho?(this.ray.origin.set(t.x,t.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld)):(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(t.x,t.y,t.z),r.projectionMatrixInverse.getInverse(r.projectionMatrix),e.multiplyMatrices(r.matrixWorld,r.projectionMatrixInverse),this.ray.direction.applyProjection(e),this.ray.direction.sub(this.ray.origin).normalize())}}(),e.prototype.intersectObjects=function(e,c){for(var f=[],h=0,p=c.length;h<p;h++)e:{var d=e,m=c[h],v=f;if(l.getPositionFromMatrix(d.matrixWorld),void 0!==m.intersectionShape){var y=m.intersectionShape,g=this.linePrecision,b=(g*=d.matrixWorld.getMaxScaleOnAxis())*g;if(void 0!==m.boundingSphere&&m.boundingSphere instanceof $3Dmol.Sphere&&(t.copy(m.boundingSphere),t.applyMatrix4(d.matrixWorld),!this.ray.isIntersectionSphere(t)))break e;var x=0;for(g=y.triangle.length;x<g;x++)if(y.triangle[x]instanceof $3Dmol.Triangle){n.copy(y.triangle[x]),n.applyMatrix4(d.matrixWorld);var w=n.getNormal(),_=this.ray.direction.dot(w);if(!(0<=_)){o.subVectors(n.a,this.ray.origin);var D=w.dot(o)/_;if(!(0>D)){i.copy(this.ray.direction).multiplyScalar(D).add(this.ray.origin),i.sub(n.a),a.copy(n.b).sub(n.a),s.copy(n.c).sub(n.a),_=a.dot(s);var S=a.lengthSq();w=s.lengthSq(),0>(w=(S*i.dot(s)-_*i.dot(a))/(S*w-_*_))||1<w||(0>(_=(i.dot(a)-w*_)/S)||1<_||1<_+w||v.push({clickable:m,distance:D}))}}}for(x=0,g=y.cylinder.length;x<g;x++)if(y.cylinder[x]instanceof $3Dmol.Cylinder){r.copy(y.cylinder[x]),r.applyMatrix4(d.matrixWorld),o.subVectors(r.c1,this.ray.origin);var C=o.dot(r.direction);if(S=o.dot(this.ray.direction),0!==(w=1-(_=Math.min(Math.max(this.ray.direction.dot(r.direction),-1),1))*_)){var A=(_*S-C)/w,$=(S-_*C)/w;i.copy(r.direction).multiplyScalar(A).add(r.c1),a.copy(this.ray.direction).multiplyScalar($).add(this.ray.origin);var M=s.subVectors(i,a).lengthSq();M<=(A=r.radius*r.radius)&&(0>(_=_*(w=D=0>=(A=(_*C-S)*(_*C-S)-w*(o.lengthSq()-C*C-A))?Math.sqrt(M):(S-_*C-Math.sqrt(A))/w)-C)||_*_>r.lengthSq()||0>w||v.push({clickable:m,distance:D}))}}for(x=0,g=y.line.length;x<g;x+=2)i.copy(y.line[x]),i.applyMatrix4(d.matrixWorld),a.copy(y.line[x+1]),a.applyMatrix4(d.matrixWorld),s.subVectors(a,i),C=s.lengthSq(),s.normalize(),o.subVectors(i,this.ray.origin),M=o.dot(s),S=o.dot(this.ray.direction),0!==(w=1-(_=Math.min(Math.max(this.ray.direction.dot(s),-1),1))*_)&&(A=(_*S-M)/w,$=(S-_*M)/w,i.add(s.multiplyScalar(A)),a.copy(this.ray.direction).multiplyScalar($).add(this.ray.origin),(M=s.subVectors(a,i).lengthSq())<b&&A*A<C&&v.push({clickable:m,distance:$}));for(x=0,g=y.sphere.length;x<g;x++)if(y.sphere[x]instanceof $3Dmol.Sphere&&(t.copy(y.sphere[x]),t.applyMatrix4(d.matrixWorld),this.ray.isIntersectionSphere(t))){if(i.subVectors(t.center,this.ray.origin),A=(d=i.dot(this.ray.direction))*d-(i.lengthSq()-t.radius*t.radius),0>d)break e;D=0>=A?d:d-Math.sqrt(A),v.push({clickable:m,distance:D});break e}}}return f.sort(u),f},e}(),$3Dmol.Projector=function(){new $3Dmol.Matrix4;var e=new $3Dmol.Matrix4;this.projectVector=function(t,r){return r.matrixWorldInverse.getInverse(r.matrixWorld),e.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),t.applyProjection(e)},this.unprojectVector=function(t,r){return r.projectionMatrixInverse.getInverse(r.projectionMatrix),e.multiplyMatrices(r.matrixWorld,r.projectionMatrixInverse),t.applyProjection(e)}},$3Dmol.Camera=function(e,t,r,n,o){$3Dmol.Object3D.call(this),this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.projectionMatrix=new $3Dmol.Matrix4,this.projectionMatrixInverse=new $3Dmol.Matrix4,this.matrixWorldInverse=new $3Dmol.Matrix4,this.right=this.position.z*Math.tan(Math.PI/180*e),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!o,this.updateProjectionMatrix()},$3Dmol.Camera.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Camera.prototype.lookAt=function(e){this.matrix.lookAt(this.position,e,this.up),this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))},$3Dmol.Camera.prototype.updateProjectionMatrix=function(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},$3Dmol.SpritePlugin=function(){function e(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var t,r,n,o,i,a,s,l,u,c;this.init=function(e){t=e.context,r=e,n=e.getPrecision(),o=new Float32Array(16),i=new Uint16Array(6),e=0,o[e++]=-1,o[e++]=-1,o[e++]=0,o[e++]=0,o[e++]=1,o[e++]=-1,o[e++]=1,o[e++]=0,o[e++]=1,o[e++]=1,o[e++]=1,o[e++]=1,o[e++]=-1,o[e++]=1,o[e++]=0,o[e++]=1,e=0,i[e++]=0,i[e++]=1,i[e++]=2,i[e++]=0,i[e++]=2,i[e++]=3,a=t.createBuffer(),s=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),e=$3Dmol.ShaderLib.sprite;var f=n,h=t.createProgram(),p=t.createShader(t.FRAGMENT_SHADER),d=t.createShader(t.VERTEX_SHADER);f="precision "+f+" float;\n",t.shaderSource(p,f+e.fragmentShader),t.shaderSource(d,f+e.vertexShader),t.compileShader(p),t.compileShader(d),t.getShaderParameter(p,t.COMPILE_STATUS)&&t.getShaderParameter(d,t.COMPILE_STATUS)?(t.attachShader(h,p),t.attachShader(h,d),t.linkProgram(h),t.getProgramParameter(h,t.LINK_STATUS)||console.error("Could not initialize shader"),e=h):(console.error(t.getShaderInfoLog(p)),console.error("could not initialize shader"),e=null),l=e,c={},(u={}).position=t.getAttribLocation(l,"position"),u.uv=t.getAttribLocation(l,"uv"),c.uvOffset=t.getUniformLocation(l,"uvOffset"),c.uvScale=t.getUniformLocation(l,"uvScale"),c.rotation=t.getUniformLocation(l,"rotation"),c.scale=t.getUniformLocation(l,"scale"),c.alignment=t.getUniformLocation(l,"alignment"),c.color=t.getUniformLocation(l,"color"),c.map=t.getUniformLocation(l,"map"),c.opacity=t.getUniformLocation(l,"opacity"),c.useScreenCoordinates=t.getUniformLocation(l,"useScreenCoordinates"),c.screenPosition=t.getUniformLocation(l,"screenPosition"),c.modelViewMatrix=t.getUniformLocation(l,"modelViewMatrix"),c.projectionMatrix=t.getUniformLocation(l,"projectionMatrix"),c.fogType=t.getUniformLocation(l,"fogType"),c.fogDensity=t.getUniformLocation(l,"fogDensity"),c.fogNear=t.getUniformLocation(l,"fogNear"),c.fogFar=t.getUniformLocation(l,"fogFar"),c.fogColor=t.getUniformLocation(l,"fogColor"),c.alphaTest=t.getUniformLocation(l,"alphaTest")},this.render=function(n,o,i,f){var h=n.__webglSprites,p=h.length;if(p){var d=u,m=c,v=.5*i,y=.5*f;if(t.useProgram(l),t.enableVertexAttribArray(d.position),t.enableVertexAttribArray(d.uv),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,a),t.vertexAttribPointer(d.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(d.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s),t.uniformMatrix4fv(m.projectionMatrix,!1,o.projectionMatrix.elements),t.activeTexture(t.TEXTURE0),t.uniform1i(m.map,0),d=n.fog){t.uniform3f(m.fogColor,d.color.r,d.color.g,d.color.b),t.uniform1f(m.fogNear,d.near),t.uniform1f(m.fogFar,d.far),t.uniform1i(m.fogType,1);var g=d=1}else t.uniform1i(m.fogType,0),g=d=0;var b,x=[];for(b=0;b<p;b++){var w=h[b],_=w.material;w.visible&&0!==_.opacity&&(_.useScreenCoordinates?w.z=-w.position.z:(w._modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,w.matrixWorld),w.z=-w._modelViewMatrix.elements[14]))}for(h.sort(e),b=0;b<p;b++)_=(w=h[b]).material,w.visible&&0!==_.opacity&&_.map&&_.map.image&&_.map.image.width&&(t.uniform1f(m.alphaTest,_.alphaTest),o=_.map.image.height,x[0]=_.map.image.width*r.devicePixelRatio/i,x[1]=o*r.devicePixelRatio/f,!0===_.useScreenCoordinates?(t.uniform1i(m.useScreenCoordinates,1),t.uniform3f(m.screenPosition,(w.position.x*r.devicePixelRatio-v)/v,(y-w.position.y*r.devicePixelRatio)/y,Math.max(0,Math.min(1,w.position.z)))):(t.uniform1i(m.useScreenCoordinates,0),t.uniformMatrix4fv(m.modelViewMatrix,!1,w._modelViewMatrix.elements)),d!==(o=n.fog&&_.fog?g:0)&&(t.uniform1i(m.fogType,o),d=o),o=1/(_.scaleByViewport?f:1),x[0]=x[0]*o*w.scale.x,x[1]=x[1]*o*w.scale.y,t.uniform2f(m.uvScale,_.uvScale.x,_.uvScale.y),t.uniform2f(m.uvOffset,_.uvOffset.x,_.uvOffset.y),t.uniform2f(m.alignment,_.alignment.x,_.alignment.y),t.uniform1f(m.opacity,_.opacity),t.uniform3f(m.color,_.color.r,_.color.g,_.color.b),t.uniform1f(m.rotation,w.rotation),t.uniform2fv(m.scale,x),r.setDepthTest(_.depthTest),r.setDepthWrite(_.depthWrite),r.setTexture(_.map,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0));t.enable(t.CULL_FACE)}}},$3Dmol.Light=function(e,t){$3Dmol.Object3D.call(this),this.color=new $3Dmol.Color(e),this.position=new $3Dmol.Vector3(0,1,0),this.target=new $3Dmol.Object3D,this.intensity=void 0!==t?t:1,this.onlyShadow=this.castShadow=!1},$3Dmol.Light.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Material=function(){$3Dmol.EventDispatcher.call(this),this.id=$3Dmol.MaterialIdCount++,this.name="",this.side=$3Dmol.FrontSide,this.opacity=1,this.transparent=!1,this.stencilTest=this.depthWrite=this.depthTest=!0,this.polygonOffset=!1,this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.needsUpdate=this.visible=!0},$3Dmol.Material.prototype.setValues=function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0===r)console.warn("$3Dmol.Material: '"+t+"' parameter is undefined.");else if(t in this){var n=this[t];n instanceof $3Dmol.Color&&r instanceof $3Dmol.Color?n.copy(r):n instanceof $3Dmol.Color?n.set(r):n instanceof $3Dmol.Vector3&&r instanceof $3Dmol.Vector3?n.copy(r):this[t]=r}}},$3Dmol.Material.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.stencilTest=this.stencilTest,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},$3Dmol.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},$3Dmol.MaterialIdCount=0,$3Dmol.LineBasicMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(e)},$3Dmol.LineBasicMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.LineBasicMaterial.prototype.clone=function(){var e=new $3Dmol.LineBasicMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e},$3Dmol.MeshLambertMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.ambient=new $3Dmol.Color(1048575),this.emissive=new $3Dmol.Color(0),this.wrapAround=!1,this.wrapRGB=new $3Dmol.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.shading=$3Dmol.SmoothShading,this.shaderID="lambert",this.vertexColors=$3Dmol.NoColors,this.skinning=!1,this.setValues(e)},$3Dmol.MeshLambertMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.MeshLambertMaterial.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.MeshLambertMaterial),$3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},$3Dmol.MeshDoubleLambertMaterial=function(e){$3Dmol.MeshLambertMaterial.call(this,e),this.shaderID="lambertdouble",this.side=$3Dmol.DoubleSide},$3Dmol.MeshDoubleLambertMaterial.prototype=Object.create($3Dmol.MeshLambertMaterial.prototype),$3Dmol.MeshDoubleLambertMaterial.prototype.clone=function(){var e=new $3Dmol.MeshDoubleLambertMaterial;return $3Dmol.MeshLambertMaterial.prototype.clone.call(this,e),e},$3Dmol.MeshOutlineMaterial=function(e){$3Dmol.Material.call(this),e=e||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=e.color||new $3Dmol.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1},$3Dmol.MeshOutlineMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.MeshOutlineMaterial.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.MeshOutlineMaterial),$3Dmol.Material.prototype.clone.call(this,e),e.fog=this.fog,e.shaderID=this.shaderID,e.wireframe=this.wireframe,e},$3Dmol.ImposterMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.ambient=new $3Dmol.Color(1048575),this.emissive=new $3Dmol.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new $3Dmol.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.shading=$3Dmol.SmoothShading,this.shaderID=null,this.vertexColors=$3Dmol.NoColors,this.skinning=!1,this.setValues(e)},$3Dmol.ImposterMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.ImposterMaterial.prototype.clone=function(){var e=new $3Dmol.ImposterMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},$3Dmol.SphereImposterMaterial=function(e){$3Dmol.ImposterMaterial.call(this),this.shaderID="sphereimposter",this.setValues(e)},$3Dmol.SphereImposterMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.SphereImposterMaterial.prototype.clone=function(){var e=new $3Dmol.SphereImposterMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e},$3Dmol.SphereImposterOutlineMaterial=function(e){$3Dmol.ImposterMaterial.call(this),e=e||{},this.shaderID="sphereimposteroutline",this.outlineColor=e.color||new $3Dmol.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1,this.setValues(e)},$3Dmol.SphereImposterOutlineMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.SphereImposterOutlineMaterial.prototype.clone=function(){var e=new $3Dmol.SphereImposterOutlineMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.outlinePushback=this.outlinePushback,e},$3Dmol.StickImposterMaterial=function(e){$3Dmol.ImposterMaterial.call(this),this.shaderID="stickimposter",this.setValues(e)},$3Dmol.StickImposterMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.StickImposterMaterial.prototype.clone=function(){var e=new $3Dmol.StickImposterMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e},$3Dmol.StickImposterOutlineMaterial=function(e){$3Dmol.ImposterMaterial.call(this),e=e||{},this.shaderID="stickimposteroutline",this.outlineColor=e.color||new $3Dmol.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1,this.setValues(e)},$3Dmol.StickImposterOutlineMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.StickImposterOutlineMaterial.prototype.clone=function(){var e=new $3Dmol.StickImposterOutlineMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.outlinePushback=this.outlinePushback,e},$3Dmol.InstancedMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.ambient=new $3Dmol.Color(1048575),this.emissive=new $3Dmol.Color(0),this.wrapAround=!1,this.wrapRGB=new $3Dmol.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.shading=$3Dmol.SmoothShading,this.shaderID="instanced",this.vertexColors=$3Dmol.NoColors,this.skinning=!1,this.sphere=null,this.setValues(e)},$3Dmol.InstancedMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.InstancedMaterial.prototype.clone=function(){var e=new $3Dmol.InstancedMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e.sphere=this.sphere,e},$3Dmol.SpriteMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.map=new $3Dmol.Texture,this.useScreenCoordinates=!0,this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=$3Dmol.SpriteAlignment.center.clone(),this.fog=!1,this.uvOffset=new $3Dmol.Vector2(0,0),this.uvScale=new $3Dmol.Vector2(1,1),this.setValues(e),void 0===(e=e||{}).depthTest&&(this.depthTest=!this.useScreenCoordinates),void 0===e.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates),void 0===e.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)},$3Dmol.SpriteMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.SpriteMaterial.prototype.clone=function(){var e=new $3Dmol.SpriteMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.useScreenCoordinates=useScreenCoordinates,e.sizeAttenuation=this.sizeAttenuation,e.scaleByViewport=this.scaleByViewPort,e.alignment.copy(this.alignment),e.uvOffset.copy(this.uvOffset),e},$3Dmol.SpriteAlignment={},$3Dmol.SpriteAlignment.topLeft=new $3Dmol.Vector2(1,-1),$3Dmol.SpriteAlignment.topCenter=new $3Dmol.Vector2(0,-1),$3Dmol.SpriteAlignment.topRight=new $3Dmol.Vector2(-1,-1),$3Dmol.SpriteAlignment.centerLeft=new $3Dmol.Vector2(1,0),$3Dmol.SpriteAlignment.center=new $3Dmol.Vector2(0,0),$3Dmol.SpriteAlignment.centerRight=new $3Dmol.Vector2(-1,0),$3Dmol.SpriteAlignment.bottomLeft=new $3Dmol.Vector2(1,1),$3Dmol.SpriteAlignment.bottomCenter=new $3Dmol.Vector2(0,1),$3Dmol.SpriteAlignment.bottomRight=new $3Dmol.Vector2(-1,1),$3Dmol.Texture=function(e){$3Dmol.EventDispatcher.call(this),this.id=$3Dmol.TextureIdCount++,this.name="",this.image=e,this.mipmaps=[],this.mapping=new $3Dmol.UVMapping,this.wrapT=this.wrapS=$3Dmol.ClampToEdgeWrapping,this.magFilter=$3Dmol.LinearFilter,this.minFilter=$3Dmol.LinearMipMapLinearFilter,this.anisotropy=1,this.format=$3Dmol.RGBAFormat,this.type=$3Dmol.UnsignedByteType,this.offset=new $3Dmol.Vector2(0,0),this.repeat=new $3Dmol.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.needsUpdate=!1,this.onUpdate=null},$3Dmol.Texture.prototype={constructor:$3Dmol.Texture,clone:function(e){return void 0===e&&(e=new $3Dmol.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},$3Dmol.TextureIdCount=0,$3Dmol.FrontSide=0,$3Dmol.BackSide=1,$3Dmol.DoubleSide=2,$3Dmol.NoShading=0,$3Dmol.FlatShading=1,$3Dmol.SmoothShading=2,$3Dmol.NoColors=0,$3Dmol.FaceColors=1,$3Dmol.VertexColors=2,$3Dmol.MultiplyOperation=0,$3Dmol.MixOperation=1,$3Dmol.AddOperation=2,$3Dmol.UVMapping=function(){},$3Dmol.ClampToEdgeWrapping=1001,$3Dmol.LinearFilter=1006,$3Dmol.LinearMipMapLinearFilter=1008,$3Dmol.UnsignedByteType=1009,$3Dmol.RGBAFormat=1021,$3Dmol.Line=function(e,t,r){$3Dmol.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new $3Dmol.LineBasicMaterial({color:16777215*Math.random()}),this.type=void 0!==r?r:$3Dmol.LineStrip},$3Dmol.LineStrip=0,$3Dmol.LinePieces=1,$3Dmol.Line.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Line.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Line(this.geometry,this.material,this.type)),$3Dmol.Object3D.prototype.clone.call(this,e),e},$3Dmol.Mesh=function(e,t){$3Dmol.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new $3Dmol.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})},$3Dmol.Mesh.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Mesh.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Mesh(this.geometry,this.material)),$3Dmol.Object3D.prototype.clone.call(this,e),e},$3Dmol.Sprite=function(e){$3Dmol.Object3D.call(this),this.material=void 0!==e?e:new $3Dmol.SpriteMaterial,this.rotation3d=this.rotation,this.rotation=0},$3Dmol.Sprite.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0},$3Dmol.Sprite.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Sprite(this.material)),$3Dmol.Object3D.prototype.clone.call(this,e),e},$3Dmol.Renderer=function(e){function t(e){P[e]||(b.enableVertexAttribArray(e),P[e]=!0)}function r(e,t){var r;return"fragment"===e?r=b.createShader(b.FRAGMENT_SHADER):"vertex"===e&&(r=b.createShader(b.VERTEX_SHADER)),b.shaderSource(r,t),b.compileShader(r),b.getShaderParameter(r,b.COMPILE_STATUS)?r:(console.error(b.getShaderInfoLog(r)),console.error("could not initialize shader"),null)}function n(e,t,r,n,o,i,a,s){if(t){var l=e.length-1;s=t=-1}else l=0,t=e.length,s=1;for(var u=l;u!==t;u+=s){var c=e[u];if(c.render){l=c.object;var f=c.buffer;if(c=c[r]){a&&x.setBlending(!0),x.setDepthTest(c.depthTest),x.setDepthWrite(c.depthWrite);var h=c.polygonOffset;null!==h&&(h?b.enable(b.POLYGON_OFFSET_FILL):b.disable(b.POLYGON_OFFSET_FILL)),h=l._modelViewMatrix.isReflected(),x.setMaterialFaces(c,h),x.renderBuffer(n,o,i,c,f,l),(g||c.outline)&&("sphereimposter"==c.shaderID?x.renderBuffer(n,o,i,v,f,l):"stickimposter"==c.shaderID?x.renderBuffer(n,o,i,y,f,l):c.wireframe||"basic"===c.shaderID||0===c.opacity||x.renderBuffer(n,o,i,m,f,l))}}}}function o(e){return 0==(e&e-1)}function i(e){return e===$3Dmol.UnsignedByteType?b.UNSIGNED_BYTE:e===$3Dmol.RGBAFormat?b.RGBA:0}e=e||{},this.row=e.row,this.col=e.col,this.rows=e.rows,this.cols=e.cols;var a=void 0!==e.canvas?e.canvas:document.createElement("canvas"),s=void 0!==e.precision?e.precision:"highp",l=void 0===e.alpha||e.alpha,u=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.antialias&&e.antialias,f=void 0===e.stencil||e.stencil,h=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,p=void 0!==e.clearColor?new $3Dmol.Color(e.clearColor):new $3Dmol.Color(0),d=void 0!==e.clearAlpha?e.clearAlpha:0,m=new $3Dmol.MeshOutlineMaterial(e.outline),v=new $3Dmol.SphereImposterOutlineMaterial(e.outline),y=new $3Dmol.StickImposterOutlineMaterial(e.outline),g=!!e.outline;this.domElement=a,this.context=null,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,a.id=e.id,this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.renderPluginsPost=[],this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var b,x=this,w=[],_=0,D=null,S=-1,C=null,A=null,$=0,M=-1,T=-1,z=-1,E=-1,L=null,k=0,I=0,O=0,j=0,P={},N=new $3Dmol.Matrix4,F=new $3Dmol.Vector3,R=new $3Dmol.Vector3,q=!0,V=[],B=[];try{if(!(b=a.getContext("experimental-webgl",{alpha:l,premultipliedAlpha:u,antialias:c,stencil:f,preserveDrawingBuffer:h}))&&!(b=a.getContext("webgl",{alpha:l,premultipliedAlpha:u,antialias:c,stencil:f,preserveDrawingBuffer:h})))throw"Error creating WebGL context."}catch(e){console.error(e)}b.clearColor(0,0,0,1),b.clearDepth(1),b.clearStencil(0),b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL),b.frontFace(b.CCW),b.cullFace(b.BACK),b.enable(b.CULL_FACE),b.enable(b.BLEND),b.blendEquation(b.FUNC_ADD),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA),b.clearColor(p.r,p.g,p.b,d),this.context=b;var U=b.getExtension("ANGLE_instanced_arrays"),H=b.getExtension("EXT_frag_depth");this.supportedExtensions=function(){return{supportsAIA:!!U,supportsImposters:!!H}},this.getContext=function(){return b},this.getPrecision=function(){return s},this.setClearColorHex=function(e,t){p.setHex(e),d=t,b.clearColor(p.r,p.g,p.b,d)},this.enableOutline=function(e){m=new $3Dmol.MeshOutlineMaterial(e),v=new $3Dmol.SphereImposterOutlineMaterial(e),y=new $3Dmol.StickImposterOutlineMaterial(e),g=!0},this.disableOutline=function(){g=!1},this.setViewport=function(){if(void 0!=this.rows&&void 0!=this.cols&&void 0!=this.row&&void 0!=this.col){var e=a.width/this.cols,t=a.height/this.rows;k=e*this.devicePixelRatio,I=t*this.devicePixelRatio,b.drawingBufferWidth=3*k,b.drawingBufferHeight=I,b.enable(b.SCISSOR_TEST),b.scissor(e*this.col,t*this.row,e,t),b.viewport(e*this.col,t*this.row,e,t)}},this.setSize=function(e,t){if(void 0!=this.rows&&void 0!=this.cols&&void 0!=this.row&&void 0!=this.col){var r=e/this.cols,n=t/this.rows;a.width=e*this.devicePixelRatio,a.height=t*this.devicePixelRatio,k=r*this.devicePixelRatio,I=n*this.devicePixelRatio,a.style.width=e+"px",a.style.height=t+"px",this.setViewport()}else k=a.width=e*this.devicePixelRatio,I=a.height=t*this.devicePixelRatio,a.style.width=e+"px",a.style.height=t+"px",b.viewport(0,0,b.drawingBufferWidth,b.drawingBufferHeight)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=b.COLOR_BUFFER_BIT),(void 0===t||t)&&(n|=b.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=b.STENCIL_BUFFER_BIT),b.clear(n)},this.clearTarget=function(e,t,r){this.clear(e,t,r)},this.setMaterialFaces=function(e,t){var r=e.side===$3Dmol.DoubleSide;e=e.side===$3Dmol.BackSide,e=t?!e:e,M!==r&&(r?b.disable(b.CULL_FACE):b.enable(b.CULL_FACE),M=r),T!==e&&(e?b.frontFace(b.CW):b.frontFace(b.CCW),T=e)},this.setDepthTest=function(e){z!==e&&(e?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST),z=e)},this.setDepthWrite=function(e){E!==e&&(b.depthMask(e),E=e)},this.setBlending=function(e){e?(b.enable(b.BLEND),b.blendEquationSeparate(b.FUNC_ADD,b.FUNC_ADD),b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA)):b.disable(b.BLEND)},this.addPostPlugin=function(e){e.init(this),this.renderPluginsPost.push(e)};var G=function(e){if((e=e.target).removeEventListener("dispose",G),e.__webglInit=void 0,void 0!==e.__webglVertexBuffer&&b.deleteBuffer(e.__webglVertexBuffer),void 0!==e.__webglColorBuffer&&b.deleteBuffer(e.__webglColorBuffer),void 0!==e.geometryGroups)for(var t=0,r=e.groups;t<r;t++){var n=e.geometryGroups[t];void 0!==n.__webglVertexBuffer&&b.deleteBuffer(n.__webglVertexBuffer),void 0!==n.__webglColorBuffer&&b.deleteBuffer(n.__webglColorBuffer),void 0!==n.__webglNormalBuffer&&b.deleteBuffer(n.__webglNormalBuffer),void 0!==n.__webglFaceBuffer&&b.deleteBuffer(n.__webglFaceBuffer),void 0!==n.__webglLineBuffer&&b.deleteBuffer(n.__webglLineBuffer)}x.info.memory.geometries--},W=function(e){(e=e.target).removeEventListener("dispose",W),e.image&&e.image.__webglTextureCube?b.deleteTexture(e.image.__webglTextureCube):e.__webglInit&&(e.__webglInit=!1,b.deleteTexture(e.__webglTexture)),x.info.memory.textures--},Y=function(e){(e=e.target).removeEventListener("dispose",Y),X(e)},X=function(e){var t=e.program;if(void 0!==t){e.program=void 0;var r,n=!1;for(e=0,r=w.length;e<r;e++){var o=w[e];if(o.program===t){o.usedTimes--,0===o.usedTimes&&(n=!0);break}}if(!0===n){for(n=[],e=0,r=w.length;e<r;e++)(o=w[e]).program!==t&&n.push(o);w=n,b.deleteProgram(t),x.info.memory.programs--}}};this.initMaterial=function(e,t,n,o){e.addEventListener("dispose",Y),(t=e.shaderID)&&(t=$3Dmol.ShaderLib[t],e.vertexShader=t.vertexShader,e.fragmentShader=t.fragmentShader,e.uniforms=$3Dmol.ShaderUtils.clone(t.uniforms));e:{var i=e.fragmentShader;o=e.vertexShader,n=e.uniforms;var a,l={wireframe:e.wireframe,fragdepth:e.imposter};for(u in(t=[]).push(i),t.push(o),l)t.push(u),t.push(l[u]);t=t.join();var u=0;for(a=w.length;u<a;u++){var c=w[u];if(c.code===t){c.usedTimes++;var f=c.program;break e}}for(f in u=b.createProgram(),a=""+(c="precision "+s+" float;"),i=r("fragment",(l=[l.fragdepth?"#extension GL_EXT_frag_depth: enable":"",l.wireframe?"#define WIREFRAME 1":"",c].join("\n"))+i),o=r("vertex",a+o),b.attachShader(u,o),b.attachShader(u,i),b.linkProgram(u),b.getProgramParameter(u,b.LINK_STATUS)||console.error("Could not initialize shader"),u.uniforms={},u.attributes={},o=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"],n)o.push(f);for(f=0;f<o.length;f++)n=o[f],u.uniforms[n]=b.getUniformLocation(u,n);for(o="position normal color lineDistance offset radius".split(" "),f=0;f<o.length;f++)n=o[f],u.attributes[n]=b.getAttribLocation(u,n);u.id=_++,w.push({program:u,code:t,usedTimes:1}),x.info.memory.programs=w.length,f=u}e.program=f},this.renderBuffer=function(e,r,n,o,i,a){if(o.visible){o.needsUpdate&&(o.program&&X(o),x.initMaterial(o,r,n,a),o.needsUpdate=!1);var s=!1,l=o.program,u=l.uniforms,c=o.uniforms;if(l!=D&&(b.useProgram(l),D=l,s=!0),o.id!=S&&(S=o.id,s=!0),e!=A&&(A=e,s=!0),b.uniformMatrix4fv(u.projectionMatrix,!1,e.projectionMatrix.elements),b.uniformMatrix4fv(u.modelViewMatrix,!1,a._modelViewMatrix.elements),b.uniformMatrix3fv(u.normalMatrix,!1,a._normalMatrix.elements),s){if(c.fogColor.value=n.color,c.fogNear.value=n.near,c.fogFar.value=n.far,o.shaderID.startsWith("lambert")||"instanced"===o.shaderID||o.shaderID.endsWith("imposter")){if(b.uniformMatrix4fv(u.viewMatrix,!1,e.matrixWorldInverse.elements),q){var f=0;for(e=0,n=r.length;e<n;e++){var h=(s=r[e]).color,p=s.intensity;s instanceof $3Dmol.Light&&(0,R.getPositionFromMatrix(s.matrixWorld),F.getPositionFromMatrix(s.target.matrixWorld),R.sub(F),R.normalize(),0!==R.x||0!==R.y||0!==R.z)&&(B[f]=R.x,B[f+1]=R.y,B[f+2]=R.z,V[f]=h.r*p,V[f+1]=h.g*p,V[f+2]=h.b*p,f+=3,0)}q=!1}c.directionalLightColor.value=V,c.directionalLightDirection.value=B}else o.shaderID.endsWith("outline")?(c.outlineColor.value=o.outlineColor,c.outlineWidth.value=o.outlineWidth,c.outlinePushback.value=o.outlinePushback):"sphereimposter"===o.shaderID&&(b.uniformMatrix4fv(u.viewMatrix,!1,e.matrixWorldInverse.elements),b.uniformMatrix3fv(u.normalMatrix,!1,a._normalMatrix.elements),c.directionalLightColor.value=V,c.directionalLightDirection.value=B);for(var d in c.opacity.value=o.opacity,c)u[d]&&(r=c[d].type,e=c[d].value,n=u[d],"f"===r?b.uniform1f(n,e):"fv"===r?b.uniform3fv(n,e):"c"===r?b.uniform3f(n,e.r,e.g,e.b):"f4"===r&&b.uniform4f(n,e[0],e[1],e[2],e[3]))}if(c=l.attributes,u=!1,(l=16777215*i.id+2*l.id+(o.wireframe?1:0))!==C&&(C=l,u=!0),u){for(var m in P)P[m]&&(b.disableVertexAttribArray(m),P[m]=!1);0<=c.position&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglVertexBuffer),t(c.position),b.vertexAttribPointer(c.position,3,b.FLOAT,!1,0,0)),0<=c.color&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglColorBuffer),t(c.color),b.vertexAttribPointer(c.color,3,b.FLOAT,!1,0,0)),0<=c.normal&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglNormalBuffer),t(c.normal),b.vertexAttribPointer(c.normal,3,b.FLOAT,!1,0,0)),0<=c.offset&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglOffsetBuffer),t(c.offset),b.vertexAttribPointer(c.offset,3,b.FLOAT,!1,0,0)),0<=c.radius&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglRadiusBuffer),t(c.radius),b.vertexAttribPointer(c.radius,1,b.FLOAT,!1,0,0))}if(a instanceof $3Dmol.Mesh){if("instanced"===o.shaderID){var v=o.sphere.geometryGroups[0];u&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglVertexBuffer),b.bufferData(b.ARRAY_BUFFER,v.vertexArray,b.STATIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,i.__webglNormalBuffer),b.bufferData(b.ARRAY_BUFFER,v.normalArray,b.STATIC_DRAW),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,i.__webglFaceBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,v.faceArray,b.STATIC_DRAW)),v=v.faceidx,U.vertexAttribDivisorANGLE(c.offset,1),U.vertexAttribDivisorANGLE(c.radius,1),U.vertexAttribDivisorANGLE(c.color,1),U.drawElementsInstancedANGLE(b.TRIANGLES,v,b.UNSIGNED_SHORT,0,i.radiusArray.length),U.vertexAttribDivisorANGLE(c.offset,0),U.vertexAttribDivisorANGLE(c.radius,0),U.vertexAttribDivisorANGLE(c.color,0)}else o.wireframe?(a=i.lineidx,(o=o.wireframeLinewidth)!==L&&(b.lineWidth(o),L=o),u&&b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,i.__webglLineBuffer),b.drawElements(b.LINES,a,b.UNSIGNED_SHORT,0)):(v=i.faceidx,u&&b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,i.__webglFaceBuffer),b.drawElements(b.TRIANGLES,v,b.UNSIGNED_SHORT,0));x.info.render.calls++,x.info.render.vertices+=v,x.info.render.faces+=v/3}else a instanceof $3Dmol.Line&&(a=i.vertices,(i=o.linewidth)!==L&&(b.lineWidth(i),L=i),b.drawArrays(b.LINES,0,a),x.info.render.calls++)}},this.render=function(e,t,r){if(!1==t instanceof $3Dmol.Camera)console.error("$3Dmol.Renderer.render: camera is not an instance of $3Dmol.Camera.");else{var o,i=e.__lights,a=e.fog;S=-1,q=!0,this.autoUpdateScene&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),N.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(e),x.info.render.calls=0,x.info.render.vertices=0,x.info.render.faces=0,x.info.render.points=0,O=k,j=I,this.setViewport(),(this.autoClear||r)&&(b.clearColor(p.r,p.g,p.b,d),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil));var s=e.__webglObjects;for(r=0,o=s.length;r<o;r++){var l=s[r],u=l.object;if(l.render=!1,u.visible){u._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,u.matrixWorld),u._normalMatrix.getInverse(u._modelViewMatrix),u._normalMatrix.transpose();var c=(u=l).object.material;c.transparent?(u.opaque=null,u.transparent=c,c.wireframe||((c=c.clone()).opacity=0,u.blank=c)):(u.opaque=c,u.transparent=null),l.render=!0}}if(this.setBlending(!1),n(e.__webglObjects,!0,"opaque",t,i,a,!1,null),n(e.__webglObjects,!0,"blank",t,i,a,!0,null),n(e.__webglObjects,!1,"transparent",t,i,a,!0,null),i=this.renderPluginsPost,C=-1,A=D=null,T=S=M=z=E=-1,i.length)for(a=0,r=i.length;a<r;a++)q=!0,i[a].render(e,t,O,j),C=-1,A=D=null,T=S=M=z=E=-1;this.setDepthTest(!0),this.setDepthWrite(!0)}},this.initWebGLObjects=function(e){if(e.__webglObjects||(e.__webglObjects=[],e.__webglObjectsImmediate=[],e.__webglSprites=[],e.__webglFlares=[]),e.__objectsAdded.length){for(;e.__objectsAdded.length;){var t,r=e.__objectsAdded[0],n=e;if(!r.__webglInit&&(r.__webglInit=!0,r._modelViewMatrix=new $3Dmol.Matrix4,r._normalMatrix=new $3Dmol.Matrix3,void 0!==r.geometry&&void 0===r.geometry.__webglInit&&(r.geometry.__webglInit=!0,r.geometry.addEventListener("dispose",G)),r instanceof $3Dmol.Mesh||r instanceof $3Dmol.Line)){var o=r.geometry,i=0;for(t=o.geometryGroups.length;i<t;i++){var a=o.geometryGroups[i];a.id=$++,a.__webglVertexBuffer||(r instanceof $3Dmol.Mesh?(a.radiusArray&&(a.__webglRadiusBuffer=b.createBuffer()),a.useOffset&&(a.__webglOffsetBuffer=b.createBuffer()),a.__webglVertexBuffer=b.createBuffer(),a.__webglNormalBuffer=b.createBuffer(),a.__webglColorBuffer=b.createBuffer(),a.__webglFaceBuffer=b.createBuffer(),a.__webglLineBuffer=b.createBuffer(),x.info.memory.geometries++,o.elementsNeedUpdate=!0,o.normalsNeedUpdate=!0):r instanceof $3Dmol.Line&&(a.__webglVertexBuffer=b.createBuffer(),a.__webglColorBuffer=b.createBuffer(),x.info.memory.geometries++),o.verticesNeedUpdate=!0,o.colorsNeedUpdate=!0)}}if(!r.__webglActive){if(r instanceof $3Dmol.Mesh||r instanceof $3Dmol.Line)for(i=0,t=(o=r.geometry).geometryGroups.length;i<t;i++)a=o.geometryGroups[i],n.__webglObjects.push({buffer:a,object:r,opaque:null,transparent:null});else r instanceof $3Dmol.Sprite&&n.__webglSprites.push(r);r.__webglActive=!0}e.__objectsAdded.splice(0,1)}C=-1}for(;e.__objectsRemoved.length;){if(t=e,(o=e.__objectsRemoved[0])instanceof $3Dmol.Mesh||o instanceof $3Dmol.Line)for(i=o,r=(t=t.__webglObjects).length-1;0<=r;--r)t[r].object===i&&t.splice(r,1);else if(o instanceof $3Dmol.Sprite)for(i=o,r=(t=t.__webglSprites).length-1;0<=r;--r)t[r]===i&&t.splice(r,1);o.__webglActive=!1,e.__objectsRemoved.splice(0,1)}for(o=0,t=e.__webglObjects.length;o<t;o++)if(i=(r=e.__webglObjects[o].object).geometry,r instanceof $3Dmol.Mesh||r instanceof $3Dmol.Line){for(r=0,n=i.geometryGroups.length;r<n;r++)if(a=i.geometryGroups[r],i.verticesNeedUpdate||i.elementsNeedUpdate||i.colorsNeedUpdate||i.normalsNeedUpdate){var s=b.STATIC_DRAW,l=a.vertexArray,u=a.colorArray;void 0!==a.__webglOffsetBuffer?b.bindBuffer(b.ARRAY_BUFFER,a.__webglOffsetBuffer):b.bindBuffer(b.ARRAY_BUFFER,a.__webglVertexBuffer),b.bufferData(b.ARRAY_BUFFER,l,s),b.bindBuffer(b.ARRAY_BUFFER,a.__webglColorBuffer),b.bufferData(b.ARRAY_BUFFER,u,s),a.normalArray&&void 0!==a.__webglNormalBuffer&&(l=a.normalArray,b.bindBuffer(b.ARRAY_BUFFER,a.__webglNormalBuffer),b.bufferData(b.ARRAY_BUFFER,l,s)),a.radiusArray&&void 0!==a.__webglRadiusBuffer&&(b.bindBuffer(b.ARRAY_BUFFER,a.__webglRadiusBuffer),b.bufferData(b.ARRAY_BUFFER,a.radiusArray,s)),a.faceArray&&void 0!==a.__webglFaceBuffer&&(l=a.faceArray,b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.__webglFaceBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,l,s)),a.lineArray&&void 0!==a.__webglLineBuffer&&(l=a.lineArray,b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.__webglLineBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,l,s))}i.verticesNeedUpdate=!1,i.elementsNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.buffersNeedUpdate=!1}},this.getXYRatio=function(){return void 0!=this.rows&&void 0!=this.cols&&void 0!=this.row&&void 0!=this.col?[this.cols,this.rows]:[1,1]},this.getAspect=function(e,t){void 0!=e&&void 0!=t||(e=a.width,t=a.height);var r=e/t;return void 0!=this.rows&&void 0!=this.cols&&void 0!=this.row&&void 0!=this.col&&(r=e/this.cols/(t/this.rows)),r},this.setTexture=function(e,t){if(e.needsUpdate){e.__webglInit||(e.__webglInit=!0,e.addEventListener("dispose",W),e.__webglTexture=b.createTexture(),x.info.memory.textures++),b.activeTexture(b.TEXTURE0+t),b.bindTexture(b.TEXTURE_2D,e.__webglTexture),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,e.flipY),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),b.pixelStorei(b.UNPACK_ALIGNMENT,e.unpackAlignment),t=o((t=e.image).width)&&o(t.height);var r=i(e.format),n=i(e.type),a=b.TEXTURE_2D;t?(b.texParameteri(a,b.TEXTURE_WRAP_S,i(e.wrapS)),b.texParameteri(a,b.TEXTURE_WRAP_T,i(e.wrapT)),b.texParameteri(a,b.TEXTURE_MAG_FILTER,i(e.magFilter)),b.texParameteri(a,b.TEXTURE_MIN_FILTER,i(e.minFilter))):(b.texParameteri(a,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(a,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(a,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(a,b.TEXTURE_MIN_FILTER,b.LINEAR));var s=e.mipmaps;if(0<s.length&&t){for(var l=0,u=s.length;l<u;l++)a=s[l],b.texImage2D(b.TEXTURE_2D,l,r,r,n,a);e.generateMipmaps=!1}else b.texImage2D(b.TEXTURE_2D,0,r,r,n,e.image);e.generateMipmaps&&t&&b.generateMipmap(b.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else b.activeTexture(b.TEXTURE0+t),b.bindTexture(b.TEXTURE_2D,e.__webglTexture)},this.addPostPlugin(new $3Dmol.SpritePlugin)},$3Dmol.Scene=function(){$3Dmol.Object3D.call(this),this.overrideMaterial=this.fog=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]},$3Dmol.Scene.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Scene.prototype.__addObject=function(e){e instanceof $3Dmol.Light?(-1===this.__lights.indexOf(e)&&this.__lights.push(e),e.target&&void 0===e.target.parent&&this.add(e.target)):-1===this.__objects.indexOf(e)&&(this.__objects.push(e),this.__objectsAdded.push(e),-1!==this.__objectsRemoved.indexOf(e)&&this.__objectsRemoved.splice(t,1));for(var t=0;t<e.children.length;t++)this.__addObject(e.children[t])},$3Dmol.Scene.prototype.__removeObject=function(e){if(e instanceof $3Dmol.Light){var t=this.__lights.indexOf(e);-1!==t&&this.__lights.splice(t,1)}else-1!==(t=this.__objects.indexOf(e))&&(this.__objects.splice(t,1),this.__objectsRemoved.push(e),-1!==this.__objectsAdded.indexOf(e)&&this.__objectsAdded.splice(t,1));for(t=0;t<e.children.length;t++)this.__removeObject(e.children[t])},$3Dmol.Fog=function(e,t,r){this.name="",this.color=new $3Dmol.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3},$3Dmol.Fog.prototype.clone=function(){return new $3Dmol.Fog(this.color.getHex(),this.near,this.far)},$3Dmol.ShaderUtils={clone:function(e){var t,r={};for(t in e){r[t]={},r[t].type=e[t].type;var n=e[t].value;n instanceof $3Dmol.Color?r[t].value=n.clone():"number"==typeof n?r[t].value=n:n instanceof Array?r[t].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return r},stickimposterFragmentShader:"uniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLight;\nvarying vec3 vColor;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vec3 color = abs(vColor);\n    vec3 pos = cposition;\n    vec3 p = pos;\n    vec3 v = normalize(pos);\n    vec3 pa = p1;\n    vec3 va = normalize(p2-p1);\n    vec3 tmp1 = v-(dot(v,va)*va);\n    vec3 deltap = p-pa;\n    float A = dot(tmp1,tmp1);\n    if(A == 0.0) discard;\n    vec3 tmp2 = deltap-(dot(deltap,va)*va);\n    float B = 2.0*dot(tmp1, tmp2);\n    float C = dot(tmp2,tmp2)-r*r;\n    float det = (B*B) - (4.0*A*C);\n    if(det < 0.0) discard;\n    float sqrtDet = sqrt(det);\n    float posT = (-B+sqrtDet)/(2.0*A);\n    float negT = (-B-sqrtDet)/(2.0*A);\n    float intersectionT = min(posT,negT);\n    vec3 qi = p+v*intersectionT;\n    float dotp1 = dot(va,qi-p1);\n    float dotp2 = dot(va,qi-p2);\n    vec3 norm;\n    if( dotp1 < 0.0 || dotp2 > 0.0) {\n       vec3 cp;\n       if( dotp1 < 0.0) {        cp = p1;\n       } else {\n          cp = p2;\n       }\n       vec3 diff = p-cp;\n       A = dot(v,v);\n       B = dot(diff,v)*2.0;\n       C = dot(diff,diff)-r*r;\n       det = (B*B) - (4.0*C);\n       if(det < 0.0) discard;\n       sqrtDet = sqrt(det);\n       posT = (-B+sqrtDet)/(2.0);\n       negT = (-B-sqrtDet)/(2.0);\n       float t = min(posT,negT);\n       qi = p+v*t;\n       norm = normalize(qi-cp);\n    } else {\n       norm = normalize(qi-(dotp1*va + p1));\n    }\n    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragDepthEXT = depth;"},$3Dmol.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},sphereimposter:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform float uDepth;\nuniform vec3 directionalLightColor[ 1 ];\nvarying vec3 vColor;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));\n    float dotProduct = dot( norm, vLight );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_FragColor = vec4(vLight*vColor, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying vec3 vColor;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz );\n    mapping = normal.xy;\n    rval = abs(normal.x);\n    gl_Position = projPosition+adjust;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},instanced:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 offset;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},outline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvoid main() {\n    gl_FragColor = vec4( outlineColor, 1 );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvoid main() {\n    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    mvPosition.xy += norm.xy*outlineWidth;\n    gl_Position = projectionMatrix * mvPosition;\n    mvPosition.z -= outlinePushback;\n    vec4 pushpos = projectionMatrix*mvPosition;\n    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;\n}",uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new $3Dmol.Color(0,0,0)},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},sphereimposteroutline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform mat4 projectionMatrix;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nuniform float outlinePushback;\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragColor = vec4(outlineColor, 1 );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nvoid main() {\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);\n    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    mapping = norm.xy;\n    rval = abs(norm.x);\n    gl_Position = projPosition+adjust;\n}",uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new $3Dmol.Color(0,0,0)},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},stickimposter:{fragmentShader:[$3Dmol.ShaderUtils.stickimposterFragmentShader,"    float dotProduct = dot( norm, vLight );\n    vec3 light = vec3( max( dotProduct, 0.0 ) );\n    gl_FragColor = vec4(light*color, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}"].join("\n"),vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = color; vColor.z = abs(vColor.z);\n    r = abs(radius);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz )*directionalLightColor[0];\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},stickimposteroutline:{fragmentShader:$3Dmol.ShaderUtils.stickimposterFragmentShader+"gl_FragColor = vec4(color,1.0);}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nuniform vec3 outlineColor;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = outlineColor;\n    float rad = radius+sign(radius)*outlineWidth;\n    r = abs(rad);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    to.xyz += normalize(to.xyz)*outlinePushback;\n    pt.xyz += normalize(pt.xyz)*outlinePushback;\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vLight = vec3(1.0,1.0,1.0);\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new $3Dmol.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},lambertdouble:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    if ( gl_FrontFacing )\n       gl_FragColor.xyz *= vLightFront;\n    else\n       gl_FragColor.xyz *= vLightBack;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    vLightBack = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",vertexShader:"uniform int useScreenCoordinates;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;\n        finalPosition.xy += rotatedPosition; \n    }\n    gl_Position = finalPosition;\n}",uniforms:{}}},$3Dmol.autoload=function(b,c){if(void 0!==$(".viewer_3Dmoljs")[0]&&($3Dmol.autoinit=!0),$3Dmol.autoinit){b=void 0!=b?b:null,$3Dmol.viewers={};var d=0;$(".viewer_3Dmoljs").each(function(){var e,f,q=$(this),l=[],t=[];"static"==q.css("position")&&q.css("position","relative");var p=null;if(q.data("pdb"))l.push("https://files.rcsb.org/view/"+q.data("pdb")+".pdb"),t.push("pdb");else if(q.data("cid"))t.push("sdf"),l.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+q.data("cid")+"/SDF?record_type=3d");else if(q.data("href")||q.data("url")){var w=q.data("href");l.push(w),p=w.substr(w.lastIndexOf(".")+1),t.push(p)}for(e in p=q.data(),p)"pdb"===e.substring(0,3)&&"pdb"!==e?(l.push("https://files.rcsb.org/view/"+p[e]+".pdb"),t.push("pdb")):"href"===e.substring(0,4)&&"href"!==e?(w=p[e],l.push(w),t.push(w.substr(w.lastIndexOf(".")+1))):"cid"===e.substring(0,3)&&"cid"!==e&&(l.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+p[e]+"/SDF?record_type=3d"),t.push("sdf"));var g={};q.data("options")&&(g=$3Dmol.specStringToObject(q.data("options"))),p=$3Dmol.CC.color(q.data("backgroundcolor"));var h={line:{}};q.data("style")&&(h=$3Dmol.specStringToObject(q.data("style")));var n={};q.data("select")&&(n=$3Dmol.specStringToObject(q.data("select")));var y=[],m=[],x=[],u=q.data(),M=/style(.+)/,O=/surface(.*)/,B=/labelres(.*)/,S=[];for(H in u)u.hasOwnProperty(H)&&S.push(H);for(S.sort(),e=0;e<S.length;e++){var H=S[e];if(f=M.exec(H)){f="select"+f[1];var z=$3Dmol.specStringToObject(u[f]);f=$3Dmol.specStringToObject(u[H]),y.push([z,f])}(f=O.exec(H))&&(f="select"+f[1],z=$3Dmol.specStringToObject(u[f]),f=$3Dmol.specStringToObject(u[H]),m.push([z,f])),(f=B.exec(H))&&(f="select"+f[1],z=$3Dmol.specStringToObject(u[f]),f=$3Dmol.specStringToObject(u[H]),x.push([z,f]))}var A=function(e){e.setStyle(n,h);for(var t=0;t<y.length;t++){var r=y[t][0]||{},o=y[t][1]||{line:{}};e.setStyle(r,o)}for(t=0;t<m.length;t++)r=m[t][0]||{},o=m[t][1]||{},e.addSurface($3Dmol.SurfaceType.VDW,o,r,r);for(t=0;t<x.length;t++)r=x[t][0]||{},o=x[t][1]||{},e.addResLabels(r,o);e.zoomTo(),e.render()},D=b;try{null==D&&(D=$3Dmol.viewers[this.id||d++]=$3Dmol.createViewer(q,{defaultcolors:$3Dmol.rasmolElementColors})),D.setBackgroundColor(p)}catch(e){console.log(e),window.location="http://get.webgl.org"}if(0!=l.length){e=0;var G=function(b){w=l[e];var n=q.data("type")||q.data("datatype")||t[e];D.addModel(b,n,g),e+=1,e<l.length?$.get(l[e],G,"text"):(A(D),q.data("callback")&&(b=eval(q.data("callback")),"function"==typeof b&&b(D)),c&&c(D))};$.get(l[0],G,"text")}else q.data("element")&&(H=$("#"+q.data("element")).val()||"",p=q.data("type")||q.data("datatype"),p||(console.log("Warning: No type specified for embedded viewer with moldata from "+q.data("element")+"\n assuming type 'pdb'"),p="pdb"),D.addModel(H,p,g)),A(D),q.data("callback")&&(H=eval(q.data("callback")),"function"==typeof H&&H(D)),c&&c(D)})}},$(document).ready(function(){$3Dmol.autoload()});var htmlColors={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$3Dmol.CC={cache:{0:new $3Dmol.Color(0)},color:function e(t){if(!t)return this.cache[0];if(void 0!==this.cache[t])return this.cache[t];if(t&&t.constructor===Array)return t.map(e,this);if("number"==typeof(t=this.getHex(t))){var r=new $3Dmol.Color(t);return this.cache[t]=r}return t},getHex:function(e){return isNaN(parseInt(e))?"string"==typeof e?(4==(e=e.trim()).length&&"#"==e[0]&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),7==e.length&&"#"==e[0]?parseInt(e.substring(1),16):htmlColors[e.toLowerCase()]||0):e:parseInt(e)}},$3Dmol.CC=$3Dmol.CC,$3Dmol.CC.color=$3Dmol.CC.color,$3Dmol.ssColors=$3Dmol.ssColors||{},$3Dmol.ssColors.pyMol={h:16711680,s:16776960,c:65280},$3Dmol.ssColors.Jmol={h:16711808,s:16762880,c:16777215},$3Dmol.elementColors=$3Dmol.elementColors||{},$3Dmol.elementColors.defaultColor=16716947,$3Dmol.elementColors.Jmol={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ca:4062976,CA:4062976,Ti:12567239,TI:12567239,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Br:10889513,BR:10889513,Ag:12632256,AG:12632256,I:9699476,Ba:51456,BA:51456,Au:16765219,AU:16765219},$3Dmol.elementColors.rasmol={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},$3Dmol.elementColors.defaultColors=$3Dmol.elementColors.rasmol,$3Dmol.elementColors.greenCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.greenCarbon.C=65280,$3Dmol.elementColors.cyanCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.cyanCarbon.C=65535,$3Dmol.elementColors.magentaCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.magentaCarbon.C=16711935,$3Dmol.elementColors.yellowCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.yellowCarbon.C=16776960,$3Dmol.elementColors.whiteCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.whiteCarbon.C=16777215,$3Dmol.elementColors.orangeCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.orangeCarbon.C=16753920,$3Dmol.elementColors.purpleCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.purpleCarbon.C=8388736,$3Dmol.elementColors.blueCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.blueCarbon.C=255,$3Dmol.residues={},$3Dmol.residues.amino={ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},$3Dmol.residues.shapely={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},$3Dmol.residues.nucleic={A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576},$3Dmol.chains={},$3Dmol.chains.atom={A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},$3Dmol.chains.hetatm={A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834},$3Dmol.builtinColorSchemes={ssPyMol:{prop:"ss",map:$3Dmol.ssColors.pyMol},ssJmol:{prop:"ss",map:$3Dmol.ssColors.Jmol},Jmol:{prop:"elem",map:$3Dmol.elementColors.Jmol},greenCarbon:{prop:"elem",map:$3Dmol.elementColors.greenCarbon},default:{prop:"elem",map:$3Dmol.elementColors.defaultColors},amino:{prop:"resn",map:$3Dmol.residues.amino},shapely:{prop:"resn",map:$3Dmol.residues.shapely},nucleic:{prop:"resn",map:$3Dmol.residues.nucleic},chain:{prop:"chain",map:$3Dmol.chains.atom},chainHetatm:{prop:"chain",map:$3Dmol.chains.hetatm}},$3Dmol.getColorFromStyle=function(e,t){var r=t.colorscheme;if(void 0!==$3Dmol.builtinColorSchemes[r])r=$3Dmol.builtinColorSchemes[r];else if("string"==typeof r&&r.endsWith("Carbon")){var n=r.substring(0,r.lastIndexOf("Carbon")).toLowerCase();if(void 0!==htmlColors[n]){var o=$.extend({},$3Dmol.elementColors.defaultColors);o.C=htmlColors[n],$3Dmol.builtinColorSchemes[r]={prop:"elem",map:o},r=$3Dmol.builtinColorSchemes[r]}}return n=e.color,void 0!==t.color&&"spectrum"!=t.color&&(n=t.color),void 0!==r?void 0!==$3Dmol.elementColors[r]?void 0!==(r=$3Dmol.elementColors[r])[e[r.prop]]&&(n=r.map[e[r.prop]]):void 0!==r[e[r.prop]]?n=r.map[e[r.prop]]:void 0!==r.prop&&void 0!==r.gradient?(o=r.prop,t=r.gradient,void 0!==$3Dmol.Gradient.builtinGradients[t]&&(t=new $3Dmol.Gradient.builtinGradients[t](r.min,r.max,r.mid)),r=t.range()||[-1,1],null!=(e=$3Dmol.getAtomProperty(e,o))&&(n=t.valueToHex(e,r))):void 0!==r.prop&&void 0!==r.map?(o=r.prop,e=$3Dmol.getAtomProperty(e,o),void 0!==r.map[e]&&(n=r.map[e])):void 0!==t.colorscheme[e.elem]?n=t.colorscheme[e.elem]:console.log("Could not interpret colorscheme "+r):void 0!==t.colorfunc&&(n=t.colorfunc(e)),$3Dmol.CC.color(n)},$3Dmol=$3Dmol||{},$3Dmol.subdivide_spline=function(e,t){var r,n=[],o=[];o.push(e[0]);var i=1;for(r=e.length-1;i<r;i++){var a=e[i],s=e[i+1];a.smoothen?((s=new $3Dmol.Vector3((a.x+s.x)/2,(a.y+s.y)/2,(a.z+s.z)/2)).atom=a.atom,o.push(s)):o.push(a)}for(o.push(e[e.length-1]),i=-1,e=o.length;i<=e-3;i++){r=o[-1===i?0:i],a=o[i+1],s=o[i+2];var l=o[i===e-3?e-1:i+3];if(r=(new $3Dmol.Vector3).subVectors(s,r).multiplyScalar(.5),l=(new $3Dmol.Vector3).subVectors(l,a).multiplyScalar(.5),!s.skip)for(var u=0;u<t;u++){var c=1/t*u;(c=new $3Dmol.Vector3(a.x+c*r.x+c*c*(-3*a.x+3*s.x-2*r.x-l.x)+c*c*c*(2*a.x-2*s.x+r.x+l.x),a.y+c*r.y+c*c*(-3*a.y+3*s.y-2*r.y-l.y)+c*c*c*(2*a.y-2*s.y+r.y+l.y),a.z+c*r.z+c*c*(-3*a.z+3*s.z-2*r.z-l.z)+c*c*c*(2*a.z-2*s.z+r.z+l.z))).atom=u<t/2?a.atom:s.atom,n.push(c)}}return n.push(o[o.length-1]),n},$3Dmol.drawCartoon=function(){var e=function(e,t,r,n,o,i){for(o=0,i=t.length;o<i;o++){var a=Math.round(o*(n.length-1)/i),s=$3Dmol.CC.color(n[a]);geoGroup=e.updateGeoGroup(2);var l=geoGroup.vertexArray,u=geoGroup.colorArray;a=geoGroup.faceArray;var c=geoGroup.vertices,f=3*c;for(l[f]=t[o].x,l[f+1]=t[o].y,l[f+2]=t[o].z,l[f+3]=r[o].x,l[f+4]=r[o].y,l[f+5]=r[o].z,l=0;6>l;++l)u[f+3*l]=s.r,u[f+1+3*l]=s.g,u[f+2+3*l]=s.b;0<o&&(c=[c,c+1,c-1,c-2],a[f=geoGroup.faceidx]=c[0],a[f+1]=c[1],a[f+2]=c[3],a[f+3]=c[1],a[f+4]=c[2],a[f+5]=c[3],geoGroup.faceidx+=6),geoGroup.vertices+=2}},t=function(e,t,r,n,o){0!==t.length&&(o=void 0===o?5:o,n=new $3Dmol.Geometry,$3Dmol.subdivide_spline(t,o),(t=new $3Dmol.LineBasicMaterial({linewidth:r})).vertexColors=!0,(t=new $3Dmol.Line(n,t)).type=$3Dmol.LineStrip,e.add(t))},r=function(t,r,n,o,i,a,s){if(s&&"default"!==s||(s="rectangle"),"edged"===s){if(!(2>r.length)){var l=r[0];r=r[r.length-1];var u=o||axisDIV;if(l=$3Dmol.subdivide_spline(l,u),r=$3Dmol.subdivide_spline(r,u),i){var c,f,h,p,d;u=[],s=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]];var m=0;for(d=l.length;m<d;m++){var v=Math.round(m*(n.length-1)/d);if(v=$3Dmol.CC.color(n[v]),u.push(c=l[m]),u.push(c),u.push(f=r[m]),u.push(f),m<d-1){var y=l[m+1].clone().sub(l[m]);y=r[m].clone().sub(l[m]).cross(y).normalize().multiplyScalar(i)}if(u.push(h=l[m].clone().add(y)),u.push(h),u.push(p=r[m].clone().add(y)),u.push(p),void 0!==c.atom)var g=c.atom;var b=(o=t.updateGeoGroup(8)).vertexArray,x=o.colorArray,w=o.faceArray,_=3*(a=o.vertices);for(b[_]=c.x,b[_+1]=c.y,b[_+2]=c.z,b[_+3]=c.x,b[_+4]=c.y,b[_+5]=c.z,b[_+6]=f.x,b[_+7]=f.y,b[_+8]=f.z,b[_+9]=f.x,b[_+10]=f.y,b[_+11]=f.z,b[_+12]=h.x,b[_+13]=h.y,b[_+14]=h.z,b[_+15]=h.x,b[_+16]=h.y,b[_+17]=h.z,b[_+18]=p.x,b[_+19]=p.y,b[_+20]=p.z,b[_+21]=p.x,b[_+22]=p.y,b[_+23]=p.z,b=0;8>b;++b)x[_+3*b]=v.r,x[_+1+3*b]=v.g,x[_+2+3*b]=v.b;if(0<m)for(x=void 0!==$&&void 0!==g&&$.serial!==g.serial,b=0;4>b;b++)if(_=[a+s[b][0],a+s[b][1],a+s[b][2],a+s[b][3]],w[f=o.faceidx]=_[0],w[f+1]=_[1],w[f+2]=_[3],w[f+3]=_[1],w[f+4]=_[2],w[f+5]=_[3],o.faceidx+=6,g.clickable||$.clickable||g.hoverable||$.hoverable){p=u[_[3]].clone(),f=u[_[0]].clone();var D=u[_[2]].clone();if(h=u[_[1]].clone(),p.atom=u[_[3]].atom||null,D.atom=u[_[2]].atom||null,f.atom=u[_[0]].atom||null,h.atom=u[_[1]].atom||null,x){var S=p.clone().add(f).multiplyScalar(.5),C=D.clone().add(h).multiplyScalar(.5),A=p.clone().add(h).multiplyScalar(.5);0==b%2?(($.clickable||$.hoverable)&&(_=new $3Dmol.Triangle(S,A,p),c=new $3Dmol.Triangle(C,D,A),p=new $3Dmol.Triangle(A,D,p),$.intersectionShape.triangle.push(_),$.intersectionShape.triangle.push(c),$.intersectionShape.triangle.push(p)),(g.clickable||g.hoverable)&&(_=new $3Dmol.Triangle(f,h,A),c=new $3Dmol.Triangle(h,C,A),p=new $3Dmol.Triangle(f,A,S),g.intersectionShape.triangle.push(_),g.intersectionShape.triangle.push(c),g.intersectionShape.triangle.push(p))):((g.clickable||g.hoverable)&&(_=new $3Dmol.Triangle(S,A,p),c=new $3Dmol.Triangle(C,D,A),p=new $3Dmol.Triangle(A,D,p),g.intersectionShape.triangle.push(_),g.intersectionShape.triangle.push(c),g.intersectionShape.triangle.push(p)),($.clickable||$.hoverable)&&(_=new $3Dmol.Triangle(f,h,A),c=new $3Dmol.Triangle(h,C,A),p=new $3Dmol.Triangle(f,A,S),$.intersectionShape.triangle.push(_),$.intersectionShape.triangle.push(c),$.intersectionShape.triangle.push(p)))}else(g.clickable||g.hoverable)&&(_=new $3Dmol.Triangle(f,h,p),c=new $3Dmol.Triangle(h,D,p),g.intersectionShape.triangle.push(_),g.intersectionShape.triangle.push(c))}o.vertices+=8;var $=g}for(n=u.length-8,b=(o=t.updateGeoGroup(8)).vertexArray,x=o.colorArray,w=o.faceArray,_=3*(a=o.vertices),f=o.faceidx,m=0;4>m;m++)u.push(u[2*m]),u.push(u[n+2*m]),i=u[2*m],t=u[n+2*m],b[_+6*m]=i.x,b[_+1+6*m]=i.y,b[_+2+6*m]=i.z,b[_+3+6*m]=t.x,b[_+4+6*m]=t.y,b[_+5+6*m]=t.z,x[_+6*m]=v.r,x[_+1+6*m]=v.g,x[_+2+6*m]=v.b,x[_+3+6*m]=v.r,x[_+4+6*m]=v.g,x[_+5+6*m]=v.b;_=[a,a+2,a+6,a+4],c=[a+1,a+5,a+7,a+3],w[f]=_[0],w[f+1]=_[1],w[f+2]=_[3],w[f+3]=_[1],w[f+4]=_[2],w[f+5]=_[3],w[f+6]=c[0],w[f+7]=c[1],w[f+8]=c[3],w[f+9]=c[1],w[f+10]=c[2],w[f+11]=c[3],o.faceidx+=12,o.vertices+=8}else e(t,l,r,n,u,a)}}else if(!("rectangle"!==s&&"oval"!==s&&"parabola"!==s||(v=s,g=r.length,2>g||2>r[0].length))){for(o=o||axisDIV,$=0;$<g;$++)r[$]=$3Dmol.subdivide_spline(r[$],o);if(y=r[0].length,i){for(a=[],o=[],s=[],b=0;b<g;b++)a.push(.25+1.5*Math.sqrt((g-1)*b-Math.pow(b,2))/(g-1)),o.push(.5),s.push(2*(Math.pow(b/g,2)-b/g)+.6);for(d=[],b=0;b<2*g-1;b++)d[b]=[b,b+1,b+1-2*g,b-2*g];for(d[2*g-1]=[b,b+1-2*g,b+1-4*g,b-2*g],t=t.updateGeoGroup(2*g*y),$=0;$<y;$++){for(b=Math.round($*(n.length-1)/y),c=$3Dmol.CC.color(n[b]),x=u,_=m,u=[],m=[],f=[],void 0!==r[0][$].atom&&(w=r[0][$].atom,"oval"===v?l=a:"rectangle"===v?l=o:"parabola"===v&&(l=s)),l||(l=o),b=0;b<g;b++)h=$<y-1?r[b][$+1].clone().sub(r[b][$]):r[b][$-1].clone().sub(r[b][$]).negate(),p=b<g-1?r[b+1][$].clone().sub(r[b][$]):r[b-1][$].clone().sub(r[b][$]).negate(),f[b]=p.cross(h).normalize().multiplyScalar(i*l[b]);for(b=0;b<g;b++)u[b]=r[b][$].clone().add(f[b].clone().negate());for(b=0;b<g;b++)m[b]=r[b][$].clone().add(f[b]);for(D=t.vertexArray,p=t.colorArray,f=t.faceArray,S=3*(h=t.vertices),b=0;b<g;b++)D[S+3*b+0]=u[b].x,D[S+3*b+1]=u[b].y,D[S+3*b+2]=u[b].z;for(b=0;b<g;b++)D[S+3*b+0+3*g]=m[g-1-b].x,D[S+3*b+1+3*g]=m[g-1-b].y,D[S+3*b+2+3*g]=m[g-1-b].z;for(b=0;b<2*g;++b)p[S+3*b+0]=c.r,p[S+3*b+1]=c.g,p[S+3*b+2]=c.b;if(0<$){for(b=0;b<2*g;b++)c=[h+d[b][0],h+d[b][1],h+d[b][2],h+d[b][3]],f[p=t.faceidx]=c[0],f[p+1]=c[1],f[p+2]=c[3],f[p+3]=c[1],f[p+4]=c[2],f[p+5]=c[3],t.faceidx+=6;if(w.clickable||w.hoverable)for(b in(c=[]).push(new $3Dmol.Triangle(x[0],u[0],u[g-1])),c.push(new $3Dmol.Triangle(x[0],u[g-1],x[g-1])),c.push(new $3Dmol.Triangle(x[g-1],u[g-1],m[g-1])),c.push(new $3Dmol.Triangle(x[g-1],m[g-1],_[g-1])),c.push(new $3Dmol.Triangle(m[0],_[0],_[g-1])),c.push(new $3Dmol.Triangle(m[g-1],m[0],_[g-1])),c.push(new $3Dmol.Triangle(u[0],x[0],_[0])),c.push(new $3Dmol.Triangle(m[0],u[0],_[0])),c)w.intersectionShape.triangle.push(c[b])}t.vertices+=2*g}for(f=t.faceArray,h=t.vertices,$=0;$<g-1;$++)c=[$,$+1,2*g-2-$,2*g-1-$],f[p=t.faceidx]=c[0],f[p+1]=c[1],f[p+2]=c[3],f[p+3]=c[1],f[p+4]=c[2],f[p+5]=c[3],t.faceidx+=6;for($=0;$<g-1;$++)c=[h-1-$,h-2-$,h-2*g+$+1,h-2*g+$],f[p=t.faceidx]=c[0],f[p+1]=c[1],f[p+2]=c[3],f[p+3]=c[1],f[p+4]=c[2],f[p+5]=c[3],t.faceidx+=6}else e(t,r[0],r[g-1],n,o,a)}},n=function(e,t){if(e&&t&&e.chain===t.chain){if(e.reschain===t.reschain&&(e.resi===t.resi||e.resi===t.resi-1))return!0;if(e.resi<t.resi){var r=e.x-t.x,n=e.y-t.y;if(16>r*r+n*n+(e=e.z-t.z)*e)return!0}}return!1},o=function(e,t,r,n,o){null!=t&&0!=t.vertices&&(o&&(t.initTypedArrays(),t.setUpNormals()),(o=new $3Dmol.MeshDoubleLambertMaterial).vertexColors=$3Dmol.FaceColors,"number"==typeof r&&0<=r&&1>r&&(o.transparent=!0,o.opacity=r),o.outline=n,t=new $3Dmol.Mesh(t,o),e.add(t))},i={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},a={DA:!0,DG:!0,A:!0,G:!0},s={DT:!0,DC:!0,U:!0,C:!0,T:!0},l={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0},u=function(e,u,f,h,p,d,m){d=d||5,m=m||5;var v,y,g=new $3Dmol.Geometry(!0),b=new $3Dmol.Geometry(!0),x=[],w=[],_=1,D=!1,S={};for(T in $3Dmol.Gradient.builtinGradients)$3Dmol.Gradient.builtinGradients.hasOwnProperty(T)&&(S[T]=new $3Dmol.Gradient.builtinGradients[T](f[1],f[0]));var C=function(e,t){return f&&"spectrum"===t.color?t.colorscheme in S?S[t.colorscheme].valueToHex(e.resi):S.sinebow.valueToHex(e.resi):$3Dmol.getColorFromStyle(e,t).getHex()};for(y=0;y<d;y++)w[y]=[];var A=v=!1;y=0;var M=[];for(y in u){var T=u[y];if("C"===T.elem&&"CA"===T.atom){var z=n(L,T);z&&"s"===T.ss?v=!0:v&&(L&&E&&L.style.cartoon.arrows&&E.style.cartoon.arrows&&(L.ss="arrow end",E.ss="arrow start"),v=!1),z&&("h"===L.ss||"tube start"==L.ss)&&L.style.cartoon.tubes?!A&&"tube start"!=L.ss&&T.style.cartoon.tubes&&(T.ss="tube start",A=!0):A&&("tube start"===L.ss?L.ss="tube end":E&&E.style.cartoon.tubes&&(E.ss="tube end"),A=!1);var E=L,L=T}T&&T.atom in i&&M.push(T)}for(A&&L.style.cartoon.tubes&&(L.ss="tube end",A=!1),u=function(n){for(var i,a,s=0;!I&&s<d;s++)t(e,w[s],1,x,m);if(h&&0<w[0].length&&r(b,w,x,m,I,_,w.style),n){for(a=[],s=0;s<d;s++)a[s]=w[s][w[s].length-1];i=x[x.length-1]}for(w=[],s=0;s<d;s++)w[s]=[];if(x=[],n){for(s=0;s<d;s++)w[s].push(a[s]);x.push(i)}o(e,b,_,D,!0),o(e,g,_,D,!1),b=new $3Dmol.Geometry(!0),g=new $3Dmol.Geometry(!0)},L=void 0,E=0;E<M.length;E++)if(A=(y=(T=M[E]).resn.trim())in l,_=1,v=T.style.cartoon,L&&L.style.cartoon&&(_=L.style.cartoon.opacity),L&&L.style.cartoon&&L.style.cartoon.outline&&(D=L.style.cartoon.outline),!L||!L.style.cartoon||T.style.cartoon&&L.style.cartoon.opacity==T.style.cartoon.opacity||u(L.chain==T.chain),w.length&&w[0].length>3e4/d/m/2&&u(!0),"trace"===v.style){if(!T.hetflag&&("C"===T.elem&&"CA"===T.atom||A&&"P"===T.atom)){var k=C(T,v),I=$.isNumeric(v.thickness)?v.thickness:.4;if(n(L,T))if(k==O){var O=$3Dmol.CC.color(k);$3Dmol.GLDraw.drawCylinder(g,L,T,I,O,2,2)}else v=(new $3Dmol.Vector3).addVectors(L,T).multiplyScalar(.5),O=$3Dmol.CC.color(O),y=$3Dmol.CC.color(k),$3Dmol.GLDraw.drawCylinder(g,L,v,I,O,2,0),$3Dmol.GLDraw.drawCylinder(g,v,T,I,y,0,2);L=T,O=k}}else{if(T&&"C"===T.elem&&"CA"===T.atom||A&&("P"===T.atom||0==T.atom.indexOf("O5"))){if(j)if("tube end"===T.ss){var j=!1;y=new $3Dmol.Vector3(T.x,T.y,T.z),$3Dmol.GLDraw.drawCylinder(g,P,y,2,$3Dmol.CC.color(O),1,1),T.ss="h"}else{if(L.chain==T.chain&&"tube end"!==L.ss)continue;j=!1,L.ss="h",y=new $3Dmol.Vector3(L.x,L.y,L.z),$3Dmol.GLDraw.drawCylinder(g,P,y,2,$3Dmol.CC.color(O),1,1)}if(L&&(!n(L,T)||"tube start"===L.ss)){if("tube start"===L.ss){j=!0;var P=new $3Dmol.Vector3(L.x,L.y,L.z);L.ss="h"}if(N){y=V?(new $3Dmol.Vector3).addVectors(L,V).multiplyScalar(.5):new $3Dmol.Vector3(L.x,L.y,L.z),$3Dmol.GLDraw.drawCylinder(g,y,N,.4,$3Dmol.CC.color(N.color),0,2),c(w,d,!p,V,q,B,L,M,E),x.push(k);var N=y=null}for(y=0;!I&&y<d;y++)t(e,w[y],1,x,m);for(h&&0<w[0].length&&r(b,w,x,m,I,_,w.style),w=[],y=0;y<d;y++)w[y]=[];x=[]}if(void 0===L||L.rescode!=T.rescode||L.resi!=T.resi){N&&(L=(y=(new $3Dmol.Vector3).addVectors(L,T).multiplyScalar(.5)).clone().sub(N).multiplyScalar(.02),y.add(L),$3Dmol.GLDraw.drawCylinder(g,y,N,.4,$3Dmol.CC.color(N.color),0,2),N=y=null),k=C(T,v),x.push(k),I=$.isNumeric(v.thickness)?v.thickness:.4,L=T;var F=new $3Dmol.Vector3(L.x,L.y,L.z);F.resi=L.resi,O=k}!0!==T.clickable&&!0!==T.hoverable||void 0!==T.intersectionShape&&void 0!==T.intersectionShape.triangle||(T.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else if(L&&"C"===L.elem&&"CA"===L.atom&&"O"===T.atom||A&&"P"===L.atom&&("OP2"===T.atom||"O2P"===T.atom)||A&&0==L.atom.indexOf("O5")&&0==T.atom.indexOf("C5")){var R=new $3Dmol.Vector3(T.x,T.y,T.z);if(R.resi=T.resi,"OP2"===T.atom||"O2P"===T.atom)var q=new $3Dmol.Vector3(T.x,T.y,T.z)}else if(A&&0==T.atom.indexOf("O3"))var V=new $3Dmol.Vector3(T.x,T.y,T.z);else("N1"===T.atom&&y in a||"N3"===T.atom&&y in s)&&((N=new $3Dmol.Vector3(T.x,T.y,T.z)).color=$3Dmol.getColorFromStyle(T,v).getHex());if(R&&F&&R.resi===F.resi){c(w,d,!p,F,R,B,L,M,E);var B=R;R=F=null,x.push(k)}}N&&(y=V?(new $3Dmol.Vector3).addVectors(L,V).multiplyScalar(.5):new $3Dmol.Vector3(L.x,L.y,L.z),$3Dmol.GLDraw.drawCylinder(g,y,N,.4,$3Dmol.CC.color(N.color),0,2),c(w,d,!p,V,q,B,L,M,E),x.push(k)),u()},c=function(e,t,r,n,o,i,a,s,l){if(n&&o&&a){var u=o.sub(n);u.normalize();var c=s[l];for(l+=1;l<s.length&&(c=s[l]).atom!=a.atom;l++);if((c=c?new $3Dmol.Vector3(c.x,c.y,c.z):new $3Dmol.Vector3(0,0,0)).sub(n),"arrow start"===a.ss&&(l=c.clone().multiplyScalar(.3).cross(o),n.add(l),l=c.clone().cross(u).normalize(),u.rotateAboutVector(l,.43)),a.style.cartoon.ribbon)l=a.style.cartoon.thickness||.4;else if(a.style.cartoon.width)l=a.style.cartoon.width;else if("c"===a.ss)l="P"===a.atom?.8:.5;else if("arrow start"===a.ss){l=1.3;var f=!0}else l="arrow end"===a.ss?.5:"h"===a.ss&&a.style.cartoon.tubes||"tube start"===a.ss?.5:1.3;for(null!=i&&0>u.dot(i)&&u.negate(),u.multiplyScalar(l),l=0;l<t;l++)i=2*l/(t-1)-1,(i=new $3Dmol.Vector3(n.x+i*u.x,n.y+i*u.y,n.z+i*u.z)).atom=a,r&&"s"===a.ss&&(i.smoothen=!0),e[l].push(i);if(f)for(u.multiplyScalar(2),l=0;l<t;l++)i=2*l/(t-1)-1,(i=new $3Dmol.Vector3(n.x+i*u.x,n.y+i*u.y,n.z+i*u.z)).atom=a,i.smoothen=!1,i.skip=!0,e[l].push(i);return t=a.style.cartoon.style||"default",e.style?e.style!=t&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),e.style="default"):e.style=t,"arrow start"!==a.ss&&"arrow end"!==a.ss||(a.ss="s"),f}};return function(e,t,r,n){u(e,t,r,!0,!1,n=n||5,n)}}(),$3Dmol=$3Dmol||{},$3Dmol.CAP={NONE:0,FLAT:1,ROUND:2},$3Dmol.GLDraw=function(){var e={},t=function(){var e=new $3Dmol.Vector3;return function(t){e.set(t[0],t[1],t[2]);var r=e.x,n=e.y,o=e.z,i=Math.sqrt(r*r+n*n);return 1e-4>i?(t=0,i=1):(t=-r/i,i=n/i),n=-t*r+i*n,1e-4>(r=Math.sqrt(n*n+o*o))?(o=0,n=1):(o/=r,n/=r),(r=new Float32Array(9))[0]=i,r[1]=t,r[2]=0,r[3]=-t*n,r[4]=i*n,r[5]=o,r[6]=t*o,r[7]=-i*o,r[8]=n,r}}(),r=function(){var e,t,r=[],n=Math.pow(2,4),o=Math.pow(2,2),i=n/o;for(r[0]=new $3Dmol.Vector3(-1,0,0),r[i]=new $3Dmol.Vector3(0,0,1),r[2*i]=new $3Dmol.Vector3(1,0,0),r[3*i]=new $3Dmol.Vector3(0,0,-1),e=3;4>=e;e++){for(i=n/(o=Math.pow(2,e-1)),t=0;t<o-1;t++)r[i/2+t*i]=r[t*i].clone().add(r[(t+1)*i]).normalize();r[i/2+(t=o-1)*i]=r[t*i].clone().add(r[0]).normalize()}return r}(),n={cache:{},getVerticesForRadius:function(e,t,n){if(void 0!==this.cache[e]&&void 0!==this.cache[e][t+n])return this.cache[e][t+n];new $3Dmol.Vector3(0,1,0);for(var o,i=r.length,a=[],s=[],l=0;l<i;l++)a.push(r[l].clone().multiplyScalar(e)),a.push(r[l].clone().multiplyScalar(e)),o=r[l].clone().normalize(),s.push(o),s.push(o);l=[];var u,c,f=2*Math.PI,h=Math.PI;for(c=0;10>=c;c++){var p=0===c||10===c,d=5===c,m=[],v=[];for(u=0;u<=i;u++)if(d){var y=u<i?2*u:0;v.push(y+1),m.push(y)}else{o=u/i;var g=c/10;p&&0!==u?p&&m.push(a.length-1):u<i?((y=new $3Dmol.Vector3).x=-e*Math.cos(0+o*f)*Math.sin(0+g*h),y.y=1==t?0:e*Math.cos(0+g*h),y.z=e*Math.sin(0+o*f)*Math.sin(0+g*h),1e-5>Math.abs(y.x)&&(y.x=0),1e-5>Math.abs(y.y)&&(y.y=0),1e-5>Math.abs(y.z)&&(y.z=0),(o=t==$3Dmol.CAP.FLAT?new $3Dmol.Vector3(0,Math.cos(0+g*h),0):new $3Dmol.Vector3(y.x,y.y,y.z)).normalize(),a.push(y),s.push(o),m.push(a.length-1)):m.push(a.length-i)}d&&l.push(v),l.push(m)}return i={vertices:a,normals:s,verticesRows:l,w:i,h:10},e in this.cache||(this.cache[e]={}),this.cache[e][t+n]=i}};e.drawCylinder=function(e,r,o,i,a,s,l){if(r&&o){0;var u=l||s;a=a||{r:0,g:0,b:0};var c=[o.x,o.y,o.z];c[0]-=r.x,c[1]-=r.y,c[2]-=r.z,c=t(c);var f=n.getVerticesForRadius(i,l,"to"),h=f.w,p=f.h,d=u?p*h+2:2*h;e=e.updateGeoGroup(d);var m,v=f.vertices,y=f.normals,g=(f=f.verticesRows)[p/2],b=f[p/2+1],x=e.vertices,w=e.vertexArray,_=e.normalArray,D=e.colorArray,S=e.faceArray;for(m=0;m<h;++m){var C=2*m,A=c[0]*v[C].x+c[3]*v[C].y+c[6]*v[C].z,$=c[1]*v[C].x+c[4]*v[C].y+c[7]*v[C].z,M=c[5]*v[C].y+c[8]*v[C].z,T=3*(x+C);C=e.faceidx,w[T]=A+r.x,w[T+1]=$+r.y,w[T+2]=M+r.z,w[T+3]=A+o.x,w[T+4]=$+o.y,w[T+5]=M+o.z,_[T]=A,_[T+3]=A,_[T+1]=$,_[T+4]=$,_[T+2]=M,_[T+5]=M,D[T]=a.r,D[T+3]=a.r,D[T+1]=a.g,D[T+4]=a.g,D[T+2]=a.b,D[T+5]=a.b,S[C]=b[m]+x,S[C+1]=b[m+1]+x,S[C+2]=g[m]+x,S[C+3]=g[m]+x,S[C+4]=b[m+1]+x,S[C+5]=g[m+1]+x,e.faceidx+=6}if(u)for(u=s?p+1:p/2+1,$=l?0:p/2;$<u;$++)if($!==p/2)for(g=$<=p/2?o:r,A=n.getVerticesForRadius(i,l,"to"),C=n.getVerticesForRadius(i,s,"from"),g===o?(v=A.vertices,y=A.normals,f=A.verticesRows):g==r&&(v=C.vertices,y=C.normals,f=C.verticesRows),A=0;A<h;A++){C=e.faceidx;var z=3*((b=f[$][A+1])+x),E=3*((m=f[$][A])+x),L=3*((M=f[$+1][A])+x),k=3*((T=f[$+1][A+1])+x),I=c[0]*v[b].x+c[3]*v[b].y+c[6]*v[b].z,O=c[0]*v[m].x+c[3]*v[m].y+c[6]*v[m].z,j=c[0]*v[M].x+c[3]*v[M].y+c[6]*v[M].z,P=c[0]*v[T].x+c[3]*v[T].y+c[6]*v[T].z,N=c[1]*v[b].x+c[4]*v[b].y+c[7]*v[b].z,F=c[1]*v[m].x+c[4]*v[m].y+c[7]*v[m].z,R=c[1]*v[M].x+c[4]*v[M].y+c[7]*v[M].z,q=c[1]*v[T].x+c[4]*v[T].y+c[7]*v[T].z,V=c[5]*v[b].y+c[8]*v[b].z,B=c[5]*v[m].y+c[8]*v[m].z,U=c[5]*v[M].y+c[8]*v[M].z,H=c[5]*v[T].y+c[8]*v[T].z;w[z]=I+g.x,w[E]=O+g.x,w[L]=j+g.x,w[k]=P+g.x,w[z+1]=N+g.y,w[E+1]=F+g.y,w[L+1]=R+g.y,w[k+1]=q+g.y,w[z+2]=V+g.z,w[E+2]=B+g.z,w[L+2]=U+g.z,w[k+2]=H+g.z,D[z]=a.r,D[E]=a.r,D[L]=a.r,D[k]=a.r,D[z+1]=a.g,D[E+1]=a.g,D[L+1]=a.g,D[k+1]=a.g,D[z+2]=a.b,D[E+2]=a.b,D[L+2]=a.b,D[k+2]=a.b,I=c[0]*y[b].x+c[3]*y[b].y+c[6]*y[b].z,O=c[0]*y[m].x+c[3]*y[m].y+c[6]*y[m].z,j=c[0]*y[M].x+c[3]*y[M].y+c[6]*y[M].z,P=c[0]*y[T].x+c[3]*y[T].y+c[6]*y[T].z,N=c[1]*y[b].x+c[4]*y[b].y+c[7]*y[b].z,F=c[1]*y[m].x+c[4]*y[m].y+c[7]*y[m].z,R=c[1]*y[M].x+c[4]*y[M].y+c[7]*y[M].z,q=c[1]*y[T].x+c[4]*y[T].y+c[7]*y[T].z,V=c[5]*y[b].y+c[8]*y[b].z,B=c[5]*y[m].y+c[8]*y[m].z,U=c[5]*y[M].y+c[8]*y[M].z,H=c[5]*y[T].y+c[8]*y[T].z,0===$?(_[z]=I,_[L]=j,_[k]=P,_[z+1]=N,_[L+1]=R,_[k+1]=q,_[z+2]=V,_[L+2]=U,_[k+2]=H,S[C]=b+x,S[C+1]=M+x,S[C+2]=T+x,e.faceidx+=3):$===u-1?(_[z]=I,_[E]=O,_[L]=j,_[z+1]=N,_[E+1]=F,_[L+1]=R,_[z+2]=V,_[E+2]=B,_[L+2]=U,S[C]=b+x,S[C+1]=m+x,S[C+2]=M+x,e.faceidx+=3):(_[z]=I,_[E]=O,_[k]=P,_[z+1]=N,_[E+1]=F,_[k+1]=q,_[z+2]=V,_[E+2]=B,_[k+2]=H,_[E]=O,_[L]=j,_[k]=P,_[E+1]=F,_[L+1]=R,_[k+1]=q,_[E+2]=B,_[L+2]=U,_[k+2]=H,S[C]=b+x,S[C+1]=m+x,S[C+2]=T+x,S[C+3]=m+x,S[C+4]=M+x,S[C+5]=T+x,e.faceidx+=6)}e.vertices+=d}},e.drawCone=function(e,n,o,i,a){if(n&&o){console.log(n),console.log(o),a=a||{r:0,g:0,b:0};var s=[o.x,o.y,o.z];s.x-=n.x,s.y-=n.y,s.z-=n.z;var l=t(s),u=r.length,c=(e=e.updateGeoGroup(u+2)).vertices,f=e.vertexArray,h=e.normalArray,p=e.colorArray,d=e.faceArray,m=3*c;for(s=new $3Dmol.Vector3(s[0],s[1],s[2]).normalize(),f[m]=n.x,f[m+1]=n.y,f[m+2]=n.z,h[m]=-s.x,h[m+1]=-s.y,h[m+2]=-s.z,p[m]=a.r,p[m+1]=a.g,p[m+2]=a.b,f[m+3]=o.x,f[m+4]=o.y,f[m+5]=o.z,h[m+3]=s.x,h[m+4]=s.y,h[m+5]=s.z,p[m+3]=a.r,p[m+4]=a.g,p[m+5]=a.b,m+=6,o=0;o<u;++o){var v=r[o].clone();v.multiplyScalar(i),s=l[0]*v.x+l[3]*v.y+l[6]*v.z;var y=l[1]*v.x+l[4]*v.y+l[7]*v.z;v=l[5]*v.y+l[8]*v.z,f[m]=s+n.x,f[m+1]=y+n.y,f[m+2]=v+n.z,h[m]=s,h[m+1]=y,h[m+2]=v,p[m]=a.r,p[m+1]=a.g,p[m+2]=a.b,m+=3}for(e.vertices+=u+2,n=e.faceidx,o=0;o<u;o++)i=c+2+o,a=c+2+(o+1)%u,d[n]=i,d[n+1]=a,d[n+2]=c,d[n+=3]=i,d[n+1]=a,d[n+2]=c+1,n+=3;e.faceidx+=6*u}};var o={cache:{},getVerticesForRadius:function(e){if(void 0!==this.cache[e])return this.cache[e];var t={vertices:[],verticesRows:[],normals:[]},r=16,n=10;1>e&&(r=10,n=8);var o,i,a=2*Math.PI,s=Math.PI;for(i=0;i<=n;i++){var l=[];for(o=0;o<=r;o++){var u=o/r,c=i/n,f={};f.x=-e*Math.cos(0+u*a)*Math.sin(0+c*s),f.y=e*Math.cos(0+c*s),f.z=e*Math.sin(0+u*a)*Math.sin(0+c*s),(u=new $3Dmol.Vector3(f.x,f.y,f.z)).normalize(),t.vertices.push(f),t.normals.push(u),l.push(t.vertices.length-1)}t.verticesRows.push(l)}return this.cache[e]=t}};return e.drawSphere=function(e,t,r,n){new $3Dmol.Vector3(t.x,t.y,t.z);for(var i=o.getVerticesForRadius(r),a=i.vertices,s=i.normals,l=(e=e.updateGeoGroup(a.length)).vertices,u=e.vertexArray,c=e.colorArray,f=e.faceArray,h=e.lineArray,p=e.normalArray,d=0,m=a.length;d<m;++d){var v=3*(l+d),y=a[d];u[v]=y.x+t.x,u[v+1]=y.y+t.y,u[v+2]=y.z+t.z,c[v]=n.r,c[v+1]=n.g,c[v+2]=n.b}for(e.vertices+=a.length,u=(i=i.verticesRows).length-1,n=0;n<u;n++)for(c=i[n].length-1,t=0;t<c;t++){d=e.faceidx,m=e.lineidx,y=3*(v=i[n][t+1]+l);var g=i[n][t]+l,b=3*g,x=i[n+1][t]+l,w=3*x,_=i[n+1][t+1]+l,D=3*_,S=s[v-l],C=s[g-l],A=s[x-l],$=s[_-l];Math.abs(a[v-l].y)===r?(p[y]=S.x,p[w]=A.x,p[D]=$.x,p[y+1]=S.y,p[w+1]=A.y,p[D+1]=$.y,p[y+2]=S.z,p[w+2]=A.z,p[D+2]=$.z,f[d]=v,f[d+1]=x,f[d+2]=_,h[m]=v,h[m+1]=x,h[m+2]=v,h[m+3]=_,h[m+4]=x,h[m+5]=_,e.faceidx+=3,e.lineidx+=6):Math.abs(a[x-l].y)===r?(p[y]=S.x,p[b]=C.x,p[w]=A.x,p[y+1]=S.y,p[b+1]=C.y,p[w+1]=A.y,p[y+2]=S.z,p[b+2]=C.z,p[w+2]=A.z,f[d]=v,f[d+1]=g,f[d+2]=x,h[m]=v,h[m+1]=g,h[m+2]=v,h[m+3]=x,h[m+4]=g,h[m+5]=x,e.faceidx+=3,e.lineidx+=6):(p[y]=S.x,p[b]=C.x,p[D]=$.x,p[y+1]=S.y,p[b+1]=C.y,p[D+1]=$.y,p[y+2]=S.z,p[b+2]=C.z,p[D+2]=$.z,p[b]=C.x,p[w]=A.x,p[D]=$.x,p[b+1]=C.y,p[w+1]=A.y,p[D+1]=$.y,p[b+2]=C.z,p[w+2]=A.z,p[D+2]=$.z,f[d]=v,f[d+1]=g,f[d+2]=_,f[d+3]=g,f[d+4]=x,f[d+5]=_,h[m]=v,h[m+1]=g,h[m+2]=v,h[m+3]=_,h[m+4]=g,h[m+5]=x,h[m+6]=x,h[m+7]=_,e.faceidx+=6,e.lineidx+=8)}},e}(),$3Dmol=$3Dmol||{},$3Dmol.GLModel=function(){function e(n,o){var s=[],l=[],u=null,c=null,f=!1,h=null,p=null,d=null,m={},v=new $3Dmol.Matrix4,y=!0,g=$3Dmol.elementColors.defaultColor,b=(o=o||{}).defaultcolors?o.defaultcolors:$3Dmol.elementColors.defaultColors,x=o.defaultSphereRadius?o.defaultSphereRadius:1.5,w=o.cartoonQuality?o.cartoonQuality:5,_=function(e,t){var n=x;return void 0!==t.radius?n=t.radius:r[e.elem]&&(n=r[e.elem]),void 0!==t.scale&&(n*=t.scale),n},D=function(e,t,r){var n=function(e,t){for(var r=null,n=-1,h=0,p=e.bonds.length;h<p;h++)if(e.bonds[h]!=t.index){l=e.bonds[h],u=s[l],c=new $3Dmol.Vector3(u.x,u.y,u.z),(f=c.clone()).sub(o),(a=f.clone()).cross(i);var d=a.lengthSq();if(d>n&&(r=a,.1<(n=d)))break}return r},o=new $3Dmol.Vector3(e.x,e.y,e.z),i=new $3Dmol.Vector3(t.x,t.y,t.z).clone(),a=null;if(i.sub(o),1===e.bonds.length)if(1===t.bonds.length)a=i.clone(),1e-4<Math.abs(a.x)?a.y+=1:a.x+=1;else{e=(r+1)%t.bonds.length;var l=t.bonds[e],u=s[l],c=new $3Dmol.Vector3(u.x,u.y,u.z),f=c.clone();f.sub(o),(a=f.clone()).cross(i)}else.01>(a=n(e,t)).lengthSq()&&(null!=(t=n(t,e))&&(a=t));return.01>a.lengthSq()&&(a=i.clone(),1e-4<Math.abs(a.x)?a.y+=1:a.x+=1),a.cross(i),a.normalize(),a},S=function(e,t,r,n,o,i){e[r]=n.x,e[r+1]=n.y,e[r+2]=n.z,t[r]=i.r,t[r+1]=i.g,t[r+2]=i.b,e[r+3]=o.x,e[r+4]=o.y,e[r+5]=o.z,t[r+3]=i.r,t[r+4]=i.g,t[r+5]=i.b},C=function(e,t){if(e.style.sphere){var r=e.style.sphere;if(!r.hidden){var n=$3Dmol.getColorFromStyle(e,r);if(r=_(e,r),(!0===e.clickable||e.hoverable)&&void 0!==e.intersectionShape){var o=new $3Dmol.Vector3(e.x,e.y,e.z);e.intersectionShape.sphere.push(new $3Dmol.Sphere(o,r))}$3Dmol.GLDraw.drawSphere(t,e,r,n)}}},A=function(e,t){if(e.style.sphere){var r=e.style.sphere;if(!r.hidden){var n=_(e,r);r=$3Dmol.getColorFromStyle(e,r);var o=(t=t.updateGeoGroup(1)).vertices,i=3*o,a=t.vertexArray,s=t.radiusArray;a[i]=e.x,a[i+1]=e.y,a[i+2]=e.z,(a=t.colorArray)[i]=r.r,a[i+1]=r.g,a[i+2]=r.b,s[o]=n,!0!==e.clickable&&!e.hoverable||void 0===e.intersectionShape||(r=new $3Dmol.Vector3(e.x,e.y,e.z),e.intersectionShape.sphere.push(new $3Dmol.Sphere(r,n))),t.vertices+=1}}},M=function(e,t,r,n){for(var o=(e=e.updateGeoGroup(4)).vertices,i=3*o,a=e.vertexArray,s=0;4>s;s++)a[i+3*s]=t.x,a[i+3*s+1]=t.y,a[i+3*s+2]=t.z;for(a=e.normalArray,t=e.colorArray,s=0;4>s;s++)t[i+3*s]=n.r,t[i+3*s+1]=n.g,t[i+3*s+2]=n.b;a[i+0]=-r,a[i+1]=r,a[i+2]=0,a[i+3]=-r,a[i+4]=-r,a[i+5]=0,a[i+6]=r,a[i+7]=-r,a[i+8]=0,a[i+9]=r,a[i+10]=r,a[i+11]=0,e.vertices+=4,(r=e.faceArray)[(n=e.faceidx)+0]=o,r[n+1]=o+1,r[n+2]=o+2,r[n+3]=o+2,r[n+4]=o+3,r[n+5]=o,e.faceidx+=6},T=function(e,t){if(e.style.sphere){var r=e.style.sphere;if(!r.hidden){var n=_(e,r);if(r=$3Dmol.getColorFromStyle(e,r),(!0===e.clickable||e.hoverable)&&void 0!==e.intersectionShape){var o=new $3Dmol.Vector3(e.x,e.y,e.z);e.intersectionShape.sphere.push(new $3Dmol.Sphere(o,n))}M(t,e,n,r)}}},z=function(e,t,r,n,o,i,a){i=(e=e.updateGeoGroup(4)).vertices,a=e.vertexArray;var s=e.colorArray,l=e.radiusArray,u=e.normalArray,c=o.r,f=o.g;o=o.b;for(var h=3*i,p=0;4>p;p++){if(a[h]=t.x,u[h]=r.x,s[h]=c,a[++h]=t.y,u[h]=r.y,s[h]=f,a[++h]=t.z,u[h]=r.z,2>p)s[h]=o;else{var d=-o;0==d&&(d=-1e-4),s[h]=d}h++}e.vertices+=4,l[i]=-n,l[i+1]=n,l[i+2]=-n,l[i+3]=n,(t=e.faceArray)[(r=e.faceidx)+0]=i,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+2,t[r+4]=i+3,t[r+5]=i,e.faceidx+=6};this.getCrystData=function(){return m.cryst?m.cryst:null},this.getSymmetries=function(){return void 0===m.symmetries&&(m.symmetries=[v]),m.symmetries},this.setSymmetries=function(e){m.symmetries=void 0===e?[v]:e},this.getID=function(){return n},this.getNumFrames=function(){return void 0!=l.numFrames?l.numFrames:l.length};var E=function(e,t,r,n){return(e=t-e)<-r?t+n:e>r?t-n:t};this.setFrame=function(e){var t=this.getNumFrames();return new Promise(function(r,n){0==t&&r(),(0>e||e>=t)&&(e=t-1),void 0!=l.url?$3Dmol.getbin(l.url+"/traj/frame/"+e+"/"+l.path,null,"POST").then(function(e){e=new Float32Array(e,44);for(var t=0,n=0;n<s.length;n++)s[n].x=e[t++],s[n].y=e[t++],s[n].z=e[t++];if(u&&c&&u&&c)for(var o=.9*(e=u[0]),i=.9*(t=u[1]),a=.9*(n=u[2]),l=0;l<c.length;l++)for(var f=c[l],h=1;h<f.length;h++){var p=s[f[h][0]],d=s[f[h][1]];p.x=E(d.x,p.x,o,e),p.y=E(d.y,p.y,i,t),p.z=E(d.z,p.z,a,n)}r()}).catch(n):(s=l[e],r()),h=null})},this.addFrame=function(e){l.push(e)},this.vibrate=function(e,t){t=t||1,e=e||10,e--;for(var r=1;r<=e;r++){for(var n=[],o=0;o<s.length;o++){var i=new $3Dmol.Vector3($3Dmol.getAtomProperty(s[o],"dx"),$3Dmol.getAtomProperty(s[o],"dy"),$3Dmol.getAtomProperty(s[o],"dz")),a=new $3Dmol.Vector3(s[o].x,s[o].y,s[o].z);for(var u in i.multiplyScalar(r*t/e),a.add(i),i={},s[o])i[u]=s[o][u];i.x=a.x,i.y=a.y,i.z=a.z,n.push(i)}l.push(n)}l.unshift(s)},this.setAtomDefaults=function(e){for(var r=0;r<e.length;r++){var o=e[r];o&&(o.style=o.style||t,o.color=o.color||b[o.elem]||g,o.model=n,o.clickable||o.hoverable)&&(o.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]})}},this.addMolData=function(e,t,r){if(r=r||{},e=$3Dmol.GLModel.parseMolData(e,t,r),y=!r.duplicateAssemblyAtoms,(t=e.modelData)&&(m=Array.isArray(t)?t[0]:t),u=e.box?e.box:null,0==l.length){for(t=0;t<e.length;t++)0!=e[t].length&&l.push(e[t]);l[0]&&(s=l[0])}else if(r.frames)for(t=0;t<e.length;t++)l.push(e[t]);else for(t=0;t<e.length;t++)this.addAtoms(e[t]);for(t=0;t<l.length;t++)this.setAtomDefaults(l[t],n);r.vibrate&&r.vibrate.frames&&r.vibrate.amplitude&&this.vibrate(r.vibrate.frames,r.vibrate.amplitude),r.style&&this.setStyle({},r.style)},this.setDontDuplicateAtoms=function(e){y=e},this.setModelData=function(e){m=e};var L=function(e,t){if(e==t)return!0;if("string"==typeof t&&"number"==typeof e&&(t=t.match(/(-?\d+)\s*-\s*(-?\d+)/))){var r=parseInt(t[1]),n=parseInt(t[2]);if(t&&e>=r&&e<=n)return!0}return!1};this.atomIsSelected=function(e,t){var r;if(void 0===t)return!0;var n,o=!!t.invert,i=!0;for(n in t)if("and"==n||"or"==n||"not"==n){if("not"==n){if(this.atomIsSelected(e,t[n])){i=!1;break}}else if("and"==n){var a=t[n];for(r=0;r<a.length;r++)if(!this.atomIsSelected(e,a[r])){i=!1;break}}else if("or"==n){for(i=t[n],a=!0,r=0;r<i.length;r++){if(this.atomIsSelected(e,i[r])){a=!0;break}a=!1}i=a}}else if("predicate"===n){if(!t.predicate(e)){i=!1;break}}else if("properties"==n&&e[n])for(var s in t.properties){if(void 0===e.properties[s]){i=!1;break}if(e.properties[s]!=t.properties[s]){i=!1;break}}else if(t.hasOwnProperty(n)&&"props"!=n&&"invert"!=n&&"model"!=n&&"byres"!=n&&"expand"!=n&&"within"!=n&&"and"!=n&&"or"!=n&&"not"!=n){if(void 0===e[n]){i=!1;break}if(a=!1,"bonds"===n){if((r=t[n])!=e.bonds.length){i=!1;break}}else if($.isArray(t[n])){var l=t[n],u=e[n];for(r=0;r<l.length;r++)if(L(u,l[r])){a=!0;break}if(!a){i=!1;break}}else if(r=t[n],!L(e[n],r)){i=!1;break}}return o?!i:i},this.selectedAtoms=function(e,t){var r,n=[];e=e||{},t||(t=s);for(var o=t.length,i=0;i<o;i++)(r=t[i])&&this.atomIsSelected(r,e)&&n.push(r);if(e.hasOwnProperty("expand")){if(0>=(o=parseFloat(e.expand)))o=n;else{for(i=$3Dmol.getExtent(n),r=[[],[],[]],t=0;3>t;t++)r[0][t]=i[0][t]-o,r[1][t]=i[1][t]+o,r[2][t]=i[2][t];for(o=[],t=0;t<s.length;t++){var a=s[t].x,l=s[t].y,u=s[t].z;a>=r[0][0]&&a<=r[1][0]&&l>=r[0][1]&&l<=r[1][1]&&u>=r[0][2]&&u<=r[1][2]&&(a>=i[0][0]&&a<=i[1][0]&&l>=i[0][1]&&l<=i[1][1]&&u>=i[0][2]&&u<=i[1][2]||o.push(s[t]))}}for(a=n.length,i=0;i<o.length;i++)for(var c=0;c<a;c++)(t=k(o[i],n[c]))<(r=Math.pow(e.expand,2))&&0<t&&n.push(o[i])}if(e.hasOwnProperty("within")&&e.within.hasOwnProperty("sel")&&e.within.hasOwnProperty("distance")){for(a=this.selectedAtoms(e.within.sel,s),o={},i=0;i<a.length;i++)for(c=0;c<n.length;c++)(t=k(a[i],n[c]))<(r=Math.pow(parseFloat(e.within.distance),2))&&0<t&&(o[c]=1);if(i=[],e.within.invert)for(c=0;c<n.length;c++)o[c]||i.push(n[c]);else for(c in o)i.push(n[c]);n=i}if(e.hasOwnProperty("byres"))for(e={},t=[],o=[],i=0;i<n.length;i++)if(a=(r=n[i]).chain,l=r.resi,void 0===e[a]&&(e[a]={}),r.hasOwnProperty("resi")&&void 0===e[a][l])for(e[a][l]=!0,o.push(r);0<o.length;)if(a=(r=o.pop()).chain,l=r.resi,void 0===t[r.index])for(t[r.index]=!0,c=0;c<r.bonds.length;c++)void 0===t[(u=s[r.bonds[c]]).index]&&u.hasOwnProperty("resi")&&u.chain==a&&u.resi==l&&(o.push(u),n.push(u));return n};var k=function(e,t){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2)};this.addAtoms=function(e){h=null;var r,o=s.length,i=[];for(r=0;r<e.length;r++)void 0===e[r].index&&(e[r].index=r),void 0===e[r].serial&&(e[r].serial=r),i[e[r].index]=o+r;for(r=0;r<e.length;r++){var a=i[(o=e[r]).index],l=$.extend(!1,{},o);l.index=a,l.bonds=[],l.bondOrder=[],l.model=n,l.style=l.style||t,void 0===l.color&&(l.color=b[l.elem]||g),a=o.bonds?o.bonds.length:0;for(var u=0;u<a;u++){var c=i[o.bonds[u]];void 0!==c&&(l.bonds.push(c),l.bondOrder.push(o.bondOrder?o.bondOrder[u]:1))}s.push(l)}},this.removeAtoms=function(e){h=null;var t,r=[];for(t=0;t<e.length;t++)r[e[t].index]=!0;for(e=[],t=0;t<s.length;t++){var n=s[t];r[n.index]||e.push(n)}s=[],this.addAtoms(e)},this.setStyle=function(t,r,n){for(var o in void 0===r&&void 0===n&&(r=t,t={}),t)e.validAtomSelectionSpecs.hasOwnProperty(o)||console.log("Unknown selector "+o);for(o in r)e.validAtomStyleSpecs.hasOwnProperty(o)||console.log("Unknown style "+o);var i=!1,a=function(e){for(var a=u.selectedAtoms(t,e),s=0;s<e.length;s++)e[s]&&(e[s].capDrawn=!1);for(s=0;s<a.length;s++)for(o in i=!0,(a[s].clickable||a[s].hoverable)&&(a[s].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),n||(a[s].style={}),r)if(r.hasOwnProperty(o))for(var l in a[s].style[o]=a[s].style[o]||{},r[o])a[s].style[o][l]=r[o][l]},u=this;a(s);for(var c=0;c<l.length;c++)l[c]!==s&&a(l[c]);i&&(h=null)},this.setClickable=function(t,r,n){for(var o in t)e.validAtomSelectionSpecs.hasOwnProperty(o)||console.log("Unknown selector "+o);if(r=!!r,n&&"function"!=typeof n)console.log("Callback is not a function");else{var i=(o=this.selectedAtoms(t,s)).length;for(t=0;t<i;t++)o[t].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},o[t].clickable=r,n&&(o[t].callback=n);0<i&&(h=null)}},this.setHoverable=function(t,r,n,o){for(var i in t)e.validAtomSelectionSpecs.hasOwnProperty(i)||console.log("Unknown selector "+i);if(r=!!r,n&&"function"!=typeof n)console.log("Hover_callback is not a function");else if(o&&"function"!=typeof o)console.log("Unhover_callback is not a function");else{var a=(i=this.selectedAtoms(t,s)).length;for(t=0;t<a;t++)i[t].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},i[t].hoverable=r,n&&(i[t].hover_callback=n),o&&(i[t].unhover_callback=o);0<a&&(h=null)}},this.setColorByElement=function(e,t){var r;if((r=null!==h)&&(r=d,r=t&&r?JSON.stringify(t)==JSON.stringify(r):t==r),!r){d=t;var n=this.selectedAtoms(e,n);for(0<n.length&&(h=null),e=0;e<n.length;e++)void 0!==t[(r=n[e]).elem]&&(r.color=t[r.elem])}},this.setColorByProperty=function(e,t,r,n){var o=this.selectedAtoms(e,o);for(d=null,0<o.length&&(h=null),void 0!==$3Dmol.Gradient.builtinGradients[r]&&(r=new $3Dmol.Gradient.builtinGradients[r]),n||(n=r.range()),n||(n=$3Dmol.getPropertyRange(o,t)),e=0;e<o.length;e++){var i=o[e];null!=$3Dmol.getAtomProperty(i,t)&&(i.color=r.valueToHex(parseFloat(i.properties[t]),n))}},this.setColorByFunction=function(e,t){var r=this.selectedAtoms(e,r);if("function"==typeof t)for(d=null,0<r.length&&(h=null),i=0;i<r.length;i++)a=r[i],a.color=t(a)},this.toCDObject=function(e){var t={a:[],b:[]};e&&(t.s=[]);for(var r=0;r<s.length;r++){var n={},o=s[r];if(n.x=o.x,n.y=o.y,n.z=o.z,"C"!=o.elem&&(n.l=o.elem),e){for(var i=0;i<t.s.length&&JSON.stringify(o.style)!==JSON.stringify(t.s[i]);)i++;i===t.s.length&&t.s.push(o.style),0!==i&&(n.s=i)}for(t.a.push(n),n=0;n<o.bonds.length;n++){i=r;var a=o.bonds[n];i>=a||(i={b:i,e:a},1!=(a=o.bondOrder[n])&&(i.o=a),t.b.push(i))}}return t},this.globj=function(e,t){if(null===h){var r=s,n=t;n=n||{};var o=new $3Dmol.Object3D,i=[],a={},l={},u=C;if(n.supportsImposters){u=T;var c=new $3Dmol.Geometry(!0);c.imposter=!0;var d=new $3Dmol.Geometry(!0,!0);d.imposter=!0,d.sphereGeometry=new $3Dmol.Geometry(!0),d.sphereGeometry.imposter=!0,d.drawnCaps={}}else n.supportsAIA?(u=A,(c=new $3Dmol.Geometry(!1,!0,!0)).instanced=!0):c=new $3Dmol.Geometry(!0),d=new $3Dmol.Geometry(!0);var v,g,b={},x=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],$=0;for(g=r.length;$<g;$++){var E=r[$];if(E&&E.style){(E.clickable||E.hoverable)&&void 0===E.intersectionShape&&(E.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});var L={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(v in L)L[v]=E.style[v]?E.style[v].opacity?parseFloat(E.style[v].opacity):1:void 0,b[v]?void 0!=L[v]&&b[v]!=L[v]&&(console.log("Warning: "+v+" opacity is ambiguous"),b[v]=1):b[v]=L[v];u(E,c);var k=E,I=l;if(k.style.cross){var O=k.style.cross;if(!O.hidden){var j=O.linewidth||1;I[j]||(I[j]=new $3Dmol.Geometry);var P=I[j].updateGeoGroup(6),N=_(k,O),F=[[N,0,0],[-N,0,0],[0,N,0],[0,-N,0],[0,0,N],[0,0,-N]],R=k.clickable||k.hoverable;R&&void 0===k.intersectionShape&&(k.intersectionShape={sphere:[],cylinder:[],line:[]});for(var q=$3Dmol.getColorFromStyle(k,O),V=P.vertexArray,B=P.colorArray,U=0;6>U;U++){var H=3*P.vertices;if(P.vertices++,V[H]=k.x+F[U][0],V[H+1]=k.y+F[U][1],V[H+2]=k.z+F[U][2],B[H]=q.r,B[H+1]=q.g,B[H+2]=q.b,R){var G=new $3Dmol.Vector3(F[U][0],F[U][1],F[U][2]);G.multiplyScalar(.1),G.set(G.x+k.x,G.y+k.y,G.z+k.z),k.intersectionShape.line.push(G)}}}}var W=void 0,Y=void 0,X=void 0,Z=void 0,K=void 0,Q=void 0,J=E,ee=r,te=a;if(J.style.line){var re=J.style.line;if(!re.hidden){var ne=re.linewidth||1;te[ne]||(te[ne]=new $3Dmol.Geometry);for(var oe=te[ne].updateGeoGroup(6*J.bonds.length),ie=oe.vertexArray,ae=oe.colorArray,se=0;se<J.bonds.length;se++){var le=ee[J.bonds[se]];if(le.style.line&&!(J.serial>=le.serial)){var ue=new $3Dmol.Vector3(J.x,J.y,J.z),ce=new $3Dmol.Vector3(le.x,le.y,le.z),fe=ue.clone().add(ce).multiplyScalar(.5),he=!1,pe=J.clickable||J.hoverable,de=le.clickable||le.hoverable;(pe||de)&&(pe&&(void 0===J.intersectionShape&&(J.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),J.intersectionShape.line.push(ue),J.intersectionShape.line.push(fe)),de&&(void 0===le.intersectionShape&&(le.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),le.intersectionShape.line.push(fe),le.intersectionShape.line.push(ce)));var me=$3Dmol.getColorFromStyle(J,J.style.line),ve=$3Dmol.getColorFromStyle(le,le.style.line);if(J.bondStyles&&J.bondStyles[se]){var ye=J.bondStyles[se];if(!ye.iswire)continue;ye.radius&&(bondR=ye.radius),ye.singleBond&&(he=!0),void 0!==ye.color1&&(me=$3Dmol.CC.color(ye.color1)),void 0!==ye.color2&&(ve=$3Dmol.CC.color(ye.color2))}var ge=3*oe.vertices;if(1<J.bondOrder[se]&&4>J.bondOrder[se]&&!he){var be=D(J,le,se),xe=ce.clone();xe.sub(ue),2==J.bondOrder[se]?(be.multiplyScalar(.1),(Z=ue.clone()).add(be),(X=ue.clone()).sub(be),(Y=Z.clone()).add(xe),(W=X.clone()).add(xe),me==ve?(oe.vertices+=4,S(ie,ae,ge,Z,Y,me),S(ie,ae,ge+6,X,W,me)):(oe.vertices+=8,xe.multiplyScalar(.5),(K=Z.clone()).add(xe),(Q=X.clone()).add(xe),S(ie,ae,ge,Z,K,me),S(ie,ae,ge+6,K,Y,ve),S(ie,ae,ge+12,X,Q,me),S(ie,ae,ge+18,Q,W,ve))):3==J.bondOrder[se]&&(be.multiplyScalar(.1),(Z=ue.clone()).add(be),(X=ue.clone()).sub(be),(Y=Z.clone()).add(xe),(W=X.clone()).add(xe),me==ve?(oe.vertices+=6,S(ie,ae,ge,ue,ce,me),S(ie,ae,ge+6,Z,Y,me),S(ie,ae,ge+12,X,W,me)):(oe.vertices+=12,xe.multiplyScalar(.5),(K=Z.clone()).add(xe),(Q=X.clone()).add(xe),S(ie,ae,ge,ue,fe,me),S(ie,ae,ge+6,fe,ce,ve),S(ie,ae,ge+12,Z,K,me),S(ie,ae,ge+18,K,Y,ve),S(ie,ae,ge+24,X,Q,me),S(ie,ae,ge+30,Q,W,ve)))}else me==ve?(oe.vertices+=2,S(ie,ae,ge,ue,ce,me)):(oe.vertices+=4,S(ie,ae,ge,ue,fe,me),S(ie,ae,ge+6,fe,ce,ve))}}}}var we=void 0,_e=void 0,De=void 0,Se=void 0,Ce=void 0,Ae=void 0,$e=void 0,Me=void 0,Te=void 0,ze=void 0,Ee=void 0,Le=void 0,ke=void 0,Ie=E,Oe=r,je=d;if(Ie.style.stick){var Pe=Ie.style.stick;if(!Pe.hidden){var Ne=Pe.radius||.25,Fe=Pe.singleBonds||!1,Re=0,qe=0,Ve=$3Dmol.getColorFromStyle(Ie,Pe);!Ie.capDrawn&&4>Ie.bonds.length&&(Re=2);var Be=$3Dmol.GLDraw.drawCylinder;je.imposter&&(Be=z);for(var Ue=0;Ue<Ie.bonds.length;Ue++){var He=Oe[Ie.bonds[Ue]];if(Ie.serial<He.serial){var Ge=He.style;if(Ge.stick&&!Ge.stick.hidden){var We=$3Dmol.getColorFromStyle(He,Ge.stick);if(De=Ne,Le=Fe,Ie.bondStyles&&Ie.bondStyles[Ue]){if((ke=Ie.bondStyles[Ue]).iswire)continue;ke.radius&&(De=ke.radius),ke.singleBond&&(Le=!0),void 0!==ke.color1&&(Ve=$3Dmol.CC.color(ke.color1)),void 0!==ke.color2&&(We=$3Dmol.CC.color(ke.color2))}var Ye=new $3Dmol.Vector3(Ie.x,Ie.y,Ie.z),Xe=new $3Dmol.Vector3(He.x,He.y,He.z);if(1===Ie.bondOrder[Ue]||Le){if(!He.capDrawn&&4>He.bonds.length&&(qe=2),Ve!=We?(Be(je,Ye,_e=(new $3Dmol.Vector3).addVectors(Ye,Xe).multiplyScalar(.5),De,Ve,Re,0),Be(je,_e,Xe,De,We,0,qe)):Be(je,Ye,Xe,De,Ve,Re,qe),Ae=Ie.clickable||Ie.hoverable,$e=He.clickable||He.hoverable,Ae||$e){if(_e||(_e=(new $3Dmol.Vector3).addVectors(Ye,Xe).multiplyScalar(.5)),Ae){var Ze=new $3Dmol.Cylinder(Ye,_e,De),Ke=new $3Dmol.Sphere(Ye,De);Ie.intersectionShape.cylinder.push(Ze),Ie.intersectionShape.sphere.push(Ke)}if($e){var Qe=new $3Dmol.Cylinder(Xe,_e,De),Je=new $3Dmol.Sphere(Xe,De);He.intersectionShape.cylinder.push(Qe),He.intersectionShape.sphere.push(Je)}}}else if(1<Ie.bondOrder[Ue]){var et=0,tt=0;De!=Ne&&(tt=et=2);var rt=Xe.clone();if(rt.sub(Ye),Ce=D(Ie,He,Ue),2==Ie.bondOrder[Ue]){Se=De/2.5,(Ce=D(Ie,He,Ue)).multiplyScalar(1.5*Se);var nt=Ye.clone();nt.add(Ce);var ot=Ye.clone();ot.sub(Ce);var it=nt.clone();it.add(rt);var at=ot.clone();at.add(rt),Ve!=We?(_e=(new $3Dmol.Vector3).addVectors(nt,it).multiplyScalar(.5),we=(new $3Dmol.Vector3).addVectors(ot,at).multiplyScalar(.5),Be(je,nt,_e,Se,Ve,et,0),Be(je,_e,it,Se,We,0,tt),Be(je,ot,we,Se,Ve,et,0),Be(je,we,at,Se,We,0,tt)):(Be(je,nt,it,Se,Ve,et,tt),Be(je,ot,at,Se,Ve,et,tt)),Ae=Ie.clickable||Ie.hoverable,$e=He.clickable||He.hoverable,(Ae||$e)&&(_e||(_e=(new $3Dmol.Vector3).addVectors(nt,it).multiplyScalar(.5)),we||(we=(new $3Dmol.Vector3).addVectors(ot,at).multiplyScalar(.5)),Ae&&(Me=new $3Dmol.Cylinder(nt,_e,Se),Te=new $3Dmol.Cylinder(ot,we,Se),Ie.intersectionShape.cylinder.push(Me),Ie.intersectionShape.cylinder.push(Te)),$e&&(ze=new $3Dmol.Cylinder(it,_e,Se),Ee=new $3Dmol.Cylinder(at,we,Se),He.intersectionShape.cylinder.push(ze),He.intersectionShape.cylinder.push(Ee)))}else if(3==Ie.bondOrder[Ue]&&(Se=De/4,Ce.cross(rt),Ce.normalize(),Ce.multiplyScalar(3*Se),(nt=Ye.clone()).add(Ce),(ot=Ye.clone()).sub(Ce),(it=nt.clone()).add(rt),(at=ot.clone()).add(rt),Ve!=We?(_e=(new $3Dmol.Vector3).addVectors(nt,it).multiplyScalar(.5),we=(new $3Dmol.Vector3).addVectors(ot,at).multiplyScalar(.5),mp3=(new $3Dmol.Vector3).addVectors(Ye,Xe).multiplyScalar(.5),Be(je,nt,_e,Se,Ve,et,0),Be(je,_e,it,Se,We,0,tt),Be(je,Ye,mp3,Se,Ve,Re,0),Be(je,mp3,Xe,Se,We,0,qe),Be(je,ot,we,Se,Ve,et,0),Be(je,we,at,Se,We,0,tt)):(Be(je,nt,it,Se,Ve,et,tt),Be(je,Ye,Xe,Se,Ve,Re,qe),Be(je,ot,at,Se,Ve,et,tt)),Ae=Ie.clickable||Ie.hoverable,$e=He.clickable||He.hoverable,Ae||$e)){if(_e||(_e=(new $3Dmol.Vector3).addVectors(nt,it).multiplyScalar(.5)),we||(we=(new $3Dmol.Vector3).addVectors(ot,at).multiplyScalar(.5)),mp3||(mp3=(new $3Dmol.Vector3).addVectors(Ye,Xe).multiplyScalar(.5)),Ae){Me=new $3Dmol.Cylinder(nt.clone(),_e.clone(),Se),Te=new $3Dmol.Cylinder(ot.clone(),we.clone(),Se);var st=new $3Dmol.Cylinder(Ye.clone(),mp3.clone(),Se);Ie.intersectionShape.cylinder.push(Me),Ie.intersectionShape.cylinder.push(Te),Ie.intersectionShape.cylinder.push(st)}if($e){ze=new $3Dmol.Cylinder(it.clone(),_e.clone(),Se),Ee=new $3Dmol.Cylinder(at.clone(),we.clone(),Se);var lt=new $3Dmol.Cylinder(Xe.clone(),mp3.clone(),Se);He.intersectionShape.cylinder.push(ze),He.intersectionShape.cylinder.push(Ee),He.intersectionShape.cylinder.push(lt)}}}}}}var ut=!1,ct=0,ft=!1;for(Ue=0;Ue<Ie.bonds.length;Ue++)Le=Fe,Ie.bondStyles&&Ie.bondStyles[Ue]&&((ke=Ie.bondStyles[Ue]).singleBond&&(Le=!0),ke.radius&&ke.radius!=Ne&&(ft=!0)),(Le||1==Ie.bondOrder[Ue])&&ct++;ft?0<ct&&(ut=!0):0==ct&&0<Ie.bonds.length&&(ut=!0),ut&&(De=Ne,je.imposter?M(je.sphereGeometry,Ie,De,Ve):$3Dmol.GLDraw.drawSphere(je,Ie,De,Ve))}}void 0===E.style.cartoon||E.style.cartoon.hidden||("spectrum"!==E.style.cartoon.color||"number"!=typeof E.resi||E.hetflag||(E.resi<x[0]&&(x[0]=E.resi),E.resi>x[1]&&(x[1]=E.resi)),i.push(E))}}if(0<i.length&&$3Dmol.drawCartoon(o,i,x,w),c&&0<c.vertices){if(c.initTypedArrays(),c.imposter)var ht=new $3Dmol.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0});else if(c.instanced){var pt=new $3Dmol.Geometry(!0);$3Dmol.GLDraw.drawSphere(pt,{x:0,y:0,z:0},1,new $3Dmol.Color(.5,.5,.5)),pt.initTypedArrays(),ht=new $3Dmol.InstancedMaterial({sphereMaterial:new $3Dmol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:pt})}else ht=new $3Dmol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});1>b.sphere&&0<=b.sphere&&(ht.transparent=!0,ht.opacity=b.sphere),pt=new $3Dmol.Mesh(c,ht),o.add(pt)}if(0<d.vertices){var dt=d.sphereGeometry;dt&&void 0!==dt.vertices&&0!=dt.vertices||(dt=null),d.initTypedArrays(),dt&&dt.initTypedArrays();var mt={ambient:0,vertexColors:!0,reflectivity:0};if(d.imposter)var vt=new $3Dmol.StickImposterMaterial(mt),yt=new $3Dmol.SphereImposterMaterial(mt);else vt=new $3Dmol.MeshLambertMaterial(mt),yt=new $3Dmol.MeshLambertMaterial(mt),vt.wireframe&&(d.setUpWireframe(),dt&&dt.setUpWireframe());1>b.stick&&0<=b.stick&&(vt.transparent=!0,vt.opacity=b.stick,yt.transparent=!0,yt.opacity=b.stick);var gt=new $3Dmol.Mesh(d,vt);if(o.add(gt),dt){var bt=new $3Dmol.Mesh(dt,yt);o.add(bt)}}for($ in a)if(a.hasOwnProperty($)){var xt=$,wt=new $3Dmol.LineBasicMaterial({linewidth:xt,vertexColors:!0});1>b.line&&0<=b.line&&(wt.transparent=!0,wt.opacity=b.line),a[$].initTypedArrays();var _t=new $3Dmol.Line(a[$],wt,$3Dmol.LinePieces);o.add(_t)}for($ in l)if(l.hasOwnProperty($)){xt=$;var Dt=new $3Dmol.LineBasicMaterial({linewidth:xt,vertexColors:!0});1>b.cross&&0<=b.cross&&(Dt.transparent=!0,Dt.opacity=b.cross),l[$].initTypedArrays();var St=new $3Dmol.Line(l[$],Dt,$3Dmol.LinePieces);o.add(St)}if(y&&m.symmetries&&0<m.symmetries.length){var Ct,At=new $3Dmol.Object3D;for(Ct=0;Ct<m.symmetries.length;Ct++){new $3Dmol.Object3D;var $t=o.clone();$t.matrix.copy(m.symmetries[Ct]),$t.matrixAutoUpdate=!1,At.add($t)}h=At}else h=o;p&&(e.remove(p),p=null),p=h.clone(),f&&(p.setVisible(!1),h.setVisible(!1)),e.add(p)}},this.removegl=function(e){p&&(void 0!==p.geometry&&p.geometry.dispose(),void 0!==p.material&&p.material.dispose(),e.remove(p),p=null),h=null},this.hide=function(){f=!0,p&&p.setVisible(!1),h&&h.setVisible(!1)},this.show=function(){f=!1,p&&p.setVisible(!0),h&&h.setVisible(!0)},this.addPropertyLabels=function(e,t,r,n){var o=this.selectedAtoms(t,o);for(t=$.extend(!0,{},n),n=0;n<o.length;n++){var i=o[n],a=null;void 0!==i[e]?a=String(i[e]):(i.properties[e],a=String(i.properties[e])),null!=a&&(t.position=i,r.addLabel(a,t))}},this.addResLabels=function(e,t,r){for(var n=this.selectedAtoms(e,n),o={},i=0;i<n.length;i++){var a=(e=n[i]).chain,s=e.resn+""+e.resi;o[a]||(o[a]={}),o[a][s]||(o[a][s]=[]),o[a][s].push(e)}for(a in r=$.extend(!0,{},r),o)if(o.hasOwnProperty(a)){var l=o[a];for(s in l)if(l.hasOwnProperty(s)){n=l[s];var u=new $3Dmol.Vector3(0,0,0);for(i=0;i<n.length;i++)e=n[i],u.x+=e.x,u.y+=e.y,u.z+=e.z;u.divideScalar(n.length),r.position=u,t.addLabel(s,r)}}};this.setCoordinatesFromURL=function(e,t){l=[];var r=this;return u&&function(){c=[];var e=new Int8Array(s.length);e.fill(0);for(var t=function(r,n,o){o.push([r,n]),n=s[r],e[r]=1;for(var i=0;i<n.bonds.length;i++){var a=n.bonds[i];s[a]&&!e[a]&&t(a,r,o)}},r=0;r<s.length;r++)if(s[r]&&!e[r]){var n=[];t(r,-1,n),c.push(n)}}(),new Promise(function(n,o){e.startsWith("http://")||(e="http://"+e),$.get(e+"/traj/numframes/"+t,function(i){isNaN(parseInt(i))||(l.push(s),l.numFrames=i,l.url=e,l.path=t,r.setFrame(0).then(function(){n()}).catch(o))})})},this.setCoordinates=function(t,r){if(r=r||"",!t)return[];if(/\.gz$/.test(r)){r=r.replace(/\.gz$/,"");try{t=pako.inflate(t,{to:"string"})}catch(e){console.log(e)}}if({mdcrd:"",inpcrd:"",pdb:"",netcdf:""}.hasOwnProperty(r)){l=[];var n=s.length;for(t=e.parseCrd(t,r),r=0;r<t.length;){for(var o=[],i=0;i<n;i++){var a,u={};for(a in s[i])u[a]=s[i][a];o[i]=u,o[i].x=t[r++],o[i].y=t[r++],o[i].z=t[r++]}l.push(o)}return s=l[0],l}return[]},this.addAtomSpecs=function(t){for(var r=0;r<t.length;r++)e.validAtomSelectionSpecs.hasOwnProperty(t[r])&&e.validAtomSelectionSpecs.push(t[r])}}var t={line:{}},r={H:1.2,Li:1.82,LI:1.82,Na:2.27,NA:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,Cl:1.75,BR:1.85,Br:1.85,SE:1.9,Se:1.9,ZN:1.39,Zn:1.39,CU:1.4,Cu:1.4,NI:1.63,Ni:1.63};return e.validElements="H Li LI Na NA K C N O F P S CL Cl BR Br SE Se ZN Zn CU Cu NI Ni".split(" "),e.validAtomSpecs={resn:{type:"string",valid:!0},x:{type:"number",valid:!1,step:.1},y:{type:"number",valid:!1,step:.1},z:{type:"number",valid:!1,step:.1},color:{type:"color",gui:!0},surfaceColor:{type:"color",gui:!0},elem:{type:"element",gui:!0},hetflag:{type:"boolean",valid:!1},chain:{type:"string",gui:!0},resi:{type:"number",gui:!0},icode:{type:"number",valid:!1,step:.1},rescode:{type:"number",valid:!1,step:.1},serial:{type:"number",valid:!1,step:.1},atom:{type:"string",valid:!1},bonds:{type:"array",valid:!1},ss:{type:"string",valid:!1},singleBonds:{type:"boolean",valid:!1},bondOrder:{type:"array",valid:!1},properties:{type:"properties",valid:!1},b:{type:"number",valid:!1,step:.1},pdbline:{type:"string",valid:!1},clickable:{type:"boolean",valid:!1},callback:{type:"function",valid:!1},invert:{type:"boolean",valid:!1},reflectivity:{type:"number",gui:!0,step:.1},altLoc:{type:"invalid",valid:!1}},e.validAtomSelectionSpecs=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}(e.validAtomSpecs,{model:{type:"string",valid:!1},bonds:{type:"string",valid:!1},predicate:{type:"string",valid:!1},invert:{type:"string",valid:!1},byres:{type:"string",valid:!1},expand:{type:"string",valid:!1},within:{type:"string",valid:!1},and:{type:"string",valid:!1},or:{type:"string",valid:!1},not:{type:"string",valid:!1}}),e.validAtomStyleSpecs={line:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!0,step:.1,default:1},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0}},gui:!0},cross:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!1,step:.1,default:1,min:0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1,min:.1},scale:{type:"number",gui:!0,step:.1,default:1,min:0}},gui:!0},stick:{validItems:{hidden:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:.25,min:.1},singleBonds:{type:"boolean",gui:!0}},gui:!0},sphere:{validItems:{hidden:{type:"boolean",gui:!0},singleBonds:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1.5,min:0}},gui:!0},cartoon:{validItems:{style:{validItems:["trace","oval","rectangle","parabola","edged"],gui:!0},color:{type:"color",gui:!0},arrows:{type:"boolean",gui:!0},ribbon:{type:"boolean",gui:!0},hidden:{type:"boolean",gui:!0},tubes:{type:"boolean",gui:!0},thickness:{type:"number",gui:!0,step:.1,default:1,min:0},width:{type:"number",gui:!0,step:.1,default:1,min:0},opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1}},gui:!0},colorfunc:{validItems:null,valid:!1}},e.validSurfaceSpecs={opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},voldata:{type:"number",gui:!1},volscheme:{type:"number",gui:!1},map:{type:"number",gui:!1}},e.validLabelResSpecs={font:{type:"string",gui:!0},fontSize:{type:"number",gui:!0,step:1,default:12,min:1},fontColor:{type:"color",gui:!0},fontOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},borderThickness:{type:"number",gui:!0,step:.1,default:1,min:0},borderColor:{type:"color",gui:!0},borderOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},backgroundColor:{type:"color",gui:!0},backgroundOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},position:{type:"array",valid:!1},inFront:{type:"boolean",gui:!0},showBackground:{type:"boolean",gui:!0},fixed:{type:"boolean",gui:!0},alignment:{validItems:"topLeft topCenter topRight centerLeft center centerRight bottomLeft bottomCenter bottomRight".split(" "),gui:!0},scale:{type:"boolean",gui:!1}},e.parseCrd=function(e,t){var r,n=[],o=0;if("pdb"==t)for(r=e.indexOf("\nATOM");-1!=r;){for(;"\nATOM"==e.slice(r,r+5)||"\nHETATM"==e.slice(r,r+7);)n[o++]=parseFloat(e.slice(r+31,r+39)),n[o++]=parseFloat(e.slice(r+39,r+47)),n[o++]=parseFloat(e.slice(r+47,r+55)),r=e.indexOf("\n",r+54),"\nTER"==e.slice(r,r+4)&&(r=e.indexOf("\n",r+5));r=e.indexOf("\nATOM",r)}else"netcdf"==t?(e=new netcdfjs(e),n=[].concat.apply([],e.getDataVariable("coordinates"))):(r=e.indexOf("\n"),"inpcrd"==t&&(r=e.indexOf("\n",r+1)),n=(e=e.slice(r+1)).match(/\S+/g).map(parseFloat));return n},e.parseMolData=function(e,t,r){if(t=t||"",!e)return[];if(/\.gz$/.test(t)){t=t.replace(/\.gz$/,"");try{e=pako.inflate(e,{to:"string"})}catch(e){console.log(e)}}return void 0===$3Dmol.Parsers[t]&&(t=t.split(".").pop(),void 0===$3Dmol.Parsers[t]&&(console.log("Unknown format: "+t),t=e instanceof Uint8Array?"mmtf":e.match(/^@<TRIPOS>MOLECULE/gm)?"mol2":e.match(/^HETATM/gm)||e.match(/^ATOM/gm)?"pdb":e.match(/ITEM: TIMESTEP/gm)?"lammpstrj":e.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?"sdf":e.match(/^%VERSION\s+\VERSION_STAMP/gm)?"prmtop":"xyz",console.log("Best guess: "+t))),(0,$3Dmol.Parsers[t])(e,r)},e.setAtomDefaults=function(e,r){for(var n=0;n<e.length;n++){var o=e[n];o&&(o.style=o.style||t,o.color=o.color||ElementColors[o.elem]||defaultColor,o.model=r,o.clickable||o.hoverable)&&(o.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]})}},e}(),$3Dmol.GLShape=function(){function e(e){e=e||{},$3Dmol.ShapeIDCount++,this.boundingSphere=new $3Dmol.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},o(this,e);var i=[],a=null,s=null,l=new $3Dmol.Geometry(!0),u=new $3Dmol.Geometry(!0);this.updateStyle=function(t){for(var r in t)e[r]=t[r];o(this,e)},this.addCustom=function(e){e.vertexArr=e.vertexArr||[],e.faceArr=e.faceArr||[],e.normalArr=e.normalArr||[],r(this,l,e)},this.addSphere=function(e){e.center=e.center||{x:0,y:0,z:0},e.radius=e.radius?$3Dmol.Math.clamp(e.radius,0,1/0):1.5,e.color=$3Dmol.CC.color(e.color),this.intersectionShape.sphere.push(new $3Dmol.Sphere(e.center,e.radius)),$3Dmol.GLDraw.drawSphere(l,e.center,e.radius,e.color),i.push({centroid:new $3Dmol.Vector3(e.center.x,e.center.y,e.center.z)}),e=l.updateGeoGroup(0),n(this.boundingSphere,i,e.vertexArray,e.vertices)},this.addBox=function(e){var t=e.dimensions||{w:1,h:1,d:1},o=t.w;"number"==typeof t.w&&(o={x:t.w,y:0,z:0});var a=t.h;"number"==typeof t.h&&(a={x:0,y:t.h,z:0});var s=t.d;"number"==typeof t.d&&(s={x:0,y:0,z:t.d}),void 0==(t=e.corner)&&(t=void 0!==e.center?{x:e.center.x-.5*(o.x+a.x+s.x),y:e.center.y-.5*(o.y+a.y+s.y),z:e.center.z-.5*(o.z+a.z+s.z)}:{x:0,y:0,z:0}),o=[{x:t.x,y:t.y,z:t.z},{x:t.x+o.x,y:t.y+o.y,z:t.z+o.z},{x:t.x+a.x,y:t.y+a.y,z:t.z+a.z},{x:t.x+o.x+a.x,y:t.y+o.y+a.y,z:t.z+o.z+a.z},{x:t.x+s.x,y:t.y+s.y,z:t.z+s.z},{x:t.x+o.x+s.x,y:t.y+o.y+s.y,z:t.z+o.z+s.z},{x:t.x+a.x+s.x,y:t.y+a.y+s.y,z:t.z+a.z+s.z},{x:t.x+o.x+a.x+s.x,y:t.y+o.y+a.y+s.y,z:t.z+o.z+a.z+s.z}],s=[],(a=[]).splice(a.length,0,o[0],o[1],o[2],o[3]),s.splice(s.length,0,0,2,1,1,2,3),t=4,a.splice(a.length,0,o[2],o[3],o[6],o[7]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[4],o[5],o[0],o[1]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[6],o[7],o[4],o[5]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[3],o[1],o[7],o[5]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[2],o[0],o[6],o[4]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),(e=$.extend({},e)).vertexArr=a,e.faceArr=s,e.normalArr=[],r(this,l,e),e=new $3Dmol.Vector3,i.push({centroid:e.addVectors(o[0],o[7]).multiplyScalar(.5)}),e=l.updateGeoGroup(0),n(this.boundingSphere,i,e.vertexArray,e.vertices)},this.addCylinder=function(e){e.start=e.start||{},e.end=e.end||{};var t=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),r=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0);void 0===r.x&&(r.x=3);var o=e.radius||.1,a=$3Dmol.CC.color(e.color);this.intersectionShape.cylinder.push(new $3Dmol.Cylinder(t,r,o)),$3Dmol.GLDraw.drawCylinder(l,t,r,o,a,e.fromCap,e.toCap),e=new $3Dmol.Vector3,i.push({centroid:e.addVectors(t,r).multiplyScalar(.5)}),t=l.updateGeoGroup(0),n(this.boundingSphere,i,t.vertexArray,t.vertices)},this.addDashedCylinder=function(e){e.start=e.start||{},e.end=e.end||{},e.dashLength=e.dashLength||.25,e.gapLength=e.gapLength||.25;var t=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),r=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0);void 0===r.x&&(r.x=3);var o=e.radius||.1,a=$3Dmol.CC.color(e.color),s=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)+Math.pow(t.z-r.z,2)),u=s/(e.gapLength+e.dashLength),c=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0);new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0);for(var f=new $3Dmol.Vector3((r.x-t.x)/(s/e.gapLength),(r.y-t.y)/(s/e.gapLength),(r.z-t.z)/(s/e.gapLength)),h=new $3Dmol.Vector3((r.x-t.x)/(s/e.dashLength),(r.y-t.y)/(s/e.dashLength),(r.z-t.z)/(s/e.dashLength)),p=0;p<u;p++)s=new $3Dmol.Vector3(c.x+h.x,c.y+h.y,c.z+h.z),this.intersectionShape.cylinder.push(new $3Dmol.Cylinder(c,s,o)),$3Dmol.GLDraw.drawCylinder(l,c,s,o,a,e.fromCap,e.toCap),c=new $3Dmol.Vector3(s.x+f.x,s.y+f.y,s.z+f.z);e=new $3Dmol.Vector3,i.push({centroid:e.addVectors(t,r).multiplyScalar(.5)}),t=l.updateGeoGroup(0),n(this.boundingSphere,i,t.vertexArray,t.vertices)},this.addCurve=function(e){e.points=e.points||[],e.smooth=e.smooth||10,void 0===e.fromCap&&(e.fromCap=2),void 0===e.toCap&&(e.toCap=2);var t=$3Dmol.subdivide_spline(e.points,e.smooth);if(3>t.length)console.log("Too few points in addCurve");else{var r=e.radius||.1,n=$3Dmol.CC.color(e.color),o=0,i=t.length-1,a=t[0].distanceTo(t[1]),s=Math.ceil(2*r/a);for(e.toArrow&&(a={start:t[i-=s],end:t[t.length-1],radius:r,color:n,mid:1e-4},this.addArrow(a)),e.fromArrow&&(a={start:t[o+=s],end:t[0],radius:r,color:n,mid:1e-4},this.addArrow(a)),e=Math.ceil(t.length/2),r={radius:r,color:n,fromCap:2,toCap:2};o<i;o++)r.start=t[o],r.end=t[o+1],r.fromCap=2,r.toCap=2,o<e?(r.fromCap=2,r.toCap=0):(r.fromCap=o>e?0:2,r.toCap=2),this.addCylinder(r)}},this.addLine=function(e){e.start=e.start||{},e.end=e.end||{};var t=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0);void 0===(e=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0)).x&&(e.x=3);var r=l.updateGeoGroup(2),o=r.vertices,a=3*o,s=r.vertexArray;s[a]=t.x,s[a+1]=t.y,s[a+2]=t.z,s[a+3]=e.x,s[a+4]=e.y,s[a+5]=e.z,r.vertices+=2,(a=r.lineArray)[s=r.lineidx]=o,a[s+1]=o+1,r.lineidx+=2,r=new $3Dmol.Vector3,i.push({centroid:r.addVectors(t,e).multiplyScalar(.5)}),r=l.updateGeoGroup(0),n(this.boundingSphere,i,r.vertexArray,r.vertices)},this.addArrow=function(e){if(e.start=e.start||{},e.end=e.end||{},e.start=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),e.dir instanceof $3Dmol.Vector3&&e.length instanceof number){var t=e.dir.clone().multiplyScalar(e.length).add(start);e.end=t}else e.end=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0),void 0===e.end.x&&(e.end.x=3);e.radius=e.radius||.1,e.radiusRatio=e.radiusRatio||1.618034,e.mid=0<e.mid&&1>e.mid?e.mid:.618034;var r=e.start,o=e.end,a=e.radius,s=e.radiusRatio,u=e.mid;if(r&&o){t=l.updateGeoGroup(51);var c=o.clone();c.sub(r).multiplyScalar(u);var f=r.clone().add(c);u=c.clone().negate(),this.intersectionShape.cylinder.push(new $3Dmol.Cylinder(r.clone(),f.clone(),a)),this.intersectionShape.sphere.push(new $3Dmol.Sphere(r.clone(),a));var h=[];h[0]=c.clone(),1e-4<Math.abs(h[0].x)?h[0].y+=1:h[0].x+=1,h[0].cross(c),h[0].normalize(),h[0]=h[0],h[4]=h[0].clone(),h[4].crossVectors(h[0],c),h[4].normalize(),h[8]=h[0].clone().negate(),h[12]=h[4].clone().negate(),h[2]=h[0].clone().add(h[4]).normalize(),h[6]=h[4].clone().add(h[8]).normalize(),h[10]=h[8].clone().add(h[12]).normalize(),h[14]=h[12].clone().add(h[0]).normalize(),h[1]=h[0].clone().add(h[2]).normalize(),h[3]=h[2].clone().add(h[4]).normalize(),h[5]=h[4].clone().add(h[6]).normalize(),h[7]=h[6].clone().add(h[8]).normalize(),h[9]=h[8].clone().add(h[10]).normalize(),h[11]=h[10].clone().add(h[12]).normalize(),h[13]=h[12].clone().add(h[14]).normalize(),h[15]=h[14].clone().add(h[0]).normalize();var p,d=t.vertices,m=t.vertexArray,v=t.faceArray,y=t.normalArray,g=t.lineArray,b=0;for(p=h.length;b<p;++b){var x=3*(d+3*b),w=h[b].clone().multiplyScalar(a).add(r),_=h[b].clone().multiplyScalar(a).add(f),D=h[b].clone().multiplyScalar(a*s).add(f);m[x]=w.x,m[x+1]=w.y,m[x+2]=w.z,m[x+3]=_.x,m[x+4]=_.y,m[x+5]=_.z,m[x+6]=D.x,m[x+7]=D.y,m[x+8]=D.z,0<b&&(x=new $3Dmol.Vector3(m[x-3],m[x-2],m[x-1]),w=o.clone(),_=f.clone(),D=new $3Dmol.Vector3(D.x,D.y,D.z),this.intersectionShape.triangle.push(new $3Dmol.Triangle(D,w,x)),this.intersectionShape.triangle.push(new $3Dmol.Triangle(x.clone(),_,D.clone())))}t.vertices+=48,m[x=3*t.vertices]=r.x,m[x+1]=r.y,m[x+2]=r.z,m[x+3]=f.x,m[x+4]=f.y,m[x+5]=f.z,m[x+6]=o.x,m[x+7]=o.y,m[x+8]=o.z,t.vertices+=3;var S,C,A=t.vertices-3,$=t.vertices-2,M=t.vertices-1,T=3*A,z=3*$,E=3*M;for(b=0,p=h.length-1;b<p;++b){var L=d+3*b;r=t.faceidx,o=t.lineidx,x=3*(a=L),w=3*(s=L+1),_=3*(f=L+2);var k=3*(m=L+4),I=3*(D=L+5),O=3*(L+=3),j=S=h[b],P=C=h[b+1];y[x]=j.x,y[w]=S.x,y[O]=C.x,y[x+1]=j.y,y[w+1]=S.y,y[O+1]=C.y,y[x+2]=j.z,y[w+2]=S.z,y[O+2]=C.z,y[w]=S.x,y[k]=P.x,y[O]=C.x,y[w+1]=S.y,y[k+1]=P.y,y[O+1]=C.y,y[w+2]=S.z,y[k+2]=P.z,y[O+2]=C.z,y[_]=S.x,y[I]=P.x,y[_+1]=S.y,y[I+1]=P.y,y[_+2]=S.z,y[I+2]=P.z,v[r]=a,v[r+1]=s,v[r+2]=L,v[r+3]=s,v[r+4]=m,v[r+5]=L,v[r+6]=a,v[r+7]=L,v[r+8]=A,v[r+9]=f,v[r+10]=$,v[r+11]=D,v[r+12]=f,v[r+13]=M,v[r+14]=D,g[o]=a,g[o+1]=s,g[o+2]=a,g[o+3]=L,g[o+4]=m,g[o+5]=L,g[o+6]=a,g[o+7]=L,g[o+8]=f,g[o+9]=s,g[o+10]=f,g[o+11]=D,g[o+12]=m,g[o+13]=D,g[o+14]=f,g[o+15]=M,g[o+16]=f,g[o+17]=D,g[o+18]=M,g[o+19]=D,t.faceidx+=15,t.lineidx+=20}d=[d+45,d+46,d+1,d,d+47,d+2],r=t.faceidx,o=t.lineidx,x=3*(a=d[0]),w=3*(s=d[1]),_=3*(f=d[4]),k=3*(m=d[2]),I=3*(D=d[5]),O=3*(L=d[3]),j=S=h[15],P=C=h[0],y[x]=j.x,y[w]=S.x,y[O]=C.x,y[x+1]=j.y,y[w+1]=S.y,y[O+1]=C.y,y[x+2]=j.z,y[w+2]=S.z,y[O+2]=C.z,y[w]=S.x,y[k]=P.x,y[O]=C.x,y[w+1]=S.y,y[k+1]=P.y,y[O+1]=C.y,y[w+2]=S.z,y[k+2]=P.z,y[O+2]=C.z,y[_]=S.x,y[I]=P.x,y[_+1]=S.y,y[I+1]=P.y,y[_+2]=S.z,y[I+2]=P.z,c.normalize(),u.normalize(),y[T]=u.x,y[z]=y[E]=c.x,y[T+1]=u.y,y[z+1]=y[E+1]=c.y,y[T+2]=u.z,y[z+2]=y[E+2]=c.z,v[r]=a,v[r+1]=s,v[r+2]=L,v[r+3]=s,v[r+4]=m,v[r+5]=L,v[r+6]=a,v[r+7]=L,v[r+8]=A,v[r+9]=f,v[r+10]=$,v[r+11]=D,v[r+12]=f,v[r+13]=M,v[r+14]=D,g[o]=a,g[o+1]=s,g[o+2]=a,g[o+3]=L,g[o+4]=m,g[o+5]=L,g[o+6]=a,g[o+7]=L,g[o+8]=f,g[o+9]=s,g[o+10]=f,g[o+11]=D,g[o+12]=m,g[o+13]=D,g[o+14]=f,g[o+15]=M,g[o+16]=f,g[o+17]=D,g[o+18]=M,g[o+19]=D,t.faceidx+=15,t.lineidx+=20}t=new $3Dmol.Vector3,i.push({centroid:t.addVectors(e.start,e.end).multiplyScalar(.5)}),e=l.updateGeoGroup(0),n(this.boundingSphere,i,e.vertexArray,e.vertices)},this.addIsosurface=function(e,t,n){var o,i=void 0!==t.isoval&&"number"==typeof t.isoval?t.isoval:0,a=!!t.voxel,s=void 0===t.smoothness?1:t.smoothness,u=e.size.x,c=e.size.y,f=e.size.z,h=new Int16Array(u*c*f),p=e.data,d=0;for(o=h.length;d<o;++d)h[d]=-1;for(h=new Uint8Array(u*c*f),d=0,o=p.length;d<o;++d)0<(0<=i?p[d]-i:i-p[d])&&(h[d]|=2);if(i=[],p=[],$3Dmol.MarchingCube.march(h,i,p,{fulltable:!0,voxel:a,unitCube:e.unit,origin:e.origin,matrix:e.matrix,nX:u,nY:c,nZ:f}),!a&&0<s&&$3Dmol.MarchingCube.laplacianSmooth(s,i,p),a=[],s=[],u=[],t.selectedRegion&&void 0===t.coords&&(t.coords=t.selectedRegion),void 0!==t.coords){c=t.coords[0].x,f=t.coords[0].y,h=t.coords[0].z,o=t.coords[0].x;var m=t.coords[0].y,v=t.coords[0].z;for(d=0;d<t.coords.length;d++)t.coords[d].x>c?c=t.coords[d].x:t.coords[d].x<o&&(o=t.coords[d].x),t.coords[d].y>f?f=t.coords[d].y:t.coords[d].y<m&&(m=t.coords[d].y),t.coords[d].z>h?h=t.coords[d].z:t.coords[d].z<v&&(v=t.coords[d].z);var y=2;for(void 0!==t.radius&&(y=t.radius),void 0!==t.selectedOffset&&(y=t.selectedOffset),void 0!==t.seldist&&(y=t.seldist),o-=y,c+=y,m-=y,f+=y,v-=y,h+=y,d=0;d<i.length;d++){var g;if(g=i[d].x>o&&i[d].x<c&&i[d].y>m&&i[d].y<f&&i[d].z>v&&i[d].z<h)e:{g=i[d];for(var b=t.coords,x=y,w=0;w<b.length;w++){var _=b[w];if(Math.sqrt(Math.pow(_.x-g.x,2)+Math.pow(_.y-g.y,2)+Math.pow(_.z-g.z,2))<=x){g=!0;break e}}g=!1}g?(a.push(s.length),s.push(i[d])):a.push(-1)}for(d=0;d+2<p.length;d+=3)-1!==a[p[d]]&&-1!==a[p[d+1]]&&-1!==a[p[d+2]]&&(u.push(p[d]-(p[d]-a[p[d]])),u.push(p[d+1]-(p[d+1]-a[p[d+1]])),u.push(p[d+2]-(p[d+2]-a[p[d+2]])));i=s,p=u}for(r(this,l,{vertexArr:i,faceArr:p,normalArr:[],clickable:t.clickable,hoverable:t.hoverable}),this.updateStyle(t),d=new $3Dmol.Vector3(e.origin.x,e.origin.y,e.origin.z),p=new $3Dmol.Vector3(e.size.x*e.unit.x,e.size.y*e.unit.y,e.size.z*e.unit.z),e=new $3Dmol.Vector3(0,0,0),t=d.clone(),p=d.clone().add(p),d=0;d<i.length;d++)e.add(i[d]),t.max(i[d]),p.min(i[d]);e.divideScalar(i.length),d=e.distanceTo(p),i=e.distanceTo(t),this.boundingSphere.center=e,this.boundingSphere.radius=Math.max(d,i),"function"==typeof n&&n()},this.addVolumetricData=function(e,t,r){e=new $3Dmol.VolumeData(e,t),this.addIsosurface(e,r)},this.finalize=function(){t(l),l.initTypedArrays()},this.globj=function(e){var r;if(s&&(e.remove(s),s=null),!this.hidden){if(t(l),l.initTypedArrays(),this.wireframe&&l.setUpWireframe(),void 0!==this.color){if((r=this.color)||$3Dmol.CC.color(r),l.colorsNeedUpdate=!0,r.constructor!==Array)var n=r.r,o=r.g,i=r.b;for(var c in l.geometryGroups){var f=l.geometryGroups[c],h=f.colorArray,p=0;for(f=f.vertices;p<f;++p)r.constructor===Array&&(n=(i=r[p]).r,o=i.g,i=i.b),h[3*p]=n,h[3*p+1]=o,h[3*p+2]=i}}a=new $3Dmol.Object3D,r=this.side==$3Dmol.DoubleSide?new $3Dmol.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,wireframeLinewidth:this.linewidth}):new $3Dmol.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,wireframeLinewidth:this.linewidth}),r=new $3Dmol.Mesh(l,r),a.add(r),r=new $3Dmol.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),r=new $3Dmol.Line(u,r,$3Dmol.LinePieces),a.add(r),s=a.clone(),e.add(s)}},this.removegl=function(e){s&&(void 0!==s.geometry&&s.geometry.dispose(),void 0!==s.material&&s.material.dispose(),e.remove(s),s=null),a=null}}var t=function(e){0<(e=e.updateGeoGroup(0)).vertices&&e.truncateArrayBuffers(!0,!0)},r=function(e,t,r){var o=r.faceArr;0!==r.vertexArr.length&&0!==o.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!"),void 0===(o=r.color)&&(o=e.color),o=$3Dmol.CC.color(o);for(var i=$3Dmol.splitMesh(r),a=0,s=i.length;a<s;a++){var l,u=void 0,c=l=void 0,f=e,h=t,p=i[a],d=i[a].colorArr?i[a].colorArr:o,m=r.clickable,v=h.addGeoGroup(),y=p.vertexArr,g=p.normalArr,b=p.faceArr;v.vertices=y.length,v.faceidx=b.length;var x=v.vertexArray,w=v.colorArray;d.constructor!==Array&&(u=d.r,l=d.g,c=d.b);var _=0;for(p=v.vertices;_<p;++_){var D=3*_,S=y[_];x[D]=S.x,x[D+1]=S.y,x[D+2]=S.z,d.constructor===Array&&(u=(S=d[_]).r,l=S.g,c=S.b),w[D]=u,w[D+1]=l,w[D+2]=c}if(m)for(_=0,p=v.faceidx/3;_<p;++_)l=b[D=3*_],c=b[D+1],S=b[D+2],D=new $3Dmol.Vector3,u=new $3Dmol.Vector3,d=new $3Dmol.Vector3,f.intersectionShape.triangle.push(new $3Dmol.Triangle(D.copy(y[l]),u.copy(y[c]),d.copy(y[S])));if(m){for(p=new $3Dmol.Vector3(0,0,0),l=_=0;l<h.geometryGroups.length;l++)p.add(h.geometryGroups[l].getCentroid()),_++;p.divideScalar(_),n(f.boundingSphere,{centroid:p},x,v.vertices)}if(v.faceArray=new Uint16Array(b),v.truncateArrayBuffers(!0,!0),g.length<v.vertices)v.setNormals();else for(h=v.normalArray=new Float32Array(3*v.vertices),_=0,p=v.vertices;_<p;++_)D=3*_,f=g[_],h[D]=f.x,h[D+1]=f.y,h[D+2]=f.z;v.setLineIndices(),v.lineidx=v.lineArray.length}},n=function(e,t,r,n){var o;if(e.center.set(0,0,0),0<t.length){var i=0;for(o=t.length;i<o;++i)e.center.add(t[i].centroid);e.center.divideScalar(t.length)}for(t=e.radius*e.radius,r.length/3<n&&(n=r.length/3),i=0,o=n;i<o;i++)n=e.center.distanceToSquared({x:r[3*i],y:r[3*i+1],z:r[3*i+2]}),t=Math.max(t,n);e.radius=Math.sqrt(t)},o=function(e,t){void 0!==t.color?(e.color=t.color||new $3Dmol.Color,t.color instanceof $3Dmol.Color||(e.color=$3Dmol.CC.color(t.color))):e.color=$3Dmol.CC.color(0),e.wireframe=!!t.wireframe,e.opacity=t.alpha?$3Dmol.Math.clamp(t.alpha,0,1):1,void 0!==t.opacity&&(e.opacity=$3Dmol.Math.clamp(t.opacity,0,1)),e.side=void 0!==t.side?t.side:$3Dmol.DoubleSide,e.linewidth=void 0===t.linewidth?1:t.linewidth,e.clickable=!!t.clickable,e.callback="function"==typeof t.callback?t.callback:null,e.hoverable=!!t.hoverable,e.hover_callback="function"==typeof t.hover_callback?t.hover_callback:null,e.unhover_callback="function"==typeof t.unhover_callback?t.unhover_callback:null,e.hidden=t.hidden};return Object.defineProperty(e.prototype,"position",{get:function(){return this.boundingSphere.center}}),Object.defineProperty(e.prototype,"x",{get:function(){return this.boundingSphere.center.x}}),Object.defineProperty(e.prototype,"y",{get:function(){return this.boundingSphere.center.y}}),Object.defineProperty(e.prototype,"z",{get:function(){return this.boundingSphere.center.z}}),e}(),$3Dmol.ShapeIDCount=0,$3Dmol.splitMesh=function(e){if(64e3>e.vertexArr.length)return[e];var t=[{vertexArr:[],normalArr:[],faceArr:[]}];e.colorArr&&(t.colorArr=[]);for(var r=[],n=[],o=0,i=e.faceArr,a=0,s=i.length;a<s;a+=3){for(var l=t[o],u=0;3>u;u++){var c=i[a+u];r[c]!==o&&(r[c]=o,n[c]=l.vertexArr.length,l.vertexArr.push(e.vertexArr[c]),e.normalArr&&e.normalArr[c]&&l.normalArr.push(e.normalArr[c]),e.colorArr&&e.colorArr[c]&&l.colorArr.push(e.colorArr[c])),l.faceArr.push(n[c])}64e3<=l.vertexArr.length&&(t.push({vertexArr:[],normalArr:[],faceArr:[]}),e.colorArr&&(t.colorArr=[]),o++)}return t},$3Dmol.GLViewer=function(e,t){function r(e){var t=[];if(void 0===e.model)for(e=0;e<d.length;e++)d[e]&&t.push(d[e]);else for(t=e.model,$.isArray(t)||(t=[t]),e=0;e<t.length;e++)if("number"==typeof t[e]){var r=t[e];0>r&&(r+=d.length),t[e]=d[r]}return t}function n(e){var t=[];void 0===e&&(e={});for(var n=r(e),o=0;o<n.length;o++)t=t.concat(n[o].selectedAtoms(e));return t}function o(e,t,n,o,i){for(var a=r(t),s=0;s<a.length;s++)a[s][e](t,n,o,i)}function i(e){var t=new $3Dmol.MeshLambertMaterial;for(var r in t.vertexColors=$3Dmol.VertexColors,e)"color"!==r&&"map"!==r&&e.hasOwnProperty(r)&&(t[r]=e[r]);return void 0!==e.opacity&&(t.transparent=1!==e.opacity),t}var a=(t=t||{}).callback,s=t.defaultcolors;s||(s=$3Dmol.elementColors.defaultColors);var l,u=t.nomouse,c=0;t.backgroundColor=t.backgroundColor||"#ffffff",c=$3Dmol.CC.color(t.backgroundColor).getHex(),l=parseFloat(t.camerax);var f=this,h=e,p=null,d=[],m={},v=[],y=[],g=[],b=[],x=[],w=null,_=500;_=t.hoverDuration;var D=h.width(),S=h.height(),C=[],A=new $3Dmol.Renderer({antialias:!0,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:t.id,row:t.row,col:t.col,rows:t.rows,cols:t.cols,canvas:t.canvas});A.domElement.style.width="100%",A.domElement.style.height="100%",A.domElement.style.padding="0",A.domElement.style.position="absolute",A.domElement.style.top="0px",A.domElement.style.left="0px",A.domElement.style.zIndex="0";var M=t.row,T=t.col,z=t.cols,E=t.rows,L=t.viewers,k=t.control_all,I=A.getAspect(D,S),O=new $3Dmol.Camera(20,I,1,800,t.orthographic);O.position=new $3Dmol.Vector3(l,0,150);var j=new $3Dmol.Vector3;O.lookAt(j);var P=new $3Dmol.Raycaster(new $3Dmol.Vector3(0,0,0),new $3Dmol.Vector3(0,0,0)),N=new $3Dmol.Projector;new $3Dmol.Vector3(0,0,0);var F=null,R=null,q=null,V=-50,B=50,U=new $3Dmol.Quaternion(0,0,0,1),H=new $3Dmol.Quaternion(0,0,0,1),G=0,W=!1,Y=0,X=0,Z=0,K=0,Q=0,J=0,ee=0,te=function(){0>--G&&(G=0)},re=function(){var e,t=0;for(e in m)if(m.hasOwnProperty(e)){var r=parseInt(e);isNaN(r)||(e=r),e>t&&(t=e)}return t+1},ne=function(){var e=O.position.z-R.position.z;1>e&&(e=1),O.near=e+V,1>O.near&&(O.near=1),O.far=e+B,O.near+1>O.far&&(O.far=O.near+1),O.fov=20,O.right=e*Math.tan(Math.PI/180*20),O.left=-O.right,O.top=O.right/I,O.bottom=-O.top,O.updateProjectionMatrix(),F.fog.near=O.near+.4*(O.far-O.near),F.fog.far=O.far,t.disableFog&&(F.fog.near=F.fog.far)},oe=function(e){if(A.setViewport(),F&&(ne(),A.render(F,O),!e&&0<C.length)){e=f.getView();for(var t=0;t<C.length;t++)C[t].setView(e,!0)}};!function(){(F=new $3Dmol.Scene).fog=new $3Dmol.Fog(c,100,200),q=new $3Dmol.Object3D,(R=new $3Dmol.Object3D).useQuaternion=!0,R.quaternion=new $3Dmol.Quaternion(0,0,0,1),R.add(q),F.add(R);var e=new $3Dmol.Light(16777215);e.position=new $3Dmol.Vector3(.2,.2,1).normalize(),e.intensity=1,F.add(e)}(),A.setClearColorHex(c,1),F.fog.color=$3Dmol.CC.color(c);var ie=function(e,t){w!=e&&(w&&w.unhover_callback(w,f,t,h),(w=e)&&void 0!==e.hover_callback&&"function"==typeof e.hover_callback&&e.hover_callback(e,f,t,h))},ae=function(e){var t=e.originalEvent.targetTouches[0].pageX-e.originalEvent.targetTouches[1].pageX;return e=e.originalEvent.targetTouches[0].pageY-e.originalEvent.targetTouches[1].pageY,Math.sqrt(t*t+e*e)},se=function(e){var t=e.pageX,r=e.pageY;return void 0==t&&(t=e.originalEvent.pageX),void 0==r&&(r=e.originalEvent.pageY),e.originalEvent.targetTouches&&e.originalEvent.targetTouches[0]?(t=e.originalEvent.targetTouches[0].pageX,r=e.originalEvent.targetTouches[0].pageY):e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(t=e.originalEvent.changedTouches[0].pageX,r=e.originalEvent.changedTouches[0].pageY),[t,r]},le=function(e,t){var r=h.width(),n=h.height();if(void 0!=L&&!k){r/=z,n/=E;var o=$("canvas",h).offset();if(e=Math.floor((e-o.left)/r),E-Math.floor((t-o.top)/n)-1!=M||e!=T)return!1}return!0};$("body").bind("mouseup touchend",function(e){if(W&&F){var t=se(e),r=t[0];if(t=t[1],r==Y&&t==X){var n=$("canvas",h).offset();0!=b.length&&(P.setFromCamera({x:(r-n.left)/D*2-1,y:-(t-n.top)/S*2+1,z:-1},O),(r=P.intersectObjects(q,b)).length&&void 0!==(r=r[0].clickable).callback&&"function"==typeof r.callback&&r.callback(r,f,e,h))}}W=!1});var ue=function(e){if(t.lowerZoomLimit&&0<t.lowerZoomLimit){var r=150-t.lowerZoomLimit;e>r&&(e=r)}return t.upperZoomLimit&&0<t.upperZoomLimit&&e<(r=150-t.upperZoomLimit)&&(e=r),150<e&&(e=149.85),e};this.setZoomLimits=function(e,r){void 0!==e&&(t.lowerZoomLimit=e),r&&(t.upperZoomLimit=r),R.position.z=ue(R.position.z),oe()};var ce,fe=this._handleMouseDown=function(e){if(e.preventDefault(),F){var t=se(e),r=t[0];t=t[1],void 0!==r&&(W=!0,ce=e.which,Y=r,X=t,Z=0,e.originalEvent.targetTouches&&2==e.originalEvent.targetTouches.length&&(Z=ae(e)),U=R.quaternion,Q=R.position.z,K=q.position.clone(),J=V,ee=B)}},he=this._handleMouseScroll=function(e){if(e.preventDefault(),F){var t=se(e),r=t[0];void 0!==r&&le(r,t[1])&&(t=.85*(150-R.position.z),r=1,e.originalEvent.ctrlKey&&(r=-1),e.originalEvent.detail?R.position.z+=r*t*e.originalEvent.detail/10:e.originalEvent.wheelDelta&&(R.position.z-=r*t*e.originalEvent.wheelDelta/400),R.position.z=ue(R.position.z),oe())}};this.pngURI=function(){return this.getCanvas().toDataURL("image/png")},this.getCanvas=function(){return p.get(0)},this.setHoverDuration=function(e){_=e};var pe,de=this._handleMouseMove=function(e){D=h.width(),S=h.height(),clearTimeout(pe);var t=$("canvas",h).offset(),r=(se(e)[0]-t.left)/D*2-1,n=-(se(e)[1]-t.top)/S*2+1;if(null!==w&&function(e,t,r){P.setFromCamera({x:e,y:t,z:-1},O),0!=(e=P.intersectObjects(q,x)).length&&void 0!==e[0]||ie(null),void 0!==e[0]&&e[0].clickable!==w&&ie(null)}(r,n),pe=setTimeout(function(){if(0!=x.length){P.setFromCamera({x:r,y:n,z:-1},O);var e=P.intersectObjects(q,x);e.length?(e=e[0].clickable,ie(e),w=e):ie(null)}},_),e.preventDefault(),F&&W){t=0;var o=se(e),i=o[0],a=o[1];if(void 0!==i&&le(i,a)){o=(i-Y)/D;var s=(a-X)/S;0!=Z&&e.originalEvent.targetTouches&&2==e.originalEvent.targetTouches.length?(t=2,s=2*((s=ae(e))-Z)/(D+S),console.log("pinch "+Z+" dy "+s)):e.originalEvent.targetTouches&&3==e.originalEvent.targetTouches.length&&(t=1);var l=A.getXYRatio(),u=l[0],c=l[1];o*=u,s*=c,l=Math.sqrt(o*o+s*s),3==t||3==ce&&e.ctrlKey?(V=J+100*o,B=ee+100*s):2==t||3==ce||e.shiftKey?(80>(e=.85*(150-R.position.z))&&(e=80),R.position.z=Q+s*e,R.position.z=ue(R.position.z)):1==t||2==ce||e.ctrlKey?(e=function(e,t){e/=D,t/=S;var r=R.quaternion,n=new $3Dmol.Vector3(0,0,R.position.z);return N.projectVector(n,O),n.x+=2*e,n.y-=2*t,N.unprojectVector(n,O),n.z=0,n.applyQuaternion(r),n}(u*(i-Y),c*(a-X)),q.position.addVectors(K,e)):0!==t&&1!=ce||0===l||(e=Math.sin(l*Math.PI)/l,H.x=Math.cos(l*Math.PI),H.y=0,H.z=e*o,H.w=-e*s,R.quaternion=new $3Dmol.Quaternion(1,0,0,0),R.quaternion.multiply(H),R.quaternion.multiply(U)),oe()}}},me=function(e){D=(h=e).width(),S=h.height(),I=A.getAspect(D,S),A.setSize(D,S),h.append(A.domElement),p=$(A.domElement),u||(p.bind("mousedown touchstart",fe),p.bind("DOMMouseScroll mousewheel",he),p.bind("mousemove touchmove",de),p.bind("contextmenu",function(e){e.preventDefault()}))};me(h),this.setContainer=function(e){return"string"===$.type(e)&&(e=$("#"+e)),e||(e=h),me(e),this},this.setBackgroundColor=function(e,t){return void 0===t?t=1:(0>t||1<t)&&(t=1),e=$3Dmol.CC.color(e),F.fog.color=e,c=e.getHex(),A.setClearColorHex(e.getHex(),t),oe(),this},this.setProjection=function(e){O.ortho="orthographic"===e,ne()},this.setViewStyle=function(e){if("outline"===e.style){var t={};e.color&&(t.color=$3Dmol.CC.color(e.color)),e.width&&(t.width=e.width),A.enableOutline(t)}else A.disableOutline();return this},t.style&&this.setViewStyle(t),this.setWidth=function(e){return D=e||D,A.setSize(D,S),this},this.setHeight=function(e){return S=e||S,A.setSize(D,S),this},this.resize=function(){return D=h.width(),S=h.height(),I=A.getAspect(D,S),A.setSize(D,S),O.aspect=I,O.updateProjectionMatrix(),oe(),this},$(window).resize(this.resize),this.getModel=function(e){return e in d?d[e]:0==d.length?null:d[d.length-1]},this.rotate=function(e,t,r,n){r=void 0!==r?r:0,void 0===t&&(t="y"),"x"==t&&(t={x:1,y:0,z:0}),"y"==t&&(t={x:0,y:1,z:0}),"z"==t&&(t={x:0,y:0,z:1});var o=Math.PI*e/180;return e=Math.sin(o/2),o=Math.cos(o/2),t=new $3Dmol.Quaternion(t.x*e,t.y*e,t.z*e,o).normalize(),r?(t=(new $3Dmol.Quaternion).copy(R.quaternion).multiply(t),ge(r,n,q.position,R.position.z,t,j)):(R.quaternion.multiply(t),oe()),this},this.surfacesFinished=function(){for(var e in m)if(!m[e][0].done)return!1;return!0},this.getView=function(){if(!q)return[0,0,0,0,0,0,0,1];var e=q.position,t=R.quaternion;return[e.x,e.y,e.z,R.position.z,t.x,t.y,t.z,t.w]},this.setView=function(e,t){return void 0!==e&&(e instanceof Array||8!==e.length)&&q&&R?(q.position.x=e[0],q.position.y=e[1],q.position.z=e[2],R.position.z=e[3],R.quaternion.x=e[4],R.quaternion.y=e[5],R.quaternion.z=e[6],R.quaternion.w=e[7],void 0!==e[8]&&(R.position.x=e[8],R.position.y=e[9]),oe(t),this):this},this.render=function(e){var t;A.setViewport(),b.splice(0,b.length),x.splice(0,x.length);var r=0;for(t=d.length;r<t;r++){var n=d[r];if(n){var o=n.selectedAtoms({clickable:!0});n=n.selectedAtoms({hoverable:!0}),Array.prototype.push.apply(x,n),Array.prototype.push.apply(b,o)}}for(r=0,t=v.length;r<t;r++)(o=v[r])&&o.clickable&&b.push(o),o&&o.hoverable&&x.push(o);for(r=this.getView(),o=A.supportedExtensions(),t=0;t<d.length;t++)d[t]&&d[t].globj(q,o);for(t=0;t<v.length;t++)v[t]&&v[t].globj(q,o);for(t in m)if(m.hasOwnProperty(t))for(n=m[t],o=0;o<n.length;o++)if(n.hasOwnProperty(o)){var i=n[o].geo;if(!n[o].finished)if(i.verticesNeedUpdate=!0,i.elementsNeedUpdate=!0,i.normalsNeedUpdate=!0,i.colorsNeedUpdate=!0,i.buffersNeedUpdate=!0,i.boundingSphere=null,n[o].done&&(n[o].finished=!0),n[o].lastGL&&q.remove(n[o].lastGL),(i=n[o].mat instanceof $3Dmol.LineBasicMaterial?new $3Dmol.Line(i,n[o].mat):new $3Dmol.Mesh(i,n[o].mat)).visible=!n[o].mat.transparent||0!=n[o].mat.opacity,1<n[o].symmetries.length||1==n[o].symmetries.length&&!n[o].symmetries[o].isIdentity()){var a,s=new $3Dmol.Object3D;for(a=0;a<n[o].symmetries.length;a++){var l=i.clone();l.matrix=n[o].symmetries[a],l.matrixAutoUpdate=!1,s.add(l)}n[o].lastGL=s,q.add(s)}else n[o].lastGL=i,q.add(i)}return this.setView(r),"function"==typeof e&&e(this),this},this.selectedAtoms=function(e){return n(e)},this.getUniqueValues=function(e,t){void 0===t&&(t={}),t=n(t);var r,o={};for(r in t)t[r].hasOwnProperty(e)&&(o[t[r][e]]=!0);return Object.keys(o)},this.pdbData=function(e){for(var t="",r=0,o=(e=n(e)).length;r<o;++r)t+=e[r].pdbline+"\n";return t};var ve,ye=function(e,t,r){if(1==r)return t;if(0==r)return e;var n=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;return.9995<n?((e=new $3Dmol.Quaternion(e.x+r*(t.x-e.x),e.y+r*(t.y-e.y),e.z+r*(t.z-e.z),e.w+r*(t.w-e.w))).normalize(),e):(0>n&&(t=t.clone().multiplyScalar(-1),n=-n),1<n?n=1:-1>n&&(n=-1),r*=Math.acos(n),(t=t.clone()).sub(e.clone().multiplyScalar(n)),t.normalize(),n=Math.cos(r),r=Math.sin(r),(e=new $3Dmol.Quaternion(e.x*n+t.x*r,e.y*n+t.y*r,e.z*n+t.z*r,e.w*n+t.w*r)).normalize(),e)};this.spin=function(e){if(clearInterval(ve),void 0===e&&(e="y"),"boolean"==typeof e){if(!e)return;e="y"}Array.isArray(e)&&(e={x:e[0],y:e[1],z:e[2]});var t=this;ve=setInterval(function(){t.rotate(1,e)},25)};var ge=function(e,t,r,n,o,i){var a=Math.ceil(e/20);1>a&&(a=1),G++,e=q.position.clone();var s=R.position.z,l=R.quaternion.clone(),u=j.clone();if(t){for(var c=(a=Array(a)).length,f=0;f<c;f++){var h=(f+1)/c;t={mpos:e,rz:s,rot:l},r&&(t.mpos=r.clone().sub(e).multiplyScalar(h).add(e)),void 0!==n&&null!=n&&(t.rz=s+h*(n-s)),o&&(t.rot=ye(l,o,h)),i&&(t.cam=i.clone().sub(u).multiplyScalar(h).add(u)),a[f]=t}var p=0,d=function(){var e=a[p];p+=1,e.mpos&&(q.position=e.mpos),e.rz&&(R.position.z=e.rz),e.rot&&(R.quaternion=e.rot),e.cam&&O.lookAt(e.cam),p<a.length?setTimeout(d,20):te(),oe()}}else{var m,v,y;if(h=1/a,r&&(m=r.clone().sub(e).multiplyScalar(h)),void 0!==n&&null!=n&&(v=h*(n-s)),o){t=ye(l,o,h);var g=l.clone().inverse().multiply(t)}i&&(y=i.clone().sub(u).multiplyScalar(h)),p=0,d=function(){p+=1,m&&q.position.add(m),v&&(R.position.z+=v),g&&R.quaternion.multiply(g),y&&(j.add(y),O.lookAt(j)),p<a?setTimeout(d,20):te(),oe()}}setTimeout(d,20)};this.zoom=function(e,t,r){return t=void 0!==t?t:0,e=150-(150-R.position.z)/(e||2),0<t?ge(t,r,q.position,ue(e),R.quaternion,j):(R.position.z=ue(e),oe()),this},this.translate=function(e,t,r,n){r=void 0!==r?r:0,e/=D,t/=S;var o=new $3Dmol.Vector3(0,0,-150);return N.projectVector(o,O),o.x-=e,o.y-=t,N.unprojectVector(o,O),o.z=0,e=j.clone().add(o),0<r?ge(r,n,q.position,R.position.z,R.quaternion,e):(j=e,O.lookAt(j),oe()),this},this.fitSlab=function(e){e=n(e=e||{});var t=$3Dmol.getExtent(e);e=t[1][0]-t[0][0];var r=t[1][1]-t[0][1];return t=t[1][2]-t[0][2],5>(e=Math.sqrt(e*e+r*r+t*t))&&(e=5),V=-e/1.9,B=e/2,this},this.center=function(e,t,r){t=void 0!==t?t:0;var o=n(e=e||{}),i=$3Dmol.getExtent(o);if($.isEmptyObject(e)){$.each(v,function(e,t){t&&t.boundingSphere&&t.boundingSphere.center&&(e=t.boundingSphere.center,0<(t=t.boundingSphere.radius)?(o.push(new $3Dmol.Vector3(e.x+t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x-t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y+t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y-t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z+t)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z-t))):o.push(e))}),i=$3Dmol.getExtent(o),e=o;var a=i}else e=n({}),a=$3Dmol.getExtent(e);e=new $3Dmol.Vector3(i[2][0],i[2][1],i[2][2]);var s=a[1][0]-a[0][0],l=a[1][1]-a[0][1];for(a=a[1][2]-a[0][2],5>(s=Math.sqrt(s*s+l*l+a*a))&&(s=5),V=-s/1.9,B=s/2,s=i[1][0]-i[0][0],l=i[1][1]-i[0][1],a=i[1][2]-i[0][2],5>(s=Math.sqrt(s*s+l*l+a*a))&&(s=5),i=25,s=0;s<o.length;s++)o[s]&&(l=e.distanceToSquared(o[s]))>i&&(i=l);return s=2*Math.sqrt(i),e=e.clone().multiplyScalar(-1),0<t?ge(t,r,e,R.position.z,R.quaternion,j):(q.position=e,oe()),this},this.zoomTo=function(e,t,r){t=void 0!==t?t:0;var o=n(e=e||{}),i=$3Dmol.getExtent(o);if($.isEmptyObject(e)){$.each(v,function(e,t){t&&t.boundingSphere&&t.boundingSphere.center&&(e=t.boundingSphere.center,0<(t=t.boundingSphere.radius)?(o.push(new $3Dmol.Vector3(e.x+t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x-t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y+t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y-t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z+t)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z-t))):o.push(e))}),i=$3Dmol.getExtent(o);var a=o,s=i}else a=n({}),s=$3Dmol.getExtent(a);a=new $3Dmol.Vector3(i[2][0],i[2][1],i[2][2]);var l=s[1][0]-s[0][0],u=s[1][1]-s[0][1];for(s=s[1][2]-s[0][2],5>(l=Math.sqrt(l*l+u*u+s*s))&&(l=5),V=-l/1.9,B=l/2,0===Object.keys(e).length&&(V=-999999,B=999999),l=i[1][0]-i[0][0],u=i[1][1]-i[0][1],s=i[1][2]-i[0][2],5>(l=Math.sqrt(l*l+u*u+s*s))&&(l=5),e=25,i=0;i<o.length;i++)o[i]&&(l=a.distanceToSquared(o[i]))>e&&(e=l);return l=2*Math.sqrt(e),a=a.clone().multiplyScalar(-1),e=-(.5*l/Math.tan(Math.PI/180*O.fov/2)-150),e=ue(e),0<t?ge(t,r,a,e,R.quaternion,j):(q.position=a,R.position.z=e,oe()),this},this.setSlab=function(e,t){V=e,B=t},this.getSlab=function(e){return{near:V,far:B}},this.addLabel=function(e,t,r){return t=t||{},r&&(r=$3Dmol.getExtent(n(r)),t.position={x:r[2][0],y:r[2][1],z:r[2][2]}),(e=new $3Dmol.Label(e,t)).setContext(),q.add(e.sprite),t.fixed&&g.push(y.length),y.push(e),oe(),e},this.addResLabels=function(e,t){return o("addResLabels",e,this,t),oe(),this},this.addPropertyLabels=function(e,t,r){return o("addPropertyLabels",e,t,this,r),oe(),this},this.removeLabel=function(e){for(var t=0;t<y.length;t++)if(y[t]==e){y.splice(t,1),e.dispose(),q.remove(e.sprite);break}return oe(),this},this.removeAllLabels=function(){for(var e=0;e<y.length;e++)q.remove(y[e].sprite);return y.splice(0,y.length),oe(),this},this.setLabelStyle=function(e,t){return q.remove(e.sprite),e.dispose(),e.stylespec=t,e.setContext(),q.add(e.sprite),oe(),e},this.setLabelText=function(e,t){return q.remove(e.sprite),e.dispose(),e.text=t,e.setContext(),q.add(e.sprite),oe(),e},this.addShape=function(e){return e=e||{},(e=new $3Dmol.GLShape(e)).shapePosition=v.length,v.push(e),e},this.removeShape=function(e){if(!e)return this;for(e.removegl(q),delete v[e.shapePosition];0<v.length&&void 0===v[v.length-1];)v.pop();return this},this.removeAllShapes=function(){for(var e=0;e<v.length;e++)v[e].removegl(q);return v.splice(0,v.length),this};var be=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("z")?e:0==(e=n(e)).length?{x:0,y:0,z:0}:{x:(e=$3Dmol.getExtent(e))[0][0]+(e[1][0]-e[0][0])/2,y:e[0][1]+(e[1][1]-e[0][1])/2,z:e[0][2]+(e[1][2]-e[0][2])/2}};this.addSphere=function(e){(e=e||{}).center=be(e.center);var t=new $3Dmol.GLShape(e);return t.shapePosition=v.length,t.addSphere(e),v.push(t),t.finalize(),t},this.addBox=function(e){void 0!=(e=e||{}).corner&&(e.corner=be(e.corner)),void 0!=e.center&&(e.center=be(e.center));var t=new $3Dmol.GLShape(e);return t.shapePosition=v.length,t.addBox(e),v.push(t),t.finalize(),t},this.addArrow=function(e){(e=e||{}).start=be(e.start),e.end=be(e.end);var t=new $3Dmol.GLShape(e);return t.shapePosition=v.length,t.addArrow(e),v.push(t),t.finalize(),t},this.addCylinder=function(e){(e=e||{}).start=be(e.start),e.end=be(e.end);var t=new $3Dmol.GLShape(e);return t.shapePosition=v.length,e.dashed?t.addDashedCylinder(e):t.addCylinder(e),v.push(t),t.finalize(),t},this.addCurve=function(e){e=e||{};var t=new $3Dmol.GLShape(e);return t.shapePosition=v.length,t.addCurve(e),v.push(t),t.finalize(),t},this.addLine=function(e){(e=e||{}).start=be(e.start),e.end=be(e.end),e.wireframe=!0;var t=new $3Dmol.GLShape(e);if(t.shapePosition=v.length,e.dashed){e.dashLength=e.dashLength||.5,e.gapLength=e.gapLength||.5,e.start=e.start||{},e.end=e.end||{};var r=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),n=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0),o=new $3Dmol.Vector3;new $3Dmol.Vector3,new $3Dmol.Vector3;var i,a=r.clone(),s=0;o.subVectors(n,r);var l=o.length();o.normalize();var u=o.clone();o=o.clone(),u.multiplyScalar(e.dashLength),o.multiplyScalar(e.gapLength);var c=u.length();for(i=o.length();s<l;){if(s+c>l){e.start=r,e.end=n,t.addLine(e);break}a.addVectors(r,u),e.start=r,e.end=a,t.addLine(e),r=a.clone(),s+=c,a.addVectors(r,o),r=a.clone(),s+=i}t.finalize()}else t.addLine(e);return v.push(t),t.finalize(),t},this.addUnitCell=function(e){e||(e=this.getModel());var t=new $3Dmol.GLShape({wireframe:!0});t.shapePosition=v.length;var r=e.getCrystData();if(r){if(r.matrix)e=r.matrix;else{e=r.a;var n=r.b,o=r.c,i=r.alpha,a=r.beta;r=r.gamma,i=i*Math.PI/180,a=a*Math.PI/180,r=r*Math.PI/180;var s=Math.cos(a);i=(Math.cos(i)-Math.cos(a)*Math.cos(r))/Math.sin(r),e=new $3Dmol.Matrix4(e,n*Math.cos(r),o*s,0,0,n*Math.sin(r),o*i,0,0,0,o*Math.sqrt(Math.max(0,1-s*s-i*i)),0,0,0,0,1)}for(n=[new $3Dmol.Vector3(0,0,0),new $3Dmol.Vector3(1,0,0),new $3Dmol.Vector3(0,1,0),new $3Dmol.Vector3(0,0,1),new $3Dmol.Vector3(1,1,0),new $3Dmol.Vector3(0,1,1),new $3Dmol.Vector3(1,0,1),new $3Dmol.Vector3(1,1,1)],o=0;o<n.length;o++)n[o]=n[o].applyMatrix4(e);t.addLine({start:n[0],end:n[1]}),t.addLine({start:n[0],end:n[2]}),t.addLine({start:n[1],end:n[4]}),t.addLine({start:n[2],end:n[4]}),t.addLine({start:n[0],end:n[3]}),t.addLine({start:n[3],end:n[5]}),t.addLine({start:n[2],end:n[5]}),t.addLine({start:n[1],end:n[6]}),t.addLine({start:n[4],end:n[7]}),t.addLine({start:n[6],end:n[7]}),t.addLine({start:n[3],end:n[6]}),t.addLine({start:n[5],end:n[7]})}return v.push(t),t.finalize(),t},this.addCustom=function(e){e=e||{};var t=new $3Dmol.GLShape(e);return t.shapePosition=v.length,t.addCustom(e),v.push(t),t.finalize(),t},this.addVolumetricData=function(e,t,r){r=r||{};var n=new $3Dmol.GLShape(r);return n.shapePosition=v.length,n.addVolumetricData(e,t,r),v.push(n),n},this.addIsosurface=function(e,t,r){t=t||{};var n=new $3Dmol.GLShape(t);return n.shapePosition=v.length,n.addIsosurface(e,t,r),v.push(n),n},this.enableFog=function(e){e?F.fog=new $3Dmol.Fog(c,100,200):(t.disableFog=!0,oe())},this.setFrame=function(e){return new Promise(function(t,r){r=d.map(function(t){return t.setFrame(e)}),Promise.all(r).then(function(){t()})})},this.getNumFrames=function(){for(var e=0,t=0;t<d.length;t++)d[t].getNumFrames()>e&&(e=d[t].getNumFrames());return e},this.animate=function(e){G++;var t=100,r="forward",n=0;(e=e||{}).interval&&(t=e.interval),e.loop&&(r=e.loop),e.reps&&(n=e.reps);var o=this.getNumFrames(),i=this,a=0,s=1;e.step&&(n/=s=e.step);var l=0,u=o*n,c=new Date,f=function(){if(i.render(),++l!=u&&i.isAnimated()){var e=t-(new Date-c);setTimeout(h,0<e?e:0,r)}else clearTimeout(p),te()},h=function(e){c=new Date,"forward"==e?i.setFrame(a).then(function(){a=(a+s)%o,f()}):"backward"==e?i.setFrame(o-1-a).then(function(){a=(a+s)%o,f()}):i.setFrame(a).then(function(){s*=0==(a+=s)%(o-1)?-1:1,f()})},p=setTimeout(h,0,r);return this},this.stopAnimate=function(){return G=0,this},this.isAnimated=function(){return 0<G},this.addModel=function(e,t,r){r&&!r.defaultcolors&&(r.defaultcolors=s);var n=new $3Dmol.GLModel(d.length,r);return n.addMolData(e,t,r),d.push(n),n},this.addModels=function(e,t,r){for((r=r||{}).multimodel=!0,r.frames=!0,e=$3Dmol.GLModel.parseMolData(e,t,r),t=0;t<e.length;t++){var n=new $3Dmol.GLModel(d.length,s);n.setAtomDefaults(e[t]),n.addFrame(e[t]),n.setFrame(0),e.modelData&&n.setModelData(e.modelData[t]),n.setDontDuplicateAtoms(!r.duplicateAssemblyAtoms),d.push(n)}return d},this.addModelsAsFrames=function(e,t,r){(r=r||{}).multimodel=!0,r.frames=!0;var n=new $3Dmol.GLModel(d.length,s);return n.addMolData(e,t,r),d.push(n),n},this.addAsOneMolecule=function(e,t,r){(r=r||{}).multimodel=!0,r.onemol=!0;var n=new $3Dmol.GLModel(d.length,s);return n.addMolData(e,t,r),d.push(n),n},this.removeModel=function(e){if(e){for(e.removegl(q),delete d[e.getID()];0<d.length&&void 0===d[d.length-1];)d.pop();return this}},this.removeAllModels=function(){for(var e=0;e<d.length;e++)d[e].removegl(q);return d.splice(0,d.length),this},this.exportJSON=function(e,t){var r={};return r.m=void 0===t?d.map(function(t){return t.toCDObject(e)}):[model[t].toCDObject()],JSON.stringify(r)},this.createModelFrom=function(e,t){for(var r=new $3Dmol.GLModel(d.length,s),n=0;n<d.length;n++)if(d[n]){var o=d[n].selectedAtoms(e);r.addAtoms(o),t&&d[n].removeAtoms(o)}return d.push(r),r},this.setStyle=function(e,t){return void 0===t&&(t=e,e={}),o("setStyle",e,t,!1),this},this.addStyle=function(e,t){return void 0===t&&(t=e,e={}),o("setStyle",e,t,!0),this},this.setClickable=function(e,t,r){return o("setClickable",e,t,r),this},this.setHoverable=function(e,t,r,n){return o("setHoverable",e,t,r,n),this},this.vibrate=function(e,t){return o("vibrate",e,t),this},this.setColorByProperty=function(e,t,r,n){return o("setColorByProperty",e,t,r,n),this},this.setColorByElement=function(e,t){return o("setColorByElement",e,t),this};var xe=function(e,t){for(var r=[],n=0;n<e.length;n++){var o=e[n];void 0!==o&&(o.x<t[0][0]||o.x>t[1][0]||o.y<t[0][1]||o.y>t[1][1]||o.z<t[0][2]||o.z>t[1][2]||r.push(o))}return r},we=function(e){return(e[1][0]-e[0][0])*(e[1][1]-e[0][1])*(e[1][2]-e[0][2])},_e=function(e,t,r){var n=new $3Dmol.Geometry(!0),o=n.updateGeoGroup(0),i=[],a=0;for(l=e.length;a<l;a++){var s=e[a];s&&(void 0!==s.surfaceColor?i[a]=s.surfaceColor:s.color&&(i[a]=$3Dmol.CC.color(s.color)))}var l,u=o.vertexArray;for(a=0,l=(s=t.vertices).length;a<l;a++)u[e=3*o.vertices]=s[a].x,u[e+1]=s[a].y,u[e+2]=s[a].z,o.vertices++;if(u=o.colorArray,r.voldata&&r.volscheme){i=r.volscheme;var c=r.voldata,f=i.range()||[-1,1];for(a=0,l=s.length;a<l;a++){e=c.getVal(s[a].x,s[a].y,s[a].z);var h=$3Dmol.CC.color(i.valueToHex(e,f));u[e=3*a]=h.r,u[e+1]=h.g,u[e+2]=h.b}}else if(0<i.length)for(a=0,l=s.length;a<l;a++)c=s[a].atomid,u[e=3*a]=i[c].r,u[e+1]=i[c].g,u[e+2]=i[c].b;for(t=t.faces,o.faceidx=t.length,n.initTypedArrays(),s=o.vertexArray,u=o.normalArray,a=0,l=t.length;a<l;a+=3){i=t[a+1],c=t[a+2],e=3*t[a],i*=3,c*=3,f=new $3Dmol.Vector3(s[e],s[e+1],s[e+2]),h=new $3Dmol.Vector3(s[i],s[i+1],s[i+2]);var p=new $3Dmol.Vector3(s[c],s[c+1],s[c+2]);p.subVectors(p,h),f.subVectors(f,h),p.cross(f),(f=p).normalize(),u[e]+=f.x,u[i]+=f.x,u[c]+=f.x,u[e+1]+=f.y,u[i+1]+=f.y,u[c+1]+=f.y,u[e+2]+=f.z,u[i+2]+=f.z,u[c+2]+=f.z}return o.faceArray=new Uint16Array(t),(r=new $3Dmol.Mesh(n,r)).doubleSided=!0,r};this.addMesh=function(e){e={geo:e.geometry,mat:e.material,done:!0,finished:!1};var t=re();return m[t]=e,t};var De=function(e){var t=[];return $.each(e,function(e,r){t[e]=$.extend({},r)}),t},Se={VDW:$3Dmol.SurfaceType.VDW,MS:$3Dmol.SurfaceType.MS,SAS:$3Dmol.SurfaceType.SAS,SES:$3Dmol.SurfaceType.SES};this.addSurface=function(e,t,r,o,a,s){var l=re();"string"==typeof e?void 0!==Se[e]?e=Se[e]:console.log("Surface type : "+e+" is not recognized"):void 0===e&&console.log("Surface type : "+e+" is not recognized");var u=null,c=null;r=De(n(r)),u=o?De(n(o)):r;var h=!1;for(o=0;o<d.length;o++)if(d[o]){var p=d[o].getSymmetries();if(1<p.length||1==p.length&&!p[0].isIdentity()){h=!0;break}}p=function(r,o,i){c=a?De(n(a)):i;var s=$3Dmol.getExtent(i,!0);if(t.map&&t.map.prop){var u=t.map.prop,h=t.map.scheme||t.map.gradient||new $3Dmol.Gradient.RWB,p=h.range();p||(p=$3Dmol.getPropertyRange(i,u)),t.colorscheme={prop:u,gradient:h}}var d=0;for(u=o.length;d<u;d++)(h=o[d]).surfaceColor=$3Dmol.getColorFromStyle(h,t);var m=we(s),y=function(e,t,r){for(var n=[],o={},i=0,a=t.length;i<a;i++)o[t[i].index]=i;var s=function(e){for(var t=[],r=0,n=e.length;r<n;r++)e[r].index in o&&t.push(o[e[r].index]);return t},l=function(e){var t=[];return t[0]=[e[0][0],e[0][1],e[0][2]],t[1]=[e[1][0],e[1][1],e[1][2]],t},u=function(e){if(64e3>we(e))return[e];var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1],n=e[1][2]-e[0][2];return r=t>r&&t>n?0:r>t&&r>n?1:2,n=l(e),t=l(e),e=(e[1][r]-e[0][r])/2+e[0][r],n[1][r]=e,t[0][r]=e,e=u(n),t=u(t),e.concat(t)};for(i=0,a=(e=u(e)).length;i<a;i++){var c=l(e[i]);c[0][0]-=6,c[0][1]-=6,c[0][2]-=6,c[1][0]+=6,c[1][1]+=6,c[1][2]+=6,c=xe(t,c);var f=xe(r,e[i]);n.push({extent:e[i],atoms:s(c),toshow:s(f)})}return n}(s,o,i);if(c&&c.length&&0<c.length){var g=$3Dmol.getExtent(c,!0);y.sort(function(e,t){var r=function(e,t){var r=e.extent;e=r[1][0]-r[0][0]-t[2][0];var n=r[1][1]-r[0][1]-t[2][1];return e*e+n*n+(t=r[1][2]-r[0][2]-t[2][2])*t};return(e=r(e,g))-(t=r(t,g))})}var b=[];for(d=0,u=o.length;d<u;d++)h=o[d],b[d]={x:h.x,y:h.y,z:h.z,serial:d,elem:h.elem};if($3Dmol.syncSurface){for(i=function(t){return new Promise(function(n,i){i=e;var a=y[t].extent,s=y[t].atoms,l=y[t].toshow,u=new $3Dmol.ProteinSurface;for(u.initparm(a,1!==i,m),u.fillvoxels(b,s),u.buildboundary(),i!=$3Dmol.SurfaceType.SES&&i!=$3Dmol.SurfaceType.MS||(u.fastdistancemap(),u.boundingatom(!1),u.fillvoxelswaals(b,s)),u.marchingcube(i),l=u.getFacesAndVertices(l),a=0,s=(i=$3Dmol.splitMesh({vertexArr:l.vertices,faceArr:l.faces})).length;a<s;a++)l={vertices:i[a].vertexArr,faces:i[a].faceArr},l=_e(o,l,v),$3Dmol.mergeGeos(r.geo,l);f.render(),n()})},s=[],d=0;d<y.length;d++)s.push(i(d));return Promise.all(s).then(function(){return r.done=!0,Promise.resolve(l)})}var x=[];for(0>e&&(e=0),d=0,u=4;d<u;d++)i=new Worker($3Dmol.SurfaceWorker),x.push(i),i.postMessage({type:-1,atoms:b,volume:m});return new Promise(function(t,n){var i=0,a=function(e){for(var n=0,a=(e=$3Dmol.splitMesh({vertexArr:e.data.vertices,faceArr:e.data.faces})).length;n<a;n++){var s=_e(o,{vertices:e[n].vertexArr,faces:e[n].faceArr},v);$3Dmol.mergeGeos(r.geo,s)}f.render(),++i==y.length&&(r.done=!0,t(l))},s=function(e){console.log(e.message+" ("+e.filename+":"+e.lineno+")"),n(e)};for(d=0;d<y.length;d++){var u=x[d%x.length];u.onmessage=a,u.onerror=s,u.postMessage({type:e,expandedExtent:y[d].extent,extendedAtoms:y[d].atoms,atomsToShow:y[d].toshow})}})};var v=i(t=t||{}),y=[];if(o=null,h){h={};var g={};for(o=0;o<d.length;o++)h[o]=[],g[o]=[];for(o=0;o<u.length;o++)h[u[o].model].push(u[o]);for(o=0;o<r.length;o++)g[r[o].model].push(r[o]);for(u=[],o=0;o<d.length;o++)0<g[o].length&&(y.push({geo:new $3Dmol.Geometry(!0),mat:v,done:!1,finished:!1,symmetries:d[o].getSymmetries()}),u.append(p(y[o],h[o],g[o])));o=Promise.all(u)}else y.push({geo:new $3Dmol.Geometry(!0),mat:v,done:!1,finished:!1,symmetries:[new $3Dmol.Matrix4]}),o=p(y[y.length-1],u,r);return m[l]=y,o.surfid=l,s&&"function"==typeof s?(o.then(function(e){s(e)}),l):o},this.setSurfaceMaterialStyle=function(e,t){if(m[e]){e=m[e];for(var r=0;r<e.length;r++){var n=e[r].mat=i(t);if(e[r].mat.side=$3Dmol.FrontSide,t.color){e[r].mat.color=t.color,e[r].geo.colorsNeedUpdate=!0;var o=$3Dmol.CC.color(t.color);e[r].geo.setColors(function(){return o})}else if(n.voldata&&n.volscheme){var a=n.volscheme,s=n.voldata,l=a.range()||[-1,1];e[r].geo.setColors(function(e,t,r){return e=s.getVal(e,t,r),$3Dmol.CC.color(a.valueToHex(e,l))})}e[r].finished=!1}}return this},this.removeSurface=function(e){for(var t=m[e],r=0;r<t.length;r++)t[r]&&t[r].lastGL&&(void 0!==t[r].geo&&t[r].geo.dispose(),void 0!==t[r].mat&&t[r].mat.dispose(),q.remove(t[r].lastGL));return delete m[e],oe(),this},this.removeAllSurfaces=function(){for(var e in m)if(m.hasOwnProperty(e)){for(var t=m[e],r=0;r<t.length;r++)t[r]&&t[r].lastGL&&(void 0!==t[r].geo&&t[r].geo.dispose(),void 0!==t[r].mat&&t[r].mat.dispose(),q.remove(t[r].lastGL));delete m[e]}return oe(),this},this.jmolMoveTo=function(){var e=q.position;e="center { "+-e.x+" "+-e.y+" "+-e.z+" }; ";var t=R.quaternion;return e+"moveto .5 quaternion { "+t.x+" "+t.y+" "+t.z+" "+t.w+" };"},this.clear=function(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),oe(),this},this.mapAtomProperties=function(e,t){var o=n(t=t||{});if("function"==typeof e)for(var i=0,a=o.length;i<a;i++)e(t=o[i]);else for(i=0,a=o.length;i<a;i++){t=o[i];for(var s=0,l=e.length;s<l;s++){var u=e[s];if(u.props)for(var c in u.props)if(u.props.hasOwnProperty(c)){e:{var f=t,h=u;void 0===h&&(h={});for(var p=r(h),d=0;d<p.length;d++)if(p[d].atomIsSelected(f,h)){f=!0;break e}f=!1}f&&(t.properties||(t.properties={}),t.properties[c]=u.props[c])}}}return this},this.linkViewer=function(e){return C.push(e),this};try{"function"==typeof a&&a(this)}catch(e){console.log("error with glviewer callback: "+e)}this.getPerceivedDistance=function(){return 150-R.position.z},this.setPerceivedDistance=function(e){R.position.z=150-e},this.setAutoEyeSeparation=function(e){var t=this.getPerceivedDistance();return O.position.x=e||0<O.position.x?t*Math.tan(Math.PI/180*5):-t*Math.tan(Math.PI/180*5),O.lookAt(new $3Dmol.Vector3(0,0,R.position.z)),O.position.x}},$3Dmol.glmolViewer=$3Dmol.GLViewer,$3Dmol=$3Dmol||{},$3Dmol.Gradient=function(e,t){},$3Dmol.Gradient.valueToHex=function(e,t){},$3Dmol.Gradient.range=function(){},$3Dmol.Gradient.normalizeValue=function(e,t,r){return t>=e?(r<e&&(r=e),r>t&&(r=t),{lo:e,hi:t,val:r}):(r>e&&(r=e),r<t&&(r=t),{lo:t,hi:e,val:e-r+t})},$3Dmol.Gradient.RWB=function(e,t,r){void 0===t&&$.isArray(e)&&2<=e.length&&(t=e[1],e=e[0]),this.valueToHex=function(n,o){if(n*=1,o)var i=o[0],a=o[1];else i=e,a=t;return void 0===n?16777215:(i=(n=$3Dmol.Gradient.normalizeValue(i,a,n)).lo,a=n.hi,(n=n.val)<=(o=o&&void 0!==o[2]?o[2]:void 0!==r?r:(i+a)/2)?16711680+256*(i=Math.floor(255*Math.sqrt((n-i)/(o-i))))+i:65536*(i=Math.floor(255*Math.sqrt(1-(n-o)/(a-o))))+256*i+255)},this.range=function(){return void 0!==e&&void 0!==t?[e,t]:null}},$3Dmol.Gradient.ROYGB=function(e,t){void 0===t&&$.isArray(e)&&2<=e.length&&(t=e[1],e=e[0]),this.valueToHex=function(r,n){if(r*=1,n){var o=n[0];n=n[1]}else o=e,n=t;if(void 0===r)return 16777215;var i=((o=(r=$3Dmol.Gradient.normalizeValue(o,n,r)).lo)+(n=r.hi))/2,a=(o+i)/2,s=(i+n)/2;return(r=r.val)<a?256*(o=Math.floor(255*Math.sqrt((r-o)/(a-o))))+16711680:r<i?65536*(o=Math.floor(255*Math.sqrt(1-(r-a)/(i-a))))+65280:r<s?65280+1*(o=Math.floor(255*Math.sqrt((r-i)/(s-i)))):256*(o=Math.floor(255*Math.sqrt(1-(r-s)/(n-s))))+255},this.range=function(){return void 0!==e&&void 0!==t?[e,t]:null}},$3Dmol.Gradient.Sinebow=function(e,t){var r=1;void 0===t&&$.isArray(e)&&2<=e.length&&(t=e[1],e=e[0]),t<e&&(r=-1,e*=-1,t*=-1),this.valueToHex=function(n,o){if(n*=r,o){var i=o[0];o=o[1]}else i=e,o=t;return void 0===n?16777215:(i=(n=$3Dmol.Gradient.normalizeValue(i,o,n)).lo,o=n.hi,o=((n=n.val)-i)/(o-i)*5/6+.5,i=Math.sin(Math.PI*o),n=Math.sin(Math.PI*(o+1/3)),o=Math.sin(Math.PI*(o+2/3)),65536*Math.floor(255*i*i)+256*Math.floor(255*o*o)+1*Math.floor(255*n*n))},this.range=function(){return void 0!==e&&void 0!==t?[e,t]:null}},$3Dmol.Gradient.builtinGradients={rwb:$3Dmol.Gradient.RWB,roygb:$3Dmol.Gradient.ROYGB,sinebow:$3Dmol.Gradient.Sinebow},$3Dmol.LabelCount=0,$3Dmol.Label=function(e,t){this.id=$3Dmol.LabelCount++,this.stylespec=t||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new $3Dmol.Sprite,this.text=e},$3Dmol.Label.prototype={constructor:$3Dmol.Label,getStyle:function(){return this.stylespec},setContext:function(){var e=function(e,t,r){return void 0!==e&&(r=e instanceof $3Dmol.Color?e.scaled():$3Dmol.CC.color(e).scaled()),void 0!==t&&(r.a=parseFloat(t)),r};return function(){var t=this.stylespec,r=void 0!==t.useScreen&&t.useScreen,n=t.showBackground;"0"!==n&&"false"!==n||(n=!1),void 0===n&&(n=!0);var o=t.font?t.font:"sans-serif",i=parseInt(t.fontSize)?parseInt(t.fontSize):18,a=e(t.fontColor,t.fontOpacity,{r:255,g:255,b:255,a:1}),s=t.padding?t.padding:4,l=t.borderThickness?t.borderThickness:0,u=e(t.backgroundColor,t.backgroundOpacity,{r:0,g:0,b:0,a:1}),c=e(t.borderColor,t.borderOpacity,u),f=t.position?t.position:{x:-10,y:1,z:1},h=void 0===t.inFront||t.inFront;"false"!==h&&"0"!==h||(h=!1);var p=t.alignment||$3Dmol.SpriteAlignment.topLeft;"string"==typeof p&&p in $3Dmol.SpriteAlignment&&(p=$3Dmol.SpriteAlignment[p]);var d="";t.bold&&(d="bold "),this.context.font=d+i+"px  "+o;var m=this.context.measureText(this.text).width;n||(l=0);var v=m+2.5*l+2*s,y=1.25*i+2*l+2*s;if(t.backgroundImage){var g=t.backgroundImage,b=t.backgroundWidth?t.backgroundWidth:g.width;d=t.backgroundHeight?t.backgroundHeight:g.height,b>v&&(v=b),d>y&&(y=d)}this.canvas.width=v,this.canvas.height=y,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),d="",t.bold&&(d="bold "),this.context.font=d+i+"px  "+o,this.context.fillStyle="rgba("+u.r+","+u.g+","+u.b+","+u.a+")",this.context.strokeStyle="rgba("+c.r+","+c.g+","+c.b+","+c.a+")",this.context.lineWidth=l,n&&(u=o=l,v-=2*l,y-=2*l,c=0<l,(n=this.context).beginPath(),n.moveTo(o+6,u),n.lineTo(o+v-6,u),n.quadraticCurveTo(o+v,u,o+v,u+6),n.lineTo(o+v,u+y-6),n.quadraticCurveTo(o+v,u+y,o+v-6,u+y),n.lineTo(o+6,u+y),n.quadraticCurveTo(o,u+y,o,u+y-6),n.lineTo(o,u+6),n.quadraticCurveTo(o,u,o+6,u),n.closePath(),n.fill(),c&&n.stroke()),t.backgroundImage&&(g=t.backgroundImage,b=t.backgroundWidth?t.backgroundWidth:g.width,d=t.backgroundHeight?t.backgroundHeight:g.height,this.context.drawImage(g,0,0,b,d)),this.context.fillStyle="rgba("+a.r+","+a.g+","+a.b+","+a.a+")",this.context.fillText(this.text,l+s,i+l+s,m),(t=new $3Dmol.Texture(this.canvas)).needsUpdate=!0,this.sprite.material=new $3Dmol.SpriteMaterial({map:t,useScreenCoordinates:r,alignment:p,depthTest:!h}),this.sprite.scale.set(1,1,1),this.sprite.position.set(f.x,f.y,f.z)}}(),dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose(),void 0!==this.sprite.material&&this.sprite.material.dispose()}},$3Dmol=$3Dmol||{},$3Dmol.MarchingCubeInitializer=function(){var e={march:function(e,i,a,s){var l,u=!!s.fulltable,c=s.hasOwnProperty("origin")&&s.origin.hasOwnProperty("x")?s.origin:{x:0,y:0,z:0},f=!!s.voxel,h=s.matrix,p=s.nX||0,d=s.nY||0,m=s.nZ||0,v=s.scale||1;l=s.unitCube?s.unitCube:{x:v,y:v,z:v};var y=new Int32Array(p*d*m);for(s=0,v=y.length;s<v;++s)y[s]=-1;v=function(e,t,r,n,o,a){var s={x:0,y:0,z:0},u=o;return!(n&1<<o)&&n&1<<a&&(u=a),1&u&&r++,2&u&&t++,4&u&&e++,h?s={x:(s=(s=new $3Dmol.Vector3(e,t,r)).applyMatrix4(h)).x,y:s.y,z:s.z}:(s.x=c.x+l.x*e,s.y=c.y+l.y*t,s.z=c.z+l.z*r),e=(d*e+t)*m+r,f?(i.push(s),i.length-1):(0>y[e]&&(y[e]=i.length,i.push(s)),y[e])};var g=new Int32Array(12),b=u?n:t;for(u=u?o:r,s=0;s<p-1;++s)for(var x=0;x<d-1;++x)for(var w=0;w<m-1;++w){for(var _=0,D=0;8>D;++D)_|=!!(2&e[(d*(s+((4&D)>>2))+x+((2&D)>>1))*m+w+(1&D)])<<D;if(0!==_&&255!==_){var S=b[_];if(0!==S)for(D=u[_],1&S&&(g[0]=v(s,x,w,_,0,1)),2&S&&(g[1]=v(s,x,w,_,1,3)),4&S&&(g[2]=v(s,x,w,_,3,2)),8&S&&(g[3]=v(s,x,w,_,2,0)),16&S&&(g[4]=v(s,x,w,_,4,5)),32&S&&(g[5]=v(s,x,w,_,5,7)),64&S&&(g[6]=v(s,x,w,_,7,6)),128&S&&(g[7]=v(s,x,w,_,6,4)),256&S&&(g[8]=v(s,x,w,_,0,4)),512&S&&(g[9]=v(s,x,w,_,1,5)),1024&S&&(g[10]=v(s,x,w,_,3,7)),2048&S&&(g[11]=v(s,x,w,_,2,6)),_=0;_<D.length;_+=3){S=g[D[_]];var C=g[D[_+1]],A=g[D[_+2]];f&&3<=_&&(i.push(i[S]),S=i.length-1,i.push(i[C]),C=i.length-1,i.push(i[A]),A=i.length-1),a.push(S),a.push(C),a.push(A)}}}},laplacianSmooth:function(e,t,r){var n,o,i=Array(t.length),a=0;for(n=t.length;a<n;a++)i[a]={x:0,y:0,z:0};var s=Array(20);for(a=0;20>a;a++)s[a]=Array(t.length);for(a=0,n=t.length;a<n;a++)s[0][a]=0;for(a=0,n=r.length/3;a<n;a++){var l=3*a,u=3*a+1,c=3*a+2,f=!0,h=0;for(o=s[0][r[l]];h<o;h++)if(r[u]==s[h+1][r[l]]){f=!1;break}for(f&&(s[0][r[l]]++,s[s[0][r[l]]][r[l]]=r[u]),f=!0,h=0,o=s[0][r[l]];h<o;h++)if(r[c]==s[h+1][r[l]]){f=!1;break}for(f&&(s[0][r[l]]++,s[s[0][r[l]]][r[l]]=r[c]),f=!0,h=0,o=s[0][r[u]];h<o;h++)if(r[l]==s[h+1][r[u]]){f=!1;break}for(f&&(s[0][r[u]]++,s[s[0][r[u]]][r[u]]=r[l]),f=!0,h=0,o=s[0][r[u]];h<o;h++)if(r[c]==s[h+1][r[u]]){f=!1;break}for(f&&(s[0][r[u]]++,s[s[0][r[u]]][r[u]]=r[c]),f=!0,h=0;h<s[0][r[c]];h++)if(r[l]==s[h+1][r[c]]){f=!1;break}for(f&&(s[0][r[c]]++,s[s[0][r[c]]][r[c]]=r[l]),f=!0,h=0,o=s[0][r[c]];h<o;h++)if(r[u]==s[h+1][r[c]]){f=!1;break}f&&(s[0][r[c]]++,s[s[0][r[c]]][r[c]]=r[u])}for(r=0;r<e;r++){for(a=0,n=t.length;a<n;a++)if(3>s[0][a])i[a].x=t[a].x,i[a].y=t[a].y,i[a].z=t[a].z;else if(3==s[0][a]||4==s[0][a]){for(i[a].x=0,i[a].y=0,h=i[a].z=0,o=s[0][a];h<o;h++)i[a].x+=t[s[h+1][a]].x,i[a].y+=t[s[h+1][a]].y,i[a].z+=t[s[h+1][a]].z;i[a].x+=.5*t[a].x,i[a].y+=.5*t[a].y,i[a].z+=.5*t[a].z,i[a].x/=.5+s[0][a],i[a].y/=.5+s[0][a],i[a].z/=.5+s[0][a]}else{for(i[a].x=0,i[a].y=0,h=i[a].z=0,o=s[0][a];h<o;h++)i[a].x+=t[s[h+1][a]].x,i[a].y+=t[s[h+1][a]].y,i[a].z+=t[s[h+1][a]].z;i[a].x+=1*t[a].x,i[a].y+=1*t[a].y,i[a].z+=1*t[a].z,i[a].x/=1+s[0][a],i[a].y/=1+s[0][a],i[a].z/=1+s[0][a]}for(a=0,n=t.length;a<n;a++)t[a].x=i[a].x,t[a].y=i[a].y,t[a].z=i[a].z}},edgeTable:[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]},t=new Uint32Array(e.edgeTable),r=e.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],n=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],o=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return e},$3Dmol.MarchingCube=$3Dmol.MarchingCubeInitializer(),$3Dmol.Parsers=function(){var e={},t=function(e){for(var t,r,n,o=0,a=e.length;o<a;o++)e[o].index||(e[o].index=o);a={};for(var s=0;s<e.length;s++)o=e[s],n=Math.floor(o.x/4.95),r=Math.floor(o.y/4.95),t=Math.floor(o.z/4.95),a[n]||(a[n]={}),a[n][r]||(a[n][r]={}),a[n][r][t]||(a[n][r][t]=[]),a[n][r][t].push(o);for(n in e=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],a)for(r in a[n=parseInt(n)])for(t in r=parseInt(r),a[n][r]){for(t=parseInt(t),s=a[n][r][t],o=0;o<s.length;o++)for(var l=s[o],u=o+1;u<s.length;u++){var c=s[u];i(l,c)&&-1==l.bonds.indexOf(c.index)&&(l.bonds.push(c.index),l.bondOrder.push(1),c.bonds.push(l.index),c.bondOrder.push(1))}for(o=0;o<e.length;o++)if(a[n+(u=e[o]).x]&&a[n+u.x][r+u.y]&&a[n+u.x][r+u.y][t+u.z])for(l=s,u=a[n+u.x][r+u.y][t+u.z],c=0;c<l.length;c++)for(var f=l[c],h=0;h<u.length;h++){var p=u[h];if(i(f,p)){var d=f.bonds.indexOf(p.index),m=p.bonds.indexOf(f.index);-1==d&&-1==m?(f.bonds.push(p.index),f.bondOrder.push(1),p.bonds.push(f.index),p.bondOrder.push(1)):-1==d?(f.bonds.push(p.index),f.bondOrder.push(p.bondOrder[m])):-1==m&&(p.bonds.push(f.index),p.bondOrder.push(f.bondOrder[d]))}}}},r=function(e){var r,n=[],o=[],a=0;for(r=e.length;a<r;a++){var s=e[a];s.index=a,s.hetflag?o.push(s):n.push(s)}for(t(o),n.sort(function(e,t){return e.chain!=t.chain?e.chain<t.chain?-1:1:e.resi-t.resi}),o=e=-1,a=0,r=n.length;a<r;a++){if((s=n[a]).resi!==e){e=s.resi,l||o++;var l=!1}s.reschain=o;for(var u=a+1;u<n.length;u++){var c=n[u];if(c.chain!=s.chain)break;if(1<c.resi-s.resi)break;i(s,c)&&(-1===s.bonds.indexOf(c.index)&&(s.bonds.push(c.index),s.bondOrder.push(1),c.bonds.push(s.index),c.bondOrder.push(1)),s.resi!==c.resi&&(l=!0))}}},n=function(e){var t;!function(e){var t,r=[],n=0;for(t=e.length;n<t;n++){e[n].index=n;var o=e[n];o.hetflag||"N"!==o.atom&&"O"!==o.atom||(r.push(o),o.hbondOther=null,o.hbondDistanceSq=Number.POSITIVE_INFINITY)}for(r.sort(function(e,t){return e.z-t.z}),n=0,t=r.length;n<t;n++)for(o=r[n],e=n+1;e<t;e++){var i=r[e],a=i.z-o.z;if(3.2<a)break;if(i.atom!=o.atom){var s=Math.abs(i.y-o.y);if(!(3.2<s)){var l=Math.abs(i.x-o.x);3.2<l||10.24<(a=l*l+s*s+a*a)||i.chain==o.chain&&4>Math.abs(i.resi-o.resi)||(a<o.hbondDistanceSq&&(o.hbondOther=i,o.hbondDistanceSq=a),a<i.hbondDistanceSq&&(i.hbondOther=o,i.hbondDistanceSq=a))}}}}(e);var r,n={},o=0;for(t=e.length;o<t;o++){var i=e[o];if(void 0===n[i.chain]&&(n[i.chain]=[]),isFinite(i.hbondDistanceSq)){var a=i.hbondOther;void 0===n[a.chain]&&(n[a.chain]=[]),4===Math.abs(a.resi-i.resi)&&(n[i.chain][i.resi]="h")}}for(r in n)for(i=1;i<n[r].length-1;i++)t=n[r][i-1],o=n[r][i+1],a=n[r][i],"h"==t&&t==o&&a!=t&&(n[r][i]=t);for(o=0,t=e.length;o<t;o++)i=e[o],isFinite(i.hbondDistanceSq)&&"h"!=n[i.chain][i.resi]&&"h"!=i.ss&&(n[i.chain][i.resi]="maybesheet");for(o=0,t=e.length;o<t;o++)if(i=e[o],isFinite(i.hbondDistanceSq)&&"maybesheet"==n[i.chain][i.resi]){var s=n[(a=i.hbondOther).chain][a.resi];"maybesheet"!=s&&"s"!=s||(n[i.chain][i.resi]="s",n[a.chain][a.resi]="s")}for(r in n){for(i=1;i<n[r].length-1;i++)t=n[r][i-1],o=n[r][i+1],a=n[r][i],"s"==t&&t==o&&a!=t&&(n[r][i]=t);for(i=0;i<n[r].length;i++)"h"!=(a=n[r][i])&&"s"!=a||n[r][i-1]==a||n[r][i+1]==a||delete n[r][i]}for(o=0,t=e.length;o<t;o++)void 0!==(a=n[(i=e[o]).chain][i.resi])&&"maybesheet"!=a&&(i.ss=a,n[i.chain][i.resi-1]!=a&&(i.ssbegin=!0),n[i.chain][i.resi+1]!=a&&(i.ssend=!0))};e.vasp=e.VASP=function(e,t){t=[[]];var r=e.replace(/^\s+/,"").split(/[\n\r]/);if(3>r.length)return t;if(!r[1].match(/\d+/))return console.log("Warning: second line of the vasp structure file must be a number"),t;if(0>(e=parseFloat(r[1])))return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),t;var n=new Float32Array(r[2].replace(/^\s+/,"").split(/\s+/)),o=new Float32Array(r[3].replace(/^\s+/,"").split(/\s+/)),i=new Float32Array(r[4].replace(/^\s+/,"").split(/\s+/)),a=new $3Dmol.Matrix4(n[0],n[1],n[2],0,o[0],o[1],o[2],0,i[0],i[1],i[2],0,0,0,0,1);a.multiplyScalar(e),t.modelData=[{symmetries:[],cryst:{matrix:a}}],a=r[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/);var s=new Int16Array(r[6].replace(/^\s+/,"").split(/\s+/)),l=r[7].replace(/\s+/,"");if(l.match(/C/))l="cartesian";else{if(!l.match(/D/))return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),t;l="direct"}if(a.length!=s.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(a),console.log(s),t;r.splice(0,8);for(var u=0,c=0,f=a.length;c<f;c++){for(var h=a[c],p=0,d=s[c];p<d;p++){var m=new Float32Array(r[u+p].replace(/^\s+/,"").split(/\s+/)),v={};v.elem=h,"cartesian"==l?(v.x=e*m[0],v.y=e*m[1],v.z=e*m[2]):(v.x=e*(m[0]*n[0]+m[1]*o[0]+m[2]*i[0]),v.y=e*(m[0]*n[1]+m[1]*o[1]+m[2]*i[1]),v.z=e*(m[0]*n[2]+m[1]*o[2]+m[2]*i[2])),v.bonds=[],t[0].push(v)}u+=s[c]}return t},e.cube=e.CUBE=function(e,r){if(r=[[]],6>(e=e.replace(/^\s+/,"").split(/\n\r|\r+/)).length)return r;var n=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),o=Math.abs(parseFloat(n[0]));n=e[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),n=0<parseFloat(n[0])?.529177:1,e=e.splice(6,o);for(var i=(o=r[r.length-1].length)+e.length,a=o;a<i;++a){var s={};s.serial=a;var l=e[a-o].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");6==l[0]?s.elem="C":1==l[0]?s.elem="H":8==l[0]?s.elem="O":17==l[0]&&(s.elem="Cl"),s.x=parseFloat(l[2])*n,s.y=parseFloat(l[3])*n,s.z=parseFloat(l[4])*n,s.hetflag=!0,s.bonds=[],s.bondOrder=[],s.properties={},r[r.length-1].push(s)}for(a=0;a<r.length;a++)t(r[a]);return r},e.xyz=e.XYZ=function(e,r){for(var n=[[]],o=e.split(/\r?\n|\r/);0<o.length&&!(3>o.length);){var i=parseInt(o[0]);if(isNaN(i)||0>=i)break;if(o.length<i+2)break;e=2;var a=n[n.length-1].length;for(i=a+i;a<i;a++){var s=o[e++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),l={};l.serial=a;var u=s[0];l.atom=l.elem=u[0].toUpperCase()+u.substr(1).toLowerCase(),l.x=parseFloat(s[1]),l.y=parseFloat(s[2]),l.z=parseFloat(s[3]),l.hetflag=!0,l.bonds=[],l.bondOrder=[],l.properties={},n[n.length-1][a]=l,7<=s.length&&(l.dx=parseFloat(s[4]),l.dy=parseFloat(s[5]),l.dz=parseFloat(s[6]))}if(!r.multimodel)break;n.push([]),o.splice(0,e)}for(a=0;a<n.length;a++)t(n[a]);if(r.onemol)for(r=n,(n=[]).push(r[0]),a=1;a<r.length;a++)for(e=n[0].length,o=0;o<r[a].length;o++){for(i=r[a][o],s=0;s<i.bonds.length;s++)i.bonds[s]+=e;i.index=n[0].length,i.serial=n[0].length,n[0].push(i)}return n},e.sdf=e.SDF=function(e,t){var r=[[]],n=!1;for(void 0!==t.keepH&&(n=!t.keepH),e=e.split(/\r?\n|\r/);0<e.length&&!(4>e.length);){var o=parseInt(e[3].substr(0,3));if(isNaN(o)||0>=o)break;var i=parseInt(e[3].substr(3,3)),a=4;if(e.length<4+o+i)break;var s=[],l=r[r.length-1].length,u=l+o;for(o=l;o<u;o++,a++){var c=e[a],f={},h=c.substr(31,3).replace(/ /g,"");f.atom=f.elem=h[0].toUpperCase()+h.substr(1).toLowerCase(),"H"==f.elem&&n||(f.serial=o,s[o]=r[r.length-1].length,f.x=parseFloat(c.substr(0,10)),f.y=parseFloat(c.substr(10,10)),f.z=parseFloat(c.substr(20,10)),f.hetflag=!0,f.bonds=[],f.bondOrder=[],f.properties={},f.index=r[r.length-1].length,r[r.length-1].push(f))}for(o=0;o<i;o++,a++)c=e[a],u=s[parseInt(c.substr(0,3))-1+l],f=s[parseInt(c.substr(3,3))-1+l],c=parseInt(c.substr(6,3)),void 0!==u&&void 0!==f&&(r[r.length-1][u].bonds.push(f),r[r.length-1][u].bondOrder.push(c),r[r.length-1][f].bonds.push(u),r[r.length-1][f].bondOrder.push(c));if(!t.multimodel)break;for(t.onemol||r.push([]);"$$$$"!=e[a];)a++;e.splice(0,++a)}return r},e.cdjson=e.json=function(e,t){var r=[[]];"string"==typeof e&&(e=JSON.parse(e));var n=e.m,o=n[0].a;e=n[0].b;var i=n[0].s,a=void 0!==t&&void 0!==t.parseStyle?t.parseStyle:void 0!==i;for(t=r[r.length-1].length,n=0;n<o.length;n++){var s=o[n],l={};l.id=s.i,l.x=s.x,l.y=s.y,l.z=s.z||0,l.bonds=[],l.bondOrder=[];var u=s.l||"C";l.elem=u[0].toUpperCase()+u.substr(1).toLowerCase(),l.serial=r[r.length-1].length,a&&(l.style=i[s.s||0]),r[r.length-1].push(l)}for(n=0;n<e.length;n++)o=(a=e[n]).b+t,i=a.e+t,a=a.o||1,s=r[r.length-1][o],l=r[r.length-1][i],s.bonds.push(i),s.bondOrder.push(a),l.bonds.push(o),l.bondOrder.push(a);return r},e.mcif=e.cif=function(e,r){function o(e,t){for(var r=[],n=0,o=0;o<e.length;){for(;e.substr(o,t.length)!==t&&o<e.length;){if("'"===e[o])for(o++;o<e.length&&"'"!==e[o];)o++;else if('"'===e[o])for(o++;o<e.length&&'"'!==e[o];)o++;o++}r.push(e.substr(n,o-n)),n=o+=t.length}return r}var i=[],s=!r.doAssembly;r=!r.duplicateAssemblyAtoms;var l=i.modelData=[],u=e.split(/\r?\n|\r/);e=[];for(var c=!1,f=0;f<u.length;f++){var h=u[f].split("#")[0];if(c?";"===h[0]&&(c=!1):";"===h[0]&&(c=!0),c||""!==h){if(!c&&"_"===(h=h.trim())[0]){var p=h.split(/\s/)[0].indexOf(".");-1<p&&(h[p]="_",h=h.substr(0,p)+"_"+h.substr(p+1))}e.push(h)}}for(f=0;f<e.length;){for(u=function(e){var t=e.match("-"),r=void 0===(e=(e=e.replace(/[-xyz]/g,"")).split("/"))[1]?1:parseInt(e[1]);return(""===e[0]?1:parseInt(e[0]))/r*(t?-1:1)},p=function(e,t,r){return{x:S[0][0]*e+S[0][1]*t+S[0][2]*r,y:S[1][0]*e+S[1][1]*t+S[1][2]*r,z:S[2][0]*e+S[2][1]*t+S[2][2]*r}};!e[f].startsWith("data_")||"data_global"===e[f];)f++;for(f++,c={};f<e.length&&!e[f].startsWith("data_");)if(void 0===e[f][0])f++;else if("_"===e[f][0]){var d=e[f].split(/\s/)[0].toLowerCase();h=c[d]=c[d]||[];var m=e[f].substr(e[f].indexOf(d)+d.length);if(""===m)if(";"===e[++f][0]){for(m=e[f].substr(1),f++;";"!==e[f];)m=m+"\n"+e[f],f++;h.push(m)}else h.push(e[f]);else h.push(m.trim());f++}else if("loop_"===e[f].substr(0,5)){for(f++,m=[];""===e[f]||"_"===e[f][0];)""!==e[f]&&(h=c[d=e[f].split(/\s/)[0].toLowerCase()]=c[d]||[],m.push(h)),f++;for(d=0;f<e.length&&"_"!==e[f][0]&&!e[f].startsWith("loop_")&&!e[f].startsWith("data_");){h=o(e[f]," ");for(var v=0;v<h.length;v++)""!==h[v]&&(m[d].push(h[v]),d=(d+1)%m.length);f++}}else f++;if(l.push({symmetries:[]}),i.push([]),m=void 0!==c._atom_site_id?c._atom_site_id.length:c._atom_site_label.length,void 0!==c._cell_length_a){h=parseFloat(c._cell_length_a),d=parseFloat(c._cell_length_b),v=parseFloat(c._cell_length_c);var y=parseFloat(c._cell_angle_alpha)||90,g=parseFloat(c._cell_angle_beta)||90,b=parseFloat(c._cell_angle_gamma)||90,x=b*Math.PI/180,w=Math.cos(y*Math.PI/180),_=Math.cos(g*Math.PI/180),D=Math.cos(x),S=[[h,d*D,v*_],[0,d*(x=Math.sin(x)),v*(w-_*D)/x],[0,0,v*Math.sqrt(1-w*w-_*_-D*D+2*w*_*D)/x]];l[l.length-1].cryst={a:h,b:d,c:v,alpha:y,beta:g,gamma:b}}for(h=0;h<m;h++)void 0!==c._atom_site_group_pdb&&"TER"===c._atom_site_group_pdb[h]||(d={},void 0!==c._atom_site_cartn_x?(d.x=parseFloat(c._atom_site_cartn_x[h]),d.y=parseFloat(c._atom_site_cartn_y[h]),d.z=parseFloat(c._atom_site_cartn_z[h])):(v=p(parseFloat(c._atom_site_fract_x[h]),parseFloat(c._atom_site_fract_y[h]),parseFloat(c._atom_site_fract_z[h])),d.x=v.x,d.y=v.y,d.z=v.z),d.chain=c._atom_site_auth_asym_id?c._atom_site_auth_asym_id[h]:void 0,d.resi=c._atom_site_auth_seq_id?parseInt(c._atom_site_auth_seq_id[h]):void 0,d.resn=c._atom_site_auth_comp_id?c._atom_site_auth_comp_id[h].trim():void 0,d.atom=c._atom_site_auth_atom_id?c._atom_site_auth_atom_id[h].replace(/"/gm,""):void 0,d.hetflag=!c._atom_site_group_pdb||"HETA"===c._atom_site_group_pdb[h]||"HETATM"===c._atom_site_group_pdb[h],v=c._atom_site_type_symbol[h],d.elem=v[0].toUpperCase()+v.substr(1).toLowerCase(),d.bonds=[],d.ss="c",d.serial=h,d.bondOrder=[],d.properties={},i[i.length-1].push(d));if(void 0!==c._pdbx_struct_oper_list_id&&!s){for(h=0;h<c._pdbx_struct_oper_list_id.length;h++){p=parseFloat(c["_pdbx_struct_oper_list_matrix[1][1]"][h]),m=parseFloat(c["_pdbx_struct_oper_list_matrix[1][2]"][h]),d=parseFloat(c["_pdbx_struct_oper_list_matrix[1][3]"][h]),v=parseFloat(c["_pdbx_struct_oper_list_vector[1]"][h]),y=parseFloat(c["_pdbx_struct_oper_list_matrix[2][1]"][h]),g=parseFloat(c["_pdbx_struct_oper_list_matrix[2][2]"][h]),b=parseFloat(c["_pdbx_struct_oper_list_matrix[2][3]"][h]),w=parseFloat(c["_pdbx_struct_oper_list_vector[2]"][h]),_=parseFloat(c["_pdbx_struct_oper_list_matrix[3][1]"][h]),D=parseFloat(c["_pdbx_struct_oper_list_matrix[3][2]"][h]),x=parseFloat(c["_pdbx_struct_oper_list_matrix[3][3]"][h]);var C=parseFloat(c["_pdbx_struct_oper_list_vector[3]"][h]);p=new $3Dmol.Matrix4(p,m,d,v,y,g,b,w,_,D,x,C),l[l.length-1].symmetries.push(p)}for(h=0;h<i.length;h++)a(l[l.length-1].symmetries,r,i[h])}if(void 0!==c._symmetry_equiv_pos_as_xyz)for(h=0;h<c._symmetry_equiv_pos_as_xyz.length;h++){for(m=c._symmetry_equiv_pos_as_xyz[h].replace(/["' ]/g,"").split(",").map(function(e){return e.replace(/-/g,"+-")}),p=new $3Dmol.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),d=0;3>d;d++)for(v=m[d].split("+"),y=0;y<v.length;y++)""!==(g=v[y])&&(b=u(g),g.match("x")?p.elements[d+0]=b:g.match("y")?p.elements[d+4]=b:g.match("z")?p.elements[d+8]=b:p.elements[d+12]=b);m=new $3Dmol.Matrix4(S[0][0],S[0][1],S[0][2],0,S[1][0],S[1][1],S[1][2],0,S[2][0],S[2][1],S[2][2],0),d=(new $3Dmol.Matrix4).getInverse(m,!0),p=(new $3Dmol.Matrix4).multiplyMatrices(p,d),p=(new $3Dmol.Matrix4).multiplyMatrices(m,p),l[l.length-1].symmetries.push(p)}}for(h=0;h<i.length;h++)t(i[h]),n(i[h]),a(l[h].symmetries,r,i[h]);return i},e.mol2=e.MOL2=function(e,t){var r=[[]],n=!1;void 0!==t.keepH&&(n=!t.keepH);var o=e.search(/@<TRIPOS>MOLECULE/),i=e.search(/@<TRIPOS>ATOM/);if(-1==o||-1==i)return r;for(e=e.substr(o,e.length).split(/\r?\n|\r/);0<e.length;){o=[];var a=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),s=parseInt(a[0]);i=0,1<a.length&&(i=parseInt(a[1]));var l,u=4;for(l=3;l<e.length;l++)if("@<TRIPOS>ATOM"==e[l]){u=l+1;break}for(s=(l=r[r.length-1].length)+s;l<s;l++){var c={},f=(a=(a=e[u++]).replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[5].split(".")[0];if(c.atom=c.elem=f[0].toUpperCase()+f.substr(1).toLowerCase(),"H"!=c.elem||!n){f=r[r.length-1].length;var h=parseInt(a[0]);c.serial=h,c.x=parseFloat(a[2]),c.y=parseFloat(a[3]),c.z=parseFloat(a[4]),c.atom=a[5],a=parseFloat(a[8]),c.index=f,c.bonds=[],c.bondOrder=[],c.properties={charge:a,partialCharge:a},o[h]=f,r[r.length-1].push(c)}}for(l=!1;u<e.length;)if("@<TRIPOS>BOND"==e[u++]){l=!0;break}if(l&&i)for(l=0;l<i;l++)a=(a=e[u++]).replace(/^\s+/,"").replace(/\s+/g," ").split(" "),s=parseInt(a[1]),c=r[r.length-1][o[s]],f=parseInt(a[2]),h=r[r.length-1][o[f]],a=parseInt(a[3]),isNaN(a)&&(a=1),void 0!==c&&void 0!==h&&(c.bonds.push(o[f]),c.bondOrder.push(a),h.bonds.push(o[s]),h.bondOrder.push(a));if(!t.multimodel)break;t.onemol||r.push([]),e.splice(0,u),e.join("\n")}return r};var o={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45},i=function(e,t){var r=(o[e.elem]||1.6)+(o[t.elem]||1.6);r+=.25,r*=r;var n=e.x-t.x;if((n*=n)>r)return!1;var i=e.y-t.y;if((i*=i)>r)return!1;var a=e.z-t.z;return!((a*=a)>r)&&(n=n+i+a,!isNaN(n)&&(!(.5>n)&&(!(n>r)&&(e.altLoc==t.altLoc||" "==e.altLoc||" "==t.altLoc))))},a=function(e,t,r){var n,o,i=r.length,a=i;if(t){if(1<e.length)for(t=0;t<r.length;t++){for(i=[],n=0;n<e.length;n++)e[n].isIdentity()||((a=new $3Dmol.Vector3).set(r[t].x,r[t].y,r[t].z),a.applyMatrix4(e[n]),i.push(a));r[t].symmetries=i}}else for(t=0;t<e.length;t++)if(!e[t].isIdentity()){var s=new $3Dmol.Vector3;for(o=0;o<i;o++){var l=[];for(n=0;n<r[o].bonds.length;n++)l.push(r[o].bonds[n]+a);for(var u in s.set(r[o].x,r[o].y,r[o].z),s.applyMatrix4(e[t]),n={},r[o])n[u]=r[o][u];n.x=s.x,n.y=s.y,n.z=s.z,n.bonds=l,r.push(n)}a=r.length}},s=function(e,t){return 0<(e=e.replace(/ /g,"")).length&&"H"==e[0]&&"Hg"!=e&&(e="H"),1<e.length&&(e=e[0].toUpperCase()+e.substr(1).toLowerCase(),void 0===o[e]?e=e[0]:t&&("Ca"==e?e="C":"Cd"==e&&(e="C"))),e};e.pdb=e.PDB=e.pdbqt=e.PDBQT=function(e,t){var i=[],l={};i.modelData=[];for(var u=e.split(/\r?\n|\r/);0<u.length;){var c,f=u;e=l,u=[];var h=!t.keepH,p=!!t.noSecondaryStructure,d=!t.noComputeSecondaryStructure,m=!t.doAssembly,v=!t.duplicateAssemblyAtoms,y=t.altLoc?t.altLoc:"A",g={symmetries:[]},b=[],x=[],w={};for(c=0;c<f.length;c++){var _=f[c].replace(/^\s*/,""),D=_.substr(0,6);if(0==D.indexOf("END")){if(b=f.slice(c+1),"END"==D)for(var S in e)e.hasOwnProperty(S)&&delete e[S];break}if("ATOM  "==D||"HETATM"==D){var C=_.substr(16,1);if(" "==C||C==y||"*"==y){var A=parseInt(_.substr(6,5)),$=_.substr(12,4).replace(/ /g,""),M=_.substr(17,3).replace(/ /g,""),T=_.substr(21,1),z=parseInt(_.substr(22,4)),E=_.substr(26,1),L=parseFloat(_.substr(30,8)),k=parseFloat(_.substr(38,8)),I=parseFloat(_.substr(46,8)),O=parseFloat(_.substr(60,8)),j=_.substr(76,2).replace(/ /g,"");"H"==(j=""===j||void 0===o[j]?s(_.substr(12,2),"A"==_[0]):j[0].toUpperCase()+j.substr(1).toLowerCase())&&h||(D="H"==D[0],x[A]=u.length,u.push({resn:M,x:L,y:k,z:I,elem:j,hetflag:D,altLoc:C,chain:T,resi:z,icode:E,rescode:z+(" "!=E?"^"+E:""),serial:A,atom:$,bonds:[],ss:"c",bondOrder:[],properties:{},b:O,pdbline:_}))}}else if("SHEET "==D){O=_.substr(21,1),$=parseInt(_.substr(22,4)),_.substr(32,1),_=parseInt(_.substr(33,4)),O in e||(e[O]={}),e[O][$]="s1";for($+=1;$<_;$++)e[O][$]="s";e[O][_]="s2"}else if("CONECT"==D){for(A=u[$=x[O=parseInt(_.substr(6,5))]],M=[11,16,21,26],O=0;4>O;O++)if(z=u[T=x[T=parseInt(_.substr(M[O],5))]],void 0!==A&&void 0!==z)if(w[[$,T]])for(w[[$,T]]+=1,z=0;z<A.bonds.length;z++)A.bonds[z]==T&&(E=w[[$,T]],A.bondOrder[z]=4<=E?1:E);else w[[$,T]]=1,(0==A.bonds.length||A.bonds[A.bonds.length-1]!=T)&&(A.bonds.push(T),A.bondOrder.push(1))}else if("HELIX "==D){O=_.substr(19,1),$=parseInt(_.substr(21,4)),_.substr(31,1),_=parseInt(_.substr(33,4)),O in e||(e[O]={}),e[O][$]="h1";for($+=1;$<_;$++)e[O][$]="h";e[O][_]="h2"}else if(m||"REMARK"!=D||"BIOMT"!=_.substr(13,5))"CRYST1"==D?($=parseFloat(_.substr(7,8)),O=parseFloat(_.substr(16,8)),A=parseFloat(_.substr(25,8)),M=parseFloat(_.substr(34,6)),T=parseFloat(_.substr(41,6)),_=parseFloat(_.substr(48,6)),g.cryst={a:$,b:O,c:A,alpha:M,beta:T,gamma:_}):"ANISOU"==D&&(O=u[x[A=parseInt(_.substr(6,5))]])&&(_=_.substr(30).trim().split(/\s+/),_={u11:parseInt(_[0]),u22:parseInt(_[1]),u33:parseInt(_[2]),u12:parseInt(_[3]),u13:parseInt(_[4]),u23:parseInt(_[5])},O.uMat=_);else{for($=new $3Dmol.Matrix4,O=1;3>=O;O++)if(_=f[c].replace(/^\s*/,""),parseInt(_.substr(18,1))==O)$.elements[O-1]=parseFloat(_.substr(23,10)),$.elements[O-1+4]=parseFloat(_.substr(33,10)),$.elements[O-1+8]=parseFloat(_.substr(43,10)),$.elements[O-1+12]=parseFloat(_.substr(53)),c++;else for(;"BIOMT"==_.substr(13,5);)_=f[++c].replace(/^\s*/,"");$.elements[3]=0,$.elements[7]=0,$.elements[11]=0,$.elements[15]=1,g.symmetries.push($),c--}}for((new Date).getTime(),f=0,h=(c=u).length;f<h;f++)for(y=c[f],w=0;w<y.bonds.length;w++)_=c[y.bonds[w]],O=x[y.serial],_&&O&&0>_.bonds.indexOf(O)&&(_.bonds.push(O),_.bondOrder.push(y.bondOrder[w]));r(u),m||a(g.symmetries,v,u),d&&!p&&((new Date).getTime(),n(u)),(new Date).getTime();e:{for(p in p=void 0,d=e){p=!1;break e}p=!0}if(!p)for(c=0;c<u.length;c++)void 0!==($=u[c])&&$.chain in e&&$.resi in e[$.chain]&&(p=e[$.chain][$.resi],$.ss=p[0],1<p.length&&("1"==p[1]?$.ssbegin=!0:"2"==p[1]&&($.ssend=!0)));if(e=(u=[u,g,b])[0],g=u[1],u=u[2],0!=e.length){if(t.multimodel&&t.onemol&&0<i.length)for(g=i[0].length,b=0;b<e.length;b++){for((p=e[b]).index=b,d=0;d<p.bonds.length;d++)p.bonds[d]+=g;i[0].push(p)}else i.modelData.push(g),i.push(e);if(!t.multimodel)break}}return i},e.pqr=e.PQR=function(e,t){var o=[[]],i=!t.noSecondaryStructure;o.modelData=[{symmetries:[]}];var a,s=[];for(e=e.split(/\r?\n|\r/),a=0;a<e.length;a++){var l=e[a].replace(/^\s*/,""),u=l.substr(0,6);if(0==u.indexOf("END")){if(!t.multimodel)break;t.onemol||o.push([])}else if("ATOM  "==u||"HETATM"==u){var c=parseInt(l.substr(6,5));u=l.substr(12,4).replace(/ /g,"");var f=l.substr(17,3),h=l.substr(21,1),p=parseInt(l.substr(22,4)),d=l.substr(30).trim().split(/\s+/),m=parseFloat(d[0]),v=parseFloat(d[1]),y=parseFloat(d[2]),g=parseFloat(d[3]),b=parseFloat(d[4]),x=u[0];1<u.length&&u[1].toUpperCase()!=u[1]&&(x=u.substr(0,2)),d="H"==l[0],s[c]=o[o.length-1].length,o[o.length-1].push({resn:f,x:m,y:v,z:y,elem:x,hetflag:d,chain:h,resi:p,serial:c,atom:u,bonds:[],ss:"c",bondOrder:[],properties:{charge:g,partialCharge:g,radius:b},pdbline:l})}else if("CONECT"==u)for(u=parseInt(l.substr(6,5)),c=o[o.length-1][s[u]],u=0;4>u;u++)f=parseInt(l.substr([11,16,21,26][u],5)),h=o[o.length-1][s[f]],void 0!==c&&void 0!==h&&(c.bonds.push(s[f]),c.bondOrder.push(1))}for(a=0;a<o.length;a++)r(o[a]),i&&n(o[a]);return o};var l=function(e){return 0==e||2==e||4==e?"h":3==e?"s":"c"};return e.mmtf=e.MMTF=function(e,t){var r=!t.keepH,o=t.altLoc?t.altLoc:"A",i=!!t.noSecondaryStructure,s=!t.noComputeSecondaryStructure,u=!t.doAssembly,c=!t.duplicateAssemblyAtoms,f=t.assemblyIndex?t.assemblyIndex:0;"string"==typeof e&&(e=$3Dmol.base64ToArray(e)),e=MMTF.decode(e);var h=[[]],p=h.modelData=[],d=0,m=0,v=0,y=0,g=e.secStructList,b=e.insCodeList,x=e.bFactorList,w=e.altLocList,_=e.occupancyList,D=e.bondAtomList,S=e.bondOrderList,C=e.numModels;if(0==C)return h;t.multimodel||(C=1);var A,$=[];if(!u&&e.bioAssemblyList&&0<e.bioAssemblyList.length){var M=e.bioAssemblyList[f].transformList;for(f=0,A=M.length;f<A;f++){var T=new $3Dmol.Matrix4(M[f].matrix);T.transpose(),$.push(T)}}T=null,e.unitCell&&(T={a:(f=e.unitCell)[0],b:f[1],c:f[2],alpha:f[3],beta:f[4],gamma:f[5]});var z=0;for(M=0;M<C;M++){var E=e.chainsPerModel[M],L=h[h.length-1],k=[];for(p.push({symmetries:$,cryst:T}),f=0;f<E;++f){var I=e.groupsPerChain[m],O=String.fromCharCode.apply(null,e.chainIdList.subarray(4*m,4*m+4)).replace(/\0/g,"");e.chainNameList&&(O=String.fromCharCode.apply(null,e.chainNameList.subarray(4*m,4*m+4)).replace(/\0/g,""));var j=v,P="";for(A=0;A<I;++A){var N=e.groupList[e.groupTypeList[v]],F=N.atomNameList.length,R=0,q=!1,V=!1;if(g){R=g[v];var B=l(R);0!=v&&B==P||(q=!0),P=B;var U=v+1;(U>=g.length||l(g[U]!=B))&&(V=!0)}e.insCodeList&&String.fromCharCode(b[v]);var H=e.groupIdList[v],G=N.groupName;for(U=y,B=0;B<F;++B){var W=N.elementList[B];if(!r||"H"!=W){var Y="";x&&(Y=x[y]);var X="";w&&w[y]&&(X=String.fromCharCode(w[y]));var Z="";if(_&&(Z=_[y]),""==X||X==o||"*"==o){var K=e.atomIdList[y],Q=N.atomNameList[B],J=0;N.atomChargeList&&(J=N.atomChargeList[B]);var ee=e.xCoordList[y],te=e.yCoordList[y],re=e.zCoordList[y];k[y]=L.length,L.push({resn:G,x:ee,y:te,z:re,elem:W,hetflag:0>R,chain:O,resi:H,icode:X,rescode:H+(" "!=X?"^"+X:""),serial:K,altLoc:X,index:y,atom:Q,bonds:[],ss:l(R),ssbegin:q,ssend:V,bondOrder:[],properties:{charge:J,occupancy:Z},b:Y})}}y+=1}for(q=N.bondAtomList,B=0,R=N.bondOrderList.length;B<R;++B)V=U+q[2*B],H=U+q[2*B+1],F=N.bondOrderList[B],V=k[V],W=k[H],G=L[V],H=L[W],G&&H&&(G.bonds.push(W),G.bondOrder.push(F),H.bonds.push(V),H.bondOrder.push(F));v+=1}for(v=j,A=0;A<I;++A)v+=1;m+=1}if(D)for(B=z,R=D.length;B<R;B+=2){if(V=D[B],H=D[B+1],F=S?S[B/2]:1,V>=y){z=B;break}V=k[V],W=k[H],G=L[V],H=L[W],G&&H&&(G.bonds.push(W),G.bondOrder.push(F),H.bonds.push(V),H.bondOrder.push(F))}if(t.multimodel&&(t.onemol||h.push([])),!u)for(A=0;A<h.length;A++)a(p[d].symmetries,c,h[A]);d+=1}return s&&!i&&n(h),h},e.prmtop=e.PRMTOP=function(e,t){function r(e){var t=a.indexOf(s.filter(function(t){return t.includes(e)})[0]);if(Number.isInteger(t)&&0<t){for(;!a[t].includes("FORMAT");)t++;return t}return-1}function n(e){var t=a[e].match(/\((\d*)\S*/),r=a[e].match(/[a-zA-Z](\d*)\)\s*/);return null==r&&(r=a[e].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[t[1],r[1]]}var o;t=[];var i=0,a=e.split(/\r?\n|\r/);if(!(0<a.length&&a[0].includes("VERSION")))return[];var s=a.filter(function(e){return e.includes("POINTERS")||e.includes("ATOM_NAME")||e.includes("CHARGE")||e.includes("RADII")||e.includes("BONDS_INC_HYDROGEN")||e.includes("BONDS_WITHOUT_HYDROGEN")});if(-1==(e=r("POINTERS")))return[];var l=n(e),u=parseInt(a[e+1].slice(0,l[1]));if(isNaN(u)||0>=u)return[];if(-1==(e=r("ATOM_NAME")))return[];for(var c=(l=n(e))[0],f=0;f<u/l[0];f++){f==parseInt(u/l[0])&&(c=u%l[0]);for(var h=0;h<c;h++){var p={};p.serial=i,p.x=0,p.y=0,p.z=0,p.atom=a[e+1].slice(l[1]*h,l[1]*(h+1)),p.elem=a[e+1].slice(l[1]*h,l[1]*h+1),p.properties={charge:"",radii:""},p.bonds=[],p.bondOrder=[],t.push(p),i++}e++}if(-1!=(e=r("CHARGE")))for(i=0,c=(l=n(e))[0],f=0;f<u/l[0];f++){for(f==parseInt(u/l[0])&&(c=u%l[0]),h=0;h<c;h++)t[i].properties.charge=parseFloat(a[e+1].slice(l[1]*h,l[1]*(h+1))),i++;e++}if(-1!=(e=r("RADII")))for(i=0,c=(l=n(e))[0],f=0;f<u/l[0];f++){for(f==parseInt(u/l[0])&&(c=u%l[0]),h=0;h<c;h++)t[i].properties.radii=parseFloat(a[e+1].slice(l[1]*h,l[1]*(h+1))),i++;e++}if(-1!=(e=r("BONDS_WITHOUT_HYDROGEN")))for(i=0,c=(l=n(e))[0],e+=1;!a[e].match(/^%FLAG/);){for(a[e+1].match(/^%FLAG/)&&(c=u%l[0]),h=0;h<c;h++)0==i%3&&(o=parseInt(a[e].slice(l[1]*h,l[1]*(h+1))/3)),1==i%3&&t[o].bonds.push(parseInt(a[e].slice(l[1]*h,l[1]*(h+1))/3)),i++;e++}if(-1!=(e=r("BONDS_INC_HYDROGEN")))for(i=0,c=(l=n(e))[0],e+=1;!a[e].match(/^%FLAG/);){for(a[e+1].match(/^%FLAG/)&&(c=u%l[0]),h=0;h<c;h++)0==i%3&&(o=parseInt(a[e].slice(l[1]*h,l[1]*(h+1))/3)),1==i%3&&t[o].bonds.push(parseInt(a[e].slice(l[1]*h,l[1]*(h+1))/3)),i++;e++}return[t]},e.gro=e.GRO=function(e,t){for(t=[],e=e.split(/\r?\n|\r/);0<e.length&&!(3>e.length);){var n=parseInt(e[1]);if(isNaN(n)||0>=n)break;if(e.length<n+3)break;var o=[];t.push(o);var i=2,a=o.length;for(n=a+n;a<n;a++){var l=e[i++],u={};u.serial=a,u.atom=l.slice(10,15).trim(),u.elem=s(u.atom,!0),u.x=10*parseFloat(l.slice(20,28)),u.y=10*parseFloat(l.slice(28,36)),u.z=10*parseFloat(l.slice(36,44)),u.resi=parseInt(l.slice(0,5)),u.resn=l.slice(5,10).trim(),u.bonds=[],u.bondOrder=[],u.properties={},44<l.length&&(u.dx=10*parseFloat(l.slice(44,52)),u.dy=10*parseFloat(l.slice(52,60)),u.dz=10*parseFloat(l.slice(60,68))),o[a]=u}if(e.length<=i+3&&3==(o=e[i++].trim().split(/\s+/)).length){for(n=0;3>n;n++)o[n]=10*parseFloat(o[n]);t.box=o}e.splice(0,++i)}for(a=0;a<t.length;a++)r(t[a]);return t},e.lammpstrj=e.LAMMPSTRJ=function(e,r){var n=[],o={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};e=e.split(/\r?\n|\r/);for(var i=0,a=0,s=0;s<e.length-9;){for(;s<e.length;s++)if(e[s].match(/ITEM: NUMBER OF ATOMS/)&&(a=parseInt(e[s+1])),e[s].match(/ITEM: ATOMS/)){i=s+1;break}var l=e[i-1].replace("ITEM: ATOMS ","").split(" ");for(n.push([]),s=i;s<i+a;s++){for(var u={},c={},f=e[s].split(" "),h=0;h<f.length;h++){var p=o[l[h]];void 0!=p&&("serial"==p?u[p]=parseInt(f[h]):"x"==p||"y"==p||"z"===p?u[p]=parseFloat(f[h]):"charge"==p||"radius"==p?c[p]=parseFloat(f[h]):u[p]=f[h]),u.properties=c,u.bonds=[],u.bondOrder=[]}n[n.length-1][s-i]=u}s=i+a-1}if(r.assignbonds)for(r=0;r<n.length;r++)t(n[r]);return n},e}(),$3Dmol=$3Dmol||{},$3Dmol.partialCharges={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55},$3Dmol.applyPartialCharges=function(e,t){t&&void 0!==e.partialCharge||e.resn&&e.atom&&(e.properties.partialCharge=$3Dmol.partialCharges[e.resn+":"+e.atom])},"undefined"==typeof console&&(console={log:function(){}}),$3Dmol.ProteinSurface=function(){var e,t,r=0,n=0,o=0,a=2,s=0,l=0,u=0,c=0,f=null,h=null,p=null,d=0,m=0,v=0,y=0,g=0,b=0,x={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},w=function(e){return e.elem&&void 0!==x[e.elem]?e.elem:"X"},_={},D={},S=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(i){var s,l={},u=0;for(s=i.length;u<s;u++)l[i[u]]=!0;for(u=0,s=(i=t).length;u<s;u++)i[u].x=i[u].x/a-r,i[u].y=i[u].y/a-n,i[u].z=i[u].z/a-o;var c=[];for(u=0,s=e.length;u<s;u+=3){var d=e[u],m=e[u+1],v=e[u+2],y=i[m].atomid,g=i[v].atomid,b=i[d].atomid;y<b&&(b=y),g<b&&(b=g),l[b]&&d!==m&&m!==v&&d!==v&&(c.push(d),c.push(m),c.push(v))}return p=h=f=null,{vertices:i,faces:c}},this.initparm=function(e,t,i){1e6<i&&(a=1),i=1/a*5.5,d=e[0][0],y=e[1][0],m=e[0][1],g=e[1][1],v=e[0][2],b=e[1][2],t?(d-=1.4+i,m-=1.4+i,v-=1.4+i,y+=1.4+i,g+=1.4+i,b+=1.4+i):(d-=i,m-=i,v-=i,y+=i,g+=i,b+=i),d=Math.floor(d*a)/a,m=Math.floor(m*a)/a,v=Math.floor(v*a)/a,y=Math.ceil(y*a)/a,g=Math.ceil(g*a)/a,b=Math.ceil(b*a)/a,r=-d,n=-m,o=-v,u=Math.ceil(a*(y-d))+1,l=Math.ceil(a*(g-m))+1,s=Math.ceil(a*(b-v))+1,this.boundingatom(t),c=1.4*a,f=new Uint8Array(u*l*s),h=new Float64Array(u*l*s),p=new Int32Array(u*l*s)},this.boundingatom=function(e){var t=[];for(var r in flagradius=e,x)if(x.hasOwnProperty(r)){var n=x[r];for(t[r]=e?(n+1.4)*a+.5:n*a+.5,n=t[r]*t[r],D[r]=Math.floor(t[r])+1,_[r]=new Int32Array(D[r]*D[r]),j=indx=0;j<D[r];j++)for(k=0;k<D[r];k++){var o=j*j+k*k;o>n?_[r][indx]=-1:(o=Math.sqrt(n-o),_[r][indx]=Math.floor(o)),indx++}}},this.fillvoxels=function(e,t){var r,n=0;for(r=f.length;n<r;n++)f[n]=0,h[n]=-1,p[n]=-1;for(n in t)void 0!==(r=e[t[n]])&&this.fillAtom(r,e);for(n=0,r=f.length;n<r;n++)1&f[n]&&(f[n]|=2)},this.fillAtom=function(e,t){var i,c,h,d,m,v,y=Math.floor(.5+a*(e.x+r)),g=Math.floor(.5+a*(e.y+n)),b=Math.floor(.5+a*(e.z+o)),x=w(e),S=0,C=l*s,A=0;for(v=D[x];A<v;A++)for(i=0;i<v;i++){if(-1!=_[x][S])for(h=-1;2>h;h++)for(d=-1;2>d;d++)for(m=-1;2>m;m++)if(0!==h&&0!==d&&0!==m){var $=h*A,M=m*i;for(c=0;c<=_[x][S];c++){var T=c*d,z=y+$,E=g+T,L=b+M;if(!(0>z||0>E||0>L||z>=u||E>=l||L>=s))if(1&f[L=z*C+E*s+L]){var k=t[p[L]];k.serial!=e.serial&&($*$+T*T+M*M<(z=y+$-Math.floor(.5+a*(k.x+r)))*z+(E=g+T-Math.floor(.5+a*(k.y+n)))*E+(k=b+M-Math.floor(.5+a*(k.z+o)))*k&&(p[L]=e.serial))}else f[L]|=1,p[L]=e.serial}}S++}},this.fillvoxelswaals=function(e,t){var r,n=0;for(r=f.length;n<r;n++)f[n]&=-3;for(n in t)void 0!==(r=e[t[n]])&&this.fillAtomWaals(r,e)},this.fillAtomWaals=function(e,t){var i,c,h,d,m,v,y=0,g=Math.floor(.5+a*(e.x+r)),b=Math.floor(.5+a*(e.y+n)),x=Math.floor(.5+a*(e.z+o)),S=w(e),C=l*s,A=0;for(v=D[S];A<v;A++)for(i=0;i<v;i++){if(-1!=_[S][y])for(h=-1;2>h;h++)for(d=-1;2>d;d++)for(m=-1;2>m;m++)if(0!==h&&0!==d&&0!==m){var $=h*A,M=m*i;for(c=0;c<=_[S][y];c++){var T=c*d,z=g+$,E=b+T,L=x+M;if(!(0>z||0>E||0>L||z>=u||E>=l||L>=s))if(2&f[L=z*C+E*s+L]){var k=t[p[L]];k.serial!=e.serial&&($*$+T*T+M*M<(z=g+$-Math.floor(.5+a*(k.x+r)))*z+(E=b+T-Math.floor(.5+a*(k.y+n)))*E+(k=x+M-Math.floor(.5+a*(k.z+o)))*k&&(p[L]=e.serial))}else f[L]|=2,p[L]=e.serial}}y++}},this.buildboundary=function(){var e=l*s;for(i=0;i<u;i++)for(j=0;j<s;j++)for(k=0;k<l;k++){var t=i*e+k*s+j;if(1&f[t])for(var r=0;26>r;){var n=i+S[r][0],o=j+S[r][2],a=k+S[r][1];if(-1<n&&n<u&&-1<a&&a<l&&-1<o&&o<s&&!(1&f[n*e+a*s+o])){f[t]|=4;break}r++}}};this.fastdistancemap=function(){var e,t,r,n=new function(e,t,r){var n=new Int32Array(e*t*r*3);this.set=function(e,o,i,a){n[e=3*((e*t+o)*r+i)]=a.ix,n[e+1]=a.iy,n[e+2]=a.iz},this.get=function(e,o,i){return{ix:n[e=3*((e*t+o)*r+i)],iy:n[e+1],iz:n[e+2]}}}(u,l,s),o=l*s,i=c*c,p=[];for(e=0;e<u;e++)for(t=0;t<l;t++)for(r=0;r<s;r++){var d=e*o+t*s+r;if(f[d]&=-3,1&f[d]&&4&f[d]){var m={ix:e,iy:t,iz:r};n.set(e,t,r,m),p.push(m),h[d]=0,f[d]|=2,f[d]&=-5}}do{for(r=this.fastoneshell(p,n),p=[],e=0,t=r.length;e<t;e++)d=o*r[e].ix+s*r[e].iy+r[e].iz,f[d]&=-5,h[d]<=1.0404*i&&p.push({ix:r[e].ix,iy:r[e].iy,iz:r[e].iz})}while(0!==p.length);for(0>(e=a-.5)&&(e=0),i-=.5/(.1+e),e=0;e<u;e++)for(t=0;t<l;t++)for(r=0;r<s;r++)f[d=e*o+t*s+r]&=-5,1&f[d]&&(!(2&f[d])||2&f[d]&&h[d]>=i)&&(f[d]|=4)},this.fastoneshell=function(e,t){var r,n,o=[];if(0===e.length)return o;tnv={ix:-1,iy:-1,iz:-1};var i=l*s,a=0;for(n=e.length;a<n;a++){var c=e[a].ix,p=e[a].iy,d=e[a].iz,m=t.get(c,p,d);for(r=0;6>r;r++)if(tnv.ix=c+S[r][0],tnv.iy=p+S[r][1],tnv.iz=d+S[r][2],tnv.ix<u&&-1<tnv.ix&&tnv.iy<l&&-1<tnv.iy&&tnv.iz<s&&-1<tnv.iz){var v=tnv.ix*i+s*tnv.iy+tnv.iz;if(1&f[v]&&!(2&f[v])){t.set(tnv.ix,tnv.iy,d+S[r][2],m);var y=tnv.ix-m.ix,g=tnv.iy-m.iy,b=tnv.iz-m.iz;y=y*y+g*g+b*b,h[v]=y,f[v]|=2,f[v]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})}else 1&f[v]&&2&f[v]&&((y=(y=tnv.ix-m.ix)*y+(g=tnv.iy-m.iy)*g+(b=tnv.iz-m.iz)*b)<h[v]&&(t.set(tnv.ix,tnv.iy,tnv.iz,m),h[v]=y,4&f[v]||(f[v]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz}))))}}for(a=0,n=e.length;a<n;a++)for(c=e[a].ix,p=e[a].iy,d=e[a].iz,m=t.get(c,p,d),r=6;18>r;r++)tnv.ix=c+S[r][0],tnv.iy=p+S[r][1],tnv.iz=d+S[r][2],tnv.ix<u&&-1<tnv.ix&&tnv.iy<l&&-1<tnv.iy&&tnv.iz<s&&-1<tnv.iz&&(v=tnv.ix*i+s*tnv.iy+tnv.iz,1&f[v]&&!(2&f[v])?(t.set(tnv.ix,tnv.iy,d+S[r][2],m),y=(y=tnv.ix-m.ix)*y+(g=tnv.iy-m.iy)*g+(b=tnv.iz-m.iz)*b,h[v]=y,f[v]|=2,f[v]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):1&f[v]&&2&f[v]&&((y=(y=tnv.ix-m.ix)*y+(g=tnv.iy-m.iy)*g+(b=tnv.iz-m.iz)*b)<h[v]&&(t.set(tnv.ix,tnv.iy,tnv.iz,m),h[v]=y,4&f[v]||(f[v]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(a=0,n=e.length;a<n;a++)for(c=e[a].ix,p=e[a].iy,d=e[a].iz,m=t.get(c,p,d),r=18;26>r;r++)tnv.ix=c+S[r][0],tnv.iy=p+S[r][1],tnv.iz=d+S[r][2],tnv.ix<u&&-1<tnv.ix&&tnv.iy<l&&-1<tnv.iy&&tnv.iz<s&&-1<tnv.iz&&(v=tnv.ix*i+s*tnv.iy+tnv.iz,1&f[v]&&!(2&f[v])?(t.set(tnv.ix,tnv.iy,d+S[r][2],m),y=(y=tnv.ix-m.ix)*y+(g=tnv.iy-m.iy)*g+(b=tnv.iz-m.iz)*b,h[v]=y,f[v]|=2,f[v]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):1&f[v]&&2&f[v]&&((y=(y=tnv.ix-m.ix)*y+(g=tnv.iy-m.iy)*g+(b=tnv.iz-m.iz)*b)<h[v]&&(t.set(tnv.ix,tnv.iy,tnv.iz,m),h[v]=y,4&f[v]||(f[v]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return o},this.marchingcubeinit=function(e){for(var t=0,r=f.length;t<r;t++)1==e?f[t]&=-5:4==e?(f[t]&=-3,4&f[t]&&(f[t]|=2),f[t]&=-5):2==e?4&f[t]&&2&f[t]?f[t]&=-5:4&f[t]&&!(2&f[t])&&(f[t]|=2):3==e&&(f[t]&=-5)},this.marchingcube=function(r){this.marchingcubeinit(r),t=[],e=[],$3Dmol.MarchingCube.march(f,t,e,{smooth:1,nX:u,nY:l,nZ:s}),r=l*s;for(var n=0,o=t.length;n<o;n++)t[n].atomid=p[t[n].x*r+s*t[n].y+t[n].z];$3Dmol.MarchingCube.laplacianSmooth(1,t,e)}},$3Dmol.VolumeData=function(e,t,r){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,t=t.toLowerCase(),/\.gz$/.test(t)){t=t.replace(/\.gz$/,"");try{e=this[t]&&this[t].isbinary?pako.inflate(e):new TextDecoder("utf-8").decode(pako.inflate(e))}catch(e){console.log(e)}}if(this[t]&&this[t](e),r){if(r.negate)for(e=0,t=this.data.length;e<t;e++)this.data[e]=-this.data[e];if(r.normalize){var n=0;for(e=0,t=this.data.length;e<t;e++)n+=this.data[e];for(r=n/this.data.length,console.log("computed mean: "+r),e=n=0,t=this.data.length;e<t;e++){var o=this.data[e]-r;n+=o*o}for(n/=this.data.length,e=0,t=this.data.length;e<t;e++)this.data[e]=(this.data[e]-r)/n}}},$3Dmol.VolumeData.prototype.getVal=function(e,t,r){return this.matrix?(this.inversematrix||(this.inversematrix=(new $3Dmol.Matrix4).getInverse(this.matrix)),e=(r=(r=new $3Dmol.Vector3(e,t,r)).applyMatrix4(this.inversematrix)).x,t=r.y,r=r.z):(e-=this.origin.x,t-=this.origin.y,r-=this.origin.z,e/=this.unit.x,t/=this.unit.y,r/=this.unit.z),e=Math.round(e),t=Math.round(t),r=Math.round(r),0>e||e>=this.size.x||0>t||t>=this.size.y||0>r||r>=this.size.z?0:this.data[e*this.size.y*this.size.z+t*this.size.z+r]},$3Dmol.VolumeData.prototype.getCoordinates=function(e){var t=e/(this.size.y*this.size.z),r=e%(this.size.y*this.size.z);return e%=this.size.z,t*=this.unit.x,r*=this.unit.y,e*=this.unit.z,{x:t+=this.origin.x,y:r+=this.origin.y,z:e+=this.origin.z}},$3Dmol.VolumeData.prototype.vasp=function(e){var t=e.replace(/^\s+/,"").split(/[\n\r]/),r=$3Dmol.Parsers.vasp(e)[0].length;if(0==r)console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];else{var n=parseFloat(t[1]),o=t[2].replace(/^\s+/,"").split(/\s+/);e=new $3Dmol.Vector3(parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2])).multiplyScalar(1.889725992*n),o=t[3].replace(/^\s+/,"").split(/\s+/);var i=new $3Dmol.Vector3(parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2])).multiplyScalar(1.889725992*n);o=t[4].replace(/^\s+/,"").split(/\s+/),o=new $3Dmol.Vector3(parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2])).multiplyScalar(1.889725992*n),n=e.x*(i.y*o.z-o.y*i.z)-i.x*(e.y*o.z-o.y*e.z)+o.x*(e.y*i.z-i.y*e.z),n=1/(n=Math.abs(n)/Math.pow(1.889725992,3)),t.splice(0,8+r+1);var a=t[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");r=Math.abs(a[0]);var s=Math.abs(a[1]);a=Math.abs(a[2]);var l=this.origin=new $3Dmol.Vector3(0,0,0);for(this.size={x:r,y:s,z:a},this.unit=new $3Dmol.Vector3(e.x,i.y,o.z),e=e.multiplyScalar(1/(1.889725992*r)),i=i.multiplyScalar(1/(1.889725992*s)),o=o.multiplyScalar(1/(1.889725992*a)),0==e.y&&0==e.z&&0==i.x&&0==i.z&&0==o.x&&0==o.y||(this.matrix=new $3Dmol.Matrix4(e.x,i.x,o.x,0,e.y,i.y,o.y,0,e.z,i.z,o.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new $3Dmol.Matrix4).makeTranslation(l.x,l.y,l.z)),this.origin=new $3Dmol.Vector3(0,0,0),this.unit=new $3Dmol.Vector3(1,1,1)),t.splice(0,1),(t=(t=(t=t.join(" ")).replace(/^\s+/,"")).split(/[\s\r]+/)).splice(r*s*a+1),t=new Float32Array(t),e=0;e<t.length;e++)t[e]=t[e]*n*.036749309;this.data=t}},$3Dmol.VolumeData.prototype.dx=function(e){e=e.split(/[\n\r]+/);var t,r,n=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,o=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,i=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,a=/data follows/;for(t=0;t<e.length;t++){var s=e[t];if(r=n.exec(s)){var l=parseInt(r[1]),u=parseInt(r[2]);r=parseInt(r[3]),this.size={x:l,y:u,z:r}}else if(r=i.exec(s)){if(l=parseFloat(r[1]),0==parseFloat(r[2])&&0==parseFloat(r[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),s=e[t+=1],null==(r=i.exec(s)))return void console.log("Parse error in dx delta matrix");if(u=parseFloat(r[2]),0==parseFloat(r[1])&&0==parseFloat(r[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),s=e[t+=1],null==(r=i.exec(s)))return void console.log("Parse error in dx delta matrix");s=parseFloat(r[3]),0==parseFloat(r[1])&&0==parseFloat(r[2])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new $3Dmol.Vector3(l,u,s)}else if(r=o.exec(s))l=parseFloat(r[1]),u=parseFloat(r[2]),r=parseFloat(r[3]),this.origin=new $3Dmol.Vector3(l,u,r);else if(a.exec(s))break}t+=1,this.size&&this.origin&&this.unit&&this.size?(e=(e=e.splice(t).join(" ")).split(/[\s\r]+/),this.data=new Float32Array(e)):console.log("Error parsing dx format")},$3Dmol.VolumeData.prototype.cube=function(e){if(!(6>(e=e.replace(/^\s+/,"").split(/[\n\r]+/)).length)){var t=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),r=parseFloat(t[0]),n=Math.abs(r),o=this.origin=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),i=0<(t=e[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[0]?.529177:1;o.multiplyScalar(i);var a=Math.abs(t[0]),s=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])).multiplyScalar(i);t=e[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var l=Math.abs(t[0]),u=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])).multiplyScalar(i);t=e[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var c=Math.abs(t[0]);t=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])).multiplyScalar(i),this.size={x:a,y:l,z:c},this.unit=new $3Dmol.Vector3(s.x,u.y,t.z),0==s.y&&0==s.z&&0==u.x&&0==u.z&&0==t.x&&0==t.y||(this.matrix=new $3Dmol.Matrix4(s.x,u.x,t.x,0,s.y,u.y,t.y,0,s.z,u.z,t.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new $3Dmol.Matrix4).makeTranslation(o.x,o.y,o.z)),this.origin=new $3Dmol.Vector3(0,0,0),this.unit=new $3Dmol.Vector3(1,1,1)),o=6,0>r&&o++,e=(e=(e=e.splice(n+o).join(" ")).replace(/^\s+/,"")).split(/[\s\r]+/),this.data=new Float32Array(e)}},$3Dmol.VolumeData.prototype.ccp4=function(e){var t;e=new Int8Array(e);var r=new Int32Array(e.buffer,0,56),n=new Float32Array(e.buffer,0,56),o=new DataView(e.buffer);String.fromCharCode(o.getUint8(208),o.getUint8(209),o.getUint8(210),o.getUint8(211));var i=[o.getUint8(212),o.getUint8(213)];if(17===i[0]&&17===i[1])for(i=e.byteLength,t=0;t<i;t+=4)o.setFloat32(t,o.getFloat32(t),!0);o=r[0],i=r[1];var a=r[2];t=r[4];var s=r[5],l=r[6],u=r[7],c=r[8],f=r[9],h=n[10],p=n[11],d=n[12],m=n[13],v=n[14],y=n[15],g=r[16],b=r[17],x=r[18];r=r[23];var w=n[49],_=n[50];for(n=n[51],h=[h,0,0],p=[p*Math.cos(Math.PI/180*y),p*Math.sin(Math.PI/180*y),0],(m=[d*Math.cos(Math.PI/180*v),d*(Math.cos(Math.PI/180*m)-Math.cos(Math.PI/180*y)*Math.cos(Math.PI/180*v))/Math.sin(Math.PI/180*y),0])[2]=Math.sqrt(d*d*Math.sin(Math.PI/180*v)*Math.sin(Math.PI/180*v)-m[1]*m[1]),d=[0,h,p,m],u=[0,u,c,f],g=[0,g,b,x],this.matrix=new $3Dmol.Matrix4,this.matrix.set(d[g[1]][0]/u[g[1]],d[g[2]][0]/u[g[2]],d[g[3]][0]/u[g[3]],0,d[g[1]][1]/u[g[1]],d[g[2]][1]/u[g[2]],d[g[3]][1]/u[g[3]],0,d[g[1]][2]/u[g[1]],d[g[2]][2]/u[g[2]],d[g[3]][2]/u[g[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new $3Dmol.Matrix4).makeTranslation(t+w,s+_,l+n)),this.origin=new $3Dmol.Vector3(0,0,0),this.unit=new $3Dmol.Vector3(1,1,1),this.size={x:o,y:i,z:a},e=new Float32Array(e.buffer,1024+r),this.data=new Float32Array(o*i*a),t=0;t<o;t++)for(s=0;s<i;s++)for(l=0;l<a;l++)this.data[(t*i+s)*a+l]=e[(l*i+s)*o+t]},$3Dmol.VolumeData.prototype.ccp4.isbinary=!0,$3Dmol.workerString=function(){self.onmessage=function(e){var t=(e=e.data).type;if(0>t)self.atomData=e.atoms,self.volume=e.volume,self.ps=new ProteinSurface;else{var r=self.ps;r.initparm(e.expandedExtent,1!=t,self.volume),r.fillvoxels(self.atomData,e.extendedAtoms),r.buildboundary(),4!==t&&2!==t||(r.fastdistancemap(),r.boundingatom(!1),r.fillvoxelswaals(self.atomData,e.extendedAtoms)),r.marchingcube(t),e=r.getFacesAndVertices(e.atomsToShow),self.postMessage(e)}}}.toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+="; var ProteinSurface="+$3Dmol.ProteinSurface.toString().replace(/[a-zA-Z_$]{1}[0-9a-zA-Z_$]*.MarchingCube./g,"MarchingCube."),$3Dmol.workerString+=",MarchingCube=("+$3Dmol.MarchingCubeInitializer.toString()+")();",$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):{postMessage:function(){}},$3Dmol.workerString=$3Dmol.workerString,$3Dmol.SurfaceWorker=$3Dmol.SurfaceWorker}).call(this,__webpack_require__(9))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function r(e){return a(e)?e:G(e)}function n(e){return s(e)?e:W(e)}function o(e){return l(e)?e:Y(e)}function i(e){return a(e)&&!u(e)?e:X(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[h])}function l(e){return!(!e||!e[p])}function u(e){return s(e)||l(e)}function c(e){return!(!e||!e[d])}t(n,r),t(o,r),t(i,r),r.isIterable=a,r.isKeyed=s,r.isIndexed=l,r.isAssociative=u,r.isOrdered=c,r.Keyed=n,r.Indexed=o,r.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",m=5,v=1<<m,y=v-1,g={},b={value:!1},x={value:!1};function w(e){return e.value=!1,e}function _(e){e&&(e.value=!0)}function D(){}function S(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),o=0;o<r;o++)n[o]=e[o+t];return n}function C(e){return void 0===e.size&&(e.size=e.__iterate($)),e.size}function A(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?C(e)+t:t}function $(){return!0}function M(e,t,r){return(0===e||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function T(e,t){return E(e,t,0)}function z(e,t){return E(e,t,t)}function E(e,t,r){return void 0===e?r:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var L=0,k=1,I=2,O="function"==typeof Symbol&&Symbol.iterator,j="@@iterator",P=O||j;function N(e){this.next=e}function F(e,t,r,n){var o=0===e?t:1===e?r:[t,r];return n?n.value=o:n={value:o,done:!1},n}function R(){return{value:void 0,done:!0}}function q(e){return!!U(e)}function V(e){return e&&"function"==typeof e.next}function B(e){var t=U(e);return t&&t.call(e)}function U(e){var t=e&&(O&&e[O]||e[j]);if("function"==typeof t)return t}function H(e){return e&&"number"==typeof e.length}function G(e){return null===e||void 0===e?ie():a(e)?e.toSeq():function(e){var t=le(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function W(e){return null===e||void 0===e?ie().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():ae(e)}function Y(e){return null===e||void 0===e?ie():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():se(e)}function X(e){return(null===e||void 0===e?ie():a(e)?s(e)?e.entrySeq():e:se(e)).toSetSeq()}N.prototype.toString=function(){return"[Iterator]"},N.KEYS=L,N.VALUES=k,N.ENTRIES=I,N.prototype.inspect=N.prototype.toSource=function(){return this.toString()},N.prototype[P]=function(){return this},t(G,r),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},G.prototype.__iterator=function(e,t){return ce(this,e,t,!0)},t(W,G),W.prototype.toKeyedSeq=function(){return this},t(Y,G),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},Y.prototype.__iterator=function(e,t){return ce(this,e,t,!1)},t(X,G),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},G.isSeq=oe,G.Keyed=W,G.Set=X,G.Indexed=Y;var Z,K,Q,J="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ne(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[J])}function ie(){return Z||(Z=new ee([]))}function ae(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():V(e)?new ne(e).fromEntrySeq():q(e)?new re(e).fromEntrySeq():"object"==typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){return H(e)?new ee(e):V(e)?new ne(e):q(e)?new re(e):void 0}function ue(e,t,r,n){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[r?i-a:a];if(!1===t(s[1],n?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,r)}function ce(e,t,r,n){var o=e._cache;if(o){var i=o.length-1,a=0;return new N(function(){var e=o[r?i-a:a];return a++>i?{value:void 0,done:!0}:F(t,n?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,r)}function fe(e,t){return t?function e(t,r,n,o){return Array.isArray(r)?t.call(o,n,Y(r).map(function(n,o){return e(t,n,o,r)})):pe(r)?t.call(o,n,W(r).map(function(n,o){return e(t,n,o,r)})):r}(t,e,"",{"":e}):he(e)}function he(e){return Array.isArray(e)?Y(e).map(he).toList():pe(e)?W(e).map(he).toMap():e}function pe(e){return e&&(e.constructor===Object||void 0===e.constructor)}function de(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function me(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||l(e)!==l(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!u(e);if(c(e)){var n=e.entries();return t.every(function(e,t){var o=n.next().value;return o&&de(o[1],e)&&(r||de(o[0],t))})&&n.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var f=!0,h=t.__iterate(function(t,n){if(r?!e.has(t):o?!de(t,e.get(n,g)):!de(e.get(n,g),t))return f=!1,!1});return f&&e.size===h}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(K)return K;K=this}}function ye(e,t){if(!e)throw new Error(t)}function ge(e,t,r){if(!(this instanceof ge))return new ge(e,t,r);if(ye(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),r=void 0===r?1:Math.abs(r),t<e&&(r=-r),this._start=e,this._end=t,this._step=r,this.size=Math.max(0,Math.ceil((t-e)/r-1)+1),0===this.size){if(Q)return Q;Q=this}}function be(){throw TypeError("Abstract")}function xe(){}function we(){}function _e(){}G.prototype[J]=!0,t(ee,Y),ee.prototype.get=function(e,t){return this.has(e)?this._array[A(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length-1,o=0;o<=n;o++)if(!1===e(r[t?n-o:o],o,this))return o+1;return o},ee.prototype.__iterator=function(e,t){var r=this._array,n=r.length-1,o=0;return new N(function(){return o>n?{value:void 0,done:!0}:F(e,o,r[t?n-o++:o++])})},t(te,W),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,o=n.length-1,i=0;i<=o;i++){var a=n[t?o-i:i];if(!1===e(r[a],a,this))return i+1}return i},te.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,o=n.length-1,i=0;return new N(function(){var a=n[t?o-i:i];return i++>o?{value:void 0,done:!0}:F(e,a,r[a])})},te.prototype[d]=!0,t(re,Y),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=this._iterable,n=B(r),o=0;if(V(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,o++,this););return o},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterable,n=B(r);if(!V(n))return new N(R);var o=0;return new N(function(){var t=n.next();return t.done?t:F(e,o++,t.value)})},t(ne,Y),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var r,n=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(r=n.next()).done;){var a=r.value;if(o[i]=a,!1===e(a,i++,this))break}return i},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,o=0;return new N(function(){if(o>=n.length){var t=r.next();if(t.done)return t;n[o]=t.value}return F(e,o,n[o++])})},t(ve,Y),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return de(this._value,e)},ve.prototype.slice=function(e,t){var r=this.size;return M(e,t,r)?this:new ve(this._value,z(t,r)-T(e,r))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return de(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return de(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var r=0;r<this.size;r++)if(!1===e(this._value,r,this))return r+1;return r},ve.prototype.__iterator=function(e,t){var r=this,n=0;return new N(function(){return n<r.size?F(e,n++,r._value):{value:void 0,done:!0}})},ve.prototype.equals=function(e){return e instanceof ve?de(this._value,e._value):me(e)},t(ge,Y),ge.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ge.prototype.get=function(e,t){return this.has(e)?this._start+A(this,e)*this._step:t},ge.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ge.prototype.slice=function(e,t){return M(e,t,this.size)?this:(e=T(e,this.size),(t=z(t,this.size))<=e?new ge(0,0):new ge(this.get(e,this._end),this.get(t,this._end),this._step))},ge.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},ge.prototype.lastIndexOf=function(e){return this.indexOf(e)},ge.prototype.__iterate=function(e,t){for(var r=this.size-1,n=this._step,o=t?this._start+r*n:this._start,i=0;i<=r;i++){if(!1===e(o,i,this))return i+1;o+=t?-n:n}return i},ge.prototype.__iterator=function(e,t){var r=this.size-1,n=this._step,o=t?this._start+r*n:this._start,i=0;return new N(function(){var a=o;return o+=t?-n:n,i>r?{value:void 0,done:!0}:F(e,i++,a)})},ge.prototype.equals=function(e){return e instanceof ge?this._start===e._start&&this._end===e._end&&this._step===e._step:me(this,e)},t(be,r),t(xe,be),t(we,be),t(_e,be),be.Keyed=xe,be.Indexed=we,be.Set=_e;var De="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function Se(e){return e>>>1&1073741824|3221225471&e}function Ce(e){if(!1===e||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var r=0|e;for(r!==e&&(r^=4294967295*e);e>4294967295;)r^=e/=4294967295;return Se(r)}if("string"===t)return e.length>ke?function(e){var t=je[e];return void 0===t&&(t=Ae(e),Oe===Ie&&(Oe=0,je={}),Oe++,je[e]=t),t}(e):Ae(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(ze&&void 0!==(t=$e.get(e)))return t;if(void 0!==(t=e[Le]))return t;if(!Te){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Le]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Ee,1073741824&Ee&&(Ee=0),ze)$e.set(e,t);else{if(void 0!==Me&&!1===Me(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Te)Object.defineProperty(e,Le,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Le]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Le]=t}}return t}(e);if("function"==typeof e.toString)return Ae(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Ae(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return Se(t)}var $e,Me=Object.isExtensible,Te=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),ze="function"==typeof WeakMap;ze&&($e=new WeakMap);var Ee=0,Le="__immutablehash__";"function"==typeof Symbol&&(Le=Symbol(Le));var ke=16,Ie=255,Oe=0,je={};function Pe(e){ye(e!==1/0,"Cannot perform this action with an infinite size.")}function Ne(e){return null===e||void 0===e?Qe():Fe(e)&&!c(e)?e:Qe().withMutations(function(t){var r=n(e);Pe(r.size),r.forEach(function(e,r){return t.set(r,e)})})}function Fe(e){return!(!e||!e[qe])}t(Ne,xe),Ne.of=function(){var t=e.call(arguments,0);return Qe().withMutations(function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}})},Ne.prototype.toString=function(){return this.__toString("Map {","}")},Ne.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ne.prototype.set=function(e,t){return Je(this,e,t)},Ne.prototype.setIn=function(e,t){return this.updateIn(e,g,function(){return t})},Ne.prototype.remove=function(e){return Je(this,e,g)},Ne.prototype.deleteIn=function(e){return this.updateIn(e,function(){return g})},Ne.prototype.update=function(e,t,r){return 1===arguments.length?e(this):this.updateIn([e],t,r)},Ne.prototype.updateIn=function(e,t,r){r||(r=t,t=void 0);var n=function e(t,r,n,o){var i=t===g,a=r.next();if(a.done){var s=i?n:t,l=o(s);return l===s?t:l}ye(i||t&&t.set,"invalid keyPath");var u=a.value,c=i?g:t.get(u,g),f=e(c,r,n,o);return f===c?t:f===g?t.remove(u):(i?Qe():t).set(u,f)}(this,rr(e),t,r);return n===g?void 0:n},Ne.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Qe()},Ne.prototype.merge=function(){return nt(this,void 0,arguments)},Ne.prototype.mergeWith=function(t){var r=e.call(arguments,1);return nt(this,t,r)},Ne.prototype.mergeIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,Qe(),function(e){return"function"==typeof e.merge?e.merge.apply(e,r):r[r.length-1]})},Ne.prototype.mergeDeep=function(){return nt(this,ot,arguments)},Ne.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return nt(this,it(t),r)},Ne.prototype.mergeDeepIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,Qe(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,r):r[r.length-1]})},Ne.prototype.sort=function(e){return Tt(Ht(this,e))},Ne.prototype.sortBy=function(e,t){return Tt(Ht(this,t,e))},Ne.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ne.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new D)},Ne.prototype.asImmutable=function(){return this.__ensureOwner()},Ne.prototype.wasAltered=function(){return this.__altered},Ne.prototype.__iterator=function(e,t){return new Ye(this,e,t)},Ne.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate(function(t){return n++,e(t[1],t[0],r)},t),n},Ne.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ke(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ne.isMap=Fe;var Re,qe="@@__IMMUTABLE_MAP__@@",Ve=Ne.prototype;function Be(e,t){this.ownerID=e,this.entries=t}function Ue(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r}function He(e,t,r){this.ownerID=e,this.count=t,this.nodes=r}function Ge(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r}function We(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r}function Ye(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&Ze(e._root)}function Xe(e,t){return F(e,t[0],t[1])}function Ze(e,t){return{node:e,index:0,__prev:t}}function Ke(e,t,r,n){var o=Object.create(Ve);return o.size=e,o._root=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Qe(){return Re||(Re=Ke(0))}function Je(e,t,r){var n,o;if(e._root){var i=w(b),a=w(x);if(n=et(e._root,e.__ownerID,0,void 0,t,r,i,a),!a.value)return e;o=e.size+(i.value?r===g?-1:1:0)}else{if(r===g)return e;o=1,n=new Be(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=o,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Ke(o,n):Qe()}function et(e,t,r,n,o,i,a,s){return e?e.update(t,r,n,o,i,a,s):i===g?e:(_(s),_(a),new We(t,n,[o,i]))}function tt(e){return e.constructor===We||e.constructor===Ge}function rt(e,t,r,n,o){if(e.keyHash===n)return new Ge(t,n,[e.entry,o]);var i,a=(0===r?e.keyHash:e.keyHash>>>r)&y,s=(0===r?n:n>>>r)&y,l=a===s?[rt(e,t,r+m,n,o)]:(i=new We(t,n,o),a<s?[e,i]:[i,e]);return new Ue(t,1<<a|1<<s,l)}function nt(e,t,r){for(var o=[],i=0;i<r.length;i++){var s=r[i],l=n(s);a(s)||(l=l.map(function(e){return fe(e)})),o.push(l)}return at(e,t,o)}function ot(e,t,r){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):de(e,t)?e:t}function it(e){return function(t,r,n){if(t&&t.mergeDeepWith&&a(r))return t.mergeDeepWith(e,r);var o=e(t,r,n);return de(t,o)?t:o}}function at(e,t,r){return 0===(r=r.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==r.length?e.withMutations(function(e){for(var n=t?function(r,n){e.update(n,g,function(e){return e===g?r:t(e,r,n)})}:function(t,r){e.set(r,t)},o=0;o<r.length;o++)r[o].forEach(n)}):e.constructor(r[0])}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function lt(e,t,r,n){var o=n?e:S(e);return o[t]=r,o}Ve[qe]=!0,Ve.delete=Ve.remove,Ve.removeIn=Ve.deleteIn,Be.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(de(r,o[i][0]))return o[i][1];return n},Be.prototype.update=function(e,t,r,n,o,i,a){for(var s=o===g,l=this.entries,u=0,c=l.length;u<c&&!de(n,l[u][0]);u++);var f=u<c;if(f?l[u][1]===o:s)return this;if(_(a),(s||!f)&&_(i),!s||1!==l.length){if(!f&&!s&&l.length>=ut)return function(e,t,r,n){e||(e=new D);for(var o=new We(e,Ce(r),[r,n]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,l,n,o);var h=e&&e===this.ownerID,p=h?l:S(l);return f?s?u===c-1?p.pop():p[u]=p.pop():p[u]=[n,o]:p.push([n,o]),h?(this.entries=p,this):new Be(e,p)}},Ue.prototype.get=function(e,t,r,n){void 0===t&&(t=Ce(r));var o=1<<((0===e?t:t>>>e)&y),i=this.bitmap;return 0==(i&o)?n:this.nodes[st(i&o-1)].get(e+m,t,r,n)},Ue.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Ce(n));var s=(0===t?r:r>>>t)&y,l=1<<s,u=this.bitmap,c=0!=(u&l);if(!c&&o===g)return this;var f=st(u&l-1),h=this.nodes,p=c?h[f]:void 0,d=et(p,e,t+m,r,n,o,i,a);if(d===p)return this;if(!c&&d&&h.length>=ct)return function(e,t,r,n,o){for(var i=0,a=new Array(v),s=0;0!==r;s++,r>>>=1)a[s]=1&r?t[i++]:void 0;return a[n]=o,new He(e,i+1,a)}(e,h,u,s,d);if(c&&!d&&2===h.length&&tt(h[1^f]))return h[1^f];if(c&&d&&1===h.length&&tt(d))return d;var b=e&&e===this.ownerID,x=c?d?u:u^l:u|l,w=c?d?lt(h,f,d,b):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var o=new Array(n),i=0,a=0;a<n;a++)a===t&&(i=1),o[a]=e[a+i];return o}(h,f,b):function(e,t,r,n){var o=e.length+1;if(n&&t+1===o)return e[t]=r,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=r,a=-1):i[s]=e[s+a];return i}(h,f,d,b);return b?(this.bitmap=x,this.nodes=w,this):new Ue(e,x,w)},He.prototype.get=function(e,t,r,n){void 0===t&&(t=Ce(r));var o=(0===e?t:t>>>e)&y,i=this.nodes[o];return i?i.get(e+m,t,r,n):n},He.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Ce(n));var s=(0===t?r:r>>>t)&y,l=o===g,u=this.nodes,c=u[s];if(l&&!c)return this;var f=et(c,e,t+m,r,n,o,i,a);if(f===c)return this;var h=this.count;if(c){if(!f&&--h<ft)return function(e,t,r,n){for(var o=0,i=0,a=new Array(r),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];void 0!==c&&s!==n&&(o|=l,a[i++]=c)}return new Ue(e,o,a)}(e,u,h,s)}else h++;var p=e&&e===this.ownerID,d=lt(u,s,f,p);return p?(this.count=h,this.nodes=d,this):new He(e,h,d)},Ge.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(de(r,o[i][0]))return o[i][1];return n},Ge.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Ce(n));var s=o===g;if(r!==this.keyHash)return s?this:(_(a),_(i),rt(this,e,t,r,[n,o]));for(var l=this.entries,u=0,c=l.length;u<c&&!de(n,l[u][0]);u++);var f=u<c;if(f?l[u][1]===o:s)return this;if(_(a),(s||!f)&&_(i),s&&2===c)return new We(e,this.keyHash,l[1^u]);var h=e&&e===this.ownerID,p=h?l:S(l);return f?s?u===c-1?p.pop():p[u]=p.pop():p[u]=[n,o]:p.push([n,o]),h?(this.entries=p,this):new Ge(e,this.keyHash,p)},We.prototype.get=function(e,t,r,n){return de(r,this.entry[0])?this.entry[1]:n},We.prototype.update=function(e,t,r,n,o,i,a){var s=o===g,l=de(n,this.entry[0]);return(l?o===this.entry[1]:s)?this:(_(a),s?void _(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new We(e,this.keyHash,[n,o]):(_(i),rt(this,e,t,Ce(n),[n,o])))},Be.prototype.iterate=Ge.prototype.iterate=function(e,t){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===e(r[t?o-n:n]))return!1},Ue.prototype.iterate=He.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[t?o-n:n];if(i&&!1===i.iterate(e,t))return!1}},We.prototype.iterate=function(e,t){return e(this.entry)},t(Ye,N),Ye.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r,n=t.node,o=t.index++;if(n.entry){if(0===o)return Xe(e,n.entry)}else if(n.entries){if(r=n.entries.length-1,o<=r)return Xe(e,n.entries[this._reverse?r-o:o])}else if(r=n.nodes.length-1,o<=r){var i=n.nodes[this._reverse?r-o:o];if(i){if(i.entry)return Xe(e,i.entry);t=this._stack=Ze(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ut=v/4,ct=v/2,ft=v/4;function ht(e){var t=_t();if(null===e||void 0===e)return t;if(pt(e))return e;var r=o(e),n=r.size;return 0===n?t:(Pe(n),n>0&&n<v?wt(0,n,m,null,new vt(r.toArray())):t.withMutations(function(e){e.setSize(n),r.forEach(function(t,r){return e.set(r,t)})}))}function pt(e){return!(!e||!e[dt])}t(ht,we),ht.of=function(){return this(arguments)},ht.prototype.toString=function(){return this.__toString("List [","]")},ht.prototype.get=function(e,t){if((e=A(this,e))>=0&&e<this.size){var r=Ct(this,e+=this._origin);return r&&r.array[e&y]}return t},ht.prototype.set=function(e,t){return function(e,t,r){if((t=A(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?At(e,t).set(0,r):At(e,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,o=e._root,i=w(x);return t>=Mt(e._capacity)?n=Dt(n,e.__ownerID,0,t,r,i):o=Dt(o,e.__ownerID,e._level,t,r,i),i.value?e.__ownerID?(e._root=o,e._tail=n,e.__hash=void 0,e.__altered=!0,e):wt(e._origin,e._capacity,e._level,o,n):e}(this,e,t)},ht.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},ht.prototype.insert=function(e,t){return this.splice(e,0,t)},ht.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):_t()},ht.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(r){At(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])})},ht.prototype.pop=function(){return At(this,0,-1)},ht.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){At(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])})},ht.prototype.shift=function(){return At(this,1)},ht.prototype.merge=function(){return $t(this,void 0,arguments)},ht.prototype.mergeWith=function(t){var r=e.call(arguments,1);return $t(this,t,r)},ht.prototype.mergeDeep=function(){return $t(this,ot,arguments)},ht.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return $t(this,it(t),r)},ht.prototype.setSize=function(e){return At(this,0,e)},ht.prototype.slice=function(e,t){var r=this.size;return M(e,t,r)?this:At(this,T(e,r),z(t,r))},ht.prototype.__iterator=function(e,t){var r=0,n=xt(this,t);return new N(function(){var t=n();return t===bt?{value:void 0,done:!0}:F(e,r++,t)})},ht.prototype.__iterate=function(e,t){for(var r,n=0,o=xt(this,t);(r=o())!==bt&&!1!==e(r,n++,this););return n},ht.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?wt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},ht.isList=pt;var dt="@@__IMMUTABLE_LIST__@@",mt=ht.prototype;function vt(e,t){this.array=e,this.ownerID=t}mt[dt]=!0,mt.delete=mt.remove,mt.setIn=Ve.setIn,mt.deleteIn=mt.removeIn=Ve.removeIn,mt.update=Ve.update,mt.updateIn=Ve.updateIn,mt.mergeIn=Ve.mergeIn,mt.mergeDeepIn=Ve.mergeDeepIn,mt.withMutations=Ve.withMutations,mt.asMutable=Ve.asMutable,mt.asImmutable=Ve.asImmutable,mt.wasAltered=Ve.wasAltered,vt.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&y;if(n>=this.array.length)return new vt([],e);var o,i=0===n;if(t>0){var a=this.array[n];if((o=a&&a.removeBefore(e,t-m,r))===a&&i)return this}if(i&&!o)return this;var s=St(this,e);if(!i)for(var l=0;l<n;l++)s.array[l]=void 0;return o&&(s.array[n]=o),s},vt.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&y;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((n=i&&i.removeAfter(e,t-m,r))===i&&o===this.array.length-1)return this}var a=St(this,e);return a.array.splice(o+1),n&&(a.array[o]=n),a};var yt,gt,bt={};function xt(e,t){var r=e._origin,n=e._capacity,o=Mt(n),i=e._tail;return a(e._root,e._level,0);function a(e,s,l){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,l=a>r?0:r-a,u=n-a;return u>v&&(u=v),function(){if(l===u)return bt;var e=t?--u:l++;return s&&s[e]}}(e,l):function(e,o,i){var s,l=e&&e.array,u=i>r?0:r-i>>o,c=1+(n-i>>o);return c>v&&(c=v),function(){for(;;){if(s){var e=s();if(e!==bt)return e;s=null}if(u===c)return bt;var r=t?--c:u++;s=a(l&&l[r],o-m,i+(r<<o))}}}(e,s,l)}}function wt(e,t,r,n,o,i,a){var s=Object.create(mt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function _t(){return yt||(yt=wt(0,0,m))}function Dt(e,t,r,n,o,i){var a,s=n>>>r&y,l=e&&s<e.array.length;if(!l&&void 0===o)return e;if(r>0){var u=e&&e.array[s],c=Dt(u,t,r-m,n,o,i);return c===u?e:((a=St(e,t)).array[s]=c,a)}return l&&e.array[s]===o?e:(_(i),a=St(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function St(e,t){return t&&e&&t===e.ownerID?e:new vt(e?e.array.slice():[],t)}function Ct(e,t){if(t>=Mt(e._capacity))return e._tail;if(t<1<<e._level+m){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&y],n-=m;return r}}function At(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new D,o=e._origin,i=e._capacity,a=o+t,s=void 0===r?i:r<0?i+r:o+r;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var l=e._level,u=e._root,c=0;a+c<0;)u=new vt(u&&u.array.length?[void 0,u]:[],n),c+=1<<(l+=m);c&&(a+=c,o+=c,s+=c,i+=c);for(var f=Mt(i),h=Mt(s);h>=1<<l+m;)u=new vt(u&&u.array.length?[u]:[],n),l+=m;var p=e._tail,d=h<f?Ct(e,s-1):h>f?new vt([],n):p;if(p&&h>f&&a<i&&p.array.length){for(var v=u=St(u,n),g=l;g>m;g-=m){var b=f>>>g&y;v=v.array[b]=St(v.array[b],n)}v.array[f>>>m&y]=p}if(s<i&&(d=d&&d.removeAfter(n,0,s)),a>=h)a-=h,s-=h,l=m,u=null,d=d&&d.removeBefore(n,0,a);else if(a>o||h<f){for(c=0;u;){var x=a>>>l&y;if(x!==h>>>l&y)break;x&&(c+=(1<<l)*x),l-=m,u=u.array[x]}u&&a>o&&(u=u.removeBefore(n,l,a-c)),u&&h<f&&(u=u.removeAfter(n,l,h-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=u,e._tail=d,e.__hash=void 0,e.__altered=!0,e):wt(a,s,l,u,d)}function $t(e,t,r){for(var n=[],i=0,s=0;s<r.length;s++){var l=r[s],u=o(l);u.size>i&&(i=u.size),a(l)||(u=u.map(function(e){return fe(e)})),n.push(u)}return i>e.size&&(e=e.setSize(i)),at(e,t,n)}function Mt(e){return e<v?0:e-1>>>m<<m}function Tt(e){return null===e||void 0===e?Lt():zt(e)?e:Lt().withMutations(function(t){var r=n(e);Pe(r.size),r.forEach(function(e,r){return t.set(r,e)})})}function zt(e){return Fe(e)&&c(e)}function Et(e,t,r,n){var o=Object.create(Tt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=r,o.__hash=n,o}function Lt(){return gt||(gt=Et(Qe(),_t()))}function kt(e,t,r){var n,o,i=e._map,a=e._list,s=i.get(t),l=void 0!==s;if(r===g){if(!l)return e;a.size>=v&&a.size>=2*i.size?(o=a.filter(function(e,t){return void 0!==e&&s!==t}),n=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(r===a.get(s)[1])return e;n=i,o=a.set(s,[t,r])}else n=i.set(t,a.size),o=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e):Et(n,o)}function It(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Ot(e){this._iter=e,this.size=e.size}function jt(e){this._iter=e,this.size=e.size}function Pt(e){this._iter=e,this.size=e.size}function Nt(e){var t=Jt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=er,t.__iterateUncached=function(t,r){var n=this;return e.__iterate(function(e,r){return!1!==t(r,e,n)},r)},t.__iteratorUncached=function(t,r){if(t===I){var n=e.__iterator(t,r);return new N(function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===k?L:k,r)},t}function Ft(e,t,r){var n=Jt(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,o){var i=e.get(n,g);return i===g?o:t.call(r,i,n,e)},n.__iterateUncached=function(n,o){var i=this;return e.__iterate(function(e,o,a){return!1!==n(t.call(r,e,o,a),o,i)},o)},n.__iteratorUncached=function(n,o){var i=e.__iterator(I,o);return new N(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return F(n,s,t.call(r,a[1],s,e),o)})},n}function Rt(e,t){var r=Jt(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Nt(e);return t.reverse=function(){return e.flip()},t}),r.get=function(r,n){return e.get(t?r:-1-r,n)},r.has=function(r){return e.has(t?r:-1-r)},r.includes=function(t){return e.includes(t)},r.cacheResult=er,r.__iterate=function(t,r){var n=this;return e.__iterate(function(e,r){return t(e,r,n)},!r)},r.__iterator=function(t,r){return e.__iterator(t,!r)},r}function qt(e,t,r,n){var o=Jt(e);return n&&(o.has=function(n){var o=e.get(n,g);return o!==g&&!!t.call(r,o,n,e)},o.get=function(n,o){var i=e.get(n,g);return i!==g&&t.call(r,i,n,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,l){if(t.call(r,e,i,l))return s++,o(e,n?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(I,i),s=0;return new N(function(){for(;;){var i=a.next();if(i.done)return i;var l=i.value,u=l[0],c=l[1];if(t.call(r,c,u,e))return F(o,n?u:s++,c,i)}})},o}function Vt(e,t,r,n){var o=e.size;if(void 0!==t&&(t|=0),void 0!==r&&(r===1/0?r=o:r|=0),M(t,r,o))return e;var i=T(t,o),a=z(r,o);if(i!=i||a!=a)return Vt(e.toSeq().cacheResult(),t,r,n);var s,l=a-i;l==l&&(s=l<0?0:l);var u=Jt(e);return u.size=0===s?s:e.size&&s||void 0,!n&&oe(e)&&s>=0&&(u.get=function(t,r){return(t=A(this,t))>=0&&t<s?e.get(t+i,r):r}),u.__iterateUncached=function(t,r){var o=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,l=!0,u=0;return e.__iterate(function(e,r){if(!l||!(l=a++<i))return u++,!1!==t(e,n?r:u-1,o)&&u!==s}),u},u.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);var o=0!==s&&e.__iterator(t,r),a=0,l=0;return new N(function(){for(;a++<i;)o.next();if(++l>s)return{value:void 0,done:!0};var e=o.next();return n||t===k?e:F(t,l-1,t===L?void 0:e.value[1],e)})},u}function Bt(e,t,r,n){var o=Jt(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,l=0;return e.__iterate(function(e,i,u){if(!s||!(s=t.call(r,e,i,u)))return l++,o(e,n?i:l-1,a)}),l},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(I,i),l=!0,u=0;return new N(function(){var e,i,c;do{if((e=s.next()).done)return n||o===k?e:F(o,u++,o===L?void 0:e.value[1],e);var f=e.value;i=f[0],c=f[1],l&&(l=t.call(r,c,i,a))}while(l);return o===I?e:F(o,i,c,e)})},o}function Ut(e,t,r){var n=Jt(e);return n.__iterateUncached=function(n,o){var i=0,s=!1;return function e(l,u){var c=this;l.__iterate(function(o,l){return(!t||u<t)&&a(o)?e(o,u+1):!1===n(o,r?l:i++,c)&&(s=!0),!s},o)}(e,0),i},n.__iteratorUncached=function(n,o){var i=e.__iterator(n,o),s=[],l=0;return new N(function(){for(;i;){var e=i.next();if(!1===e.done){var u=e.value;if(n===I&&(u=u[1]),t&&!(s.length<t)||!a(u))return r?e:F(n,l++,u,e);s.push(i),i=u.__iterator(n,o)}else i=s.pop()}return{value:void 0,done:!0}})},n}function Ht(e,t,r){t||(t=tr);var n=s(e),o=0,i=e.toSeq().map(function(t,n){return[n,t,o++,r?r(t,n,e):t]}).toArray();return i.sort(function(e,r){return t(e[3],r[3])||e[2]-r[2]}).forEach(n?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),n?W(i):l(e)?Y(i):X(i)}function Gt(e,t,r){if(t||(t=tr),r){var n=e.toSeq().map(function(t,n){return[t,r(t,n,e)]}).reduce(function(e,r){return Wt(t,e[1],r[1])?r:e});return n&&n[0]}return e.reduce(function(e,r){return Wt(t,e,r)?r:e})}function Wt(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(void 0===r||null===r||r!=r)||n>0}function Yt(e,t,n){var o=Jt(e);return o.size=new ee(n).map(function(e){return e.size}).min(),o.__iterate=function(e,t){for(var r,n=this.__iterator(k,t),o=0;!(r=n.next()).done&&!1!==e(r.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=n.map(function(e){return e=r(e),B(o?e.reverse():e)}),a=0,s=!1;return new N(function(){var r;return s||(r=i.map(function(e){return e.next()}),s=r.some(function(e){return e.done})),s?{value:void 0,done:!0}:F(e,a++,t.apply(null,r.map(function(e){return e.value})))})},o}function Xt(e,t){return oe(e)?t:e.constructor(t)}function Zt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Kt(e){return Pe(e.size),C(e)}function Qt(e){return s(e)?n:l(e)?o:i}function Jt(e){return Object.create((s(e)?W:l(e)?Y:X).prototype)}function er(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function tr(e,t){return e>t?1:e<t?-1:0}function rr(e){var t=B(e);if(!t){if(!H(e))throw new TypeError("Expected iterable or array-like: "+e);t=B(r(e))}return t}function nr(e,t){var r,n=function(i){if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ye(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=Ne(i)},o=n.prototype=Object.create(or);return o.constructor=n,n}t(Tt,Ne),Tt.of=function(){return this(arguments)},Tt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Tt.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},Tt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Lt()},Tt.prototype.set=function(e,t){return kt(this,e,t)},Tt.prototype.remove=function(e){return kt(this,e,g)},Tt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Tt.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],r)},t)},Tt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Tt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?Et(t,r,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=r,this)},Tt.isOrderedMap=zt,Tt.prototype[d]=!0,Tt.prototype.delete=Tt.prototype.remove,t(It,W),It.prototype.get=function(e,t){return this._iter.get(e,t)},It.prototype.has=function(e){return this._iter.has(e)},It.prototype.valueSeq=function(){return this._iter.valueSeq()},It.prototype.reverse=function(){var e=this,t=Rt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},It.prototype.map=function(e,t){var r=this,n=Ft(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},It.prototype.__iterate=function(e,t){var r,n=this;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?Kt(this):0,function(o){return e(o,t?--r:r++,n)}),t)},It.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var r=this._iter.__iterator(k,t),n=t?Kt(this):0;return new N(function(){var o=r.next();return o.done?o:F(e,t?--n:n++,o.value,o)})},It.prototype[d]=!0,t(Ot,Y),Ot.prototype.includes=function(e){return this._iter.includes(e)},Ot.prototype.__iterate=function(e,t){var r=this,n=0;return this._iter.__iterate(function(t){return e(t,n++,r)},t)},Ot.prototype.__iterator=function(e,t){var r=this._iter.__iterator(k,t),n=0;return new N(function(){var t=r.next();return t.done?t:F(e,n++,t.value,t)})},t(jt,X),jt.prototype.has=function(e){return this._iter.includes(e)},jt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){return e(t,t,r)},t)},jt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(k,t);return new N(function(){var t=r.next();return t.done?t:F(e,t.value,t.value,t)})},t(Pt,W),Pt.prototype.entrySeq=function(){return this._iter.toSeq()},Pt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){if(t){Zt(t);var n=a(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}},t)},Pt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(k,t);return new N(function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){Zt(n);var o=a(n);return F(e,o?n.get(0):n[0],o?n.get(1):n[1],t)}}})},Ot.prototype.cacheResult=It.prototype.cacheResult=jt.prototype.cacheResult=Pt.prototype.cacheResult=er,t(nr,xe),nr.prototype.toString=function(){return this.__toString(ar(this)+" {","}")},nr.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},nr.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._defaultValues[e];return this._map?this._map.get(e,r):r},nr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=ir(this,Qe()))},nr.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+ar(this));if(this._map&&!this._map.has(e)){var r=this._defaultValues[e];if(t===r)return this}var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:ir(this,n)},nr.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:ir(this,t)},nr.prototype.wasAltered=function(){return this._map.wasAltered()},nr.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterator(e,t)},nr.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterate(e,t)},nr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?ir(this,t,e):(this.__ownerID=e,this._map=t,this)};var or=nr.prototype;function ir(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._map=t,n.__ownerID=r,n}function ar(e){return e._name||e.constructor.name||"Record"}function sr(e){return null===e||void 0===e?dr():lr(e)&&!c(e)?e:dr().withMutations(function(t){var r=i(e);Pe(r.size),r.forEach(function(e){return t.add(e)})})}function lr(e){return!(!e||!e[cr])}or.delete=or.remove,or.deleteIn=or.removeIn=Ve.removeIn,or.merge=Ve.merge,or.mergeWith=Ve.mergeWith,or.mergeIn=Ve.mergeIn,or.mergeDeep=Ve.mergeDeep,or.mergeDeepWith=Ve.mergeDeepWith,or.mergeDeepIn=Ve.mergeDeepIn,or.setIn=Ve.setIn,or.update=Ve.update,or.updateIn=Ve.updateIn,or.withMutations=Ve.withMutations,or.asMutable=Ve.asMutable,or.asImmutable=Ve.asImmutable,t(sr,_e),sr.of=function(){return this(arguments)},sr.fromKeys=function(e){return this(n(e).keySeq())},sr.prototype.toString=function(){return this.__toString("Set {","}")},sr.prototype.has=function(e){return this._map.has(e)},sr.prototype.add=function(e){return hr(this,this._map.set(e,!0))},sr.prototype.remove=function(e){return hr(this,this._map.remove(e))},sr.prototype.clear=function(){return hr(this,this._map.clear())},sr.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var r=0;r<t.length;r++)i(t[r]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},sr.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return i(e)});var r=this;return this.withMutations(function(e){r.forEach(function(r){t.every(function(e){return e.includes(r)})||e.remove(r)})})},sr.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return i(e)});var r=this;return this.withMutations(function(e){r.forEach(function(r){t.some(function(e){return e.includes(r)})&&e.remove(r)})})},sr.prototype.merge=function(){return this.union.apply(this,arguments)},sr.prototype.mergeWith=function(t){var r=e.call(arguments,1);return this.union.apply(this,r)},sr.prototype.sort=function(e){return mr(Ht(this,e))},sr.prototype.sortBy=function(e,t){return mr(Ht(this,t,e))},sr.prototype.wasAltered=function(){return this._map.wasAltered()},sr.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate(function(t,n){return e(n,n,r)},t)},sr.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},sr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},sr.isSet=lr;var ur,cr="@@__IMMUTABLE_SET__@@",fr=sr.prototype;function hr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function pr(e,t){var r=Object.create(fr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function dr(){return ur||(ur=pr(Qe()))}function mr(e){return null===e||void 0===e?xr():vr(e)?e:xr().withMutations(function(t){var r=i(e);Pe(r.size),r.forEach(function(e){return t.add(e)})})}function vr(e){return lr(e)&&c(e)}fr[cr]=!0,fr.delete=fr.remove,fr.mergeDeep=fr.merge,fr.mergeDeepWith=fr.mergeWith,fr.withMutations=Ve.withMutations,fr.asMutable=Ve.asMutable,fr.asImmutable=Ve.asImmutable,fr.__empty=dr,fr.__make=pr,t(mr,sr),mr.of=function(){return this(arguments)},mr.fromKeys=function(e){return this(n(e).keySeq())},mr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},mr.isOrderedSet=vr;var yr,gr=mr.prototype;function br(e,t){var r=Object.create(gr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function xr(){return yr||(yr=br(Lt()))}function wr(e){return null===e||void 0===e?$r():_r(e)?e:$r().unshiftAll(e)}function _r(e){return!(!e||!e[Sr])}gr[d]=!0,gr.__empty=xr,gr.__make=br,t(wr,we),wr.of=function(){return this(arguments)},wr.prototype.toString=function(){return this.__toString("Stack [","]")},wr.prototype.get=function(e,t){var r=this._head;for(e=A(this,e);r&&e--;)r=r.next;return r?r.value:t},wr.prototype.peek=function(){return this._head&&this._head.value},wr.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,r=arguments.length-1;r>=0;r--)t={value:arguments[r],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Ar(e,t)},wr.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;Pe(e.size);var t=this.size,r=this._head;return e.reverse().forEach(function(e){t++,r={value:e,next:r}}),this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Ar(t,r)},wr.prototype.pop=function(){return this.slice(1)},wr.prototype.unshift=function(){return this.push.apply(this,arguments)},wr.prototype.unshiftAll=function(e){return this.pushAll(e)},wr.prototype.shift=function(){return this.pop.apply(this,arguments)},wr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):$r()},wr.prototype.slice=function(e,t){if(M(e,t,this.size))return this;var r=T(e,this.size),n=z(t,this.size);if(n!==this.size)return we.prototype.slice.call(this,e,t);for(var o=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Ar(o,i)},wr.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ar(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},wr.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var r=0,n=this._head;n&&!1!==e(n.value,r++,this);)n=n.next;return r},wr.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0,n=this._head;return new N(function(){if(n){var t=n.value;return n=n.next,F(e,r++,t)}return{value:void 0,done:!0}})},wr.isStack=_r;var Dr,Sr="@@__IMMUTABLE_STACK__@@",Cr=wr.prototype;function Ar(e,t,r,n){var o=Object.create(Cr);return o.size=e,o._head=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function $r(){return Dr||(Dr=Ar(0))}function Mr(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}Cr[Sr]=!0,Cr.withMutations=Ve.withMutations,Cr.asMutable=Ve.asMutable,Cr.asImmutable=Ve.asImmutable,Cr.wasAltered=Ve.wasAltered,r.Iterator=N,Mr(r,{toArray:function(){Pe(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,r){e[r]=t}),e},toIndexedSeq:function(){return new Ot(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new It(this,!0)},toMap:function(){return Ne(this.toKeyedSeq())},toObject:function(){Pe(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e},toOrderedMap:function(){return Tt(this.toKeyedSeq())},toOrderedSet:function(){return mr(s(this)?this.valueSeq():this)},toSet:function(){return sr(s(this)?this.valueSeq():this)},toSetSeq:function(){return new jt(this)},toSeq:function(){return l(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wr(s(this)?this.valueSeq():this)},toList:function(){return ht(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Xt(this,function(e,t){var r=s(e),o=[e].concat(t).map(function(e){return a(e)?r&&(e=n(e)):e=r?ae(e):se(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||r&&s(i)||l(e)&&l(i))return i}var u=new ee(o);return r?u=u.toKeyedSeq():l(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=o.reduce(function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}},0),u}(this,t))},includes:function(e){return this.some(function(t){return de(t,e)})},entries:function(){return this.__iterator(I)},every:function(e,t){Pe(this.size);var r=!0;return this.__iterate(function(n,o,i){if(!e.call(t,n,o,i))return r=!1,!1}),r},filter:function(e,t){return Xt(this,qt(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return Pe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Pe(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate(function(n){r?r=!1:t+=e,t+=null!==n&&void 0!==n?n.toString():""}),t},keys:function(){return this.__iterator(L)},map:function(e,t){return Xt(this,Ft(this,e,t))},reduce:function(e,t,r){var n,o;return Pe(this.size),arguments.length<2?o=!0:n=t,this.__iterate(function(t,i,a){o?(o=!1,n=t):n=e.call(r,n,t,i,a)}),n},reduceRight:function(e,t,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Xt(this,Rt(this,!0))},slice:function(e,t){return Xt(this,Vt(this,e,t,!0))},some:function(e,t){return!this.every(kr(e),t)},sort:function(e){return Xt(this,Ht(this,e))},values:function(){return this.__iterator(k)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return C(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=Ne().asMutable();return e.__iterate(function(o,i){n.update(t.call(r,o,i,e),0,function(e){return e+1})}),n.asImmutable()}(this,e,t)},equals:function(e){return me(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(Lr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(kr(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate(function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1}),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find($)},flatMap:function(e,t){return Xt(this,function(e,t,r){var n=Qt(e);return e.toSeq().map(function(o,i){return n(t.call(r,o,i,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Xt(this,Ut(this,e,!0))},fromEntrySeq:function(){return new Pt(this)},get:function(e,t){return this.find(function(t,r){return de(r,e)},void 0,t)},getIn:function(e,t){for(var r,n=this,o=rr(e);!(r=o.next()).done;){var i=r.value;if((n=n&&n.get?n.get(i,g):g)===g)return t}return n},groupBy:function(e,t){return function(e,t,r){var n=s(e),o=(c(e)?Tt():Ne()).asMutable();e.__iterate(function(i,a){o.update(t.call(r,i,a,e),function(e){return(e=e||[]).push(n?[a,i]:i),e})});var i=Qt(e);return o.map(function(t){return Xt(e,i(t))})}(this,e,t)},has:function(e){return this.get(e,g)!==g},hasIn:function(e){return this.getIn(e,g)!==g},isSubset:function(e){return e="function"==typeof e.includes?e:r(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:r(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return de(t,e)})},keySeq:function(){return this.toSeq().map(Er).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Gt(this,e)},maxBy:function(e,t){return Gt(this,t,e)},min:function(e){return Gt(this,e?Ir(e):Pr)},minBy:function(e,t){return Gt(this,t?Ir(t):Pr,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Xt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Xt(this,Bt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(kr(e),t)},sortBy:function(e,t){return Xt(this,Ht(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Xt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Xt(this,function(e,t,r){var n=Jt(e);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return e.__iterate(function(e,o,s){return t.call(r,e,o,s)&&++a&&n(e,o,i)}),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=e.__iterator(I,o),s=!0;return new N(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,l=o[0],u=o[1];return t.call(r,u,l,i)?n===I?e:F(n,l,u,e):(s=!1,{value:void 0,done:!0})})},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(kr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=c(e),r=s(e),n=t?1:0;return function(e,t){return t=De(t,3432918353),t=De(t<<15|t>>>-15,461845907),t=De(t<<13|t>>>-13,5),t=De((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Se((t=De(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(r?t?function(e,t){n=31*n+Nr(Ce(e),Ce(t))|0}:function(e,t){n=n+Nr(Ce(e),Ce(t))|0}:t?function(e){n=31*n+Ce(e)|0}:function(e){n=n+Ce(e)|0}),n)}(this))}});var Tr=r.prototype;Tr[f]=!0,Tr[P]=Tr.values,Tr.__toJS=Tr.toArray,Tr.__toStringMapper=Or,Tr.inspect=Tr.toSource=function(){return this.toString()},Tr.chain=Tr.flatMap,Tr.contains=Tr.includes,Mr(n,{flip:function(){return Xt(this,Nt(this))},mapEntries:function(e,t){var r=this,n=0;return Xt(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],n++,r)}).fromEntrySeq())},mapKeys:function(e,t){var r=this;return Xt(this,this.toSeq().flip().map(function(n,o){return e.call(t,n,o,r)}).flip())}});var zr=n.prototype;function Er(e,t){return t}function Lr(e,t){return[t,e]}function kr(e){return function(){return!e.apply(this,arguments)}}function Ir(e){return function(){return-e.apply(this,arguments)}}function Or(e){return"string"==typeof e?JSON.stringify(e):String(e)}function jr(){return S(arguments)}function Pr(e,t){return e<t?1:e>t?-1:0}function Nr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return zr[h]=!0,zr[P]=Tr.entries,zr.__toJS=Tr.toObject,zr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Or(e)},Mr(o,{toKeyedSeq:function(){return new It(this,!1)},filter:function(e,t){return Xt(this,qt(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Xt(this,Rt(this,!1))},slice:function(e,t){return Xt(this,Vt(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(0|t,0),0===r||2===r&&!t)return this;e=T(e,e<0?this.count():this.size);var n=this.slice(0,e);return Xt(this,1===r?n:n.concat(S(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Xt(this,Ut(this,e,!1))},get:function(e,t){return(e=A(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,r){return r===e},void 0,t)},has:function(e){return(e=A(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Xt(this,function(e,t){var r=Jt(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return e.__iterate(function(e,n){return(!i||!1!==r(t,i++,o))&&!1!==r(e,i++,o)},n),i},r.__iteratorUncached=function(r,n){var o,i=e.__iterator(k,n),a=0;return new N(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?F(r,a++,t):F(r,a++,o.value,o)})},r}(this,e))},interleave:function(){var e=[this].concat(S(arguments)),t=Yt(this.toSeq(),Y.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),Xt(this,r)},keySeq:function(){return ge(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Xt(this,Bt(this,e,t,!1))},zip:function(){return Xt(this,Yt(this,jr,[this].concat(S(arguments))))},zipWith:function(e){var t=S(arguments);return t[0]=this,Xt(this,Yt(this,e,t))}}),o.prototype[p]=!0,o.prototype[d]=!0,Mr(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Tr.includes,i.prototype.contains=i.prototype.includes,Mr(W,n.prototype),Mr(Y,o.prototype),Mr(X,i.prototype),Mr(xe,n.prototype),Mr(we,o.prototype),Mr(_e,i.prototype),{Iterable:r,Seq:G,Collection:be,Map:Ne,OrderedMap:Tt,List:ht,Stack:wr,Set:sr,OrderedSet:mr,Record:nr,Range:ge,Repeat:ve,is:de,fromJS:fe}}()},function(e,t,r){var n;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(t,r){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(r,o){"use strict";var i=[],a=r.document,s=Object.getPrototypeOf,l=i.slice,u=i.concat,c=i.push,f=i.indexOf,h={},p=h.toString,d=h.hasOwnProperty,m=d.toString,v=m.call(Object),y={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},x={type:!0,src:!0,noModule:!0};function w(e,t,r){var n,o=(t=t||a).createElement("script");if(o.text=e,r)for(n in x)r[n]&&(o[n]=r[n]);t.head.appendChild(o).parentNode.removeChild(o)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[p.call(e)]||"object":typeof e}var D=function(e,t){return new D.fn.init(e,t)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(e){var t=!!e&&"length"in e&&e.length,r=_(e);return!g(e)&&!b(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}D.fn=D.prototype={jquery:"3.3.1",constructor:D,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=D.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return D.each(this,e)},map:function(e){return this.pushStack(D.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},D.extend=D.fn.extend=function(){var e,t,r,n,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=a[t],a!==(n=e[t])&&(u&&n&&(D.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,i=r&&Array.isArray(r)?r:[]):i=r&&D.isPlainObject(r)?r:{},a[t]=D.extend(u,i,n)):void 0!==n&&(a[t]=n));return a},D.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==p.call(e))&&(!(t=s(e))||"function"==typeof(r=d.call(t,"constructor")&&t.constructor)&&m.call(r)===v)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){w(e)},each:function(e,t){var r,n=0;if(C(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(S,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(C(Object(e))?D.merge(r,"string"==typeof e?[e]:e):c.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:f.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,r){for(var n=[],o=0,i=e.length,a=!r;o<i;o++)!t(e[o],o)!==a&&n.push(e[o]);return n},map:function(e,t,r){var n,o,i=0,a=[];if(C(e))for(n=e.length;i<n;i++)null!=(o=t(e[i],i,r))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,r))&&a.push(o);return u.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(D.fn[Symbol.iterator]=i[Symbol.iterator]),D.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var A=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){var t,r,n,o,i,a,s,l,u,c,f,h,p,d,m,v,y,g,b,x="sizzle"+1*new Date,w=e.document,_=0,D=0,S=ae(),C=ae(),A=ae(),$=function(e,t){return e===t&&(f=!0),0},M={}.hasOwnProperty,T=[],z=T.pop,E=T.push,L=T.push,k=T.slice,I=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",N="\\["+j+"*("+P+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+j+"*\\]",F=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",R=new RegExp(j+"+","g"),q=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),V=new RegExp("^"+j+"*,"+j+"*"),B=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),U=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),H=new RegExp(F),G=new RegExp("^"+P+"$"),W={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),ee=function(e,t,r){var n="0x"+t-65536;return n!=n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){h()},oe=ge(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(T=k.call(w.childNodes),w.childNodes),T[w.childNodes.length].nodeType}catch(e){L={apply:T.length?function(e,t){E.apply(e,k.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function ie(e,t,n,o){var i,s,u,c,f,d,y,g=t&&t.ownerDocument,_=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return n;if(!o&&((t?t.ownerDocument||t:w)!==p&&h(t),t=t||p,m)){if(11!==_&&(f=K.exec(e)))if(i=f[1]){if(9===_){if(!(u=t.getElementById(i)))return n;if(u.id===i)return n.push(u),n}else if(g&&(u=g.getElementById(i))&&b(t,u)&&u.id===i)return n.push(u),n}else{if(f[2])return L.apply(n,t.getElementsByTagName(e)),n;if((i=f[3])&&r.getElementsByClassName&&t.getElementsByClassName)return L.apply(n,t.getElementsByClassName(i)),n}if(r.qsa&&!A[e+" "]&&(!v||!v.test(e))){if(1!==_)g=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,re):t.setAttribute("id",c=x),s=(d=a(e)).length;s--;)d[s]="#"+c+" "+ye(d[s]);y=d.join(","),g=Q.test(e)&&me(t.parentNode)||t}if(y)try{return L.apply(n,g.querySelectorAll(y)),n}catch(e){}finally{c===x&&t.removeAttribute("id")}}}return l(e.replace(q,"$1"),t,n,o)}function ae(){var e=[];return function t(r,o){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=o}}function se(e){return e[x]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var r=e.split("|"),o=r.length;o--;)n.attrHandle[r[o]]=t}function ce(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function de(e){return se(function(t){return t=+t,se(function(r,n){for(var o,i=e([],r.length,t),a=i.length;a--;)r[o=i[a]]&&(r[o]=!(n[o]=r[o]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=ie.support={},i=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=ie.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:w;return a!==p&&9===a.nodeType&&a.documentElement?(d=(p=a).documentElement,m=!i(p),w!==p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ne,!1):o.attachEvent&&o.attachEvent("onunload",ne)),r.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=Z.test(p.getElementsByClassName),r.getById=le(function(e){return d.appendChild(e).id=x,!p.getElementsByName||!p.getElementsByName(x).length}),r.getById?(n.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var r,n,o,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(o=t.getElementsByName(e),n=0;i=o[n++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;r=i[o++];)1===r.nodeType&&n.push(r);return n}return i},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],v=[],(r.qsa=Z.test(p.querySelectorAll))&&(le(function(e){d.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+j+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+x+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||v.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+j+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(r.matchesSelector=Z.test(g=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&le(function(e){r.disconnectedMatch=g.call(e,"*"),g.call(e,"[s!='']:x"),y.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),t=Z.test(d.compareDocumentPosition),b=t||Z.test(d.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return f=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===w&&b(w,e)?-1:t===p||t.ownerDocument===w&&b(w,t)?1:c?I(c,e)-I(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return f=!0,0;var r,n=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===p?-1:t===p?1:o?-1:i?1:c?I(c,e)-I(c,t):0;if(o===i)return ce(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;a[n]===s[n];)n++;return n?ce(a[n],s[n]):a[n]===w?-1:s[n]===w?1:0},p):p},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(U,"='$1']"),r.matchesSelector&&m&&!A[t+" "]&&(!y||!y.test(t))&&(!v||!v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ie(t,p,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var o=n.attrHandle[t.toLowerCase()],i=o&&M.call(n.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==i?i:r.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.escape=function(e){return(e+"").replace(te,re)},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],o=0,i=0;if(f=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort($),f){for(;t=e[i++];)t===e[i]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return c=null,e},o=ie.getText=function(e){var t,r="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)r+=o(t);return r},(n=ie.selectors={cacheLength:50,createPseudo:se,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&H.test(r)&&(t=a(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(n){var o=ie.attr(n,e);return null==o?"!="===t:!t||(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o.replace(R," ")+" ").indexOf(r)>-1:"|="===t&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,r,l){var u,c,f,h,p,d,m=i!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),g=!l&&!s,b=!1;if(v){if(i){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&g){for(b=(p=(u=(c=(f=(h=v)[x]||(h[x]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===_&&u[1])&&u[2],h=p&&v.childNodes[p];h=++p&&h&&h[m]||(b=p=0)||d.pop();)if(1===h.nodeType&&++b&&h===t){c[e]=[_,p,b];break}}else if(g&&(b=p=(u=(c=(f=(h=t)[x]||(h[x]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===_&&u[1]),!1===b)for(;(h=++p&&h&&h[m]||(b=p=0)||d.pop())&&((s?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++b||(g&&((c=(f=h[x]||(h[x]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]=[_,b]),h!==t)););return(b-=o)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var r,o=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return o[x]?o(t):o.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,r){for(var n,i=o(e,t),a=i.length;a--;)e[n=I(e,i[a])]=!(r[n]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:se(function(e){var t=[],r=[],n=s(e.replace(q,"$1"));return n[x]?se(function(e,t,r,o){for(var i,a=n(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,n(t,null,i,r),t[0]=null,!r.pop()}}),has:se(function(e){return function(t){return ie(e,t).length>0}}),contains:se(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:se(function(e){return G.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var r;do{if(r=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,r){return[r<0?r+t:r]}),even:de(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:de(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:de(function(e,t,r){for(var n=r<0?r+t:r;--n>=0;)e.push(n);return e}),gt:de(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=he(t);function ve(){}function ye(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function ge(e,t,r){var n=t.dir,o=t.next,i=o||n,a=r&&"parentNode"===i,s=D++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||a)return e(t,r,o);return!1}:function(t,r,l){var u,c,f,h=[_,s];if(l){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,r,l))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(c=(f=t[x]||(t[x]={}))[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=c[i])&&u[0]===_&&u[1]===s)return h[2]=u[2];if(c[i]=h,h[2]=e(t,r,l))return!0}return!1}}function be(e){return e.length>1?function(t,r,n){for(var o=e.length;o--;)if(!e[o](t,r,n))return!1;return!0}:e[0]}function xe(e,t,r,n,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(r&&!r(i,n,o)||(a.push(i),u&&t.push(s)));return a}function we(e,t,r,n,o,i){return n&&!n[x]&&(n=we(n)),o&&!o[x]&&(o=we(o,i)),se(function(i,a,s,l){var u,c,f,h=[],p=[],d=a.length,m=i||function(e,t,r){for(var n=0,o=t.length;n<o;n++)ie(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?m:xe(m,h,e,s,l),y=r?o||(i?e:d||n)?[]:a:v;if(r&&r(v,y,s,l),n)for(u=xe(y,p),n(u,[],s,l),c=u.length;c--;)(f=u[c])&&(y[p[c]]=!(v[p[c]]=f));if(i){if(o||e){if(o){for(u=[],c=y.length;c--;)(f=y[c])&&u.push(v[c]=f);o(null,y=[],u,l)}for(c=y.length;c--;)(f=y[c])&&(u=o?I(i,f):h[c])>-1&&(i[u]=!(a[u]=f))}}else y=xe(y===a?y.splice(d,y.length):y),o?o(null,a,y,l):L.apply(a,y)})}function _e(e){for(var t,r,o,i=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],l=a?1:0,c=ge(function(e){return e===t},s,!0),f=ge(function(e){return I(t,e)>-1},s,!0),h=[function(e,r,n){var o=!a&&(n||r!==u)||((t=r).nodeType?c(e,r,n):f(e,r,n));return t=null,o}];l<i;l++)if(r=n.relative[e[l].type])h=[ge(be(h),r)];else{if((r=n.filter[e[l].type].apply(null,e[l].matches))[x]){for(o=++l;o<i&&!n.relative[e[o].type];o++);return we(l>1&&be(h),l>1&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),r,l<o&&_e(e.slice(l,o)),o<i&&_e(e=e.slice(o)),o<i&&ye(e))}h.push(r)}return be(h)}return ve.prototype=n.filters=n.pseudos,n.setFilters=new ve,a=ie.tokenize=function(e,t){var r,o,i,a,s,l,u,c=C[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=n.preFilter;s;){for(a in r&&!(o=V.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),r=!1,(o=B.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(q," ")}),s=s.slice(r.length)),n.filter)!(o=W[a].exec(s))||u[a]&&!(o=u[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return t?s.length:s?ie.error(e):C(e,l).slice(0)},s=ie.compile=function(e,t){var r,o=[],i=[],s=A[e+" "];if(!s){for(t||(t=a(e)),r=t.length;r--;)(s=_e(t[r]))[x]?o.push(s):i.push(s);(s=A(e,function(e,t){var r=t.length>0,o=e.length>0,i=function(i,a,s,l,c){var f,d,v,y=0,g="0",b=i&&[],x=[],w=u,D=i||o&&n.find.TAG("*",c),S=_+=null==w?1:Math.random()||.1,C=D.length;for(c&&(u=a===p||a||c);g!==C&&null!=(f=D[g]);g++){if(o&&f){for(d=0,a||f.ownerDocument===p||(h(f),s=!m);v=e[d++];)if(v(f,a||p,s)){l.push(f);break}c&&(_=S)}r&&((f=!v&&f)&&y--,i&&b.push(f))}if(y+=g,r&&g!==y){for(d=0;v=t[d++];)v(b,x,a,s);if(i){if(y>0)for(;g--;)b[g]||x[g]||(x[g]=z.call(l));x=xe(x)}L.apply(l,x),c&&!i&&x.length>0&&y+t.length>1&&ie.uniqueSort(l)}return c&&(_=S,u=w),b};return r?se(i):i}(i,o))).selector=e}return s},l=ie.select=function(e,t,r,o){var i,l,u,c,f,h="function"==typeof e&&e,p=!o&&a(e=h.selector||e);if(r=r||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&m&&n.relative[l[1].type]){if(!(t=(n.find.ID(u.matches[0].replace(J,ee),t)||[])[0]))return r;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=W.needsContext.test(e)?0:l.length;i--&&(u=l[i],!n.relative[c=u.type]);)if((f=n.find[c])&&(o=f(u.matches[0].replace(J,ee),Q.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&ye(l)))return L.apply(r,o),r;break}}return(h||s(e,p))(o,t,!m,r,!t||Q.test(e)&&me(t.parentNode)||t),r},r.sortStable=x.split("").sort($).join("")===x,r.detectDuplicates=!!f,h(),r.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),r.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ue(O,function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),ie}(r);D.find=A,D.expr=A.selectors,D.expr[":"]=D.expr.pseudos,D.uniqueSort=D.unique=A.uniqueSort,D.text=A.getText,D.isXMLDoc=A.isXML,D.contains=A.contains,D.escapeSelector=A.escape;var $=function(e,t,r){for(var n=[],o=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&D(e).is(r))break;n.push(e)}return n},M=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},T=D.expr.match.needsContext;function z(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,r){return g(t)?D.grep(e,function(e,n){return!!t.call(e,n,e)!==r}):t.nodeType?D.grep(e,function(e){return e===t!==r}):"string"!=typeof t?D.grep(e,function(e){return f.call(t,e)>-1!==r}):D.filter(t,e,r)}D.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?D.find.matchesSelector(n,e)?[n]:[]:D.find.matches(e,D.grep(t,function(e){return 1===e.nodeType}))},D.fn.extend({find:function(e){var t,r,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(D(e).filter(function(){for(t=0;t<n;t++)if(D.contains(o[t],this))return!0}));for(r=this.pushStack([]),t=0;t<n;t++)D.find(e,o[t],r);return n>1?D.uniqueSort(r):r},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&T.test(e)?D(e):e||[],!1).length}});var k,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(D.fn.init=function(e,t,r){var n,o;if(!e)return this;if(r=r||k,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:I.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof D?t[0]:t,D.merge(this,D.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),E.test(n[1])&&D.isPlainObject(t))for(n in t)g(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(o=a.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==r.ready?r.ready(e):e(D):D.makeArray(e,this)}).prototype=D.fn,k=D(a);var O=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}D.fn.extend({has:function(e){var t=D(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(D.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,o=this.length,i=[],a="string"!=typeof e&&D(e);if(!T.test(e))for(;n<o;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&D.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(i.length>1?D.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?f.call(D(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(D.uniqueSort(D.merge(this.get(),D(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),D.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return $(e,"parentNode")},parentsUntil:function(e,t,r){return $(e,"parentNode",r)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return $(e,"nextSibling")},prevAll:function(e){return $(e,"previousSibling")},nextUntil:function(e,t,r){return $(e,"nextSibling",r)},prevUntil:function(e,t,r){return $(e,"previousSibling",r)},siblings:function(e){return M((e.parentNode||{}).firstChild,e)},children:function(e){return M(e.firstChild)},contents:function(e){return z(e,"iframe")?e.contentDocument:(z(e,"template")&&(e=e.content||e),D.merge([],e.childNodes))}},function(e,t){D.fn[e]=function(r,n){var o=D.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(o=D.filter(n,o)),this.length>1&&(j[e]||D.uniqueSort(o),O.test(e)&&o.reverse()),this.pushStack(o)}});var N=/[^\x20\t\r\n\f]+/g;function F(e){return e}function R(e){throw e}function q(e,t,r,n){var o;try{e&&g(o=e.promise)?o.call(e).done(t).fail(r):e&&g(o=e.then)?o.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}D.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return D.each(e.match(N)||[],function(e,r){t[r]=!0}),t}(e):D.extend({},e);var t,r,n,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,n=t=!0;a.length;s=-1)for(r=a.shift();++s<i.length;)!1===i[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=i.length,r=!1);e.memory||(r=!1),t=!1,o&&(i=r?[]:"")},u={add:function(){return i&&(r&&!t&&(s=i.length-1,a.push(r)),function t(r){D.each(r,function(r,n){g(n)?e.unique&&u.has(n)||i.push(n):n&&n.length&&"string"!==_(n)&&t(n)})}(arguments),r&&!t&&l()),this},remove:function(){return D.each(arguments,function(e,t){for(var r;(r=D.inArray(t,i,r))>-1;)i.splice(r,1),r<=s&&s--}),this},has:function(e){return e?D.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=r="",this},disabled:function(){return!i},lock:function(){return o=a=[],r||t||(i=r=""),this},locked:function(){return!!o},fireWith:function(e,r){return o||(r=[e,(r=r||[]).slice?r.slice():r],a.push(r),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},D.extend({Deferred:function(e){var t=[["notify","progress",D.Callbacks("memory"),D.Callbacks("memory"),2],["resolve","done",D.Callbacks("once memory"),D.Callbacks("once memory"),0,"resolved"],["reject","fail",D.Callbacks("once memory"),D.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return D.Deferred(function(r){D.each(t,function(t,n){var o=g(e[n[4]])&&e[n[4]];i[n[1]](function(){var e=o&&o.apply(this,arguments);e&&g(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,n,o){var i=0;function a(e,t,n,o){return function(){var s=this,l=arguments,u=function(){var r,u;if(!(e<i)){if((r=n.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,g(u)?o?u.call(r,a(i,t,F,o),a(i,t,R,o)):(i++,u.call(r,a(i,t,F,o),a(i,t,R,o),a(i,t,F,t.notifyWith))):(n!==F&&(s=void 0,l=[r]),(o||t.resolveWith)(s,l))}},c=o?u:function(){try{u()}catch(r){D.Deferred.exceptionHook&&D.Deferred.exceptionHook(r,c.stackTrace),e+1>=i&&(n!==R&&(s=void 0,l=[r]),t.rejectWith(s,l))}};e?c():(D.Deferred.getStackHook&&(c.stackTrace=D.Deferred.getStackHook()),r.setTimeout(c))}}return D.Deferred(function(r){t[0][3].add(a(0,r,g(o)?o:F,r.notifyWith)),t[1][3].add(a(0,r,g(e)?e:F)),t[2][3].add(a(0,r,g(n)?n:R))}).promise()},promise:function(e){return null!=e?D.extend(e,o):o}},i={};return D.each(t,function(e,r){var a=r[2],s=r[5];o[r[1]]=a.add,s&&a.add(function(){n=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,r=t,n=Array(r),o=l.call(arguments),i=D.Deferred(),a=function(e){return function(r){n[e]=this,o[e]=arguments.length>1?l.call(arguments):r,--t||i.resolveWith(n,o)}};if(t<=1&&(q(e,i.done(a(r)).resolve,i.reject,!t),"pending"===i.state()||g(o[r]&&o[r].then)))return i.then();for(;r--;)q(o[r],a(r),i.reject);return i.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;D.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&V.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},D.readyException=function(e){r.setTimeout(function(){throw e})};var B=D.Deferred();function U(){a.removeEventListener("DOMContentLoaded",U),r.removeEventListener("load",U),D.ready()}D.fn.ready=function(e){return B.then(e).catch(function(e){D.readyException(e)}),this},D.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--D.readyWait:D.isReady)||(D.isReady=!0,!0!==e&&--D.readyWait>0||B.resolveWith(a,[D]))}}),D.ready.then=B.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?r.setTimeout(D.ready):(a.addEventListener("DOMContentLoaded",U),r.addEventListener("load",U));var H=function(e,t,r,n,o,i,a){var s=0,l=e.length,u=null==r;if("object"===_(r))for(s in o=!0,r)H(e,t,s,r[s],!0,i,a);else if(void 0!==n&&(o=!0,g(n)||(a=!0),u&&(a?(t.call(e,n),t=null):(u=t,t=function(e,t,r){return u.call(D(e),r)})),t))for(;s<l;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return o?e:u?t.call(e):l?t(e[0],r):i},G=/^-ms-/,W=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function X(e){return e.replace(G,"ms-").replace(W,Y)}var Z=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=D.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Z(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,o=this.cache(e);if("string"==typeof t)o[X(t)]=r;else for(n in t)o[X(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(X):(t=X(t))in n?[t]:t.match(N)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||D.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!D.isEmptyObject(t)}};var Q=new K,J=new K,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function re(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(r)}catch(e){}J.set(e,t,r)}else r=void 0;return r}D.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,r){return J.access(e,t,r)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,r){return Q.access(e,t,r)},_removeData:function(e,t){Q.remove(e,t)}}),D.fn.extend({data:function(e,t){var r,n,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=J.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&0===(n=a[r].name).indexOf("data-")&&(n=X(n.slice(5)),re(i,n,o[n]));Q.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){J.set(this,e)}):H(this,function(t){var r;if(i&&void 0===t)return void 0!==(r=J.get(i,e))?r:void 0!==(r=re(i,e))?r:void 0;this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),D.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=Q.get(e,t),r&&(!n||Array.isArray(r)?n=Q.access(e,t,D.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=D.queue(e,t),n=r.length,o=r.shift(),i=D._queueHooks(e,t);"inprogress"===o&&(o=r.shift(),n--),o&&("fx"===t&&r.unshift("inprogress"),delete i.stop,o.call(e,function(){D.dequeue(e,t)},i)),!n&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return Q.get(e,r)||Q.access(e,r,{empty:D.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",r])})})}}),D.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?D.queue(this[0],e):void 0===t?this:this.each(function(){var r=D.queue(this,e,t);D._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&D.dequeue(this,e)})},dequeue:function(e){return this.each(function(){D.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,o=D.Deferred(),i=this,a=this.length,s=function(){--n||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=Q.get(i[a],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),o.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&D.contains(e.ownerDocument,e)&&"none"===D.css(e,"display")},se=function(e,t,r,n){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=r.apply(e,n||[]),t)e.style[i]=a[i];return o};function le(e,t,r,n){var o,i,a=20,s=n?function(){return n.cur()}:function(){return D.css(e,t,"")},l=s(),u=r&&r[3]||(D.cssNumber[t]?"":"px"),c=(D.cssNumber[t]||"px"!==u&&+l)&&oe.exec(D.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)D.style(e,t,c+u),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),c/=i;c*=2,D.style(e,t,c+u),r=r||[]}return r&&(c=+c||+l||0,o=r[1]?c+(r[1]+1)*r[2]:+r[2],n&&(n.unit=u,n.start=c,n.end=o)),o}var ue={};function ce(e){var t,r=e.ownerDocument,n=e.nodeName,o=ue[n];return o||(t=r.body.appendChild(r.createElement(n)),o=D.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ue[n]=o,o)}function fe(e,t){for(var r,n,o=[],i=0,a=e.length;i<a;i++)(n=e[i]).style&&(r=n.style.display,t?("none"===r&&(o[i]=Q.get(n,"display")||null,o[i]||(n.style.display="")),""===n.style.display&&ae(n)&&(o[i]=ce(n))):"none"!==r&&(o[i]="none",Q.set(n,"display",r)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}D.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?D(this).show():D(this).hide()})}});var he=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,de=/^$|^module$|\/(?:java|ecma)script/i,me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&z(e,t)?D.merge([e],r):r}function ye(e,t){for(var r=0,n=e.length;r<n;r++)Q.set(e[r],"globalEval",!t||Q.get(t[r],"globalEval"))}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td;var ge=/<|&#?\w+;/;function be(e,t,r,n,o){for(var i,a,s,l,u,c,f=t.createDocumentFragment(),h=[],p=0,d=e.length;p<d;p++)if((i=e[p])||0===i)if("object"===_(i))D.merge(h,i.nodeType?[i]:i);else if(ge.test(i)){for(a=a||f.appendChild(t.createElement("div")),s=(pe.exec(i)||["",""])[1].toLowerCase(),l=me[s]||me._default,a.innerHTML=l[1]+D.htmlPrefilter(i)+l[2],c=l[0];c--;)a=a.lastChild;D.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(t.createTextNode(i));for(f.textContent="",p=0;i=h[p++];)if(n&&D.inArray(i,n)>-1)o&&o.push(i);else if(u=D.contains(i.ownerDocument,i),a=ve(f.appendChild(i),"script"),u&&ye(a),r)for(c=0;i=a[c++];)de.test(i.type||"")&&r.push(i);return f}!function(){var e=a.createDocumentFragment().appendChild(a.createElement("div")),t=a.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),y.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var xe=a.documentElement,we=/^key/,_e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,De=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function Ce(){return!1}function Ae(){try{return a.activeElement}catch(e){}}function $e(e,t,r,n,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)$e(e,s,r,n,t[s],i);return e}if(null==n&&null==o?(o=r,n=r=void 0):null==o&&("string"==typeof r?(o=n,n=void 0):(o=n,n=r,r=void 0)),!1===o)o=Ce;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return D().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=D.guid++)),e.each(function(){D.event.add(this,t,o,n,r)})}D.event={global:{},add:function(e,t,r,n,o){var i,a,s,l,u,c,f,h,p,d,m,v=Q.get(e);if(v)for(r.handler&&(r=(i=r).handler,o=i.selector),o&&D.find.matchesSelector(xe,o),r.guid||(r.guid=D.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==D&&D.event.triggered!==t.type?D.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(N)||[""]).length;u--;)p=m=(s=De.exec(t[u])||[])[1],d=(s[2]||"").split(".").sort(),p&&(f=D.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=D.event.special[p]||{},c=D.extend({type:p,origType:m,data:n,handler:r,guid:r.guid,selector:o,needsContext:o&&D.expr.match.needsContext.test(o),namespace:d.join(".")},i),(h=l[p])||((h=l[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,n,d,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),D.event.global[p]=!0)},remove:function(e,t,r,n,o){var i,a,s,l,u,c,f,h,p,d,m,v=Q.hasData(e)&&Q.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(N)||[""]).length;u--;)if(p=m=(s=De.exec(t[u])||[])[1],d=(s[2]||"").split(".").sort(),p){for(f=D.event.special[p]||{},h=l[p=(n?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=h.length;i--;)c=h[i],!o&&m!==c.origType||r&&r.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(h.splice(i,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(e,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(e,d,v.handle)||D.removeEvent(e,p,v.handle),delete l[p])}else for(p in l)D.event.remove(e,p+t[u],r,n,!0);D.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,r,n,o,i,a,s=D.event.fix(e),l=new Array(arguments.length),u=(Q.get(this,"events")||{})[s.type]||[],c=D.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=D.event.handlers.call(this,s,u),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(n=((D.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var r,n,o,i,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],a={},r=0;r<l;r++)void 0===a[o=(n=t[r]).selector+" "]&&(a[o]=n.needsContext?D(o,this).index(u)>-1:D.find(o,this,null,[u]).length),a[o]&&i.push(n);i.length&&s.push({elem:u,handlers:i})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(D.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[D.expando]?e:new D.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ae()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ae()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&z(this,"input"))return this.click(),!1},_default:function(e){return z(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},D.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},D.Event=function(e,t){if(!(this instanceof D.Event))return new D.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&D.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[D.expando]=!0},D.Event.prototype={constructor:D.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},D.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&_e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},D.event.addProp),D.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){D.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||D.contains(this,n))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),D.fn.extend({on:function(e,t,r,n){return $e(this,e,t,r,n)},one:function(e,t,r,n){return $e(this,e,t,r,n,1)},off:function(e,t,r){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,D(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=Ce),this.each(function(){D.event.remove(this,e,r,t)})}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Te=/<script|<style|<link/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Ee=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return z(e,"table")&&z(11!==t.nodeType?t:t.firstChild,"tr")&&D(e).children("tbody")[0]||e}function ke(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(e,t){var r,n,o,i,a,s,l,u;if(1===t.nodeType){if(Q.hasData(e)&&(i=Q.access(e),a=Q.set(t,i),u=i.events))for(o in delete a.handle,a.events={},u)for(r=0,n=u[o].length;r<n;r++)D.event.add(t,o,u[o][r]);J.hasData(e)&&(s=J.access(e),l=D.extend({},s),J.set(t,l))}}function je(e,t){var r=t.nodeName.toLowerCase();"input"===r&&he.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function Pe(e,t,r,n){t=u.apply([],t);var o,i,a,s,l,c,f=0,h=e.length,p=h-1,d=t[0],m=g(d);if(m||h>1&&"string"==typeof d&&!y.checkClone&&ze.test(d))return e.each(function(o){var i=e.eq(o);m&&(t[0]=d.call(this,o,i.html())),Pe(i,t,r,n)});if(h&&(i=(o=be(t,e[0].ownerDocument,!1,e,n)).firstChild,1===o.childNodes.length&&(o=i),i||n)){for(s=(a=D.map(ve(o,"script"),ke)).length;f<h;f++)l=o,f!==p&&(l=D.clone(l,!0,!0),s&&D.merge(a,ve(l,"script"))),r.call(e[f],l,f);if(s)for(c=a[a.length-1].ownerDocument,D.map(a,Ie),f=0;f<s;f++)l=a[f],de.test(l.type||"")&&!Q.access(l,"globalEval")&&D.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?D._evalUrl&&D._evalUrl(l.src):w(l.textContent.replace(Ee,""),c,l))}return e}function Ne(e,t,r){for(var n,o=t?D.filter(t,e):e,i=0;null!=(n=o[i]);i++)r||1!==n.nodeType||D.cleanData(ve(n)),n.parentNode&&(r&&D.contains(n.ownerDocument,n)&&ye(ve(n,"script")),n.parentNode.removeChild(n));return e}D.extend({htmlPrefilter:function(e){return e.replace(Me,"<$1></$2>")},clone:function(e,t,r){var n,o,i,a,s=e.cloneNode(!0),l=D.contains(e.ownerDocument,e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||D.isXMLDoc(e)))for(a=ve(s),n=0,o=(i=ve(e)).length;n<o;n++)je(i[n],a[n]);if(t)if(r)for(i=i||ve(e),a=a||ve(s),n=0,o=i.length;n<o;n++)Oe(i[n],a[n]);else Oe(e,s);return(a=ve(s,"script")).length>0&&ye(a,!l&&ve(e,"script")),s},cleanData:function(e){for(var t,r,n,o=D.event.special,i=0;void 0!==(r=e[i]);i++)if(Z(r)){if(t=r[Q.expando]){if(t.events)for(n in t.events)o[n]?D.event.remove(r,n):D.removeEvent(r,n,t.handle);r[Q.expando]=void 0}r[J.expando]&&(r[J.expando]=void 0)}}}),D.fn.extend({detach:function(e){return Ne(this,e,!0)},remove:function(e){return Ne(this,e)},text:function(e){return H(this,function(e){return void 0===e?D.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(D.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return D.clone(this,e,t)})},html:function(e){return H(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!me[(pe.exec(e)||["",""])[1].toLowerCase()]){e=D.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(D.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,function(t){var r=this.parentNode;D.inArray(this,e)<0&&(D.cleanData(ve(this)),r&&r.replaceChild(t,this))},e)}}),D.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){D.fn[e]=function(e){for(var r,n=[],o=D(e),i=o.length-1,a=0;a<=i;a++)r=a===i?this:this.clone(!0),D(o[a])[t](r),c.apply(n,r.get());return this.pushStack(n)}});var Fe=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},qe=new RegExp(ie.join("|"),"i");function Ve(e,t,r){var n,o,i,a,s=e.style;return(r=r||Re(e))&&(""!==(a=r.getPropertyValue(t)||r[t])||D.contains(e.ownerDocument,e)||(a=D.style(e,t)),!y.pixelBoxStyles()&&Fe.test(a)&&qe.test(t)&&(n=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function Be(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xe.appendChild(u).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",s=36===t(e.right),o=36===t(e.width),c.style.position="absolute",i=36===c.offsetWidth||"absolute",xe.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var n,o,i,s,l,u=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===c.style.backgroundClip,D.extend(y,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),i}}))}();var Ue=/^(none|table(?!-c[ea]).+)/,He=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},We={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","Moz","ms"],Xe=a.createElement("div").style;function Ze(e){var t=D.cssProps[e];return t||(t=D.cssProps[e]=function(e){if(e in Xe)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=Ye.length;r--;)if((e=Ye[r]+t)in Xe)return e}(e)||e),t}function Ke(e,t,r){var n=oe.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function Qe(e,t,r,n,o,i){var a="width"===t?1:0,s=0,l=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(l+=D.css(e,r+ie[a],!0,o)),n?("content"===r&&(l-=D.css(e,"padding"+ie[a],!0,o)),"margin"!==r&&(l-=D.css(e,"border"+ie[a]+"Width",!0,o))):(l+=D.css(e,"padding"+ie[a],!0,o),"padding"!==r?l+=D.css(e,"border"+ie[a]+"Width",!0,o):s+=D.css(e,"border"+ie[a]+"Width",!0,o));return!n&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))),l}function Je(e,t,r){var n=Re(e),o=Ve(e,t,n),i="border-box"===D.css(e,"boxSizing",!1,n),a=i;if(Fe.test(o)){if(!r)return o;o="auto"}return a=a&&(y.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===D.css(e,"display",!1,n))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(o=parseFloat(o)||0)+Qe(e,t,r||(i?"border":"content"),a,n,o)+"px"}function et(e,t,r,n,o){return new et.prototype.init(e,t,r,n,o)}D.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Ve(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=X(t),l=He.test(t),u=e.style;if(l||(t=Ze(s)),a=D.cssHooks[t]||D.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:u[t];"string"===(i=typeof r)&&(o=oe.exec(r))&&o[1]&&(r=le(e,t,o),i="number"),null!=r&&r==r&&("number"===i&&(r+=o&&o[3]||(D.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==r||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(l?u.setProperty(t,r):u[t]=r))}},css:function(e,t,r,n){var o,i,a,s=X(t);return He.test(t)||(t=Ze(s)),(a=D.cssHooks[t]||D.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,r)),void 0===o&&(o=Ve(e,t,n)),"normal"===o&&t in We&&(o=We[t]),""===r||r?(i=parseFloat(o),!0===r||isFinite(i)?i||0:o):o}}),D.each(["height","width"],function(e,t){D.cssHooks[t]={get:function(e,r,n){if(r)return!Ue.test(D.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,t,n):se(e,Ge,function(){return Je(e,t,n)})},set:function(e,r,n){var o,i=Re(e),a="border-box"===D.css(e,"boxSizing",!1,i),s=n&&Qe(e,t,n,a,i);return a&&y.scrollboxSize()===i.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Qe(e,t,"border",!1,i)-.5)),s&&(o=oe.exec(r))&&"px"!==(o[3]||"px")&&(e.style[t]=r,r=D.css(e,t)),Ke(0,r,s)}}}),D.cssHooks.marginLeft=Be(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ve(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),D.each({margin:"",padding:"",border:"Width"},function(e,t){D.cssHooks[e+t]={expand:function(r){for(var n=0,o={},i="string"==typeof r?r.split(" "):[r];n<4;n++)o[e+ie[n]+t]=i[n]||i[n-2]||i[0];return o}},"margin"!==e&&(D.cssHooks[e+t].set=Ke)}),D.fn.extend({css:function(e,t){return H(this,function(e,t,r){var n,o,i={},a=0;if(Array.isArray(t)){for(n=Re(e),o=t.length;a<o;a++)i[t[a]]=D.css(e,t[a],!1,n);return i}return void 0!==r?D.style(e,t,r):D.css(e,t)},e,t,arguments.length>1)}}),D.Tween=et,et.prototype={constructor:et,init:function(e,t,r,n,o,i){this.elem=e,this.prop=r,this.easing=o||D.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=i||(D.cssNumber[r]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,r=et.propHooks[this.prop];return this.options.duration?this.pos=t=D.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=D.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){D.fx.step[e.prop]?D.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[D.cssProps[e.prop]]&&!D.cssHooks[e.prop]?e.elem[e.prop]=e.now:D.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},D.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},D.fx=et.prototype.init,D.fx.step={};var tt,rt,nt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function it(){rt&&(!1===a.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(it):r.setTimeout(it,D.fx.interval),D.fx.tick())}function at(){return r.setTimeout(function(){tt=void 0}),tt=Date.now()}function st(e,t){var r,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(r=ie[n])]=o["padding"+r]=e;return t&&(o.opacity=o.width=e),o}function lt(e,t,r){for(var n,o=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),i=0,a=o.length;i<a;i++)if(n=o[i].call(r,t,e))return n}function ut(e,t,r){var n,o,i=0,a=ut.prefilters.length,s=D.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=tt||at(),r=Math.max(0,u.startTime+u.duration-t),n=1-(r/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(n);return s.notifyWith(e,[u,n,r]),n<1&&a?r:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:D.extend({},t),opts:D.extend(!0,{specialEasing:{},easing:D.easing._default},r),originalProperties:t,originalOptions:r,startTime:tt||at(),duration:r.duration,tweens:[],createTween:function(t,r){var n=D.Tween(e,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var r=0,n=t?u.tweens.length:0;if(o)return this;for(o=!0;r<n;r++)u.tweens[r].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var r,n,o,i,a;for(r in e)if(o=t[n=X(r)],i=e[r],Array.isArray(i)&&(o=i[1],i=e[r]=i[0]),r!==n&&(e[n]=i,delete e[r]),(a=D.cssHooks[n])&&"expand"in a)for(r in i=a.expand(i),delete e[n],i)r in e||(e[r]=i[r],t[r]=o);else t[n]=o}(c,u.opts.specialEasing);i<a;i++)if(n=ut.prefilters[i].call(u,e,c,u.opts))return g(n.stop)&&(D._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return D.map(c,lt,u),g(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),D.fx.timer(D.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}D.Animation=D.extend(ut,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return le(r.elem,e,oe.exec(t),r),r}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(N);for(var r,n=0,o=e.length;n<o;n++)r=e[n],ut.tweeners[r]=ut.tweeners[r]||[],ut.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,o,i,a,s,l,u,c,f="width"in t||"height"in t,h=this,p={},d=e.style,m=e.nodeType&&ae(e),v=Q.get(e,"fxshow");for(n in r.queue||(null==(a=D._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,D.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[n],nt.test(o)){if(delete t[n],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!v||void 0===v[n])continue;m=!0}p[n]=v&&v[n]||D.style(e,n)}if((l=!D.isEmptyObject(t))||!D.isEmptyObject(p))for(n in f&&1===e.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=v&&v.display)&&(u=Q.get(e,"display")),"none"===(c=D.css(e,"display"))&&(u?c=u:(fe([e],!0),u=e.style.display||u,c=D.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===D.css(e,"float")&&(l||(h.done(function(){d.display=u}),null==u&&(c=d.display,u="none"===c?"":c)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),l=!1,p)l||(v?"hidden"in v&&(m=v.hidden):v=Q.access(e,"fxshow",{display:u}),i&&(v.hidden=!m),m&&fe([e],!0),h.done(function(){for(n in m||fe([e]),Q.remove(e,"fxshow"),p)D.style(e,n,p[n])})),l=lt(m?v[n]:0,n,h),n in v||(v[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),D.speed=function(e,t,r){var n=e&&"object"==typeof e?D.extend({},e):{complete:r||!r&&t||g(e)&&e,duration:e,easing:r&&t||t&&!g(t)&&t};return D.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in D.fx.speeds?n.duration=D.fx.speeds[n.duration]:n.duration=D.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){g(n.old)&&n.old.call(this),n.queue&&D.dequeue(this,n.queue)},n},D.fn.extend({fadeTo:function(e,t,r,n){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var o=D.isEmptyObject(e),i=D.speed(t,r,n),a=function(){var t=ut(this,D.extend({},e),i);(o||Q.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=D.timers,a=Q.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&ot.test(o)&&n(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(r),t=!1,i.splice(o,1));!t&&r||D.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=Q.get(this),n=r[e+"queue"],o=r[e+"queueHooks"],i=D.timers,a=n?n.length:0;for(r.finish=!0,D.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),D.each(["toggle","show","hide"],function(e,t){var r=D.fn[t];D.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(st(t,!0),e,n,o)}}),D.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){D.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),D.timers=[],D.fx.tick=function(){var e,t=0,r=D.timers;for(tt=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||D.fx.stop(),tt=void 0},D.fx.timer=function(e){D.timers.push(e),D.fx.start()},D.fx.interval=13,D.fx.start=function(){rt||(rt=!0,it())},D.fx.stop=function(){rt=null},D.fx.speeds={slow:600,fast:200,_default:400},D.fn.delay=function(e,t){return e=D.fx&&D.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var o=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(o)}})},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",y.checkOn=""!==e.value,y.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",y.radioValue="t"===e.value}();var ct,ft=D.expr.attrHandle;D.fn.extend({attr:function(e,t){return H(this,D.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){D.removeAttr(this,e)})}}),D.extend({attr:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?D.prop(e,t,r):(1===i&&D.isXMLDoc(e)||(o=D.attrHooks[t.toLowerCase()]||(D.expr.match.bool.test(t)?ct:void 0)),void 0!==r?null===r?void D.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:(e.setAttribute(t,r+""),r):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=D.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&z(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,o=t&&t.match(N);if(o&&1===e.nodeType)for(;r=o[n++];)e.removeAttribute(r)}}),ct={set:function(e,t,r){return!1===t?D.removeAttr(e,r):e.setAttribute(r,r),r}},D.each(D.expr.match.bool.source.match(/\w+/g),function(e,t){var r=ft[t]||D.find.attr;ft[t]=function(e,t,n){var o,i,a=t.toLowerCase();return n||(i=ft[a],ft[a]=o,o=null!=r(e,t,n)?a:null,ft[a]=i),o}});var ht=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function dt(e){return(e.match(N)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}D.fn.extend({prop:function(e,t){return H(this,D.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[D.propFix[e]||e]})}}),D.extend({prop:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&D.isXMLDoc(e)||(t=D.propFix[t]||t,o=D.propHooks[t]),void 0!==r?o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:e[t]=r:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=D.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(D.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),D.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){D.propFix[this.toLowerCase()]=this}),D.fn.extend({addClass:function(e){var t,r,n,o,i,a,s,l=0;if(g(e))return this.each(function(t){D(this).addClass(e.call(this,t,mt(this)))});if((t=vt(e)).length)for(;r=this[l++];)if(o=mt(r),n=1===r.nodeType&&" "+dt(o)+" "){for(a=0;i=t[a++];)n.indexOf(" "+i+" ")<0&&(n+=i+" ");o!==(s=dt(n))&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,n,o,i,a,s,l=0;if(g(e))return this.each(function(t){D(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;r=this[l++];)if(o=mt(r),n=1===r.nodeType&&" "+dt(o)+" "){for(a=0;i=t[a++];)for(;n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");o!==(s=dt(n))&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var r=typeof e,n="string"===r||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(r){D(this).toggleClass(e.call(this,r,mt(this),t),t)}):this.each(function(){var t,o,i,a;if(n)for(o=0,i=D(this),a=vt(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==r||((t=mt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+dt(mt(r))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;D.fn.extend({val:function(e){var t,r,n,o=this[0];return arguments.length?(n=g(e),this.each(function(r){var o;1===this.nodeType&&(null==(o=n?e.call(this,r,D(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=D.map(o,function(e){return null==e?"":e+""})),(t=D.valHooks[this.type]||D.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=D.valHooks[o.type]||D.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(o,"value"))?r:"string"==typeof(r=o.value)?r.replace(yt,""):null==r?"":r:void 0}}),D.extend({valHooks:{option:{get:function(e){var t=D.find.attr(e,"value");return null!=t?t:dt(D.text(e))}},select:{get:function(e){var t,r,n,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(n=i<0?l:a?i:0;n<l;n++)if(((r=o[n]).selected||n===i)&&!r.disabled&&(!r.parentNode.disabled||!z(r.parentNode,"optgroup"))){if(t=D(r).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var r,n,o=e.options,i=D.makeArray(t),a=o.length;a--;)((n=o[a]).selected=D.inArray(D.valHooks.option.get(n),i)>-1)&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),D.each(["radio","checkbox"],function(){D.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=D.inArray(D(e).val(),t)>-1}},y.checkOn||(D.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in r;var gt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};D.extend(D.event,{trigger:function(e,t,n,o){var i,s,l,u,c,f,h,p,m=[n||a],v=d.call(e,"type")?e.type:e,y=d.call(e,"namespace")?e.namespace.split("."):[];if(s=p=l=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!gt.test(v+D.event.triggered)&&(v.indexOf(".")>-1&&(v=(y=v.split(".")).shift(),y.sort()),c=v.indexOf(":")<0&&"on"+v,(e=e[D.expando]?e:new D.Event(v,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:D.makeArray(t,[e]),h=D.event.special[v]||{},o||!h.trigger||!1!==h.trigger.apply(n,t))){if(!o&&!h.noBubble&&!b(n)){for(u=h.delegateType||v,gt.test(u+v)||(s=s.parentNode);s;s=s.parentNode)m.push(s),l=s;l===(n.ownerDocument||a)&&m.push(l.defaultView||l.parentWindow||r)}for(i=0;(s=m[i++])&&!e.isPropagationStopped();)p=s,e.type=i>1?u:h.bindType||v,(f=(Q.get(s,"events")||{})[e.type]&&Q.get(s,"handle"))&&f.apply(s,t),(f=c&&s[c])&&f.apply&&Z(s)&&(e.result=f.apply(s,t),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),t)||!Z(n)||c&&g(n[v])&&!b(n)&&((l=n[c])&&(n[c]=null),D.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,bt),n[v](),e.isPropagationStopped()&&p.removeEventListener(v,bt),D.event.triggered=void 0,l&&(n[c]=l)),e.result}},simulate:function(e,t,r){var n=D.extend(new D.Event,r,{type:e,isSimulated:!0});D.event.trigger(n,null,t)}}),D.fn.extend({trigger:function(e,t){return this.each(function(){D.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return D.event.trigger(e,t,r,!0)}}),y.focusin||D.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){D.event.simulate(t,e.target,D.event.fix(e))};D.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=Q.access(n,t);o||n.addEventListener(e,r,!0),Q.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Q.access(n,t)-1;o?Q.access(n,t,o):(n.removeEventListener(e,r,!0),Q.remove(n,t))}}});var xt=r.location,wt=Date.now(),_t=/\?/;D.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||D.error("Invalid XML: "+e),t};var Dt=/\[\]$/,St=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function $t(e,t,r,n){var o;if(Array.isArray(t))D.each(t,function(t,o){r||Dt.test(e)?n(e,o):$t(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,r,n)});else if(r||"object"!==_(t))n(e,t);else for(o in t)$t(e+"["+o+"]",t[o],r,n)}D.param=function(e,t){var r,n=[],o=function(e,t){var r=g(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(e)||e.jquery&&!D.isPlainObject(e))D.each(e,function(){o(this.name,this.value)});else for(r in e)$t(r,e[r],t,o);return n.join("&")},D.fn.extend({serialize:function(){return D.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=D.prop(this,"elements");return e?D.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!D(this).is(":disabled")&&At.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!he.test(e))}).map(function(e,t){var r=D(this).val();return null==r?null:Array.isArray(r)?D.map(r,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:r.replace(St,"\r\n")}}).get()}});var Mt=/%20/g,Tt=/#.*$/,zt=/([?&])_=[^&]*/,Et=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,kt=/^\/\//,It={},Ot={},jt="*/".concat("*"),Pt=a.createElement("a");function Nt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,o=0,i=t.toLowerCase().match(N)||[];if(g(r))for(;n=i[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Ft(e,t,r,n){var o={},i=e===Ot;function a(s){var l;return o[s]=!0,D.each(e[s]||[],function(e,s){var u=s(t,r,n);return"string"!=typeof u||i||o[u]?i?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)}),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Rt(e,t){var r,n,o=D.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&D.extend(!0,e,n),e}Pt.href=xt.href,D.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":D.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Rt(Rt(e,D.ajaxSettings),t):Rt(D.ajaxSettings,e)},ajaxPrefilter:Nt(It),ajaxTransport:Nt(Ot),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,i,s,l,u,c,f,h,p,d=D.ajaxSetup({},t),m=d.context||d,v=d.context&&(m.nodeType||m.jquery)?D(m):D.event,y=D.Deferred(),g=D.Callbacks("once memory"),b=d.statusCode||{},x={},w={},_="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Et.exec(i);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return n&&n.abort(t),C(0,t),this}};if(y.promise(S),d.url=((e||d.url||xt.href)+"").replace(kt,xt.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(N)||[""],null==d.crossDomain){u=a.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Pt.protocol+"//"+Pt.host!=u.protocol+"//"+u.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=D.param(d.data,d.traditional)),Ft(It,d,t,S),c)return S;for(h in(f=D.event&&d.global)&&0==D.active++&&D.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Lt.test(d.type),o=d.url.replace(Tt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Mt,"+")):(p=d.url.slice(o.length),d.data&&(d.processData||"string"==typeof d.data)&&(o+=(_t.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(o=o.replace(zt,"$1"),p=(_t.test(o)?"&":"?")+"_="+wt+++p),d.url=o+p),d.ifModified&&(D.lastModified[o]&&S.setRequestHeader("If-Modified-Since",D.lastModified[o]),D.etag[o]&&S.setRequestHeader("If-None-Match",D.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+jt+"; q=0.01":""):d.accepts["*"]),d.headers)S.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(m,S,d)||c))return S.abort();if(_="abort",g.add(d.complete),S.done(d.success),S.fail(d.error),n=Ft(Ot,d,t,S)){if(S.readyState=1,f&&v.trigger("ajaxSend",[S,d]),c)return S;d.async&&d.timeout>0&&(l=r.setTimeout(function(){S.abort("timeout")},d.timeout));try{c=!1,n.send(x,C)}catch(e){if(c)throw e;C(-1,e)}}else C(-1,"No Transport");function C(e,t,a,s){var u,h,p,x,w,_=t;c||(c=!0,l&&r.clearTimeout(l),n=void 0,i=s||"",S.readyState=e>0?4:0,u=e>=200&&e<300||304===e,a&&(x=function(e,t,r){for(var n,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in r)i=l[0];else{for(o in r){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),r[i]}(d,S,a)),x=function(e,t,r,n){var o,i,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=u[l+" "+i]||u["* "+i]))for(o in u)if((s=o.split(" "))[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(d,x,S,u),u?(d.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(D.lastModified[o]=w),(w=S.getResponseHeader("etag"))&&(D.etag[o]=w)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=x.state,h=x.data,u=!(p=x.error))):(p=_,!e&&_||(_="error",e<0&&(e=0))),S.status=e,S.statusText=(t||_)+"",u?y.resolveWith(m,[h,_,S]):y.rejectWith(m,[S,_,p]),S.statusCode(b),b=void 0,f&&v.trigger(u?"ajaxSuccess":"ajaxError",[S,d,u?h:p]),g.fireWith(m,[S,_]),f&&(v.trigger("ajaxComplete",[S,d]),--D.active||D.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,r){return D.get(e,t,r,"json")},getScript:function(e,t){return D.get(e,void 0,t,"script")}}),D.each(["get","post"],function(e,t){D[t]=function(e,r,n,o){return g(r)&&(o=o||n,n=r,r=void 0),D.ajax(D.extend({url:e,type:t,dataType:o,data:r,success:n},D.isPlainObject(e)&&e))}}),D._evalUrl=function(e){return D.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},D.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=D(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){D(this).wrapInner(e.call(this,t))}):this.each(function(){var t=D(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(r){D(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){D(this).replaceWith(this.childNodes)}),this}}),D.expr.pseudos.hidden=function(e){return!D.expr.pseudos.visible(e)},D.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},D.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Vt=D.ajaxSettings.xhr();y.cors=!!Vt&&"withCredentials"in Vt,y.ajax=Vt=!!Vt,D.ajaxTransport(function(e){var t,n;if(y.cors||Vt&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(qt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),D.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),D.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return D.globalEval(e),e}}}),D.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),D.ajaxTransport("script",function(e){var t,r;if(e.crossDomain)return{send:function(n,o){t=D("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&o("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){r&&r()}}});var Bt=[],Ut=/(=)\?(?=&|$)|\?\?/;D.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bt.pop()||D.expando+"_"+wt++;return this[e]=!0,e}}),D.ajaxPrefilter("json jsonp",function(e,t,n){var o,i,a,s=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ut,"$1"+o):!1!==e.jsonp&&(e.url+=(_t.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||D.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=r[o],r[o]=function(){a=arguments},n.always(function(){void 0===i?D(r).removeProp(o):r[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Bt.push(o)),a&&g(i)&&i(a[0]),a=i=void 0}),"script"}),y.createHTMLDocument=function(){var e=a.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),D.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(y.createHTMLDocument?((n=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(n)):t=a),o=E.exec(e),i=!r&&[],o?[t.createElement(o[1])]:(o=be([e],t,i),i&&i.length&&D(i).remove(),D.merge([],o.childNodes)));var n,o,i},D.fn.load=function(e,t,r){var n,o,i,a=this,s=e.indexOf(" ");return s>-1&&(n=dt(e.slice(s)),e=e.slice(0,s)),g(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&D.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(n?D("<div>").append(D.parseHTML(e)).find(n):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,i||[e.responseText,t,e])})}),this},D.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){D.fn[t]=function(e){return this.on(t,e)}}),D.expr.pseudos.animated=function(e){return D.grep(D.timers,function(t){return e===t.elem}).length},D.offset={setOffset:function(e,t,r){var n,o,i,a,s,l,u=D.css(e,"position"),c=D(e),f={};"static"===u&&(e.style.position="relative"),s=c.offset(),i=D.css(e,"top"),l=D.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+l).indexOf("auto")>-1?(a=(n=c.position()).top,o=n.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),g(t)&&(t=t.call(e,r,D.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):c.css(f)}},D.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){D.offset.setOffset(this,e,t)});var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],o={top:0,left:0};if("fixed"===D.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===D.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=D(e).offset()).top+=D.css(e,"borderTopWidth",!0),o.left+=D.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-D.css(n,"marginTop",!0),left:t.left-o.left-D.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===D.css(e,"position");)e=e.offsetParent;return e||xe})}}),D.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;D.fn[e]=function(n){return H(this,function(e,n,o){var i;if(b(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[n];i?i.scrollTo(r?i.pageXOffset:o,r?o:i.pageYOffset):e[n]=o},e,n,arguments.length)}}),D.each(["top","left"],function(e,t){D.cssHooks[t]=Be(y.pixelPosition,function(e,r){if(r)return r=Ve(e,t),Fe.test(r)?D(e).position()[t]+"px":r})}),D.each({Height:"height",Width:"width"},function(e,t){D.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){D.fn[n]=function(o,i){var a=arguments.length&&(r||"boolean"!=typeof o),s=r||(!0===o||!0===i?"margin":"border");return H(this,function(t,r,o){var i;return b(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?D.css(t,r,s):D.style(t,r,o,s)},t,a?o:void 0,a)}})}),D.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){D.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),D.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),D.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),D.proxy=function(e,t){var r,n,o;if("string"==typeof t&&(r=e[t],t=e,e=r),g(e))return n=l.call(arguments,2),(o=function(){return e.apply(t||this,n.concat(l.call(arguments)))}).guid=e.guid=e.guid||D.guid++,o},D.holdReady=function(e){e?D.readyWait++:D.ready(!0)},D.isArray=Array.isArray,D.parseJSON=JSON.parse,D.nodeName=z,D.isFunction=g,D.isWindow=b,D.camelCase=X,D.type=_,D.now=Date.now,D.isNumeric=function(e){var t=D.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(n=function(){return D}.apply(t,[]))||(e.exports=n);var Ht=r.jQuery,Gt=r.$;return D.noConflict=function(e){return r.$===D&&(r.$=Gt),e&&r.jQuery===D&&(r.jQuery=Ht),D},o||(r.jQuery=r.$=D),D})}]);