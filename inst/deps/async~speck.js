(window["webpackJsonpdash_bio"] = window["webpackJsonpdash_bio"] || []).push([["async~speck"],{

/***/ "./node_modules/fast-memoize/src/index.js":
/*!************************************************!*\
  !*** ./node_modules/fast-memoize/src/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3)\n  var cacheKey = serializer(args)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null)\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n}\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n}\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value\n}\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n}\n\n//\n// API\n//\n\nmodule.exports = memoize\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n}\n\n\n//# sourceURL=webpack://dash_bio/./node_modules/fast-memoize/src/index.js?");

/***/ }),

/***/ "./src/lib/fragments/Speck.react.js":
/*!******************************************!*\
  !*** ./src/lib/fragments/Speck.react.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Speck; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ramda */ \"./node_modules/ramda/es/index.js\");\n/* harmony import */ var fast_memoize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fast-memoize */ \"./node_modules/fast-memoize/src/index.js\");\n/* harmony import */ var fast_memoize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fast_memoize__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var speck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! speck */ \"./node_modules/speck/build/index.js\");\n/* harmony import */ var speck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(speck__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_Speck_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Speck.react */ \"./src/lib/components/Speck.react.js\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\n/**\n * Define private functions and variables used in the Speck component.\n **/\n// Time (in milliseconds) idle before props reconciliation with external\n// view is done\n\nvar PROPS_RECONCILE_DEBOUNCE_TIME = 500;\nvar generateSystem = fast_memoize__WEBPACK_IMPORTED_MODULE_2___default()(function (data) {\n  var system = speck__WEBPACK_IMPORTED_MODULE_3__[\"speckSystem\"].new();\n\n  for (var i = 0; i < data.length; i++) {\n    // get the coordinate data\n    var a = data[i]; // add to the system\n\n    speck__WEBPACK_IMPORTED_MODULE_3__[\"speckSystem\"].addAtom(system, a.symbol, a.x, a.y, a.z);\n  }\n\n  speck__WEBPACK_IMPORTED_MODULE_3__[\"speckSystem\"].center(system);\n  speck__WEBPACK_IMPORTED_MODULE_3__[\"speckSystem\"].calculateBonds(system);\n  return system;\n});\n\nvar viewClone = function viewClone(view) {\n  return Object(ramda__WEBPACK_IMPORTED_MODULE_1__[\"mergeAll\"])([view, {\n    rotation: new Float32Array(view.rotation),\n    translation: Object(ramda__WEBPACK_IMPORTED_MODULE_1__[\"mergeAll\"])([view.translation])\n  }]);\n};\n\nvar viewAssign = function viewAssign() {\n  var view1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var view2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.assign(view1, view2);\n};\n\nvar viewHasEqual = function viewHasEqual(view1) {\n  var view1Str = JSON.stringify(view1);\n\n  for (var i = 1; i < arguments.length; i++) {\n    if (view1Str === JSON.stringify(arguments[i])) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nvar Speck =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Speck, _Component);\n\n  function Speck(props) {\n    var _this;\n\n    _classCallCheck(this, Speck);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Speck).call(this, props));\n    _this.state = {\n      renderer: null\n    };\n\n    _this.eventListenDestructor = function () {\n      /* no-op */\n    };\n\n    _this.refreshView = false;\n    _this.propsReconcileTimeout = null;\n    _this.view = viewAssign(speck__WEBPACK_IMPORTED_MODULE_3__[\"speckView\"].new(), props.view);\n\n    _this.props.setProps({\n      view: viewClone(_this.view)\n    }); // setting refs in this way to allow for easier updating to\n    // react 16\n\n\n    _this.setCanvasRef = function (e) {\n      _this.canvas = e;\n    };\n\n    _this.setContainerRef = function (e) {\n      _this.container = e;\n    };\n\n    _this.loop = _this.loop.bind(_assertThisInitialized(_this));\n    _this.loadStructure = _this.loadStructure.bind(_assertThisInitialized(_this));\n    _this.propsReconcile = _this.propsReconcile.bind(_assertThisInitialized(_this));\n    _this.propsReconcileSchedule = _this.propsReconcileSchedule.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Speck, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var scrollZoom = this.props.scrollZoom;\n      var canvas = this.canvas,\n          container = this.container;\n      var resolution = 200;\n      var aoResolution = 300;\n      var renderer = new speck__WEBPACK_IMPORTED_MODULE_3__[\"speckRenderer\"](canvas, resolution, aoResolution);\n      this.setState({\n        renderer: renderer\n      }, this.loadStructure); // add event listeners\n\n      this.eventListenDestructor = Object(speck__WEBPACK_IMPORTED_MODULE_3__[\"speckInteractions\"])({\n        scrollZoom: scrollZoom,\n        container: container,\n        getRotation: function getRotation() {\n          return _this2.view.rotation;\n        },\n        setRotation: function setRotation(rotationObj) {\n          _this2.view = viewAssign(_this2.view, {\n            rotation: rotationObj\n          });\n\n          _this2.propsReconcileSchedule();\n        },\n        getTranslation: function getTranslation() {\n          return _this2.view.translation;\n        },\n        setTranslation: function setTranslation(translationObj) {\n          _this2.view = viewAssign(_this2.view, {\n            translation: translationObj\n          });\n\n          _this2.propsReconcileSchedule();\n        },\n        getZoom: function getZoom() {\n          return _this2.view.zoom;\n        },\n        setZoom: function setZoom(zoomVal) {\n          _this2.view = viewAssign(_this2.view, {\n            zoom: zoomVal\n          });\n\n          _this2.propsReconcileSchedule();\n        },\n        refreshView: function refreshView() {\n          return _this2.refreshView = true;\n        }\n      });\n      this.loop();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          data = _this$props.data,\n          view = _this$props.view,\n          presetView = _this$props.presetView;\n      var renderer = this.state.renderer;\n      var viewInternal = this.view;\n      var needsUpdate = false; // apply applicable preset parameters if preset has changed\n\n      if (prevProps.presetView !== presetView) {\n        viewInternal = viewAssign(viewInternal, speck__WEBPACK_IMPORTED_MODULE_3__[\"speckPresetViews\"][presetView]);\n        this.propsReconcileSchedule();\n        needsUpdate = true;\n      } // apply the user-supplied view parameters\n\n\n      if (!viewHasEqual(view, prevProps.view, viewInternal)) {\n        viewInternal = viewAssign(viewInternal, view);\n        needsUpdate = true;\n      } // check for changes to data\n\n\n      if (!Object(ramda__WEBPACK_IMPORTED_MODULE_1__[\"equals\"])(data, prevProps.data)) {\n        needsUpdate = true;\n      } // perform update\n\n\n      if (needsUpdate) {\n        this.view = viewInternal;\n\n        if (renderer) {\n          this.loadStructure();\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // set this.state.renderer = null to ensure all refs to renderer are\n      // destroyed so garbage collector will clean up webgl contexts\n      // eslint-disable-next-line react/no-direct-mutation-state\n      this.state.renderer = null;\n      this.eventListenDestructor();\n      this.props.setProps({\n        view: this.view\n      });\n    }\n  }, {\n    key: \"propsReconcile\",\n    value: function propsReconcile() {\n      if (!Object(ramda__WEBPACK_IMPORTED_MODULE_1__[\"equals\"])(this.view, this.props.view)) {\n        this.props.setProps({\n          view: viewClone(this.view)\n        });\n      }\n    } // Schedule the function \"propsReconcile\" to run after the amount of time\n    // specified in PROPS_RECONCILE_DEBOUNCE_TIME. If a run has been scheduled\n    // previously, cancel it.\n\n  }, {\n    key: \"propsReconcileSchedule\",\n    value: function propsReconcileSchedule() {\n      clearTimeout(this.propsReconcileTimeout);\n      this.propsReconcileTimeout = setTimeout(this.propsReconcile, PROPS_RECONCILE_DEBOUNCE_TIME);\n    }\n  }, {\n    key: \"loadStructure\",\n    value: function loadStructure() {\n      var data = this.props.data; // avoid trying to load an empty system\n\n      if (data.length === 0) {\n        return;\n      }\n\n      var renderer = this.state.renderer;\n      var view = this.view;\n      var system = generateSystem(data);\n      renderer.setSystem(system, view); // update the resolution\n\n      renderer.setResolution(view.resolution, view.aoRes);\n      this.refreshView = true;\n    }\n  }, {\n    key: \"loop\",\n    value: function loop() {\n      if (this.state.renderer && this.view) {\n        if (this.refreshView) {\n          this.state.renderer.reset();\n          this.refreshView = false;\n        }\n\n        this.state.renderer.render(this.view);\n      }\n\n      requestAnimationFrame(this.loop);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var id = this.props.id;\n      var view = this.view;\n      var divStyle = {\n        height: view.resolution,\n        width: view.resolution\n      };\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: id,\n        ref: this.setContainerRef,\n        style: divStyle\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"canvas\", {\n        ref: this.setCanvasRef,\n        width: view.resolution,\n        height: view.resolution\n      }));\n    }\n  }]);\n\n  return Speck;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n\nSpeck.defaultProps = _components_Speck_react__WEBPACK_IMPORTED_MODULE_4__[\"defaultProps\"];\nSpeck.propTypes = _components_Speck_react__WEBPACK_IMPORTED_MODULE_4__[\"propTypes\"];\n\n//# sourceURL=webpack://dash_bio/./src/lib/fragments/Speck.react.js?");

/***/ })

}]);